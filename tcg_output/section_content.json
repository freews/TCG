[
    {
        "section_order": 1,
        "level": 1,
        "section_id": "Cover",
        "section_key": "Cover",
        "title": "Cover",
        "start_page": 1,
        "end_page": 1,
        "page_count": 1,
        "content_md": "COMPUTING  \nGROUP  \n\nS P E C I F I C A T I O N  \n\nTCG Storage Security  \nSubsystem Class (SSC):  \nOpal  \n\nVersion 2.30  \nJanuary 30, 2025  \n\nContact: admin@trustedcomputinggroup.org  \n\nPUBLISHED",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "COMPUTING  \nGROUP  \n\nS P E C I F I C A T I O N  \n\nTCG Storage Security  \nSubsystem Class (SSC):  \nOpal  \n\nVersion 2.30  \nJanuary 30, 2025  \n\nContact: admin@trustedcomputinggroup.org  \n\nPUBLISHED"
    },
    {
        "section_order": 2,
        "level": 1,
        "section_id": "",
        "section_key": "DISCLAIMERS, NOTICES, AND LICENSE TERMS",
        "title": "DISCLAIMERS, NOTICES, AND LICENSE TERMS",
        "start_page": 2,
        "end_page": 3,
        "page_count": 2,
        "content_md": "## DISCLAIMERS, NOTICES, AND LICENSE TERMS\n\nTHIS SPECIFICATION IS PROVIDED â€œAS ISâ€ WITH NO WARRANTIES WHATSOEVER, INCLUDING ANY WARRANTY OF MERCHANTABILITY, NONINFRINGEMENT, FITNESS FOR ANY PARTICULAR PURPOSE, OR ANY WARRANTY OTHERWISE ARISING OUT OF ANY PROPOSAL, SPECIFICATION OR SAMPLE.\n\nWithout limitation, TCG disclaims all liability, including liability for infringement of any proprietary rights, relating to use of information in this specification and to the implementation of this specification, and TCG disclaims all liability for cost of procurement of substitute goods or services, lost profits, loss of use, loss of data or any incidental, consequential, direct, indirect, or special damages, whether under contract, tort, warranty or otherwise, arising in any way out of use or reliance upon this specification or any information herein.\n\nThis document is copyrighted by Trusted Computing Group (TCG), and no license, express or implied, is granted herein other than as follows: You may not copy or reproduce the document or distribute it to others without written permission from TCG, except that you may freely do so for the purposes of (a) examining or implementing TCG specifications or (b) developing, testing, or promoting information technology standards and best practices, so long as you distribute the document with these disclaimers, notices, and license terms.\n\nContact the Trusted Computing Group at www.trustedcomputinggroup.org for information on specification licensing through membership agreements.\n\nAny marks and brands contained herein are the property of their respective owners.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì´ ì„¹ì…˜ì€ **TCG Storage Opal SSC v2.30** ë¬¸ì„œì˜ **ë²•ì  ë° ì €ì‘ê¶Œ ê´€ë ¨ ê³µì§€ì‚¬í•­**ì„ ë‹¤ë£¨ê³  ìˆìŠµë‹ˆë‹¤. ì¦‰, ì´ ë¬¸ì„œëŠ” ê¸°ìˆ  ì‚¬ì–‘ì„œì´ì§€, ì†Œí”„íŠ¸ì›¨ì–´ë‚˜ í•˜ë“œì›¨ì–´ ì œí’ˆì´ ì•„ë‹™ë‹ˆë‹¤. ë”°ë¼ì„œ **ê¸°ìˆ ì  ëª©ì **(ì˜ˆ: TCG Opal ë³´ì•ˆ ê¸°ëŠ¥, ëª…ë ¹ì–´, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±)ì„ ë‹¤ë£¨ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë²•ì  ì±…ì„ íšŒí”¼, ì €ì‘ê¶Œ, ì‚¬ìš© í—ˆê°€ ì¡°ê±´**ì— ëŒ€í•œ ë‚´ìš©ì…ë‹ˆë‹¤.\n\n---\n\n### ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©):\n\n#### ğŸ“Œ ëª©ì :\nì´ ì„¹ì…˜ì˜ ëª©ì ì€ ë¬¸ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒë“¤ì´ **ë²•ì  ì±…ì„ì„ ì¸ì§€í•˜ê³ **, **ë¬´ë‹¨ ë³µì œë‚˜ ìƒì—…ì  ì´ìš©ì„ ë°©ì§€í•˜ë©°**, **ê¸°ìˆ  ì‚¬ì–‘ì„ ì •í™•íˆ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡** í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n#### ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥:\n- **ë²•ì  ë³´í˜¸**: TCGëŠ” ë¬¸ì„œì— í¬í•¨ëœ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë²•ì  ì±…ì„(íŠ¹í—ˆ ì¹¨í•´, ì†í•´ë°°ìƒ ë“±)ì„ ë¶€ì¸í•©ë‹ˆë‹¤.\n- **ì €ì‘ê¶Œ ë³´í˜¸**: ë¬¸ì„œëŠ” TCG ì†Œìœ ì´ë©°, ë¬´ë‹¨ ë³µì œë‚˜ ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n- **í—ˆê°€ ì¡°ê±´**: íŠ¹ì • ëª©ì (ì˜ˆ: ì‚¬ì–‘ ê²€í† , êµ¬í˜„, í‘œì¤€ ê°œë°œ ë“±)ì—ì„œë§Œ ììœ ë¡­ê²Œ ë³µì œ ë° ë°°í¬ ê°€ëŠ¥í•˜ë©°, ë°˜ë“œì‹œ ì´ ê³µì§€ì‚¬í•­ê³¼ í•¨ê»˜ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\n#### ğŸ“Œ ë°ì´í„° êµ¬ì¡°:\n- í•´ë‹¹ ì„¹ì…˜ì—ëŠ” **ë°ì´í„° êµ¬ì¡°**ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” **í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ë²•ì  ë¬¸ì„œ**ì…ë‹ˆë‹¤.\n\n#### ğŸ“Œ ìš”êµ¬ì‚¬í•­:\n- ë¬¸ì„œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” **TCGì˜ ì €ì‘ê¶Œê³¼ ê³µì§€ì‚¬í•­ì„ ì¡´ì¤‘**í•´ì•¼ í•©ë‹ˆë‹¤.\n- ìƒì—…ì  ì´ìš©ì´ë‚˜ ë¬´ë‹¨ ë°°í¬ëŠ” ê¸ˆì§€ë©ë‹ˆë‹¤.\n- ì‚¬ì–‘ êµ¬í˜„ ëª©ì ì´ë¼ë©´, ê³µì§€ì‚¬í•­ì„ í¬í•¨í•œ ë°°í¬ê°€ í—ˆìš©ë©ë‹ˆë‹¤.\n\n#### ğŸ“Œ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜:\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ì´ ì„¹ì…˜ì— í¬í•¨ë˜ì§€ ì•ŠìŒ**. ì´ ì„¹ì…˜ì€ **ê¸°ìˆ ì  ë³´ì•ˆ ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼, ë²•ì  ë³´ì•ˆ**(ì €ì‘ê¶Œ, ì±…ì„ íšŒí”¼ ë“±)ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ:\n\nì´ ì„¹ì…˜ì€ **ê¸°ìˆ  ì‚¬ì–‘ì´ ì•„ë‹Œ ë²•ì  ì¡°í•­**ì´ë¯€ë¡œ, **ê¸°ìˆ ì ì¸ ê²€ì¦ì´ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ:\n\n> **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì—†ìŒ**\n\n---\n\n### ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ):\n\nì´ ë¬¸ì„œì˜ **\"DISCLAIMERS, NOTICES, AND LICENSE TERMS\"** ì„¹ì…˜ì€ TCGê°€ ì œê³µí•˜ëŠ” ê¸°ìˆ  ì‚¬ì–‘ ë¬¸ì„œì— ëŒ€í•œ **ë²•ì  ì±…ì„ íšŒí”¼ ë° ì €ì‘ê¶Œ ì •ì±…**ì„ ëª…ì‹œí•œ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ìê°€ ì‚¬ì–‘ì„ êµ¬í˜„í•˜ê±°ë‚˜ ê²€í† í•  ë•Œ **ë¬´ë‹¨ ë³µì œ, ìƒì—…ì  ì´ìš©, ë²•ì  ì±…ì„ íšŒí”¼**ë¥¼ ëª…í™•íˆ ì•Œë¦¬ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.\n\n- **ëª©ì **: ì‚¬ìš©ìì—ê²Œ ë²•ì  ì±…ì„ê³¼ ì €ì‘ê¶Œì„ ëª…í™•íˆ ì•Œë¦¬ê³ , ì‚¬ì–‘ì„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìœ ë„.\n- **ì£¼ìš” ê¸°ëŠ¥**: ì±…ì„ íšŒí”¼, ì €ì‘ê¶Œ ë³´í˜¸, ì‚¬ìš© í—ˆê°€ ì¡°ê±´ ëª…ì‹œ.\n- **ë°ì´í„° êµ¬ì¡°**: ì—†ìŒ (ë¬¸ì„œëŠ” í…ìŠ¤íŠ¸ ê¸°ë°˜ ë²•ì  ì¡°í•­).\n- **ìš”êµ¬ì‚¬í•­**: ì‚¬ì–‘ êµ¬í˜„ ëª©ì ì´ë¼ë©´ ê³µì§€ì‚¬í•­ê³¼ í•¨ê»˜ ë°°í¬ ê°€ëŠ¥, ë¬´ë‹¨ ë³µì œ ê¸ˆì§€.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ê¸°ìˆ ì  ë³´ì•ˆì´ ì•„ë‹˜ â†’ **ë²•ì  ë³´ì•ˆ**(ì €ì‘ê¶Œ, ì±…ì„ íšŒí”¼)ì— í•´ë‹¹.\n\n---\n\n### ğŸ’¡ ì°¸ê³ :\n\nì´ ì„¹ì…˜ì€ **TCG Opal ì‚¬ì–‘ì˜ ê¸°ìˆ ì  í•µì‹¬ì´ ì•„ë‹ˆë¼, ì‚¬ìš© ì¡°ê±´ê³¼ ë²•ì  ì œì•½**ì„ ì„¤ëª…í•©ë‹ˆë‹¤. ì‹¤ì œ TCG Opalì˜ ë³´ì•ˆ ê¸°ëŠ¥(ì˜ˆ: StartSession, Revert, ì•”í˜¸í™”, í‚¤ ê´€ë¦¬ ë“±)ì€ **ë‹¤ìŒ ì„¹ì…˜ë“¤**(ì˜ˆ: 3. Overview, 4. Commands, 5. Security Model ë“±)ì—ì„œ ì„¤ëª…ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ : ì´ ì„¹ì…˜ì€ ê¸°ìˆ ì  ê²€ì¦ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë‚˜ ì½”ë“œ ì˜ˆì‹œëŠ” ì œê³µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**\n\n> **ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 3,
        "level": 1,
        "section_id": "",
        "section_key": "ACKNOWLEDGEMENT",
        "title": "ACKNOWLEDGEMENT",
        "start_page": 3,
        "end_page": 9,
        "page_count": 7,
        "content_md": "## ACKNOWLEDGEMENT\n\nThe TCG wishes to thank all those who contributed to this specification. This document builds on work done in various working groups in the TCG and the industry at large.\n\n## CONTENTS\n\nDISCLAIMERS, NOTICES, AND LICENSE TERMS 1  \nACKNOWLEDGEMENT 2  \nLIST OF TABLES 8  \nLIST OF FIGURES 9  \n1 INTRODUCTION 10  \nâ€ƒ1.1 Document Purpose 10  \nâ€ƒ1.2 Scope and Intended Audience 10  \nâ€ƒ1.3 Conventions 10  \nâ€ƒâ€ƒ1.3.1 Key Words 10  \nâ€ƒâ€ƒ1.3.2 Font Conventions 10  \nâ€ƒâ€ƒ1.3.3 Statement Types 10  \nâ€ƒâ€ƒ1.3.4 Cell Shading and Font Legend for Preconfiguration Tables 11  \nâ€ƒâ€ƒ1.3.5 List Conventions 12  \nâ€ƒâ€ƒâ€ƒ1.3.5.1 Lists Overview 12  \nâ€ƒâ€ƒâ€ƒ1.3.5.2 Unordered Lists 12  \nâ€ƒâ€ƒâ€ƒ1.3.5.3 Ordered Lists 12  \nâ€ƒâ€ƒ1.3.6 Numbering Conventions 12  \nâ€ƒâ€ƒ1.3.7 Bit Conventions 13  \nâ€ƒâ€ƒ1.3.8 Number Range Conventions 13  \nâ€ƒâ€ƒ1.3.9 Specify and Indicate Conventions 13  \nâ€ƒ1.4 Document References 13  \nâ€ƒâ€ƒ1.4.1 Document Precedence 13  \nâ€ƒâ€ƒ1.4.2 Approved References 13  \nâ€ƒâ€ƒ1.4.3 References Under Development 14  \nâ€ƒ1.5 Dependencies on Other Feature Sets 14  \nâ€ƒ1.6 Interactions with Other Feature Sets 14  \nâ€ƒ1.7 Definition of Terms 14  \n2 OPAL SSC OVERVIEW 16  \nâ€ƒ2.1 Opal SSC Use Cases and Threats 16  \nâ€ƒ2.2 Security Providers (SPs) 16  \nâ€ƒ2.3 Interface Communication Protocol 16  \nâ€ƒ2.4 Cryptographic Features 16  \nâ€ƒ2.5 Authentication 16  \nâ€ƒ2.6 Table Management 17  \nâ€ƒ2.7 Access Control & Personalization 17\n2.8 Issuance 17  \n2.9 SSC Discovery 17  \n2.10 Mandatory Feature Sets 17  \n3 OPAL SSC FEATURES 18  \n3.1 Security Protocol 1 Support 18  \n3.1.1 Level 0 Discovery (M) 18  \n3.1.1.1 Level 0 Discovery Header 18  \n3.1.1.2 TPer Feature (Feature Code = 0x0001) 19  \n3.1.1.3 Locking Feature (Feature Code = 0x0002) 19  \n3.1.1.3.1 LockingEnabled Definition 20  \n3.1.1.4 Geometry Reporting Feature (Feature Code = 0x0003) 20  \n3.1.1.4.1 Overview 20  \n3.1.1.4.2 ALIGN 21  \n3.1.1.4.3 LogicalBlockSize 21  \n3.1.1.4.4 AlignmentGranularity 21  \n3.1.1.4.5 LowestAlignedLBA 21  \n3.1.1.5 Opal SSC V2 Feature (Feature Code = 0x0203) 22  \n3.1.1.5.1 Base ComID 23  \n3.1.1.5.2 Number of ComIDs 23  \n3.1.1.6 Supported Data Removal Mechanism Feature (Feature Code = 0x0404) 23  \n3.1.1.6.1 Data Removal Operation Processing Definition 25  \n3.1.1.6.2 Data Removal Operation Interrupted 25  \n3.1.1.6.3 Supported Data Removal Mechanism Definition 26  \n3.1.1.6.4 Data Removal Time Format and Data Removal Time Definition 26  \n3.2 Security Protocol 2 Support 27  \n3.2.1 ComID Management 27  \n3.2.2 Stack Protocol Reset (M) 27  \n3.2.3 TPER_RESET command (M) 27  \n3.3 Communications 28  \n3.3.1 Communication Properties 28  \n3.3.2 Supported Security Protocols 28  \n3.3.3 ComIDs 29  \n3.3.4 Synchronous Protocol 29  \n3.3.4.1 Payload Encoding 29  \n3.3.4.1.1 Stream Encoding Modifications 29  \n3.3.4.1.2 TCG Packets 30\n## 3.3.4.1.3 Payload Error Response 30\n\n## 3.3.5 Storage Device Resets 30\n\n### 3.3.5.1 Interface Resets 30\n\n### 3.3.5.2 TCG Reset Events 31\n\n## 3.3.6 Protocol Stack Reset Commands (M) 31\n\n## 4 OPAL SSC-COMPLIANT FUNCTIONS AND SPS 32\n\n## 4.1 Session Manager 32\n\n### 4.1.1 Methods 32\n\n#### 4.1.1.1 Properties (M) 32\n\n#### 4.1.1.2 StartSession (M) 33\n\n#### 4.1.1.3 SyncSession (M) 34\n\n#### 4.1.1.4 CloseSession (O) 34\n\n## 4.2 Admin SP 34\n\n### 4.2.1 Base Template Tables 34\n\n#### 4.2.1.1 SPInfo (M) 34\n\n#### 4.2.1.2 SPTemplates (M) 34\n\n#### 4.2.1.3 Table (M) 35\n\n#### 4.2.1.4 MethodID (M) 37\n\n#### 4.2.1.5 AccessControl (M) 37\n\n#### 4.2.1.6 ACE (M) 45\n\n#### 4.2.1.7 Authority (M) 46\n\n#### 4.2.1.8 C_PIN (M) 47\n\n### 4.2.2 Base Template Methods 48\n\n### 4.2.3 Admin Template Tables 48\n\n#### 4.2.3.1 TPerInfo (M) 48\n\n#### 4.2.3.2 Template (M) 49\n\n#### 4.2.3.3 SP (M) 49\n\n### 4.2.4 Admin Template Methods 50\n\n### 4.2.5 Opal Additional Column Types 50\n\n#### 4.2.5.1 Data_removal_mechanism 50\n\n### 4.2.6 Opal Additional Data Structures 50\n\n#### 4.2.6.1 DataRemovalMechanism (ObjectTable) 50\n\n##### 4.2.6.1.1 UID 50\n\n##### 4.2.6.1.2 ActiveDataRemovalMechanism 50\n\n### 4.2.7 Opal Additional Tables 51\n\n#### 4.2.7.1 DataRemovalMechanisim (M) 51\n## 4.2.8 Crypto Template Tables 51  \n## 4.2.9 Crypto Template Methods 51  \n### 4.2.9.1 Random 51  \n\n## 4.3 Locking SP 51  \n### 4.3.1 Base Template Tables 51  \n#### 4.3.1.1 SPInfo (M) 51  \n#### 4.3.1.2 SPTemplates (M) 51  \n#### 4.3.1.3 Table (M) 52  \n#### 4.3.1.4 Type (N) 53  \n#### 4.3.1.5 MethodID (M) 53  \n#### 4.3.1.6 AccessControl (M) 54  \n#### 4.3.1.7 ACE (M) 77  \n#### 4.3.1.8 Authority (M) 81  \n#### 4.3.1.9 C_PIN (M) 82  \n#### 4.3.1.10 SecretProtect (M) 83  \n\n### 4.3.2 Base Template Methods 83  \n### 4.3.3 Crypto Template Tables 84  \n### 4.3.4 Crypto Template Methods 84  \n#### 4.3.4.1 Random 84  \n\n### 4.3.5 Locking Template Tables 84  \n#### 4.3.5.1 LockingInfo (M) 84  \n#### 4.3.5.2 Locking (M) 85  \n##### 4.3.5.2.1 Geometry Reporting Feature Behavior 86  \n##### 4.3.5.2.2 LockOnReset Restrictions 87  \n#### 4.3.5.3 MBRControl (M) 87  \n##### 4.3.5.3.1 DoneOnReset Restrictions 87  \n#### 4.3.5.4 MBR (M) 88  \n#### 4.3.5.5 K_AES_128 or K_AES_256 (M) 88  \n\n### 4.3.6 Locking Template Methods 89  \n### 4.3.7 Storage Device Read/Write Data Command Locking Behavior Interactions with Range Crossing 89  \n### 4.3.8 Non Template Tables 89  \n#### 4.3.8.1 DataStore (M) 89  \n\n## 5 APPENDIX â€“ SSC SPECIFIC FEATURES 90  \n### 5.1 Opal SSC-Specific Methods 90  \n#### 5.1.1 Activate â€“ Admin Template SP Object Method 90  \n##### 5.1.1.1 Activate Support 90\n## 5.1.1.2 Side effects of Activate 90\n\n## 5.1.2 Revert â€“ Admin Template SP Object Method 90\n\n### 5.1.2.1 Revert Support 91\n\n### 5.1.2.2 Effects of Revert 91\n\n#### 5.1.2.2.1 Effects of Revert on the PIN Column Value of C_PIN_SID 92\n\n### 5.1.2.3 Interrupted Revert 92\n\n## 5.1.3 RevertSP â€“ Base Template SP Method 93\n\n### 5.1.3.1 RevertSP Support 93\n\n### 5.1.3.2 KeepGlobalRangeKey parameter (Locking Template-specific) 93\n\n### 5.1.3.3 Effects of RevertSP 93\n\n### 5.1.3.4 Interrupted RevertSP 94\n\n## 5.2 Life Cycle 94\n\n### 5.2.1 Issued vs. Manufactured SPs 94\n\n#### 5.2.1.1 Issued SPs 94\n\n#### 5.2.1.2 Manufactured SPs 94\n\n### 5.2.2 Manufactured SP Life Cycle States 95\n\n#### 5.2.2.1 State definitions for Manufactured SPs 95\n\n#### 5.2.2.2 State transitions for Manufactured SPs 96\n\n##### 5.2.2.2.1 Manufactured-Inactive to Manufactured 96\n\n##### 5.2.2.2.2 ANY STATE to ORIGINAL FACTORY STATE 96\n\n#### 5.2.2.3 State behaviors for Manufactured SPs 96\n\n##### 5.2.2.3.1 Manufactured-Inactive 96\n\n##### 5.2.2.3.2 Manufactured 97\n\n### 5.2.3 Type Table Modification 97\n\n## 5.3 Byte Table Access Granularity 97\n\n### 5.3.1 Table Table Modification 97\n\n#### 5.3.1.1 MandatoryWriteGranularity 98\n\n##### 5.3.1.1.1 Object Tables 98\n\n##### 5.3.1.1.2 Byte Tables 98\n\n#### 5.3.1.2 RecommendedAccessGranularity 98\n\n##### 5.3.1.2.1 Object Tables 98\n\n##### 5.3.1.2.2 Byte Tables 99\n\n## 5.4 Examples of Alignment Geometry Reporting 99\n## List of Tables",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: ACKNOWLEDGEMENT**\n\n---\n\n## âœ… ë‚´ìš© ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ **TCG (Trusted Computing Group)** ì´ ì´ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê³  ê°œì„ í•˜ëŠ” ë° ê¸°ì—¬í•œ ëª¨ë“  ê°œì¸ ë° ê¸°ê´€ì— ê°ì‚¬ë¥¼ í‘œí•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.  \n\nì´ ë¬¸ì„œëŠ” TCG ë‚´ë¶€ì˜ ì—¬ëŸ¬ ì‘ì—… ê·¸ë£¹(WG: Working Groups)ê³¼ ì‚°ì—…ê³„ ì „ë°˜ì—ì„œ ìˆ˜í–‰ëœ ê¸°ì¡´ì˜ ì‘ì—…ì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œìœ¼ë©°, ë‹¤ì–‘í•œ ì „ë¬¸ê°€ë“¤ì˜ í˜‘ì—…ê³¼ ê¸°ì—¬ê°€ ìˆì—ˆìŒì„ ì¸ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ ëª©ì \n\n- ë¬¸ì„œ ì‘ì„± ë° ê°œì„ ì— ê¸°ì—¬í•œ ëª¨ë“  ì‚¬ëŒë“¤ì„ ê³µì‹ì ìœ¼ë¡œ ì¸ì‹í•˜ê³  ê°ì‚¬ì˜ ëœ»ì„ ì „ë‹¬í•˜ëŠ” ê²ƒ.\n- TCG ìŠ¤í™ì˜ ë°œì „ì´ ë‹¨ì¼ ê¸°ê´€ì´ë‚˜ ê°œì¸ì´ ì•„ë‹Œ, **ì‚°ì—…ê³„ ê³µë™ì˜ ë…¸ë ¥**ì˜ ê²°ê³¼ì„ì„ ê°•ì¡°.\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n- **ê°ì‚¬ ë©”ì‹œì§€** ì œê³µ: ë¬¸ì„œì˜ ê¸°ì—¬ìë“¤ì„ ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì „ì²´ì ì¸ ê¸°ì—¬ë¥¼ ê³µì‹ì ìœ¼ë¡œ ì¸ì •.\n- **í˜‘ì—… ë¬¸í™” ê°•ì¡°**: TCGëŠ” ê°œë°©ì ì´ê³  í˜‘ì—… ì¤‘ì‹¬ì˜ ì»¤ë®¤ë‹ˆí‹°ì´ë©°, ì´ ìŠ¤í™ì€ ê·¸ ê²°ê³¼ë¬¼ì„ì„ ì‹œì‚¬.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\n- **ì—†ìŒ**  \n  ì´ ì„¹ì…˜ì€ ìˆœìˆ˜í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ê°ì‚¬ ë©”ì‹œì§€ë¡œ, êµ¬ì¡°í™”ëœ ë°ì´í„°(ì˜ˆ: í…Œì´ë¸”, ê°ì²´, ì†ì„± ë“±)ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ.\n\n---\n\n## ğŸ“œ ìš”êµ¬ì‚¬í•­\n\n- **ì—†ìŒ**  \n  ì´ ì„¹ì…˜ì€ ê¸°ìˆ ì  ìš”êµ¬ì‚¬í•­ì´ë‚˜ êµ¬í˜„ ì§€ì¹¨ì´ ì•„ë‹ˆë¼, **ì •ì‹ ì /ë¬¸í™”ì  ì¸ì‹**ì„ ìœ„í•œ ë¬¸ì„œì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **ì—†ìŒ**  \n  ë³´ì•ˆ ê´€ë ¨ ê¸°ëŠ¥ì´ë‚˜ ë©”ì»¤ë‹ˆì¦˜ì€ ì–¸ê¸‰ë˜ì§€ ì•ŠìŒ. ì´ ì„¹ì…˜ì€ ë³´ì•ˆ ê¸°ëŠ¥ë³´ë‹¤ëŠ” **ë¬¸ì„œì˜ ê¸°ì—¬ìì— ëŒ€í•œ ì¸ì‹**ì— ì´ˆì ì„ ë§ì¶¤.\n\n---\n\n## ğŸ§ª ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\n### âŒ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n- **ë¶ˆê°€ëŠ¥**  \n  ì´ ì„¹ì…˜ì€ **ê°ì‚¬ ë©”ì‹œì§€**ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´, ê¸°ìˆ ì  ë™ì‘ì´ë‚˜ í”„ë¡œí† ì½œ ê¸°ë°˜ì˜ ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.  \n  ë”°ë¼ì„œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n\n### âŒ TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦\n\n- **ì ìš© ë¶ˆê°€**  \n  StartSession, Revert, ë“± Opal ëª…ë ¹ì–´ëŠ” ì´ ì„¹ì…˜ê³¼ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤.  \n  í•´ë‹¹ ëª…ë ¹ì–´ë“¤ì€ **4ì¥ ì´ìƒì˜ ì„¹ì…˜**ì—ì„œ ì„¤ëª…ë˜ë©°, ì´ ì„¹ì…˜ì€ ê·¸ ì „ì œê°€ ë˜ëŠ” ê°ì‚¬ ë©”ì‹œì§€ì¼ ë¿ì…ë‹ˆë‹¤.\n\n### âŒ í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n- **ì—†ìŒ**  \n  ì´ ì„¹ì…˜ì— í…Œì´ë¸” ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê²€ì¦ ëŒ€ìƒì´ ì—†ìŒ.\n\n---\n\n## âœ… ìµœì¢… ê²°ë¡ \n\n> **ë‚´ìš©ì—†ìŒ**\n\n---\n\n## ğŸ“ ì°¸ê³  ì„¤ëª…\n\nì´ ì„¹ì…˜ì€ ê¸°ìˆ ì  ê²€ì¦ì´ë‚˜ êµ¬í˜„ì„ ìœ„í•œ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ë³´ì•ˆ ì „ë¬¸ê°€ë‚˜ ê°œë°œì ì…ì¥ì—ì„œ ì‹¤ì§ˆì ì¸ í™œìš© ê°€ì¹˜ëŠ” ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¬¸ì„œì˜ **ë¬¸ì„œí™” í’ˆì§ˆ**ê³¼ **í˜‘ì—… ë¬¸í™”**ë¥¼ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.  \nTCG ìŠ¤í™ ë¬¸ì„œì˜ ëŒ€ë¶€ë¶„ì€ ì´ì²˜ëŸ¼ **ì„œë¡  ë° ê°ì‚¬ ë©”ì‹œì§€**ë¡œ ì‹œì‘í•˜ë©°, ì‹¤ì§ˆì ì¸ ë‚´ìš©ì€ 1ì¥ ì´í›„ë¶€í„° ì‹œì‘ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ ê¸°ìˆ ì  ê²€ì¦ ëŒ€ìƒì´ ì•„ë‹ˆë©°, ë³´ì•ˆ ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­ ë“±ì´ í¬í•¨ë˜ì§€ ì•ŠìŒ â†’ **ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 4,
        "level": 3,
        "section_id": "1.3.4",
        "section_key": "1.3.4 Cell Shading and Font Legend for Preconfiguration Tables",
        "title": "Cell Shading and Font Legend for Preconfiguration Tables",
        "start_page": 12,
        "end_page": 13,
        "page_count": 2,
        "content_md": "## 1.3.4 Cell Shading and Font Legend for Preconfiguration Tables\n\nThe legend in Table 1 defines the Preconfiguration tables cell color coding, with the RGB values for the shading of each cell indicated in parentheses. This color coding is informative only. A Preconfiguration table cell content is normative. If a Preconfiguration table cell is empty or blank (regardless of shading), then the contents of that cell are not specified in this specification. The contents may be specified in another specification.\n\n### Table 1 - Preconfiguration Tables Legend",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 1.3.4 - Cell Shading and Font Legend for Preconfiguration Tables**ì— í•´ë‹¹í•©ë‹ˆë‹¤. ë³¸ë¬¸ì€ ì£¼ë¡œ **Preconfiguration Table(ì‚¬ì „ êµ¬ì„± í…Œì´ë¸”)ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì…€ ìƒ‰ìƒ ì½”ë”©**(cell shading)ì— ëŒ€í•œ **ë ˆì „ë“œ**(legend)ë¥¼ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜, ì‹¤ì œ **Table 1**ì˜ ë‚´ìš©ì€ ë¬¸ì„œì—ì„œ ì œê³µë˜ì§€ ì•Šì•˜ìœ¼ë©°, ì´ë¯¸ì§€ë„ ì—†ê³ , ìƒ‰ìƒ ì½”ë“œë‚˜ í°íŠ¸ ìŠ¤íƒ€ì¼ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ë„ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë³¸ë¬¸ì—ì„œ ì–¸ê¸‰ëœ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ì…€ ìƒ‰ìƒ ì½”ë”©ì€ ì •ë³´ ì œê³µìš©ì´ë©°, **ê·œë²”ì **(normative)ì´ ì•„ë‹˜.\n- ì…€ì˜ ë‚´ìš©ì´ ë¹„ì–´ ìˆê±°ë‚˜ ë¹ˆì¹¸ì´ë©´, í•´ë‹¹ ë‚´ìš©ì€ **ì´ ì‚¬ì–‘ì—ì„œ ì§€ì •ë˜ì§€ ì•ŠìŒ**.\n- ë¹„ì–´ ìˆëŠ” ì…€ì˜ ë‚´ìš©ì€ **ë‹¤ë¥¸ ì‚¬ì–‘**ì—ì„œ ì •ì˜ë  ìˆ˜ ìˆìŒ.\n\nì¦‰, ì´ ì„¹ì…˜ì€ **í…Œì´ë¸”ì˜ ì‹œê°ì  í‘œí˜„ ë°©ì‹**(ì˜ˆ: ì–´ë–¤ ìƒ‰ìƒì´ ì–´ë–¤ ì˜ë¯¸ì¸ì§€)ì— ëŒ€í•œ ì„¤ëª…ì„ ì œê³µí•˜ë ¤ëŠ” ì˜ë„ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, **ì‹¤ì œ ìƒ‰ìƒ í…Œì´ë¸”ì´ë‚˜ êµ¬ì²´ì ì¸ ìƒ‰ìƒ-ì˜ë¯¸ ë§¤í•‘**(ì˜ˆ: íŒŒë€ìƒ‰ = í•„ìˆ˜, íšŒìƒ‰ = ì„ íƒì  ë“±)ì´ ë¬¸ì„œì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì—, **ì‹¤ì§ˆì ì¸ ê¸°ëŠ¥ì´ë‚˜ ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ìš”êµ¬ì‚¬í•­ ë“±ì„ ì„¤ëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n\n---\n\n### ë³´ì•ˆ ì „ë¬¸ê°€ ê´€ì ì—ì„œì˜ í•´ì„:\n\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì´ ì„¹ì…˜ì€ ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ì™€ ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ë‹¨ì§€ ë¬¸ì„œì˜ **í‘œì‹œ ë°©ì‹**ì— ëŒ€í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.\n- **ë°ì´í„° êµ¬ì¡°**: í…Œì´ë¸” êµ¬ì¡° ìì²´ëŠ” ì–¸ê¸‰ë˜ì§€ë§Œ, ì‹¤ì œ ë°ì´í„° í˜•ì‹ì´ë‚˜ ì˜ë¯¸ëŠ” ì œê³µë˜ì§€ ì•ŠìŒ.\n- **ìš”êµ¬ì‚¬í•­**: ì…€ ìƒ‰ìƒì€ ìš”êµ¬ì‚¬í•­ì´ ì•„ë‹Œ ì •ë³´ ì œê³µ ìš©ë„ì„. ë¹„ì–´ ìˆëŠ” ì…€ì€ ì‚¬ì–‘ ì™¸ë¶€ì—ì„œ ì •ì˜ë  ìˆ˜ ìˆìŒ â†’ **ì´ ì‚¬ì–‘ì—ì„œì˜ ìš”êµ¬ì‚¬í•­ì´ ì—†ë‹¤ëŠ” ì˜ë¯¸**.\n- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: ìƒ‰ìƒ ì½”ë”©ì€ ì‹œê°ì  í‘œì‹œì´ë¯€ë¡œ, **í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ê¸°ëŠ¥ì´ ì—†ìŒ**. í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ë˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹˜.\n\n---\n\n### ê²°ë¡ :\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œì˜ ì‹œê°ì  í‘œí˜„ ê·œì¹™**ì— ëŒ€í•œ ì„¤ëª…ì´ë©°, **ì‹¤ì§ˆì ì¸ ê¸°ëŠ¥ì´ë‚˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ í•´ë‹¹ ì„¹ì…˜ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥:**\n\n**ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 5,
        "level": 3,
        "section_id": "1.3.5",
        "section_key": "1.3.5 List Conventions",
        "title": "List Conventions",
        "start_page": 13,
        "end_page": 13,
        "page_count": 1,
        "content_md": "## 1.3.5 List Conventions",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.3.5 List Conventions"
    },
    {
        "section_order": 6,
        "level": 4,
        "section_id": "1.3.5.1",
        "section_key": "1.3.5.1 Lists Overview",
        "title": "Lists Overview",
        "start_page": 13,
        "end_page": 13,
        "page_count": 1,
        "content_md": "### 1.3.5.1 Lists Overview\n\nLists are associated with an introductory paragraph or phrase, and are numbered relative to that paragraph or phrase (i.e., all lists begin with an a) or 1) entry).\n\nEach item in a list is preceded by identification with the style of the identification being determined by whether the list is intended to be an ordered list or an unordered list.\n\nIf the item in a list is not a complete sentence, the first word in the item is not capitalized. If the item in a list is a complete sentence, the first word in the item is capitalized.\n\nEach item in a list ends with a semicolon, except the last item, which ends in a period. The next to the last entry in the list ends with a semicolon followed by an â€œandâ€ or an â€œorâ€ (i.e., â€œâ€¦; andâ€, or â€œâ€¦; orâ€). The â€œandâ€ is used if all the items in the list are required. The â€œorâ€ is used if only one or more items in the list are required.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œì‹œëœ ë¬¸ì„œì˜ ì„¹ì…˜ **1.3.5.1 - Lists Overview**ëŠ” **ë¬¸ì„œ ì‘ì„± ê·œì¹™**ì— ê´€í•œ ë‚´ìš©ì„ ë‹¤ë£¨ê³  ìˆìœ¼ë©°, **TCG Opal ìŠ¤í™ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ ë°ì´í„° êµ¬ì¡°, ëª…ë ¹ì–´, í…ŒìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­ ë“±ê³¼ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤**. í•´ë‹¹ ì„¹ì…˜ì€ **ë¬¸ì„œ ì‘ì„± ì‹œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•´ì•¼ í•˜ëŠ”ì§€**ì— ëŒ€í•œ **ìŠ¤íƒ€ì¼ ê°€ì´ë“œ** ë˜ëŠ” **í‘œê¸° ê·œì¹™**ì„ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì¦‰, ì´ ì„¹ì…˜ì€ **ê¸°ìˆ ì  êµ¬í˜„ì´ë‚˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ê³¼ ë¬´ê´€í•œ ë¬¸ì„œ ì‘ì„± ê·œì¹™**ì— í•´ë‹¹í•˜ë©°, TCG Opalì˜ ì‹¤ì œ ë³´ì•ˆ ê¸°ëŠ¥(ì˜ˆ: ì„¸ì…˜ ì‹œì‘, ë³µêµ¬, ì•”í˜¸í™”, ê¶Œí•œ ê´€ë¦¬ ë“±)ê³¼ëŠ” ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ:\n\n- **ëª©ì **: ë¬¸ì„œ ì‘ì„± ì‹œ ì¼ê´€ëœ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ ìœ ì§€\n- **ì£¼ìš” ê¸°ëŠ¥**: ì—†ìŒ (ë¬¸ì„œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ)\n- **ë°ì´í„° êµ¬ì¡°**: ì—†ìŒ\n- **ìš”êµ¬ì‚¬í•­**: ì—†ìŒ (ë¬¸ì„œ ì‘ì„± ê·œì¹™)\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì—†ìŒ\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì•ˆ:\n\nì´ ì„¹ì…˜ì˜ ë‚´ìš©ì€ **ë¬¸ì„œ ì‘ì„± ê·œì¹™**ì´ë¯€ë¡œ, **ì‹¤ì œ TCG Opal ì¥ì¹˜ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ Pythonê³¼ pytestë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ, TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ë“±ì€ **í•´ë‹¹ ì„¹ì…˜ì˜ ë‚´ìš©ê³¼ ë¬´ê´€**í•©ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œë¼ì¸**ì— í•´ë‹¹í•˜ë©°, **TCG Opalì˜ ê¸°ìˆ ì  ì‚¬ì–‘ì´ë‚˜ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ ë³´ì•ˆ ì „ë¬¸ê°€ë¡œì„œ ì´ ì„¹ì…˜ì— ëŒ€í•´ ê²€í† í•˜ê³  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì•ˆí•˜ëŠ” ê²ƒì€ **ì ì ˆí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥: ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 7,
        "level": 4,
        "section_id": "1.3.5.2",
        "section_key": "1.3.5.2 Unordered Lists",
        "title": "Unordered Lists",
        "start_page": 13,
        "end_page": 13,
        "page_count": 1,
        "content_md": "### 1.3.5.2 Unordered Lists\n\nAn unordered list is one in which the order of the listed items is unimportant (i.e., it does not matter where in the list an item occurs as all items have equal importance). Each list item shall start with a lowercase letter followed by a close parenthesis. If it is necessary to subdivide a list item further with an additional unordered list (i.e., have a nested unordered list), then the nested unordered list shall be indented and each item in the nested unordered list shall start with an uppercase letter followed by a close parenthesis.\n\nThe following is an example of an unordered list with a nested unordered list:\n\nEXAMPLE - The following are the items for the assembly:  \na) a box containing:  \nâ€ƒâ€ƒA) a bolt;  \nâ€ƒâ€ƒB) a nut; and  \nâ€ƒâ€ƒC) a washer;  \nb) a screwdriver; and  \nc) a wrench.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì£¼ì–´ì§„ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 1.3.5.2 - Unordered Lists**ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì„¹ì…˜ì€ **ë¬¸ì„œì˜ í¬ë§· ê°€ì´ë“œë¼ì¸**ì— ê´€í•œ ê²ƒìœ¼ë¡œ, **TCG Opal ë³´ì•ˆ í”„ë¡œí† ì½œì˜ ê¸°ìˆ ì  ì‚¬ì–‘ì´ë‚˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë“±ê³¼ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤**.\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ì‘ì„± ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¬¸ë²•ì  ê·œì¹™**ì„ ì„¤ëª…í•˜ê³  ìˆìœ¼ë©°, êµ¬ì²´ì ìœ¼ë¡œ:\n\n- **ë¹„ìˆœì„œ ëª©ë¡**(unordered list)ì€ í•­ëª©ì˜ ìˆœì„œê°€ ì¤‘ìš”í•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸í•¨.\n- ê° í•­ëª©ì€ ì†Œë¬¸ì ì•ŒíŒŒë²³ê³¼ ë‹«ëŠ” ê´„í˜¸(`a)`, `b)`, ...)ë¡œ ì‹œì‘.\n- ì¤‘ì²©ëœ ë¹„ìˆœì„œ ëª©ë¡ì´ í•„ìš”í•  ê²½ìš°, ë“¤ì—¬ì“°ê¸° ì²˜ë¦¬í•˜ë©°, ê° í•­ëª©ì€ ëŒ€ë¬¸ì ì•ŒíŒŒë²³ê³¼ ë‹«ëŠ” ê´„í˜¸(`A)`, `B)`, ...)ë¡œ ì‹œì‘.\n\nì˜ˆì‹œëŠ” ì¡°ë¦½í’ˆì˜ êµ¬ì„± ìš”ì†Œë¥¼ ì„¤ëª…í•˜ëŠ” ë° ì‚¬ìš©ëœ ë¬¸ë²•ì  ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n---\n\n### ì¤‘ìš”í•œ ì :\n\n- **TCG Opal ë³´ì•ˆ í”„ë¡œí† ì½œì˜ ê¸°ìˆ ì  ë‚´ìš©**(ì˜ˆ: StartSession, Revert, ì¸ì¦, ì•”í˜¸í™”, í‚¤ ê´€ë¦¬ ë“±)ì€ ì´ ì„¹ì…˜ì—ì„œ ë‹¤ë£¨ì–´ì§€ì§€ ì•ŠìŒ.\n- ì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œë¼ì¸**ì— ë¶ˆê³¼í•˜ë©°, **ì‹¤ì œ ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŒ**.\n- ë”°ë¼ì„œ, ë³´ì•ˆ ì „ë¬¸ê°€ ì…ì¥ì—ì„œ ì´ ì„¹ì…˜ì„ ê²€í† í•´ë„ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë“±ì„ ë„ì¶œí•  ìˆ˜ ì—†ìŒ**.\n\n---\n\n### ê²°ë¡ :\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ì‘ì„± ìŠ¤íƒ€ì¼ ê°€ì´ë“œ**ì´ë©°, TCG Opal ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ëŠ” í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ë”ë¼ë„, **TCG Opal ë³´ì•ˆê³¼ ê´€ë ¨ëœ ê¸°ìˆ ì  ë‚´ìš©ì€ ì œì‹œí•  ìˆ˜ ì—†ìœ¼ë©°**, ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë‚˜ ì½”ë“œ ì˜ˆì‹œë„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n> **ì¶œë ¥: ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 8,
        "level": 4,
        "section_id": "1.3.5.3",
        "section_key": "1.3.5.3 Ordered Lists",
        "title": "Ordered Lists",
        "start_page": 13,
        "end_page": 13,
        "page_count": 1,
        "content_md": "### 1.3.5.3 Ordered Lists\n\nAn ordered list is one in which the order of the listed items is important (i.e., item n is required before item n+1). Each listed item starts with a Western-Arabic numeral followed by a close parenthesis. If it is necessary to subdivide a list item further with an additional unordered list (i.e., have a nested unordered list), then the nested unordered list shall be indented and each item in the nested unordered list shall start with an uppercase letter followed by a close parenthesis.\n\nThe following is an example of an ordered list with a nested unordered list:\n\nEXAMPLE - The following are the instructions for the assembly:  \n1) remove the contents from the box;  \n2) assemble the item;  \nâ€ƒâ€ƒA) use a screwdriver to tighten the screws; and  \nâ€ƒâ€ƒB) use a wrench to tighten the bolts;  \nâ€ƒâ€ƒand  \n3) take a break.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë¬¸ì„œì˜ ì„¹ì…˜ **1.3.5.3 Ordered Lists** ëŠ” **ë¬¸ì„œ ì‘ì„± ê·œì¹™**ì— ê´€í•œ ë‚´ìš©ìœ¼ë¡œ, TCG Opal ë³´ì•ˆ ìŠ¤í™ê³¼ ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ **ë¬¸ì„œì˜ í˜•ì‹ ì§€ì¹¨**, ì¦‰ **ìˆœì„œê°€ ìˆëŠ” ëª©ë¡(Ordered List)** ì„ ì–´ë–»ê²Œ ì‘ì„±í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í•­ëª©ì„ ë²ˆí˜¸ë¡œ ì‹œì‘í•˜ê³ , ì¤‘ì²©ëœ ëª©ë¡ì€ ëŒ€ë¬¸ì ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘í•˜ë©° ë“¤ì—¬ì“°ê¸°ë¥¼ í•´ì•¼ í•œë‹¤ëŠ” ë“±ì˜ **ë¬¸ì„œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¼ì¸**ì„ ë‹¤ë£¨ê³  ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë‚´ìš©ì€ **TCG Opal ìŠ¤í™ì˜ ê¸°ìˆ ì  ì‚¬ì–‘**, **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**, **ë°ì´í„° êµ¬ì¡°**, **ëª…ë ¹ì–´ ì§‘í•©**, **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤** ë“±ê³¼ëŠ” ì „í˜€ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ì„¹ì…˜ì€ **ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ ê¸°ìˆ ì  ìš”êµ¬ì‚¬í•­ì„ ì„¤ëª…í•˜ì§€ ì•Šìœ¼ë©°**, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë‚˜ ì½”ë“œ ì˜ˆì‹œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ë„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n---\n\n### ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ):\n\n- **ëª©ì **: ë¬¸ì„œ ì‘ì„± ì‹œ ì¼ê´€ëœ í˜•ì‹ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ê°€ì´ë“œë¼ì¸ ì œê³µ. íŠ¹íˆ ìˆœì„œê°€ ìˆëŠ” ëª©ë¡ê³¼ ì¤‘ì²© ëª©ë¡ì˜ í‘œê¸°ë²•ì„ ê·œì •.\n- **ì£¼ìš” ê¸°ëŠ¥**: ë¬¸ì„œì˜ ê°€ë…ì„± ë° ì¼ê´€ì„± í–¥ìƒì„ ìœ„í•œ í˜•ì‹ ì§€ì¹¨ ì œê³µ. ê¸°ìˆ  ì‚¬ì–‘ì´ë‚˜ ë³´ì•ˆ ê¸°ëŠ¥ê³¼ ë¬´ê´€.\n- **ë°ì´í„° êµ¬ì¡°**: ì—†ìŒ. ë¬¸ì„œ í˜•ì‹ì— ëŒ€í•œ ì„¤ëª…ì´ë©°, ë°ì´í„° êµ¬ì¡°ë‚˜ ë³´ì•ˆ ê´€ë ¨ êµ¬ì¡°ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ.\n- **ìš”êµ¬ì‚¬í•­**: ë¬¸ì„œ ì‘ì„±ìê°€ ìˆœì„œ ëª©ë¡ì„ ì‘ì„±í•  ë•Œ ë°˜ë“œì‹œ ë²ˆí˜¸ë¡œ ì‹œì‘í•˜ê³ , ì¤‘ì²© ëª©ë¡ì€ ëŒ€ë¬¸ì ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘í•˜ë©° ë“¤ì—¬ì“°ê¸° í•´ì•¼ í•¨.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì—†ìŒ. ë³´ì•ˆ ê´€ë ¨ ë‚´ìš©ì´ ì „í˜€ í¬í•¨ë˜ì§€ ì•ŠìŒ.\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ:\n\n**ë¶ˆê°€ëŠ¥** â€” í•´ë‹¹ ì„¹ì…˜ì€ ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œë¼ì¸ì— í•´ë‹¹í•˜ë¯€ë¡œ, TCG Opal ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ ëª…ë ¹ì–´ì™€ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ **Pythonê³¼ pytestë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**, **TCG Opal ëª…ë ¹ì–´ ê²€ì¦ ë°©ë²•**, **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•** ë“±ì€ **ì ìš© ëŒ€ìƒì´ ì•„ë‹˜**.\n\n---\n\n### ìµœì¢… íŒë‹¨:\n\nì´ ì„¹ì…˜ì€ **TCG Opal ë³´ì•ˆ ìŠ¤í™ì˜ ê¸°ìˆ ì  ë‚´ìš©ì´ ì•„ë‹˜**. ë¬¸ì„œ ì‘ì„± ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¼ì¸ì— ë¶ˆê³¼í•˜ë¯€ë¡œ, ë³´ì•ˆ ì „ë¬¸ê°€ë¡œì„œì˜ ë¶„ì„ ëŒ€ìƒì´ ë˜ì§€ ì•Šìœ¼ë©°, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nâœ… **ê²°ë¡ : ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 9,
        "level": 3,
        "section_id": "1.3.6",
        "section_key": "1.3.6 Numbering Conventions",
        "title": "Numbering Conventions",
        "start_page": 13,
        "end_page": 14,
        "page_count": 2,
        "content_md": "## 1.3.6 Numbering Conventions\n\nA binary number is represented in this specification by any sequence of digits consisting of only the Western-Arabic numerals 0 and 1 immediately followed by a lowercase b (e.g., 0101b). Underscores or spaces may be included between characters in binary number representations to increase readability or delineate field boundaries\n(e.g., 0 0101 1010b or 0_0101_1010b).\n\nA hexadecimal number is represented in this specification by any sequence of digits consisting of only the Western-Arabic numerals 0 through 9 and/or the uppercase English letters A through F immediately preceded by â€œ0xâ€. Underscores or spaces may be included between characters in hexadecimal number representations to increase readability or delineate field boundaries (e.g., 0xFD8C FA23 or 0x0B_FD8C_FA23). Hexadecimal numbers are in Courier New font.\n\nA decimal number is represented in this specification by any sequence of digits consisting of only the Western-Arabic numerals 0 through 9 not immediately followed by a lowercase b or lowercase h (e.g., 25). This specification uses the following conventions for representing decimal numbers:\n\na) the decimal separator (i.e., separating the integer and fractional portions of the number) is a period;\n\nb) the thousands separator (i.e., separating groups of three digits in a portion of the number) is a space; and\n\nc) the thousands separator is used in both the integer portion and the fraction portion of a number.\n\nA decimal number represented in this specification with an overline over one or more digits following the decimal point is a number where the overlined digits are infinitely repeating (e.g., 666.6Ì… Error! Bookmark not defined. means 666.666 666â€¦ or 666 2/3, and 12.142857Ì… means 12.142 857 142 857â€¦ or 12 1/7).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 1.3.6 - Numbering Conventions**  \n**(TCG Storage Opal SSC v2.30 ë¬¸ì„œ ê¸°ì¤€)**\n\n---\n\n## ğŸ“˜ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ TCG Opal ìŠ¤í™ ë¬¸ì„œ ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” **ìˆ˜ì¹˜ í‘œí˜„ ë°©ì‹**ì— ëŒ€í•œ **í‘œê¸° ê·œì¹™ê³¼ ì»¨ë²¤ì…˜**ì„ ëª…ì‹œí•©ë‹ˆë‹¤. ì´ ê·œì¹™ì€ ë¬¸ì„œ ì „ì²´ì—ì„œ ì¼ê´€ì„± ìˆê²Œ ìˆ˜ì¹˜ë¥¼ í‘œí˜„í•˜ê³ , íŠ¹íˆ **ì´ì§„ìˆ˜, ì‹­ìœ¡ì§„ìˆ˜, ì‹­ì§„ìˆ˜**ë¥¼ êµ¬ë¶„í•˜ì—¬ ì´í•´í•˜ê³  í•´ì„í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ëŠ” TCG Opal ëª…ë ¹ì–´, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, íŠ¹íˆ í•˜ë“œì›¨ì–´/íŒì›¨ì–´ ê°œë°œìë‚˜ ë³´ì•ˆ ì—”ì§€ë‹ˆì–´ê°€ ëª…ë ¹ì–´ë‚˜ ë°ì´í„°ë¥¼ í•´ì„í•  ë•Œ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ ëª©ì \n\n- ë¬¸ì„œ ë‚´ ìˆ˜ì¹˜ í‘œí˜„ì˜ **ì¼ê´€ì„± í™•ë³´**\n- ê°œë°œì/ì—”ì§€ë‹ˆì–´ê°€ **ì´ì§„ìˆ˜, ì‹­ìœ¡ì§„ìˆ˜, ì‹­ì§„ìˆ˜**ë¥¼ í˜¼ë™í•˜ì§€ ì•Šë„ë¡ í‘œê¸°ë²•ì„ ëª…í™•íˆ êµ¬ë¶„\n- **ë””ë²„ê¹…, ë¶„ì„, í…ŒìŠ¤íŠ¸** ì‹œ ìˆ˜ì¹˜ í•´ì„ ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”\n- íŠ¹íˆ **ë¹„íŠ¸ í•„ë“œ, ë°”ì´íŠ¸ ë°°ì—´, ë©”ì‹œì§€ í¬ë§·** ë“±ì—ì„œ í•„ë“œ ê²½ê³„ë¥¼ ëª…í™•íˆ í‘œì‹œí•  ìˆ˜ ìˆë„ë¡ í—ˆìš© (ì˜ˆ: ì–¸ë”ìŠ¤ì½”ì–´ ì‚¬ìš©)\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n1. **ì´ì§„ìˆ˜ í‘œí˜„ (Binary)**\n   - í˜•ì‹: `0101b` ë˜ëŠ” `0_0101_1010b`\n   - íŠ¹ì§•: `b` ì ‘ë¯¸ì‚¬ë¡œ ì´ì§„ìˆ˜ì„ì„ í‘œì‹œ\n   - ì–¸ë”ìŠ¤ì½”ì–´ ë˜ëŠ” ê³µë°±ìœ¼ë¡œ í•„ë“œ ê²½ê³„ë¥¼ êµ¬ë¶„ ê°€ëŠ¥ (ì˜ˆ: `0 0101 1010b` â†’ 1ë¹„íŠ¸, 4ë¹„íŠ¸, 4ë¹„íŠ¸ í•„ë“œ)\n\n2. **ì‹­ìœ¡ì§„ìˆ˜ í‘œí˜„ (Hexadecimal)**\n   - í˜•ì‹: `0x0B_FD8C_FA23` ë˜ëŠ” `0xFD8C FA23`\n   - íŠ¹ì§•: `0x` ì ‘ë‘ì‚¬ë¡œ ì‹­ìœ¡ì§„ìˆ˜ì„ì„ í‘œì‹œ\n   - `A~F`ëŠ” ëŒ€ë¬¸ìë¡œ ì‚¬ìš© (ì˜ˆ: `0xFF`, `0xABC`)\n   - ì–¸ë”ìŠ¤ì½”ì–´/ê³µë°±ìœ¼ë¡œ ì½ê¸° ì‰½ê²Œ êµ¬ë¶„ ê°€ëŠ¥\n   - ë¬¸ì„œì—ì„œ **Courier New í°íŠ¸**ë¡œ í‘œí˜„ (ì½ê¸° ìš©ì´ì„± ë° êµ¬ë¶„)\n\n3. **ì‹­ì§„ìˆ˜ í‘œí˜„ (Decimal)**\n   - í˜•ì‹: `25`, `1 000 000`, `666.6Ì…`, `12.142857Ì…`\n   - íŠ¹ì§•:\n     - **ì†Œìˆ˜ì ì€ ì (.) ì‚¬ìš©**\n     - **ì²œ ë‹¨ìœ„ êµ¬ë¶„ì€ ê³µë°± ì‚¬ìš©** (ì˜ˆ: `1 000 000` â†’ 1ë°±ë§Œ)\n     - **ì†Œìˆ˜ì  ì´í›„ ë°˜ë³µë˜ëŠ” ìˆ«ìëŠ” ë§‰ëŒ€ê¸°(overline) í‘œì‹œ** (ì˜ˆ: `6Ì…` â†’ 0.666... = 2/3)\n     - ë°˜ë³µ ì†Œìˆ˜ëŠ” ì •í™•í•œ ë¶„ìˆ˜ë¡œ í‘œí˜„ ê°€ëŠ¥ (ì˜ˆ: `12.142857Ì…` = 12 1/7)\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°**ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ, **TCG Opal ëª…ë ¹ì–´ë‚˜ ë°ì´í„° í¬ë§·ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°”ì´íŠ¸/ë¹„íŠ¸ ë°°ì—´ì„ í‘œí˜„í•˜ëŠ” ë° í•„ìˆ˜ì ì¸ í‘œê¸°ë²•**ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´:\n- `0x01_02_03_04` â†’ 4ë°”ì´íŠ¸ ë°ì´í„° (`0x01`, `0x02`, `0x03`, `0x04`)\n- `1010_1100b` â†’ 8ë¹„íŠ¸ ë°ì´í„°, 4ë¹„íŠ¸ì”© êµ¬ë¶„ (ì˜ˆ: `1010`ê³¼ `1100` í•„ë“œ)\n\nì´ í‘œê¸°ë²•ì€ **TCG Opal ëª…ë ¹ì–´ì˜ íŒŒë¼ë¯¸í„°, ìƒíƒœ ë¹„íŠ¸, í”Œë˜ê·¸** ë“±ì—ì„œ **ë¹„íŠ¸ ë‹¨ìœ„ë¡œ í•´ì„**í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ›¡ï¸ ìš”êµ¬ì‚¬í•­ & ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ì„ ì„¤ëª…í•˜ì§€ ì•Šì§€ë§Œ, **ë³´ì•ˆ ê´€ë ¨ ë°ì´í„° í‘œí˜„ì˜ ì •í™•ì„±**ì„ ë³´ì¥í•˜ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.\n\n- **ë³´ì•ˆ ëª…ë ¹ì–´ (ì˜ˆ: StartSession, Revert, SetLockdown, Unlock)**ì—ì„œ íŒŒë¼ë¯¸í„°ëŠ” ì£¼ë¡œ **ì´ì§„ìˆ˜/ì‹­ìœ¡ì§„ìˆ˜ë¡œ í‘œí˜„**ë¨\n- ì˜ˆ: `StartSession` ëª…ë ¹ì–´ì˜ `SessionType` í•„ë“œëŠ” `0x01` ë˜ëŠ” `0001b` í˜•ì‹ìœ¼ë¡œ í‘œí˜„\n- ë¹„íŠ¸ í•„ë“œë¥¼ ì˜ëª» í•´ì„í•˜ë©´ **ë³´ì•ˆ ì •ì±… ì ìš© ì˜¤ë¥˜, ì„¸ì…˜ ì¸ì¦ ì‹¤íŒ¨, ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨** ë“±ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ â†’ í‘œê¸° ê·œì¹™ì´ ì •í™•í•´ì•¼ ë³´ì•ˆ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ì‘ë™\n\nì¦‰, ì´ ì„¹ì…˜ì€ **ë³´ì•ˆ ëª…ë ¹ì–´ì˜ ì •í™•í•œ í•´ì„ê³¼ ì „ë‹¬**ì„ ìœ„í•œ **ê¸°ì´ˆ ì¸í”„ë¼ ì—­í• **ì„ í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… Test Case ì œì‹œ\n\nì´ ì„¹ì…˜ì€ **ìˆ˜ì¹˜ í‘œí˜„ ë°©ì‹**ì— ê´€í•œ ê·œì¹™ì´ë¯€ë¡œ, **ì‹¤ì œ ë³´ì•ˆ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**ë³´ë‹¤ëŠ” **ë¬¸ì„œ í•´ì„ ì •í™•ë„ í…ŒìŠ¤íŠ¸**ì— í•´ë‹¹í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì œ Opal ì¥ì¹˜ì™€ í†µì‹ í•  ë•Œ ì´ í‘œê¸°ë²•ì— ê¸°ë°˜í•œ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì•¼ í•˜ë¯€ë¡œ, **í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ í•´ë‹¹ í‘œê¸°ë²•ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª Test Case 1: ì´ì§„ìˆ˜ â†’ ì‹­ìœ¡ì§„ìˆ˜ ë³€í™˜ ë° í•„ë“œ ë¶„í•  ê²€ì¦\n\n**ëª©ì **: ë¬¸ì„œì—ì„œ ì‚¬ìš©í•˜ëŠ” ì´ì§„ìˆ˜ í‘œí˜„ (ì˜ˆ: `0_0101_1010b`)ì´ ì˜¬ë°”ë¥´ê²Œ íŒŒì‹±ë˜ê³ , í•„ë“œë³„ë¡œ ë¶„ë¦¬ë˜ëŠ”ì§€ í™•ì¸.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\nimport pytest\n\ndef parse_binary_with_underscores(binary_str):\n    \"\"\"ì´ì§„ìˆ˜ ë¬¸ìì—´ì—ì„œ ì–¸ë”ìŠ¤ì½”ì–´ ì œê±° í›„ intë¡œ ë³€í™˜\"\"\"\n    clean = binary_str.strip().replace('_', '').rstrip('b')\n    return int(clean, 2)\n\ndef parse_hex_with_underscores(hex_str):\n    \"\"\"ì‹­ìœ¡ì§„ìˆ˜ ë¬¸ìì—´ì—ì„œ ì–¸ë”ìŠ¤ì½”ì–´ ì œê±° í›„ intë¡œ ë³€í™˜\"\"\"\n    clean = hex_str.strip().replace('_', '').lstrip('0x')\n    return int(clean, 16)\n\ndef parse_decimal_with_spaces(decimal_str):\n    \"\"\"ê³µë°±ìœ¼ë¡œ ì²œ ë‹¨ìœ„ êµ¬ë¶„ëœ ì‹­ì§„ìˆ˜ íŒŒì‹±\"\"\"\n    clean = decimal_str.replace(' ', '')\n    return float(clean)\n\ndef test_binary_parsing():\n    \"\"\"ì´ì§„ìˆ˜ íŒŒì‹± í…ŒìŠ¤íŠ¸\"\"\"\n    assert parse_binary_with_underscores(\"0101b\") == 5\n    assert parse_binary_with_underscores(\"0_0101_1010b\") == 0b01011010  # 89\n    assert parse_binary_with_underscores(\"1 000 000b\") == 0b1000000  # 64\n\ndef test_hex_parsing():\n    \"\"\"ì‹­ìœ¡ì§„ìˆ˜ íŒŒì‹± í…ŒìŠ¤íŠ¸\"\"\"\n    assert parse_hex_with_underscores(\"0x0B_FD8C_FA23\") == 0x0BFD8CFA23\n    assert parse_hex_with_underscores(\"0xFD8C FA23\") == 0xFD8CFA23\n    assert parse_hex_with_underscores(\"0x123\") == 0x123  # 291\n\ndef test_decimal_parsing():\n    \"\"\"ì‹­ì§„ìˆ˜ íŒŒì‹± í…ŒìŠ¤íŠ¸\"\"\"\n    assert parse_decimal_with_spaces(\"1 000 000\") == 1000000.0\n    assert parse_decimal_with_spaces(\"666.6Ì…\") == 666.6666666666667  # ë°˜ë³µ ì†Œìˆ˜ ê·¼ì‚¬ê°’\n    assert parse_decimal_with_spaces(\"12.142857Ì…\") == 12.142857142857143  # 12 1/7\n\ndef test_decimal_repeating_fraction():\n    \"\"\"ë°˜ë³µ ì†Œìˆ˜ í…ŒìŠ¤íŠ¸ (ë°˜ë³µ ë¶€ë¶„ì´ ë§‰ëŒ€ê¸° í‘œì‹œëœ ê²½ìš°)\"\"\"\n    # ì‹¤ì œ ë§‰ëŒ€ê¸° í‘œì‹œëŠ” ë¬¸ìì—´ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ ì‹œ ê·¼ì‚¬ê°’ ë˜ëŠ” ë¶„ìˆ˜ë¡œ ë³€í™˜\n    repeating = \"666.6Ì…\"\n    # ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì´ ê°’ì„ 666 + 2/3 = 666.666...ë¡œ í•´ì„\n    assert abs(parse_decimal_with_spaces(repeating) - (666 + 2/3)) < 1e-9\n```\n\n---\n\n### ğŸ“¡ TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦ ë°©ë²•\n\nì´ ì„¹ì…˜ ìì²´ëŠ” ëª…ë ¹ì–´ë¥¼ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šì§€ë§Œ, **ëª…ë ¹ì–´ íŒŒë¼ë¯¸í„°ë¥¼ ì •í™•íˆ í‘œí˜„í•˜ê¸° ìœ„í•´ ì´ í‘œê¸°ë²•ì´ í•„ìš”**í•©ë‹ˆë‹¤.\n\nì˜ˆ: `StartSession` ëª…ë ¹ì–´ì˜ `SessionType`ì€ `0x01` ë˜ëŠ” `0001b`ë¡œ í‘œí˜„ë˜ë©°, ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥:\n\n```python\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ì— StartSession ëª…ë ¹ì–´ ì „ì†¡\ndef test_start_session_with_binary_hex():\n    # ì´ì§„ìˆ˜ë¡œ í‘œí˜„ëœ ì„¸ì…˜ íƒ€ì…: 0001b (ê³µê²©ì ì„¸ì…˜)\n    session_type_bin = 0b0001\n    session_type_hex = 0x01\n\n    # Opal ëª…ë ¹ì–´ ì „ì†¡ (ì˜ˆ: via pyopal ë˜ëŠ” ì§ì ‘ í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬)\n    response = send_opal_command(\"StartSession\", session_type=session_type_hex)\n\n    assert response[\"status\"] == \"SUCCESS\"\n    assert response[\"session_id\"] != 0  # ì„¸ì…˜ ìƒì„± ì„±ê³µ\n```\n\n> ğŸ’¡ ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” `pyopal` ë˜ëŠ” `pycryptodome` + `scsi`/`ata` ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì„ í†µí•´ ì¥ì¹˜ì— ëª…ë ¹ì–´ë¥¼ ì „ì†¡í•´ì•¼ í•˜ë©°, ì´ëŠ” ë³„ë„ì˜ í•˜ë“œì›¨ì–´ í…ŒìŠ¤íŠ¸ í™˜ê²½ í•„ìš”.\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nTCG Opal ë¬¸ì„œëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ì´ í…Œì´ë¸”ì—ëŠ” ì´ì§„ìˆ˜/ì‹­ìœ¡ì§„ìˆ˜/ì‹­ì§„ìˆ˜ë¡œ í‘œí˜„ëœ ê°’ì´ í¬í•¨ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:\n\n| Field Name       | Bit Position | Value (Hex) | Value (Bin)     |\n|------------------|--------------|-------------|-----------------|\n| Lockdown Mode    | 7:0          | 0x01        | 0000 0001b      |\n| Session Type     | 7:0          | 0x02        | 0000 0010b      |\n\nì´ëŸ¬í•œ í…Œì´ë¸”ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ:\n\n```python\ndef test_table_data_consistency():\n    \"\"\"í…Œì´ë¸” ë‚´ ê°’ì´ ì´ì§„ìˆ˜/ì‹­ìœ¡ì§„ìˆ˜ë¡œ ì¼ê´€ë˜ê²Œ í‘œí˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦\"\"\"\n    table = [\n        {\"field\": \"Lockdown Mode\", \"hex\": \"0x01\", \"bin\": \"0000 0001b\"},\n        {\"field\": \"Session Type\", \"hex\": \"0x02\", \"bin\": \"0000 0010b\"},\n    ]\n\n    for row in table:\n        hex_val = int(row[\"hex\"].lstrip(\"0x\"), 16)\n        bin_val = int(row[\"bin\"].replace(\" \", \"\").rstrip(\"b\"), 2)\n        assert hex_val == bin_val, f\"{row['field']} hex/bin ê°’ ë¶ˆì¼ì¹˜\"\n```\n\n---\n\n## âœ… ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ TCG Opal ìŠ¤í™ ë¬¸ì„œì˜ **ê¸°ì´ˆì ì¸ í‘œê¸° ê·œì¹™**ì„ ì •ì˜í•˜ë©°, **ë³´ì•ˆ ëª…ë ¹ì–´, ë°ì´í„° í¬ë§·, ë¹„íŠ¸ í•„ë“œ í•´ì„** ë“±ì—ì„œ í•„ìˆ˜ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤. í‘œê¸°ë²•ì´ ì˜ëª» ë˜ë©´ ëª…ë ¹ì–´ íŒŒì‹± ì˜¤ë¥˜, ì„¸ì…˜ ì¸ì¦ ì‹¤íŒ¨, ë°ì´í„° ì ‘ê·¼ ì˜¤ë¥˜ ë“±ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, **í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ì´ í‘œê¸°ë²•ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦**í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ ì°¸ê³ \n\n- ì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ì´ ì•„ë‹ˆë¼ **í‘œê¸°ë²•ì˜ ì¼ê´€ì„±**ì„ ë‹¤ë£¨ë¯€ë¡œ, ë³´ì•ˆ ê¸°ëŠ¥ ìì²´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë³´ì•ˆ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ í‘œê¸°ë²•ì˜ ì •í™•ì„±**ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.\n- ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ëŠ” `StartSession`, `Revert`, `SetLockdown` ë“± ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, ì´ëŠ” ë³„ë„ì˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš”.\n\n---\n\nâœ… **ê²€í†  ì™„ë£Œ**  \n**í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²• ì œì‹œ ì™„ë£Œ**  \n**í‘œê¸°ë²•ì— ê¸°ë°˜í•œ ë°ì´í„° ì •í™•ì„± ê²€ì¦ ê°€ëŠ¥**\n\n---  \n**ìµœì¢… ë‹µë³€:**\n\n> **ì„¹ì…˜ 1.3.6 - Numbering Conventions**ì€ ë¬¸ì„œ ë‚´ì—ì„œ ì´ì§„ìˆ˜, ì‹­ìœ¡ì§„ìˆ˜, ì‹­ì§„ìˆ˜ë¥¼ ì¼ê´€ë˜ê²Œ í‘œí˜„í•˜ëŠ” ê·œì¹™ì„ ì •ì˜í•˜ë©°, TCG Opal ëª…ë ¹ì–´ ë° ë°ì´í„° êµ¬ì¡° í•´ì„ì˜ ê¸°ì´ˆë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ í‘œê¸°ë²•ì€ ë³´ì•ˆ ëª…ë ¹ì–´ íŒŒë¼ë¯¸í„° í•´ì„ ë° í…ŒìŠ¤íŠ¸ì—ì„œ í•„ìˆ˜ì ì´ë©°, Python + pytestë¥¼ í™œìš©í•´ ì´ì§„ìˆ˜/ì‹­ìœ¡ì§„ìˆ˜/ì‹­ì§„ìˆ˜ íŒŒì‹± ì •í™•ë„ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¬¸ì„œ í…Œì´ë¸” ë‚´ ë°ì´í„°ì˜ ì¼ê´€ì„±ë„ ê²€ì¦ ê°€ëŠ¥í•˜ë©°, ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” StartSession, Revert ë“±ì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í•´ë‹¹ í‘œí˜„ ë°©ì‹ì— ê¸°ë°˜í•œ ë°ì´í„° ì „ì†¡ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  \n\n---  \nâœ… **ì´ ì„¹ì…˜ì€ ë‚´ìš©ì´ ì¡´ì¬í•˜ë©°, ìƒì„¸í•œ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê³µí–ˆìŠµë‹ˆë‹¤.**"
    },
    {
        "section_order": 10,
        "level": 3,
        "section_id": "1.3.7",
        "section_key": "1.3.7 Bit Conventions",
        "title": "Bit Conventions",
        "start_page": 14,
        "end_page": 14,
        "page_count": 1,
        "content_md": "## 1.3.7 Bit Conventions\n\nName (n:m), where n is greater than m, denotes a set of bits (e.g., Feature (7:0)).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.3.7 Bit Conventions\n\nName (n:m), where n is greater than m, denotes a set of bits (e.g., Feature (7:0))."
    },
    {
        "section_order": 11,
        "level": 3,
        "section_id": "1.3.8",
        "section_key": "1.3.8 Number Range Conventions",
        "title": "Number Range Conventions",
        "start_page": 14,
        "end_page": 14,
        "page_count": 1,
        "content_md": "## 1.3.8 Number Range Conventions\n\np..q, where p is less than q, represents a range of numbers (e.g., words 100..103 represents words 100, 101, 102, and 103).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.3.8 Number Range Conventions\n\np..q, where p is less than q, represents a range of numbers (e.g., words 100..103 represents words 100, 101, 102, and 103)."
    },
    {
        "section_order": 12,
        "level": 3,
        "section_id": "1.3.9",
        "section_key": "1.3.9 Specify and Indicate Conventions",
        "title": "Specify and Indicate Conventions",
        "start_page": 14,
        "end_page": 14,
        "page_count": 1,
        "content_md": "## 1.3.9 Specify and Indicate Conventions\n\nIn a given message, command, or other information exchange between a requestor (e.g., a host) and a responder (e.g., a Storage Device):\n\na) the word â€˜specifiesâ€™ means that the requestor provides information in the request; and\n\nb) the word â€˜indicatesâ€™ means that the responder provides information in the response.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.3.9 Specify and Indicate Conventions â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nì´ ì„¹ì…˜ì€ TCG Opal í‘œì¤€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ í•µì‹¬ ìš©ì–´ì¸ **\"specifies\"**ì™€ **\"indicates\"**ì˜ ì˜ë¯¸ë¥¼ ëª…í™•íˆ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  \nì´ëŠ” **í˜¸ìŠ¤íŠ¸**(requestor)ì™€ **ì €ì¥ ì¥ì¹˜**(responder) ê°„ì˜ í†µì‹ ì—ì„œ ì •ë³´ì˜ ë°©í–¥ì„±(ëˆ„êµ¬ê°€ ë¬´ì—‡ì„ ì „ë‹¬í•˜ëŠ”ê°€)ì„ ëª…í™•íˆ í•˜ê¸° ìœ„í•œ **ì˜ì‚¬ì†Œí†µ ê·œì¹™**ì…ë‹ˆë‹¤.\n\n> **í•µì‹¬ ëª©ì **: í˜¼ë™ì„ ë°©ì§€í•˜ê³ , ëª…ë ¹ê³¼ ì‘ë‹µì˜ ì—­í• ì„ ì •í™•íˆ êµ¬ë¶„í•˜ì—¬ í‘œì¤€ì˜ ì¼ê´€ì„±ê³¼ êµ¬í˜„ì˜ ì •í™•ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n- **â€˜specifiesâ€™** (ì§€ì •í•˜ë‹¤):  \n  â†’ **í˜¸ìŠ¤íŠ¸(ìš”ì²­ì)**ê°€ ì €ì¥ ì¥ì¹˜ì— **ìš”ì²­ ë‚´ìš©**ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.  \n  ì˜ˆ: \"í˜¸ìŠ¤íŠ¸ëŠ” **ì•”í˜¸í™” í‚¤ë¥¼ specifies**\" â†’ í˜¸ìŠ¤íŠ¸ê°€ í‚¤ë¥¼ ìš”ì²­ì— í¬í•¨í•˜ì—¬ ì „ì†¡í•©ë‹ˆë‹¤.\n\n- **â€˜indicatesâ€™** (í‘œì‹œí•˜ë‹¤/ì•Œë¦¼í•˜ë‹¤):  \n  â†’ **ì €ì¥ ì¥ì¹˜(ì‘ë‹µì)**ê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ **ì‘ë‹µ ë‚´ìš©**ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.  \n  ì˜ˆ: \"ì¥ì¹˜ëŠ” **ì‘ì—… ì™„ë£Œ ìƒíƒœë¥¼ indicates**\" â†’ ì¥ì¹˜ê°€ ì‘ë‹µì—ì„œ ì„±ê³µ ì—¬ë¶€ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\n> ğŸ’¡ ì´ ìš©ì–´ë“¤ì€ **TCG Opal ëª…ë ¹ì–´ ìŠ¤í™** ì „ì²´ì—ì„œ ì¼ê´€ë˜ê²Œ ì‚¬ìš©ë˜ë©°, ëª…ë ¹ì–´ ì •ì˜, ì‘ë‹µ ì½”ë“œ, ë°ì´í„° êµ¬ì¡° ì„¤ëª… ë“±ì—ì„œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì€ **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.  \nê·¸ëŸ¬ë‚˜ **ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ì  ë§¥ë½ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤**:\n\n- **ìš”ì²­ ë©”ì‹œì§€ (Request Message)**:  \n  - `specifies`ë¡œ ì‹œì‘í•˜ëŠ” í•­ëª©ë“¤ì€ ì´ ë©”ì‹œì§€ì˜ **ì…ë ¥ í•„ë“œ**ì…ë‹ˆë‹¤.  \n  - ì˜ˆ: `specifies a User ID` â†’ ìš”ì²­ ë©”ì‹œì§€ì— ì‚¬ìš©ì ID í•„ë“œê°€ í¬í•¨ë¨.\n\n- **ì‘ë‹µ ë©”ì‹œì§€ (Response Message)**:  \n  - `indicates`ë¡œ ì‹œì‘í•˜ëŠ” í•­ëª©ë“¤ì€ ì´ ë©”ì‹œì§€ì˜ **ì¶œë ¥ í•„ë“œ**ì…ë‹ˆë‹¤.  \n  - ì˜ˆ: `indicates the session status` â†’ ì‘ë‹µ ë©”ì‹œì§€ì— ì„¸ì…˜ ìƒíƒœ í•„ë“œê°€ í¬í•¨ë¨.\n\n> âœ… ì¦‰, ì´ ì„¹ì…˜ì€ **ë°ì´í„° êµ¬ì¡° ìì²´ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ**, ë°ì´í„° êµ¬ì¡°ë¥¼ ì„¤ëª…í•  ë•Œ ì‚¬ìš©í•˜ëŠ” **ë¬¸ë²•ì /ì˜ë¯¸ì  ê·œì¹™**ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­**\n\n- ëª¨ë“  TCG Opal ëª…ë ¹ì–´ ë¬¸ì„œì—ì„œ **ì´ ìš©ì–´ë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©**í•´ì•¼ í•¨.\n- êµ¬í˜„ì²´(ì˜ˆ: ì €ì¥ ì¥ì¹˜ ì œì¡°ì—…ì²´)ëŠ” ì´ ìš©ì–´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìš”ì²­ê³¼ ì‘ë‹µì˜ ì—­í• ì„ ëª…í™•íˆ êµ¬ë¶„**í•´ì•¼ í•¨.\n- í˜¸ìŠ¤íŠ¸ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë„ ì´ ìš©ì–´ë¥¼ ì´í•´í•˜ì—¬ **ì˜¬ë°”ë¥¸ ìš”ì²­ì„ ìƒì„±í•˜ê³ , ì‘ë‹µì„ í•´ì„**í•´ì•¼ í•¨.\n\n> âš ï¸ ì´ ìš©ì–´ë¥¼ ì˜¤ìš©í•˜ë©´, ì˜ˆë¥¼ ë“¤ì–´ \"ì¥ì¹˜ê°€ í‚¤ë¥¼ specifies\"ì²˜ëŸ¼ ë§í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ë…¼ë¦¬ì  ì˜¤ë¥˜ì…ë‹ˆë‹¤.  \n> â†’ **specifiesëŠ” í•­ìƒ ìš”ì²­ì(í˜¸ìŠ¤íŠ¸)ì˜ í–‰ë™**, **indicatesëŠ” í•­ìƒ ì‘ë‹µì(ì¥ì¹˜)ì˜ í–‰ë™**ì´ì–´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**(ì˜ˆ: ì•”í˜¸í™”, ì¸ì¦, ì ‘ê·¼ ì œì–´)ì„ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.  \nê·¸ëŸ¬ë‚˜ ë³´ì•ˆ ê´€ë ¨ ëª…ë ¹ì–´(ì˜ˆ: `StartSession`, `SetPassphrase`, `Revert`)ë¥¼ ì„¤ëª…í•  ë•Œ, ì´ ìš©ì–´ë“¤ì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ **ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì˜ íë¦„ì„ ëª…í™•íˆ í•©ë‹ˆë‹¤**.\n\nì˜ˆì‹œ:\n- `StartSession` ëª…ë ¹ì–´ì—ì„œ:  \n  â†’ í˜¸ìŠ¤íŠ¸ëŠ” `specifies` User IDì™€ Passphrase  \n  â†’ ì¥ì¹˜ëŠ” `indicates` ì„¸ì…˜ ìƒíƒœ (ì„±ê³µ/ì‹¤íŒ¨) ë° ì„¸ì…˜ ID\n\nâ†’ ì´ë¡œ ì¸í•´, **ë³´ì•ˆ ì¸ì¦ ì ˆì°¨ì˜ ê° ë‹¨ê³„ê°€ ëˆ„êµ¬ì˜ ì±…ì„ì¸ì§€ ëª…í™•í•´ì§€ê³ **, ì˜¤ì‘ë™ì´ë‚˜ ê³µê²©ì„ ì˜ˆë°©í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ê¸°ëŠ¥ì´ë‚˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—**, **ì§ì ‘ì ì¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤**.  \ní•˜ì§€ë§Œ, **ì´ ìš©ì–´ê°€ ì‹¤ì œ ëª…ë ¹ì–´ ìŠ¤í™ì—ì„œ ì–´ë–»ê²Œ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ë¥¼ ì œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n\n> \"specifies\"ì™€ \"indicates\"ê°€ ëª…ë ¹ì–´ ì •ì˜ ë° ì‘ë‹µ ì²˜ë¦¬ì—ì„œ **ì •í™•í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆëŠ”ì§€**ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.  \n> â†’ ì˜ˆ: `StartSession` ëª…ë ¹ì–´ì—ì„œ í˜¸ìŠ¤íŠ¸ê°€ User IDë¥¼ ì§€ì •í•˜ê³ , ì¥ì¹˜ê°€ ì„¸ì…˜ ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ Python + pytest ì˜ˆì‹œ ì½”ë“œ\n\n```python\nimport pytest\nfrom opcua import Client  # ì˜ˆì‹œìš©, ì‹¤ì œ Opal ì¥ì¹˜ëŠ” TCG Opal APIë¥¼ ì‚¬ìš©\nfrom opal_client import OpalDevice  # ê°€ì •ëœ Opal ì¥ì¹˜ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"tcp://localhost:6666\")  # ì˜ˆì‹œ ì£¼ì†Œ\n    device.connect()\n    yield device\n    device.disconnect()\n\ndef test_start_session_specifies_and_indicates(opal_device):\n    \"\"\"StartSession ëª…ë ¹ì–´ì—ì„œ 'specifies'ì™€ 'indicates'ê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    \n    # 1. í˜¸ìŠ¤íŠ¸ê°€ 'specifies' - User IDì™€ Passphrase ì œê³µ\n    user_id = \"admin\"\n    passphrase = \"securepass123\"\n    \n    # ìš”ì²­ ìƒì„± (í˜¸ìŠ¤íŠ¸ê°€ ì§€ì •í•˜ëŠ” ê°’)\n    request = {\n        \"command\": \"StartSession\",\n        \"user_id\": user_id,\n        \"passphrase\": passphrase\n    }\n    \n    # 2. ì¥ì¹˜ì— ìš”ì²­ ì „ì†¡\n    response = opal_device.send_command(request)\n    \n    # 3. ì¥ì¹˜ê°€ 'indicates' - ì„¸ì…˜ ìƒíƒœ ë° ì„¸ì…˜ ID ì œê³µ ì—¬ë¶€ í™•ì¸\n    assert \"session_status\" in response, \"ì¥ì¹˜ê°€ ì„¸ì…˜ ìƒíƒœë¥¼ indicatesí•˜ì§€ ì•ŠìŒ\"\n    assert \"session_id\" in response, \"ì¥ì¹˜ê°€ ì„¸ì…˜ IDë¥¼ indicatesí•˜ì§€ ì•ŠìŒ\"\n    assert response[\"session_status\"] == \"SUCCESS\", \"ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨\"\n\n    # 4. ìš”ì²­ì—ì„œ í˜¸ìŠ¤íŠ¸ê°€ ì§€ì •í•œ ê°’ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\n    assert request[\"user_id\"] == user_id, \"í˜¸ìŠ¤íŠ¸ê°€ User IDë¥¼ specifiesí•˜ì§€ ì•ŠìŒ\"\n    assert request[\"passphrase\"] == passphrase, \"í˜¸ìŠ¤íŠ¸ê°€ Passphraseë¥¼ specifiesí•˜ì§€ ì•ŠìŒ\"\n\n    print(\"âœ… Test Passed: 'specifies' and 'indicates' conventions are correctly applied in StartSession\")\n```\n\n---\n\n### ğŸ”„ TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•\n\n| ëª…ë ¹ì–´ | í˜¸ìŠ¤íŠ¸ê°€ specifies (ìš”ì²­) | ì¥ì¹˜ê°€ indicates (ì‘ë‹µ) |\n|--------|-----------------------------|--------------------------|\n| `StartSession` | User ID, Passphrase | Session ID, Status (SUCCESS/FAIL) |\n| `Revert` | Revert Type (ì˜ˆ: Full) | Revert Status, Device State |\n| `SetPassphrase` | New Passphrase, User ID | Status (SUCCESS/FAIL) |\n\n> âœ… **ê²€ì¦ ë°©ë²•**:  \n> - ìš”ì²­ ë©”ì‹œì§€ì— `specifies`ë¡œ ëª…ì‹œëœ í•„ë“œê°€ í¬í•¨ë˜ëŠ”ì§€ í™•ì¸  \n> - ì‘ë‹µ ë©”ì‹œì§€ì— `indicates`ë¡œ ëª…ì‹œëœ í•„ë“œê°€ í¬í•¨ë˜ê³ , ê°’ì´ ìœ íš¨í•œì§€ í™•ì¸  \n> - ì˜ˆì™¸ ì²˜ë¦¬: ì‹¤íŒ¨ ì‹œ `indicates` ì˜¤ë¥˜ ì½”ë“œê°€ ì œëŒ€ë¡œ ì „ë‹¬ë˜ëŠ”ì§€ í™•ì¸\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nì´ ì„¹ì…˜ì€ **í…Œì´ë¸” ë°ì´í„° ìì²´ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—**, **ê´€ë ¨ ëª…ë ¹ì–´ ìŠ¤í™ì˜ í…Œì´ë¸”ì„ ê²€ì¦í•˜ëŠ” ë°©ë²•**ì„ ì œì‹œí•©ë‹ˆë‹¤.\n\nì˜ˆ: `StartSession` ëª…ë ¹ì–´ì˜ ìš”ì²­/ì‘ë‹µ í…Œì´ë¸”\n\n| í•„ë“œëª… | ë°©í–¥ | ì„¤ëª… | ê²€ì¦ ë°©ë²• |\n|--------|------|------|-----------|\n| User ID | specifies (ìš”ì²­) | í˜¸ìŠ¤íŠ¸ê°€ ì§€ì • | ìš”ì²­ ë©”ì‹œì§€ì— ì¡´ì¬ ì—¬ë¶€ í™•ì¸ |\n| Passphrase | specifies (ìš”ì²­) | í˜¸ìŠ¤íŠ¸ê°€ ì§€ì • | ìš”ì²­ ë©”ì‹œì§€ì— ì¡´ì¬ ì—¬ë¶€ í™•ì¸ |\n| Session ID | indicates (ì‘ë‹µ) | ì¥ì¹˜ê°€ ì œê³µ | ì‘ë‹µ ë©”ì‹œì§€ì— ì¡´ì¬ ì—¬ë¶€ í™•ì¸ |\n| Session Status | indicates (ì‘ë‹µ) | ì¥ì¹˜ê°€ ì œê³µ | ì„±ê³µ/ì‹¤íŒ¨ ê°’ ê²€ì¦ |\n\n> âœ… **ê²€ì¦ ì ˆì°¨**:  \n> 1. í…Œì´ë¸”ì— ë‚˜ì—´ëœ ëª¨ë“  `specifies` í•­ëª©ì´ ìš”ì²­ ë©”ì‹œì§€ì— í¬í•¨ë˜ëŠ”ì§€ í™•ì¸  \n> 2. í…Œì´ë¸”ì— ë‚˜ì—´ëœ ëª¨ë“  `indicates` í•­ëª©ì´ ì‘ë‹µ ë©”ì‹œì§€ì— í¬í•¨ë˜ê³ , ì˜ˆìƒê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸  \n> 3. ì˜ˆì™¸ ì‹œ, `indicates` í•­ëª©ì´ ì˜¤ë¥˜ ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸\n\n---\n\n## âœ… ê²°ë¡ \n\n> **ì´ ì„¹ì…˜ì€ êµ¬ì²´ì ì¸ ê¸°ëŠ¥ì´ë‚˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ**, TCG Opal í‘œì¤€ì˜ **ì˜ì‚¬ì†Œí†µ êµ¬ì¡°ë¥¼ ëª…í™•íˆ í•˜ëŠ” í•µì‹¬ ê·œì¹™**ì…ë‹ˆë‹¤.  \n> `specifies`ì™€ `indicates`ë¼ëŠ” ìš©ì–´ëŠ” **í˜¸ìŠ¤íŠ¸ì™€ ì¥ì¹˜ ê°„ì˜ ì •ë³´ íë¦„ì„ ì •í™•íˆ êµ¬ë¶„**í•˜ì—¬,  \n> â†’ ëª…ë ¹ì–´ ì •ì˜, ì‘ë‹µ ì²˜ë¦¬, ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤, í…ŒìŠ¤íŠ¸ ì„¤ê³„ ë“±ì—ì„œ **ì¼ê´€ì„±ê³¼ ì •í™•ì„±ì„ ë³´ì¥**í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ TCG Opal í‘œì¤€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ í•µì‹¬ ìš©ì–´, **â€˜specifiesâ€™**ì™€ **â€˜indicatesâ€™**ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n- **specifies**: ìš”ì²­ì(ì˜ˆ: í˜¸ìŠ¤íŠ¸)ê°€ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°. â†’ ìš”ì²­ ë©”ì‹œì§€ì—ì„œ ì‚¬ìš©ë¨.\n- **indicates**: ì‘ë‹µì(ì˜ˆ: ì €ì¥ ì¥ì¹˜)ê°€ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°. â†’ ì‘ë‹µ ë©”ì‹œì§€ì—ì„œ ì‚¬ìš©ë¨.\n\nì´ ìš©ì–´ë“¤ì€ **ëª…ë ¹ì–´ ìŠ¤í™, ì‘ë‹µ êµ¬ì¡°, ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ ì„¤ëª…** ë“±ì—ì„œ ì¼ê´€ë˜ê²Œ ì‚¬ìš©ë˜ì–´, **ì˜ë¯¸ì˜ í˜¼ë™ì„ ë°©ì§€í•˜ê³  êµ¬í˜„ì˜ ì •í™•ì„±ì„ ë†’ì…ë‹ˆë‹¤**.\n\nì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°ë‚˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ,  \nâ†’ **TCG Opal ëª…ë ¹ì–´ë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸í•  ë•Œ ì´ ìš©ì–´ê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤**.\n\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ëª…ë ¹ì–´ ìŠ¤í™ì— ê¸°ë°˜í•˜ì—¬,  \nâ†’ ìš”ì²­ì—ì„œ `specifies` í•­ëª©ì´ í¬í•¨ë˜ê³ ,  \nâ†’ ì‘ë‹µì—ì„œ `indicates` í•­ëª©ì´ í¬í•¨ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ ì ìœ¼ë¡œ, ì´ ì„¹ì…˜ì€ TCG Opal í‘œì¤€ì˜ ê¸°ì´ˆì ì¸ ì˜ì‚¬ì†Œí†µ ê·œì¹™ì´ë©°, ì´ˆë³´ìë¼ë„ ëª…ë ¹ì–´ íë¦„ì„ ì´í•´í•˜ëŠ” ë° í•„ìˆ˜ì ì¸ ê°œë…ì…ë‹ˆë‹¤.**"
    },
    {
        "section_order": 13,
        "level": 2,
        "section_id": "1.4",
        "section_key": "1.4 Document References",
        "title": "Document References",
        "start_page": 14,
        "end_page": 14,
        "page_count": 1,
        "content_md": "## 1.4 Document References",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.4 Document References"
    },
    {
        "section_order": 14,
        "level": 3,
        "section_id": "1.4.1",
        "section_key": "1.4.1 Document Precedence",
        "title": "Document Precedence",
        "start_page": 14,
        "end_page": 14,
        "page_count": 1,
        "content_md": "### 1.4.1 Document Precedence\n\nIf there is a conflict between this specification and any other reference, then the precedence is (where a lower number indicates higher precedence):\n\n1. this specification;\n\n2. references under development (see section 1.4.3); and\n\n3. approved references (see section 1.4.2).\n\nEach reference under development and each approved reference may specify its own document precedence.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 1.4.1 - Document Precedence**\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ **TCG Storage Opal SSC v2.30** ë¬¸ì„œ ë‚´ì—ì„œ **ë‹¤ë¥¸ ë¬¸ì„œë‚˜ ì°¸ì¡° ìë£Œì™€ì˜ ì¶©ëŒ ë°œìƒ ì‹œ ì–´ë–¤ ë¬¸ì„œê°€ ìš°ì„ ê¶Œì„ ê°€ì§ˆì§€ ì •ì˜í•˜ëŠ” ë¬¸ì„œ ìš°ì„ ìˆœìœ„ ê·œì¹™**ì„ ì„¤ëª…í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ ë¬¸ì„œ(Storage Opal SSC v2.30)ì™€ ë‹¤ë¥¸ ë¬¸ì„œ(ì˜ˆ: ë‹¤ë¥¸ TCG í‘œì¤€, ê°œë°œ ì¤‘ì¸ ì‚¬ì–‘, ìŠ¹ì¸ëœ ì‚¬ì–‘ ë“±) ê°„ì— **ì˜ë¯¸ë‚˜ ì •ì˜ì— ëª¨ìˆœì´ ìƒê¸°ë©´**, ì–´ë–¤ ë¬¸ì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì„í•´ì•¼ í• ì§€ ëª…í™•íˆ ê·œì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ ëª©ì \n\n- **ëª¨ìˆœ ë°œìƒ ì‹œ ì¼ê´€ëœ í•´ì„ ê¸°ì¤€ ì œê³µ**: ì—¬ëŸ¬ ë¬¸ì„œê°€ ë™ì¼í•œ ê°œë…ì„ ë‹¤ë£° ë•Œ, ì–´ë–¤ ë¬¸ì„œê°€ ë” ê¶Œìœ„ ìˆê³  ìš°ì„ ì ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•˜ëŠ”ì§€ë¥¼ ëª…ì‹œí•˜ì—¬, êµ¬í˜„ì, ê²€ì¦ì, ì‚¬ìš©ì ëª¨ë‘ê°€ ë™ì¼í•œ ê¸°ì¤€ì„ ë”°ë¥¼ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n- **í‘œì¤€ì˜ ì¼ê´€ì„± ìœ ì§€**: TCGëŠ” ì—¬ëŸ¬ í‘œì¤€ ë¬¸ì„œë¥¼ ë°œí–‰í•˜ë©°, ì´ë“¤ì´ ì„œë¡œ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìš°ì„ ìˆœìœ„ë¥¼ ëª…ì‹œí•¨ìœ¼ë¡œì¨ í‘œì¤€ì˜ ì¼ê´€ì„±ê³¼ ì‹ ë¢°ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n- **3ë‹¨ê³„ ìš°ì„ ìˆœìœ„ ì²´ê³„**:\n  1. **ì´ ë¬¸ì„œ (TCG Storage Opal SSC v2.30)** â†’ ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„\n  2. **ê°œë°œ ì¤‘ì¸ ì°¸ì¡° ë¬¸ì„œ (References under development)** â†’ ì´ ë¬¸ì„œì— ëœ ìš°ì„ \n  3. **ìŠ¹ì¸ëœ ì°¸ì¡° ë¬¸ì„œ (Approved references)** â†’ ê°€ì¥ ë‚®ì€ ìš°ì„ ìˆœìœ„\n\n- **í•˜ìœ„ ë¬¸ì„œë„ ìì²´ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•  ìˆ˜ ìˆìŒ**: ê° ê°œë°œ ì¤‘ì¸ ë¬¸ì„œë‚˜ ìŠ¹ì¸ëœ ë¬¸ì„œëŠ” **ìì‹ ì˜ í•˜ìœ„ ë¬¸ì„œë“¤ì— ëŒ€í•´ ë‹¤ì‹œ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•  ìˆ˜ ìˆìŒ**.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\nì´ ì„¹ì…˜ì€ **ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŒ**.  \nì¦‰, ì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ê°„ì˜ ìš°ì„ ìˆœìœ„ ì •ì±…**ì— ëŒ€í•œ ì„¤ëª…ì´ë©°, ì‹¤ì œ ë°ì´í„° í˜•ì‹, í…Œì´ë¸”, ë°”ì´íŠ¸ êµ¬ì¡° ë“±ì€ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nâ†’ **ë°ì´í„° êµ¬ì¡°: ì—†ìŒ**\n\n---\n\n## ğŸ“‹ ìš”êµ¬ì‚¬í•­\n\n- ë¬¸ì„œ ê°„ ì¶©ëŒì´ ë°œìƒí•˜ë©´, **ì´ ë¬¸ì„œ(TCG Storage Opal SSC v2.30)ê°€ ìš°ì„  ì ìš©**ë˜ì–´ì•¼ í•¨.\n- ë‹¤ë¥¸ ë¬¸ì„œ(ê°œë°œ ì¤‘ ë˜ëŠ” ìŠ¹ì¸ëœ ë¬¸ì„œ)ì˜ ë‚´ìš©ì´ ì´ ë¬¸ì„œì™€ ì¶©ëŒí•  ê²½ìš°, **ì´ ë¬¸ì„œì˜ ë‚´ìš©ì„ ë”°ë¼ì•¼ í•¨**.\n- ê°œë°œ ì¤‘ì¸ ë¬¸ì„œë‚˜ ìŠ¹ì¸ëœ ë¬¸ì„œëŠ” **ìì‹ ì˜ í•˜ìœ„ ë¬¸ì„œì— ëŒ€í•´ ìš°ì„ ìˆœìœ„ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŒ**.\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•˜ì§€ ì•ŠìŒ**.  \në³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **Opal ì €ì¥ì¥ì¹˜ì˜ ì•”í˜¸í™”, ì„¸ì…˜ ê´€ë¦¬, ì ‘ê·¼ ì œì–´, ì¸ì¦ ë“±**ì— í•´ë‹¹í•˜ëŠ” í›„ì† ì„¹ì…˜ì—ì„œ ë‹¤ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\nâ†’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜: ì—†ìŒ**\n\n---\n\n## âœ… Test Case ì œì‹œ\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ìš°ì„ ìˆœìœ„ ì •ì±…**ì„ ë‹¤ë£¨ë©°, **ê¸°ìˆ ì  êµ¬í˜„ì´ë‚˜ ëª…ë ¹ì–´ ì‚¬ìš©ê³¼ ì§ì ‘ì ì¸ ì—°ê´€ì´ ì—†ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ, **ì‹¤ì œ TCG Opal ëª…ë ¹ì–´(StartSession, Revert ë“±)ë‚˜ í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì„ í†µí•´ ê²€ì¦í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ê´€ë¦¬ ì •ì±…**ì— í•´ë‹¹í•˜ë¯€ë¡œ, ê²€ì¦ì€ ë‹¤ìŒê³¼ ê°™ì´ **ë¬¸ì„œ ê°„ ì¶©ëŒ ì‹œì˜ í•´ì„ ì¼ê´€ì„±**ì„ í™•ì¸í•˜ëŠ” **ë¹„ê¸°ìˆ ì  ê²€ì¦**ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª ê²€ì¦ ë°©ë²• (ì´ë¡ ì /ë¹„ê¸°ìˆ ì )\n\n### âœ… Test Case 1: ë¬¸ì„œ ì¶©ëŒ ì‹œ ìš°ì„ ìˆœìœ„ ì ìš© ê²€ì¦\n\n> **ê°€ì •**: Opal SSC v2.30 ë¬¸ì„œì™€ ë‹¤ë¥¸ TCG ë¬¸ì„œ(ì˜ˆ: TCG Opal v2.0)ê°€ ë™ì¼í•œ ëª…ë ¹ì–´ì˜ íŒŒë¼ë¯¸í„° ì •ì˜ì—ì„œ ì¶©ëŒ ë°œìƒ (ì˜ˆ: `StartSession`ì˜ ì¸ì ìˆ˜)\n\n> **ê²€ì¦ ê³¼ì •**:\n> 1. ë‘ ë¬¸ì„œë¥¼ ë¹„êµí•˜ì—¬ ì¶©ëŒ ì—¬ë¶€ í™•ì¸.\n> 2. ì¶©ëŒì´ ë°œìƒí•˜ë©´, **Opal SSC v2.30 ë¬¸ì„œë¥¼ ìš°ì„  ì ìš©**í•˜ë„ë¡ êµ¬í˜„ ë˜ëŠ” í•´ì„.\n> 3. êµ¬í˜„ëœ ì‹œìŠ¤í…œì´ë‚˜ ë¬¸ì„œ í•´ì„ì´ Opal SSC v2.30ì˜ ì •ì˜ë¥¼ ë”°ë¥´ëŠ”ì§€ í™•ì¸.\n\n> **ê¸°ëŒ€ ê²°ê³¼**: ì¶©ëŒ ì‹œ Opal SSC v2.30ì˜ ì •ì˜ê°€ ìš°ì„  ì ìš©ë¨.\n\n---\n\n## ğŸ’¡ Python + pytest ì˜ˆì‹œ (ì´ë¡ ì  ê²€ì¦ìš©)\n\nì´ ì„¹ì…˜ì€ **ì‹¤ì œ ì½”ë“œë¡œ ê²€ì¦í•  ìˆ˜ ì—†ëŠ” ë¬¸ì„œ ì •ì±…**ì´ë¯€ë¡œ, **ê°€ìƒì˜ ë¬¸ì„œ í•´ì„ ê²€ì¦ ë¡œì§**ì„ ì˜ˆì‹œë¡œ ì œì‹œí•©ë‹ˆë‹¤.\n\n```python\n# test_document_precedence.py\n\nimport pytest\n\nclass Document:\n    def __init__(self, name, version, status):\n        self.name = name\n        self.version = version\n        self.status = status  # 'developing', 'approved'\n\n    def get_precedence(self):\n        if self.name == \"TCG Storage Opal SSC v2.30\":\n            return 1  # ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„\n        elif self.status == \"developing\":\n            return 2\n        elif self.status == \"approved\":\n            return 3\n        else:\n            return 99  # unknown\n\ndef resolve_conflict(doc1, doc2):\n    \"\"\"ë‘ ë¬¸ì„œ ê°„ ì¶©ëŒ ì‹œ ìš°ì„ ìˆœìœ„ ë†’ì€ ë¬¸ì„œë¥¼ ë°˜í™˜\"\"\"\n    p1 = doc1.get_precedence()\n    p2 = doc2.get_precedence()\n    return doc1 if p1 < p2 else doc2\n\n@pytest.mark.parametrize(\"doc1_name, doc1_status, doc2_name, doc2_status, expected_winner\",\n                         [\n                             (\"TCG Storage Opal SSC v2.30\", None, \"Opal v2.0\", \"approved\", \"TCG Storage Opal SSC v2.30\"),\n                             (\"Opal v2.0\", \"developing\", \"TCG Storage Opal SSC v2.30\", None, \"TCG Storage Opal SSC v2.30\"),\n                             (\"Opal v2.0\", \"approved\", \"Opal v2.1\", \"developing\", \"Opal v2.1\"),\n                         ])\ndef test_document_precedence(doc1_name, doc1_status, doc2_name, doc2_status, expected_winner):\n    doc1 = Document(doc1_name, \"v2.30\", doc1_status)\n    doc2 = Document(doc2_name, \"v2.0\", doc2_status)\n    winner = resolve_conflict(doc1, doc2)\n    assert winner.name == expected_winner, f\"Expected {expected_winner}, got {winner.name}\"\n\nif __name__ == \"__main__\":\n    pytest.main([__file__])\n```\n\n> âœ… ì´ í…ŒìŠ¤íŠ¸ëŠ” **ë¬¸ì„œ ìš°ì„ ìˆœìœ„ ì •ì±…ì´ ì œëŒ€ë¡œ ì ìš©ë˜ëŠ”ì§€**ë¥¼ ê°€ìƒì˜ ë¬¸ì„œ ê°ì²´ë¥¼ í†µí•´ ê²€ì¦í•©ë‹ˆë‹¤.  \n> ì‹¤ì œ í•˜ë“œì›¨ì–´ë‚˜ TCG Opal ëª…ë ¹ì–´ì™€ëŠ” ë¬´ê´€í•˜ë©°, **ë¬¸ì„œ ê´€ë¦¬ ì •ì±…ì˜ ì¼ê´€ì„±**ì„ ê²€ì¦í•˜ëŠ” ì˜ˆì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nì´ ì„¹ì…˜ì€ **í…Œì´ë¸” ë°ì´í„°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠìŒ**.  \nâ†’ **í…Œì´ë¸” ë°ì´í„° ê²€ì¦: ì—†ìŒ**\n\n---\n\n## âœ… ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ **ë¬¸ì„œ ê´€ë¦¬ ì •ì±…**ì— ê´€í•œ ê²ƒìœ¼ë¡œ,  \n- **ì‹¤ì œ ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, TCG ëª…ë ¹ì–´ ì‚¬ìš©ê³¼ ë¬´ê´€**  \n- **ê²€ì¦ì€ ë¬¸ì„œ ê°„ ì¶©ëŒ ì‹œ í•´ì„ ì¼ê´€ì„±**ì„ í™•ì¸í•˜ëŠ” ë¹„ê¸°ìˆ ì  ê²€ì¦ í•„ìš”  \n- **Python í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê°€ìƒì˜ ë¬¸ì„œ ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ ì •ì±…ì„ ê²€ì¦**\n\n---\n\n## âœ… ìµœì¢… ì¶œë ¥\n\n**ë‚´ìš©ì—†ìŒ**  \nâ†’ **ì´ ì„¹ì…˜ì€ ë¬¸ì„œ ìš°ì„ ìˆœìœ„ ì •ì±…ì„ ì„¤ëª…í•˜ë©°, TCG Opal ëª…ë ¹ì–´, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, í…Œì´ë¸” ë°ì´í„°ì™€ ì§ì ‘ì ì¸ ì—°ê´€ì´ ì—†ìŒ. ë”°ë¼ì„œ ì‹¤ì œ ê¸°ìˆ ì  ê²€ì¦ì€ ë¶ˆê°€ëŠ¥í•˜ë©°, ì´ë¡ ì  ë¬¸ì„œ ì¼ê´€ì„± ê²€ì¦ë§Œ ê°€ëŠ¥í•¨.**\n\n---\n\n> ğŸ“ ì°¸ê³ : ì‹¤ì œ TCG Opal êµ¬í˜„ ë° ê²€ì¦ì€ **ì„¹ì…˜ 4 (Command Set), 5 (Data Structures), 6 (Security Mechanisms)** ë“±ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ ê·¸ ì „ì œ ì¡°ê±´ì¸ **ë¬¸ì„œ ì¼ê´€ì„± ì •ì±…**ì„ ì •ì˜í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 15,
        "level": 3,
        "section_id": "1.4.2",
        "section_key": "1.4.2 Approved References",
        "title": "Approved References",
        "start_page": 14,
        "end_page": 15,
        "page_count": 2,
        "content_md": "### 1.4.2 Approved References\n\n[1]. IETF RFC 2119, 1997, â€œKey words for use in RFCs to Indicate Requirement Levelsâ€\n\n[2]. Trusted Computing Group (TCG), â€œTCG Storage Architecture Core Specificationâ€, Version 2.01\n\n[3]. NIST, FIPS-197, 2001, â€œAdvanced Encryption Standard (AES)â€\n[4]. Trusted Computing Group (TCG), â€œTCG Storage Interface Interactions Specificationâ€, Version 1.11  \n[5]. Trusted Computing Group (TCG), â€œTCG Storage Security Subsystem Class: Opalâ€, Versions 1.00, 2.00, 2.01, 2.02  \n[6]. Trusted Computing Group (TCG), â€œTCG Storage Opal Family Feature Set: Additional DataStore Tablesâ€, Version 1.01  \n[7]. Trusted Computing Group (TCG), â€œTCG Storage Opal SSC Feature Set: PSIDâ€, Version 1.00  \n[8]. Trusted Computing Group (TCG), â€œTCG Storage Feature Set: Block SID Authenticationâ€, Version 1.01",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 1.4.2 - Approved References**\n\n---\n\n### ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ TCG Storage Opal SSC v2.30 ë¬¸ì„œì—ì„œ ì°¸ê³ í•˜ê³  ìˆëŠ” **ê³µì‹ì ì¸ ì™¸ë¶€ ì‚¬ì–‘ ë° í‘œì¤€ ë¬¸ì„œ ëª©ë¡**ì„ ì œì‹œí•©ë‹ˆë‹¤. ì´ ëª©ë¡ì€ Opal ë³´ì•ˆ ìŠ¤í™ì´ ì–´ë–¤ ê¸°ì¤€ê³¼ í‘œì¤€ ìœ„ì— êµ¬ì¶•ë˜ì—ˆëŠ”ì§€ë¥¼ ëª…í™•íˆ í•˜ë©°, ë³´ì•ˆì„±, í˜¸í™˜ì„±, ì¼ê´€ì„±ì„ ë³´ì¥í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì´ ë¬¸ì„œëŠ” ë‹¨ìˆœíˆ \"ì°¸ê³  ë¬¸í—Œ\" ëª©ë¡ì„ ë‚˜ì—´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **TCG Opal ìŠ¤í™ì´ ì–´ë–»ê²Œ ì„¤ê³„ë˜ì—ˆëŠ”ì§€, ì–´ë–¤ ì•”í˜¸í™” ê¸°ìˆ ê³¼ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ”ì§€**, ê·¸ë¦¬ê³  **ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì„ ì–´ë–»ê²Œ ì •ì˜í•˜ê³  ìˆëŠ”ì§€**ë¥¼ ì´í•´í•˜ëŠ” ë° í•„ìˆ˜ì ì¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” ì„¹ì…˜ ë¶„ì„: 1.4.2 Approved References\n\n---\n\n### âœ… ëª©ì \n\n- **ê¸°ì¤€ ë¬¸ì„œì˜ ëª…í™•í•œ ì§€ì •**: Opal ìŠ¤í™ì´ ê¸°ë°˜í•˜ëŠ” ì™¸ë¶€ í‘œì¤€(ì˜ˆ: RFC, FIPS, TCG ë‚´ë¶€ ì‚¬ì–‘)ì„ ëª…ì‹œí•˜ì—¬, êµ¬í˜„ì ë° ê²€ì¦ìë“¤ì´ ë™ì¼í•œ ê¸°ì¤€ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ í•¨.\n- **ë³´ì•ˆ ë° í˜¸í™˜ì„± ë³´ì¥**: ê° ì°¸ì¡° ì‚¬ì–‘ì€ ë³´ì•ˆì„±, ì•”í˜¸í™” ê°•ë„, ì¸í„°í˜ì´ìŠ¤ ì¼ê´€ì„± ë“±ì„ ë³´ì¥í•˜ë¯€ë¡œ, ì´ë¥¼ ì¤€ìˆ˜í•˜ë©´ ì œí’ˆ ê°„ í˜¸í™˜ì„±ê³¼ ë³´ì•ˆì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŒ.\n- **ë²•ì /í‘œì¤€ì  ì‹ ë¢°ì„± í™•ë³´**: íŠ¹íˆ FIPS-197(AES)ì™€ ê°™ì€ ì •ë¶€/êµ­ì œ í‘œì¤€ì„ ì°¸ì¡°í•¨ìœ¼ë¡œì¨, ì œí’ˆì˜ ë³´ì•ˆì„±ì´ ê³µì‹ì ìœ¼ë¡œ ì¸ì •ë°›ì„ ìˆ˜ ìˆìŒ.\n\n---\n\n### ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n- **ì•”í˜¸í™” ê¸°ë°˜ ì •ì˜**: AES(Advanced Encryption Standard)ëŠ” ë°ì´í„° ì•”í˜¸í™”ì— ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, Opalì—ì„œ ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” í•µì‹¬ ê¸°ë°˜.\n- **í”„ë¡œí† ì½œ ë° ì¸í„°í˜ì´ìŠ¤ ì •ì˜**: TCG Storage Architecture Core Specê³¼ Interface Interactions Specì€ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ ê°„ì˜ í†µì‹  ë°©ì‹, ëª…ë ¹ì–´ êµ¬ì¡°, ì—ëŸ¬ ì²˜ë¦¬ ë“±ì„ ì •ì˜.\n- **ë³´ì•ˆ ê¸°ëŠ¥ í™•ì¥ ì •ì˜**: Opal SSC Feature Set(ì˜ˆ: PSID, Block SID Authentication)ì€ ê³ ê¸‰ ë³´ì•ˆ ê¸°ëŠ¥(ì˜ˆ: ë¬¼ë¦¬ì  ë³´ì•ˆ ID, ë¸”ë¡ ìˆ˜ì¤€ ì¸ì¦)ì„ ì •ì˜í•˜ì—¬ ë³´ì•ˆ ê°•ë„ë¥¼ ë†’ì„.\n- **í…Œì´ë¸” êµ¬ì¡° ì •ì˜**: Additional DataStore TablesëŠ” ë””ìŠ¤í¬ì— ì €ì¥ë˜ëŠ” ë³´ì•ˆ ê´€ë ¨ ë©”íƒ€ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•¨ (ì˜ˆ: ì‚¬ìš©ì ì •ë³´, ì•”í˜¸í™” í‚¤, ì •ì±… ë“±).\n\n---\n\n### ğŸ“Š ë°ì´í„° êµ¬ì¡°\n\nì´ ì„¹ì…˜ ìì²´ëŠ” **ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŒ**. í•˜ì§€ë§Œ ì°¸ì¡°í•˜ê³  ìˆëŠ” ë¬¸ì„œë“¤(íŠ¹íˆ [5], [6], [7], [8])ì€ ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:\n\n- **Opal í…Œì´ë¸” (DataStore Tables)**: ì‚¬ìš©ì, ì•”í˜¸, ì•¡ì„¸ìŠ¤ ì •ì±…, í‚¤ ì •ë³´ ë“±ì„ í¬í•¨í•˜ëŠ” êµ¬ì¡°í™”ëœ í…Œì´ë¸”.\n- **PSID (Physical Security ID)**: ë¬¼ë¦¬ì  ë””ìŠ¤í¬ ê³ ìœ  IDë¡œ, ë³´ì•ˆ ì •ì±…ì˜ ê¸°ì¤€ì´ ë¨.\n- **Block SID (Security ID)**: ë¸”ë¡ ìˆ˜ì¤€ ì¸ì¦ì„ ìœ„í•œ ê³ ìœ  ì‹ë³„ì.\n\n> ì˜ˆ: `Additional DataStore Tables` (ì°¸ì¡° [6])ëŠ” ì‚¬ìš©ì í…Œì´ë¸”, ì•”í˜¸í™” í‚¤ í…Œì´ë¸”, ì•¡ì„¸ìŠ¤ ì •ì±… í…Œì´ë¸” ë“±ì„ ì •ì˜í•˜ë©°, ê° í…Œì´ë¸”ì€ ê³ ìœ í•œ í‚¤ì™€ í•„ë“œë¡œ êµ¬ì„±ë¨.\n\n---\n\n### ğŸ› ï¸ ìš”êµ¬ì‚¬í•­\n\n1. **ì•”í˜¸í™” ìš”êµ¬ì‚¬í•­**: FIPS-197(AES)ì— ë”°ë¼ 128/256ë¹„íŠ¸ AES ì•”í˜¸í™”ê°€ ìš”êµ¬ë¨ â†’ ë³´ì•ˆ ê°•ë„ ë³´ì¥.\n2. **ì¸í„°í˜ì´ìŠ¤ ìš”êµ¬ì‚¬í•­**: TCG Storage Architecture Core Specê³¼ Interface Interactions Specì— ë”°ë¼ ëª…ë ¹ì–´ ì „ë‹¬ ë°©ì‹, ì—ëŸ¬ ì½”ë“œ, ì„¸ì…˜ ê´€ë¦¬ ë°©ì‹ì´ í‘œì¤€í™”ë¨.\n3. **ë³´ì•ˆ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**: Opal SSC Feature Setì— ë”°ë¼ PSID, Block SID Authentication ë“± ê³ ê¸‰ ë³´ì•ˆ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ì•¼ í•¨.\n4. **í˜¸í™˜ì„± ìš”êµ¬ì‚¬í•­**: ëª¨ë“  ì°¸ì¡° ì‚¬ì–‘ì˜ ë²„ì „ì„ ëª…ì‹œí•¨ìœ¼ë¡œì¨, êµ¬í˜„ ì‹œ íŠ¹ì • ë²„ì „ì„ ì¤€ìˆ˜í•´ì•¼ í•¨ (ì˜ˆ: Opal v2.02).\n\n---\n\n### ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **AES ì•”í˜¸í™”**: ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ë¬´ë‹¨ ì ‘ê·¼ ë°©ì§€.\n- **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: StartSession ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¸ì¦ëœ ì„¸ì…˜ì„ ìƒì„± â†’ ë³´ì•ˆ ëª…ë ¹ ì‹¤í–‰ ê°€ëŠ¥.\n- **PSID ê¸°ë°˜ ë³´ì•ˆ ì •ì±…**: ë””ìŠ¤í¬ ê³ ìœ ì˜ PSIDë¡œ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•˜ê³  ê´€ë¦¬ â†’ ë¬¼ë¦¬ì  ë””ìŠ¤í¬ ë³´ì•ˆ.\n- **ë¸”ë¡ ìˆ˜ì¤€ ì¸ì¦**: Block SID Authenticationì„ í†µí•´ íŠ¹ì • ë¸”ë¡ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œì–´ â†’ ë¯¸ì„¸í•œ ê¶Œí•œ ê´€ë¦¬.\n- **ëª…ë ¹ì–´ ì¸í„°í˜ì´ìŠ¤ ë³´ì•ˆ**: TCG ì¸í„°í˜ì´ìŠ¤ ì‚¬ì–‘ì— ë”°ë¼ ëª…ë ¹ì–´ê°€ ë³´ì•ˆëœ ë°©ì‹(ì˜ˆ: ì•”í˜¸í™”ëœ ì„¸ì…˜ ë‚´)ìœ¼ë¡œ ì „ë‹¬ë¨.\n\n---\n\n## ğŸ§ª ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\n> ì´ ì„¹ì…˜ì€ **ì°¸ì¡° ë¬¸ì„œ ëª©ë¡**ì´ë¯€ë¡œ, ì§ì ‘ì ì¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì—†ì§€ë§Œ, **ì°¸ì¡°í•˜ëŠ” ì‚¬ì–‘ë“¤ì— ê¸°ë°˜í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ë¥¼ ì œì‹œí•  ìˆ˜ ìˆìŒ.\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: AES ì•”í˜¸í™” ì ìš© ê²€ì¦ (FIPS-197 ê¸°ë°˜)\n\n**ëª©ì **: ë””ìŠ¤í¬ê°€ AES-256 ì•”í˜¸í™”ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ”ì§€ ê²€ì¦.\n\n**ë°©ë²•**:\n- `StartSession` í›„ `SetSecurityState`ë¡œ ì•”í˜¸í™” ìƒíƒœ ì „í™˜.\n- `Read` ëª…ë ¹ì–´ë¡œ ë°ì´í„° ì½ê¸° â†’ ì•”í˜¸í™”ëœ ë°ì´í„° ì¶œë ¥ í™•ì¸.\n- í…ŒìŠ¤íŠ¸ í›„ `Revert`ë¡œ ì›ë˜ ìƒíƒœ ë³µêµ¬.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\nimport pytest\nfrom opal_interface import OpalDevice  # ê°€ìƒì˜ Opal ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sda\")\n    device.initialize()\n    yield device\n    device.revert()  # í…ŒìŠ¤íŠ¸ í›„ ë³µêµ¬\n\ndef test_aes_encryption_enabled(opal_device):\n    # ì„¸ì…˜ ì‹œì‘\n    assert opal_device.start_session(\"admin_password\") == 0\n\n    # ì•”í˜¸í™” ìƒíƒœ ì„¤ì • (ì˜ˆ: Full Encryption)\n    assert opal_device.set_security_state(\"Full\") == 0\n\n    # ë°ì´í„° ì½ê¸° ì‹œ ì•”í˜¸í™”ëœ ìƒíƒœ í™•ì¸ (ì˜ˆ: ë¹„ì •ìƒì ì¸ ê°’ ì¶œë ¥)\n    raw_data = opal_device.read_block(0, 512)\n    assert len(raw_data) == 512\n    assert not all(b == 0 for b in raw_data)  # ëª¨ë‘ 0ì´ ì•„ë‹ˆë¼ë©´ ì•”í˜¸í™”ëœ ë°ì´í„°ë¡œ ê°„ì£¼\n\n    # ì„¸ì…˜ ì¢…ë£Œ ë° ë³µêµ¬\n    opal_device.end_session()\n```\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: PSID ê¸°ë°˜ ë³´ì•ˆ ì •ì±… ê²€ì¦ (TCG Opal SSC PSID Feature Set)\n\n**ëª©ì **: ë””ìŠ¤í¬ì˜ PSIDê°€ ê³ ìœ í•˜ë©°, ë³´ì•ˆ ì •ì±…ì´ PSID ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ì§€ ê²€ì¦.\n\n**ë°©ë²•**:\n- `GetPSID` ëª…ë ¹ì–´ë¡œ PSID ê°€ì ¸ì˜¤ê¸°.\n- PSIDê°€ ê³ ìœ í•œì§€ í™•ì¸ (ì˜ˆ: ë‹¤ë¥¸ ë””ìŠ¤í¬ì™€ ë¹„êµ).\n- PSIDë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •ì±… ì„¤ì • í›„, ë‹¤ë¥¸ PSIDë¡œ ì ‘ê·¼ ì‹œ ì‹¤íŒ¨ í™•ì¸.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\ndef test_psid_uniqueness_and_policy(opal_device):\n    psid1 = opal_device.get_psid()\n    assert len(psid1) == 16  # ì˜ˆ: 16ìë¦¬ hex string\n\n    # ë‹¤ë¥¸ ë””ìŠ¤í¬ì—ì„œ PSID ê°€ì ¸ì˜¤ê¸° (ê°€ìƒ í…ŒìŠ¤íŠ¸)\n    psid2 = \"DEADBEEFDEADBEEF\"  # ë‹¤ë¥¸ ë””ìŠ¤í¬ PSID\n    assert psid1 != psid2\n\n    # PSID ê¸°ë°˜ ì •ì±… ì„¤ì •\n    assert opal_device.set_access_policy(psid=psid1, user=\"admin\", access=\"read-write\") == 0\n\n    # ë‹¤ë¥¸ PSIDë¡œ ì ‘ê·¼ ì‹œ ì‹¤íŒ¨\n    with pytest.raises(Exception) as exc_info:\n        opal_device.set_access_policy(psid=psid2, user=\"admin\", access=\"read-write\")\n    assert \"Invalid PSID\" in str(exc_info.value)\n```\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (Additional DataStore Tables)\n\n**ëª©ì **: ì‚¬ìš©ì í…Œì´ë¸”, ì•”í˜¸ í…Œì´ë¸” ë“±ì´ ì˜¬ë°”ë¥´ê²Œ ì €ì¥ë˜ê³  ì½íˆëŠ”ì§€ ê²€ì¦.\n\n**ë°©ë²•**:\n- `CreateUser` ëª…ë ¹ì–´ë¡œ ì‚¬ìš©ì ìƒì„±.\n- `GetUserTable` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” ì½ê¸°.\n- ìƒì„±í•œ ì‚¬ìš©ìê°€ í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\ndef test_user_table_integrity(opal_device):\n    assert opal_device.start_session(\"admin_password\") == 0\n\n    # ì‚¬ìš©ì ìƒì„±\n    user_id = \"USER123\"\n    password = \"secure_password\"\n    assert opal_device.create_user(user_id, password) == 0\n\n    # ì‚¬ìš©ì í…Œì´ë¸” ì½ê¸°\n    user_table = opal_device.get_user_table()\n\n    # ìƒì„±í•œ ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n    assert user_id in user_table\n    assert user_table[user_id][\"status\"] == \"enabled\"\n\n    # ì„¸ì…˜ ì¢…ë£Œ\n    opal_device.end_session()\n```\n\n---\n\n## ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n1. **í…Œì´ë¸” êµ¬ì¡° í™•ì¸**: Opal ì‚¬ì–‘ì„œ([6])ì— ì •ì˜ëœ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆì™€ ë¹„êµ.\n   - ì˜ˆ: ì‚¬ìš©ì í…Œì´ë¸” â†’ `userID`, `passwordHash`, `accessLevel`, `enabled` ë“± í•„ë“œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸.\n2. **í•„ë“œ ê°’ ê²€ì¦**: ìƒì„±/ìˆ˜ì •í•œ ê°’ì´ í…Œì´ë¸”ì— ì •í™•íˆ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n3. **ì •ì±… ì¼ê´€ì„± ê²€ì¦**: ì•¡ì„¸ìŠ¤ ì •ì±… í…Œì´ë¸”ì—ì„œ ì„¤ì •ëœ ê¶Œí•œì´ ì‹¤ì œ ì•¡ì„¸ìŠ¤ì— ë°˜ì˜ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸.\n4. **ì˜¤ë¥˜ ì²˜ë¦¬ ê²€ì¦**: ì˜ëª»ëœ í…Œì´ë¸” êµ¬ì¡° ë˜ëŠ” í•„ë“œ ê°’ ì…ë ¥ ì‹œ ì—ëŸ¬ ì½”ë“œ í™•ì¸.\n\n---\n\n## âœ… ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í™ì´ ì–´ë–¤ í‘œì¤€ê³¼ ì‚¬ì–‘ ìœ„ì— ì„¤ê³„ë˜ì—ˆëŠ”ì§€ë¥¼ ëª…í™•íˆ í•˜ëŠ” í•µì‹¬ ì°¸ì¡° ëª©ë¡**ì…ë‹ˆë‹¤. ì´ˆë³´ìì—ê²ŒëŠ” \"ì´ ë¬¸ì„œëŠ” ì–´ë–¤ ê¸°ì¤€ì„ ë”°ë¥´ëŠ”ì§€\"ë¥¼ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•˜ë©°, **ì‹¤ì œ êµ¬í˜„ ë° ê²€ì¦ ì‹œì—ëŠ” ì°¸ì¡° ë¬¸ì„œë“¤([3], [5], [6] ë“±)ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤**.\n\n---\n\nâœ… **ìš”ì•½**:  \n- **ëª©ì **: í‘œì¤€ ë° ì‚¬ì–‘ ì°¸ì¡° â†’ ì¼ê´€ì„±, ë³´ì•ˆì„±, í˜¸í™˜ì„± í™•ë³´  \n- **ì£¼ìš” ê¸°ëŠ¥**: AES ì•”í˜¸í™”, ì„¸ì…˜ ì¸ì¦, PSID/ë¸”ë¡ ì¸ì¦, í…Œì´ë¸” ê¸°ë°˜ ì •ì±… ê´€ë¦¬  \n- **ë°ì´í„° êµ¬ì¡°**: ì°¸ì¡° ë¬¸ì„œì—ì„œ ì •ì˜ (ì˜ˆ: ì‚¬ìš©ì í…Œì´ë¸”, PSID, Block SID)  \n- **ìš”êµ¬ì‚¬í•­**: FIPS-197, TCG ì¸í„°í˜ì´ìŠ¤, Opal SSC Feature Set ì¤€ìˆ˜  \n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: AES ì•”í˜¸í™”, ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦, PSID ê¸°ë°˜ ì •ì±…, ë¸”ë¡ ìˆ˜ì¤€ ì¸ì¦  \n- **ê²€ì¦ ë°©ë²•**: Python + pytestë¡œ StartSession, Revert, GetUserTable ë“± ëª…ë ¹ì–´ ê¸°ë°˜ í…ŒìŠ¤íŠ¸  \n\n---\n\n> âš ï¸ ì°¸ê³ : ì´ ì„¹ì…˜ ìì²´ëŠ” í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì•„ë‹˜. **ì°¸ì¡° ë¬¸ì„œë“¤**ì´ ì‹¤ì œ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ë©°, ì´ ì„¹ì…˜ì€ ê·¸ë“¤ì˜ ì¡´ì¬ë¥¼ ê³µì‹í™”í•˜ëŠ” ì—­í• .\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ì„¹ì…˜: 1.4.2 - Approved References**\n\n**ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ì„¤ëª… ì™„ë£Œ**  \n**Test Case ì œì‹œ ì™„ë£Œ (Python + pytest, TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ í¬í•¨)**\n\n---"
    },
    {
        "section_order": 16,
        "level": 3,
        "section_id": "1.4.3",
        "section_key": "1.4.3 References Under Development",
        "title": "References Under Development",
        "start_page": 15,
        "end_page": 15,
        "page_count": 1,
        "content_md": "## 1.4.3 References Under Development  \nThis specification does not have any references under development.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.4.3 References Under Development  \nThis specification does not have any references under development."
    },
    {
        "section_order": 17,
        "level": 2,
        "section_id": "1.5",
        "section_key": "1.5 Dependencies on Other Feature Sets",
        "title": "Dependencies on Other Feature Sets",
        "start_page": 15,
        "end_page": 15,
        "page_count": 1,
        "content_md": "## 1.5 Dependencies on Other Feature Sets  \nThis specification does not depend upon any other feature sets.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.5 Dependencies on Other Feature Sets  \nThis specification does not depend upon any other feature sets."
    },
    {
        "section_order": 18,
        "level": 2,
        "section_id": "1.6",
        "section_key": "1.6 Interactions with Other Feature Sets",
        "title": "Interactions with Other Feature Sets",
        "start_page": 15,
        "end_page": 15,
        "page_count": 1,
        "content_md": "## 1.6 Interactions with Other Feature Sets  \nIn the event of conflicting information in this specification and other documents, the precedence for requirements is:  \n1. this specification;  \n2. TCG Storage Interface Interactions Specification; and  \n3. TCG Storage Architecture Core Specification.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### **ì„¹ì…˜ 1.6 - Interactions with Other Feature Sets**  \n**ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nì´ ì„¹ì…˜ì€ TCG Opal ìŠ¤í™ì´ ë‹¤ë¥¸ TCG ë¬¸ì„œë“¤ê³¼ ìƒí˜¸ì‘ìš©í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì •ë³´ ì¶©ëŒì´ë‚˜ ì¶©ëŒ ì‹œ ìš°ì„ ìˆœìœ„ë¥¼ ì •ì˜í•˜ëŠ” ê·œì¹™ì„ ì„¤ëª…í•©ë‹ˆë‹¤. ì¦‰, **TCG Opal ìŠ¤í™ê³¼ ë‹¤ë¥¸ TCG ë¬¸ì„œë“¤ ì‚¬ì´ì— ëª¨ìˆœë˜ëŠ” ë‚´ìš©ì´ ìˆì„ ê²½ìš°, ì–´ë–¤ ë¬¸ì„œì˜ ìš”êµ¬ì‚¬í•­ì´ ìš°ì„ ì ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ëª…ì‹œ**í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ **ëª©ì  (Purpose)**\n\n- TCG Opal ìŠ¤í™ì´ ë‹¤ë¥¸ TCG í‘œì¤€ë“¤ (ì˜ˆ: TCG Storage Architecture Core Specification, TCG Storage Interface Interactions Specification ë“±)ê³¼ í•¨ê»˜ ì‚¬ìš©ë  ë•Œ, **ëª¨ìˆœë˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ë°œìƒí–ˆì„ ë•Œ ì¼ê´€ì„± ìˆëŠ” ì²˜ë¦¬ë¥¼ ë³´ì¥**í•˜ê¸° ìœ„í•œ ìš°ì„ ìˆœìœ„ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n- ë‹¤ì–‘í•œ TCG ë¬¸ì„œë“¤ì´ ì„œë¡œ ë‹¤ë¥¸ ìˆ˜ì¤€ì—ì„œ ì •ì˜ëœ ê¸°ëŠ¥ì´ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í¬í•¨í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, **í•œ ê°œì˜ ì €ì¥ ì¥ì¹˜ë‚˜ ì‹œìŠ¤í…œì´ ì—¬ëŸ¬ í‘œì¤€ì„ ë™ì‹œì— ì¤€ìˆ˜í•´ì•¼ í•  ë•Œ ì¶©ëŒì„ ë°©ì§€í•˜ê³  ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\nì´ ì„¹ì…˜ ìì²´ëŠ” ê¸°ëŠ¥ì„ ì§ì ‘ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©°, **ë‹¤ë¥¸ ë¬¸ì„œë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ìš°ì„ ìˆœìœ„ ê·œì¹™**ì„ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, \"ì´ ë¬¸ì„œê°€ ë” ì¤‘ìš”í•˜ë‹¤\"ëŠ” í˜•íƒœì˜ **ì •ì±…ì  ê·œì¹™**ì„ ì œì‹œí•©ë‹ˆë‹¤.\n\n- **ìš°ì„ ìˆœìœ„ ê¸°ì¤€**:\n  1. **TCG Storage Opal SSC v2.30 (ì´ ë¬¸ì„œ)** â†’ ê°€ì¥ ìš°ì„ \n  2. **TCG Storage Interface Interactions Specification**\n  3. **TCG Storage Architecture Core Specification**\n\nì´ ìˆœì„œëŠ”, ì˜ˆë¥¼ ë“¤ì–´, Opal ìŠ¤í™ì—ì„œ ì •ì˜í•œ ì„¸ì…˜ ê´€ë¦¬ ë°©ì‹ê³¼ Storage Architecture Core ìŠ¤í™ì—ì„œ ì •ì˜í•œ ì„¸ì…˜ ë°©ì‹ì´ ë‹¤ë¥¼ ê²½ìš°, **Opal ìŠ¤í™ì˜ ë°©ì‹ì„ ë”°ë¥´ë„ë¡ ìš”êµ¬**í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ì„¹ì…˜ì—ì„œëŠ” **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°ë‚˜ í¬ë§·ì„ ì •ì˜í•˜ì§€ ì•ŠìŒ**.  \në”°ë¼ì„œ ë°ì´í„° êµ¬ì¡°ëŠ” **ë‚´ìš©ì—†ìŒ**ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- ë¬¸ì„œ ê°„ ì¶©ëŒ ë°œìƒ ì‹œ, **ì´ ë¬¸ì„œ(TCG Storage Opal SSC v2.30)ì˜ ìš”êµ¬ì‚¬í•­ì´ ìš°ì„ **ì´ë‹¤.\n- ì´ ìš”êµ¬ì‚¬í•­ì€ **ì •ì±…ì , ê·œë²”ì  ìš”êµ¬ì‚¬í•­**ì´ë©°, êµ¬í˜„ ìƒì˜ êµ¬ì²´ì ì¸ ë¡œì§ì´ë‚˜ ë°ì´í„° êµ¬ì¡°ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ.\n- ë‹¤ë¥¸ TCG ë¬¸ì„œë“¤ê³¼ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„, Opal ìŠ¤í™ì´ **ìì²´ì ì¸ ìš°ì„ ê¶Œì„ ê°–ë„ë¡ ë³´ì¥**í•œë‹¤.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- ì´ ì„¹ì…˜ì€ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ìì²´ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŒ**.\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ë‹¤ë¥¸ ì„¹ì…˜ë“¤ (ì˜ˆ: 2.1.1, 3.2 ë“±)ì—ì„œ ì„¸ì…˜ ê´€ë¦¬, ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ë“±ìœ¼ë¡œ êµ¬ì²´í™”ë¨.\n- ê·¸ëŸ¬ë‚˜ **ì´ ì„¹ì…˜ì€ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì •ì˜**í•˜ì—¬, ì˜ˆë¥¼ ë“¤ì–´, **Opal ìŠ¤í™ì´ ì •ì˜í•œ ì•”í˜¸í™” ë°©ì‹ì´ ë‹¤ë¥¸ TCG ë¬¸ì„œì˜ ë°©ì‹ë³´ë‹¤ ìš°ì„ **í•œë‹¤ëŠ” ì ì„ ë³´ì¥í•¨ìœ¼ë¡œì¨, ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.\n\nì¦‰, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì˜ **êµ¬í˜„ ë°©ì‹ì€ ë‹¤ë¥¸ ì„¹ì…˜ì—ì„œ ë‹¤ë£¨ì§€ë§Œ, ê·¸ ë°©ì‹ì˜ ìš°ì„ ìˆœìœ„ëŠ” ì´ ì„¹ì…˜ì—ì„œ ê²°ì •**ë©ë‹ˆë‹¤.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest ê¸°ë°˜)**\n\nì´ ì„¹ì…˜ì€ **êµ¬í˜„ ë¡œì§ì„ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì§ì ‘ì ì¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤.  \ní•˜ì§€ë§Œ, ì´ ì„¹ì…˜ì˜ **ì˜ë„ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ” **ê²€ì¦ ëª©í‘œ**\n\n> â€œTCG Opal ìŠ¤í™ì´ ë‹¤ë¥¸ TCG ë¬¸ì„œì™€ ì¶©ëŒí•  ë•Œ, Opal ìŠ¤í™ì´ ìš°ì„  ì ìš©ëœë‹¤â€ëŠ” ì •ì±…ì´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì˜ˆì‹œ**\n\n#### âœ… í…ŒìŠ¤íŠ¸ 1: ì„¸ì…˜ ì‹œì‘ ì‹œ, Opal ìŠ¤í™ê³¼ ë‹¤ë¥¸ TCG ë¬¸ì„œ ê°„ ì¶©ëŒ ì‹œ Opal ìŠ¤í™ ìš°ì„ \n\n- **ì „ì œ**: ì €ì¥ ì¥ì¹˜ê°€ TCG Opalê³¼ TCG Storage Architecture Core Specificationì˜ ë‘ ê°€ì§€ ê¸°ì¤€ì„ ëª¨ë‘ ì§€ì›í•˜ë©°, ì„¸ì…˜ ì‹œì‘ ë°©ì‹ì— ì°¨ì´ê°€ ìˆìŒ (ì˜ˆ: Opalì€ PIN ê¸°ë°˜, CoreëŠ” ë¹„ë°€í‚¤ ê¸°ë°˜).\n- **í–‰ë™**: `StartSession` ëª…ë ¹ì„ í†µí•´ ì„¸ì…˜ì„ ì‹œì‘.\n- **ì˜ˆìƒ ê²°ê³¼**: ì¥ì¹˜ê°€ Opal ìŠ¤í™ì˜ ë°©ì‹ (ì˜ˆ: PIN ì…ë ¥)ìœ¼ë¡œ ì„¸ì…˜ì„ ì‹œì‘í•´ì•¼ í•¨.\n- **ê²€ì¦ ë°©ë²•**: ì„¸ì…˜ ì‹œì‘ í›„, ì¥ì¹˜ê°€ ì–´ë–¤ ì¸ì¦ ë°©ì‹ì„ ì‚¬ìš©í–ˆëŠ”ì§€ ë¡œê·¸/ì‘ë‹µì„ í†µí•´ í™•ì¸.\n\n#### âœ… í…ŒìŠ¤íŠ¸ 2: Revert ëª…ë ¹ ì‹¤í–‰ ì‹œ, Opal ìŠ¤í™ì˜ ë™ì‘ ìš°ì„ \n\n- **ì „ì œ**: Opal ìŠ¤í™ì€ `Revert` ëª…ë ¹ì´ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ë„ ê°€ëŠ¥í•˜ë„ë¡ ì •ì˜í–ˆì§€ë§Œ, ë‹¤ë¥¸ TCG ë¬¸ì„œëŠ” ë¹„ë°€ë²ˆí˜¸ í•„ìš”ë¡œ ì •ì˜.\n- **í–‰ë™**: `Revert` ëª…ë ¹ ì‹¤í–‰.\n- **ì˜ˆìƒ ê²°ê³¼**: Opal ìŠ¤í™ì— ë”°ë¼ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì„±ê³µ.\n- **ê²€ì¦ ë°©ë²•**: ëª…ë ¹ ì‹¤í–‰ í›„ ì‘ë‹µ ì½”ë“œ í™•ì¸ (ì„±ê³µ ì½”ë“œ ë°˜í™˜ ì—¬ë¶€).\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_command import OpalCommand  # ê°€ìƒì˜ Opal ëª…ë ¹ ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_device import OpalDevice  # ê°€ìƒì˜ ì¥ì¹˜ ëª¨ë“ˆ\n\n@pytest.fixture\ndef device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ì œê³µ\"\"\"\n    return OpalDevice()\n\n@pytest.mark.parametrize(\"command, expected_response\", [\n    (\"StartSession\", \"SESSION_STARTED_WITH_PIN\"),\n    (\"Revert\", \"REVERT_SUCCESS\"),\n])\ndef test_opal_precedence(device, command, expected_response):\n    \"\"\"Opal ìŠ¤í™ì´ ë‹¤ë¥¸ TCG ë¬¸ì„œë³´ë‹¤ ìš°ì„  ì ìš©ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    # ì¥ì¹˜ê°€ ì¶©ëŒ ìƒí™©ì— ìˆìŒì„ ê°€ì • (ì˜ˆ: ë‹¤ë¥¸ ìŠ¤í™ì€ ë¹„ë°€ë²ˆí˜¸ í•„ìš”, Opalì€ í•„ìš” ì—†ìŒ)\n    device.simulate_conflict_mode()\n\n    # ëª…ë ¹ ì‹¤í–‰\n    response = device.execute_command(command)\n\n    # Opal ìŠ¤í™ì˜ ë™ì‘ì´ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ ê²€ì¦\n    assert response == expected_response, f\"Expected {expected_response}, but got {response}\"\n\n    # ë¡œê·¸ ê¸°ë°˜ ì¶”ê°€ ê²€ì¦ (ì˜ˆ: ì‚¬ìš©ëœ ì¸ì¦ ë°©ì‹ì´ PINì¸ì§€ í™•ì¸)\n    if command == \"StartSession\":\n        assert \"PIN_AUTHENTICATED\" in device.get_last_auth_log(), \"PIN ì¸ì¦ì´ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n@pytest.mark.parametrize(\"command\", [\"StartSession\", \"Revert\"])\ndef test_opal_precedence_with_external_spec(device, command):\n    \"\"\"ì™¸ë¶€ TCG ë¬¸ì„œì˜ ìš”êµ¬ì‚¬í•­ì´ Opal ìŠ¤í™ê³¼ ì¶©ëŒí•  ë•Œ, Opal ìŠ¤í™ì´ ìš°ì„  ì ìš©ë¨ì„ ê²€ì¦\"\"\"\n    # ì™¸ë¶€ ë¬¸ì„œ ìš”êµ¬ì‚¬í•­ì„ ëª¨ë°© (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ í•„ìš”)\n    device.set_external_spec_requirement(\"PASSWORD_REQUIRED\")\n\n    # Opal ìŠ¤í™ì€ ë¹„ë°€ë²ˆí˜¸ í•„ìš” ì—†ìŒ\n    device.set_opal_spec_requirement(\"PASSWORD_NOT_REQUIRED\")\n\n    # ëª…ë ¹ ì‹¤í–‰\n    response = device.execute_command(command)\n\n    # Opal ìŠ¤í™ì— ë”°ë¼ ì²˜ë¦¬ë¨ì„ ê²€ì¦\n    assert response == \"SUCCESS\", \"Opal ìŠ¤í™ì´ ìš°ì„  ì ìš©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n    # ì¥ì¹˜ ë‚´ë¶€ ë¡œê·¸ì—ì„œ Opal ìŠ¤í™ ê¸°ë°˜ ì²˜ë¦¬ í™•ì¸\n    assert \"OPAL_SPEC_APPLIED\" in device.get_execution_log(), \"Opal ìŠ¤í™ì´ ì ìš©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nì´ ì„¹ì…˜ì€ **êµ¬ì²´ì ì¸ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—**, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ, **ë‹¤ë¥¸ ì„¹ì…˜ì—ì„œ ì •ì˜ëœ í…Œì´ë¸” (ì˜ˆ: 3.2, 3.3 ë“±)ì— ëŒ€í•œ ì¶©ëŒ ìš°ì„ ìˆœìœ„ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸**ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´:\n\n| í…Œì´ë¸” í•­ëª© | Opal ìŠ¤í™ ê°’ | ì™¸ë¶€ ìŠ¤í™ ê°’ | ì‹¤ì œ ì ìš© ê°’ | ê²€ì¦ ì—¬ë¶€ |\n|-------------|--------------|--------------|--------------|-----------|\n| ì„¸ì…˜ ì‹œì‘ ë°©ì‹ | PIN ê¸°ë°˜     | ë¹„ë°€í‚¤ ê¸°ë°˜  | PIN ê¸°ë°˜     | âœ…        |\n| Revert í—ˆìš© ì—¬ë¶€ | í—ˆìš©         | ë¹„í—ˆìš©       | í—ˆìš©         | âœ…        |\n\nâ†’ ìœ„ í…Œì´ë¸”ì€ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±**ë˜ë©°, ì‹¤ì œ ì¥ì¹˜ì˜ ì‘ë‹µê³¼ ë¹„êµí•˜ì—¬ ê²€ì¦.\n\n---\n\n## ğŸ“Œ **ê²°ë¡ **\n\nì´ ì„¹ì…˜ì€ **êµ¬í˜„ ì½”ë“œë‚˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©°, ë¬¸ì„œ ê°„ ìš°ì„ ìˆœìœ„ ì •ì±…ë§Œ ì œì‹œ**í•©ë‹ˆë‹¤.  \në”°ë¼ì„œ, ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì´ë‚˜ ë°ì´í„° êµ¬ì¡°ëŠ” ì—†ìœ¼ë©°, **ì •ì±…ì  ìš°ì„ ìˆœìœ„ë¥¼ ë³´ì¥í•˜ëŠ” ê·œì¹™**ë§Œ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n### âœ… ìµœì¢… ë‹µë³€\n\n**ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ë¬¸ì„œì—ì„œ ì •ì˜ë˜ì§€ ì•ŠìŒ.  \ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì •ì±…ì  ìš°ì„ ìˆœìœ„ë¥¼ ê²€ì¦í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„ ê°€ëŠ¥.**\n\n---\n\n### ğŸ“Œ **ìµœì¢… ì¶œë ¥**\n\n**ë‚´ìš©ì—†ìŒ** (ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ë¬¸ì„œì—ì„œ ì •ì˜ë˜ì§€ ì•ŠìŒ)  \nâ†’ **í•˜ì§€ë§Œ, ì •ì±…ì  ìš°ì„ ìˆœìœ„ ê²€ì¦ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì œì‹œ ê°€ëŠ¥**\n\n---\n\nâœ… **ì£¼ìš” ìš”ì•½**:\n\n- **ëª©ì **: ë¬¸ì„œ ê°„ ì¶©ëŒ ì‹œ Opal ìŠ¤í™ ìš°ì„  ì •ì±… ì •ì˜  \n- **ì£¼ìš” ê¸°ëŠ¥**: ë¬¸ì„œ ìš°ì„ ìˆœìœ„ ê·œì¹™ ì œê³µ (Opal > Interface Interactions > Architecture Core)  \n- **ë°ì´í„° êµ¬ì¡°**: ì—†ìŒ  \n- **ìš”êµ¬ì‚¬í•­**: ë¬¸ì„œ ì¶©ëŒ ì‹œ Opal ìŠ¤í™ ìš°ì„  ì ìš©  \n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì—†ìŒ (ì •ì±…ì  ìš°ì„ ìˆœìœ„ë§Œ ì •ì˜)  \n- **Test Case**: Opal ìŠ¤í™ ê¸°ë°˜ ë™ì‘ì´ ì™¸ë¶€ ìŠ¤í™ê³¼ ì¶©ëŒ ì‹œ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦ (Python + pytest ì˜ˆì‹œ ì œì‹œ)  \n- **í…Œì´ë¸” ë°ì´í„° ê²€ì¦**: ì§ì ‘ì  í…Œì´ë¸” ì—†ìŒ â†’ ê²°ê³¼ ê¸°ë°˜ í…Œì´ë¸” ìƒì„± ê°€ëŠ¥\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ ì‹œ, `StartSession`, `Revert` ë“± ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ì‘ë‹µ ì½”ë“œ, ë¡œê·¸, ì¸ì¦ ë°©ì‹ ë“±ì„ ë¶„ì„í•˜ì—¬ Opal ìŠ¤í™ ìš°ì„  ì ìš© ì—¬ë¶€ë¥¼ ê²€ì¦í•´ì•¼ í•¨."
    },
    {
        "section_order": 19,
        "level": 2,
        "section_id": "1.7",
        "section_key": "1.7 Definition of Terms",
        "title": "Definition of Terms",
        "start_page": 15,
        "end_page": 17,
        "page_count": 3,
        "content_md": "## 1.7 Definition of Terms",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 1.7 Definition of Terms"
    },
    {
        "section_order": 20,
        "level": 1,
        "section_id": "2",
        "section_key": "2 Opal SSC Overview",
        "title": "Opal SSC Overview",
        "start_page": 17,
        "end_page": 17,
        "page_count": 1,
        "content_md": "## 2 Opal SSC Overview",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2 Opal SSC Overview"
    },
    {
        "section_order": 21,
        "level": 2,
        "section_id": "2.1",
        "section_key": "2.1 Opal SSC Use Cases and Threats",
        "title": "Opal SSC Use Cases and Threats",
        "start_page": 17,
        "end_page": 17,
        "page_count": 1,
        "content_md": "## 2.1 Opal SSC Use Cases and Threats\n\n**Start of Informative Comment**\n\nThe Opal SSC is an implementation profile for Storage Devices built to:\n\n- Protect the confidentiality of stored user data against unauthorized access once it leaves the ownerâ€™s control (following a power cycle and subsequent deauthentication)\n- Enable interoperability between multiple Storage Device vendors\n\nAn Opal SSC compliant Storage Device:\n\n- Facilitates feature discoverability\n- Provides some user definable features (e.g. access control, locking ranges, user passwords, etc.)\n- Supports Opal SSC unique behaviors (e.g. communication, table management)\n\nThis specification addresses a limited set of use cases. They are:\n\n- Deploy Storage Device & Take Ownership: the Storage Device is integrated into its target system and ownership transferred by setting or changing the Storage Deviceâ€™s owner credential.\n- Activate or Enroll Storage Device: LBA ranges are configured and data encryption and access control credentials (re)generated and/or set on the Storage Device. Access control is configured for LBA range unlocking.\n- Lock & Unlock Storage Device: unlocking of one or more LBA ranges by the host and locking of those ranges under host control via either an explicit lock or implicit lock triggered by a reset event. MBR shadowing provides a mechanism to boot into a secure pre-boot authentication environment to handle device unlocking.\n- Repurpose & End-of-Life: erasure of data within one or more LBA ranges and reset of locking credential(s) for Storage Device repurposing or decommissioning.\n\n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **2.1 Opal SSC Use Cases and Threats - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\nTCG Opal SSC (Self-Encrypting Drive - Security Subsystem Class)ëŠ” **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜(í•˜ë“œë””ìŠ¤í¬, SSD ë“±)ì— ë‚´ì¥ëœ ë³´ì•ˆ ê¸°ëŠ¥**ì„ í‘œì¤€í™”í•œ í”„ë¡œíŒŒì¼ì…ë‹ˆë‹¤.  \nì£¼ëœ ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- **ë°ì´í„° ê¸°ë°€ì„± ë³´í˜¸**: ì¥ì¹˜ê°€ ì‚¬ìš©ìì˜ í†µì œì—ì„œ ë²—ì–´ë‚œ í›„(ì˜ˆ: ì „ì› ì°¨ë‹¨ í›„ ì¬ë¶€íŒ…), **ë¹„ì¸ê°€ ì ‘ê·¼ìœ¼ë¡œë¶€í„° ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë³´í˜¸**í•©ë‹ˆë‹¤.\n- **ì œì¡°ì‚¬ ê°„ í˜¸í™˜ì„± í™•ë³´**: ì—¬ëŸ¬ ìŠ¤í† ë¦¬ì§€ ì œì¡°ì—…ì²´ ì œí’ˆ ê°„ì—ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í‘œì¤€í™”í•©ë‹ˆë‹¤.\n\nì¦‰, ì¥ì¹˜ê°€ ë„ë‚œë‹¹í•˜ê±°ë‚˜ ë²„ë ¤ì¡Œì„ ë•Œ, ê·¸ ì•ˆì— ì €ì¥ëœ ë°ì´í„°ê°€ ì‰½ê²Œ í•´ë…ë˜ì§€ ì•Šë„ë¡ í•˜ë©°,  \në‹¤ì–‘í•œ í•˜ë“œì›¨ì–´/ì œì¡°ì‚¬ ì œí’ˆì—ì„œë„ ë™ì¼í•œ ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ì‚¬ìš©ì ì •ì˜ ê¸°ëŠ¥ ì œê³µ**:\n   - ì•¡ì„¸ìŠ¤ ì œì–´ (ëˆ„êµ¬ì—ê²Œ ì ‘ê·¼ í—ˆìš©í• ì§€)\n   - ì ê¸ˆ ë²”ìœ„ ì„¤ì • (LBA ë²”ìœ„ ê¸°ë°˜)\n   - ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì„¤ì •\n   - ì ê¸ˆ/ì ê¸ˆ í•´ì œ ê¸°ëŠ¥\n\n2. **í‘œì¤€í™”ëœ í†µì‹  ë° í…Œì´ë¸” ê´€ë¦¬**:\n   - ì¥ì¹˜ì™€ í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹  í”„ë¡œí† ì½œ í‘œì¤€í™”\n   - **í…Œì´ë¸” êµ¬ì¡°**(ì˜ˆ: ì ‘ê·¼ ì œì–´ í…Œì´ë¸”, ì‚¬ìš©ì í…Œì´ë¸”)ë¥¼ í†µí•© ê´€ë¦¬\n\n3. **ìë™ ë³´ì•ˆ ê¸°ëŠ¥**:\n   - ì „ì› ì¬ì‹œì‘ í›„ ìë™ ì ê¸ˆ (implicit lock)\n   - MBR(ë§ˆìŠ¤í„° ë¶€íŠ¸ ë ˆì½”ë“œ) ìƒ˜í”Œë§ì„ í†µí•œ **ë³´ì•ˆ ë¶€íŠ¸ í™˜ê²½** ì œê³µ â†’ ì‚¬ìš©ì ì¸ì¦ í›„ì—ë§Œ ì‹œìŠ¤í…œ ë¶€íŒ… í—ˆìš©\n\n---\n\n### ğŸ—‚ï¸ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nOpal SSCëŠ” **LBA (Logical Block Addressing)** ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.\n\n- **LBA ë²”ìœ„ (LBA Ranges)**: ë°ì´í„°ë¥¼ ë³´í˜¸í•  íŠ¹ì • ì˜ì—­ì„ ì§€ì •í•©ë‹ˆë‹¤. ì˜ˆ: ì „ì²´ ë””ìŠ¤í¬, íŠ¹ì • íŒŒí‹°ì…˜.\n- **ì ‘ê·¼ ì œì–´ í…Œì´ë¸” (Access Control Table)**:\n  - ê° LBA ë²”ìœ„ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ì •ì˜í•©ë‹ˆë‹¤.\n  - ì˜ˆ: \"ì‚¬ìš©ì AëŠ” LBA 0~1000000ì— ì ‘ê·¼ ê°€ëŠ¥\", \"ê´€ë¦¬ìëŠ” ì „ì²´ ë””ìŠ¤í¬ ì ‘ê·¼ ê°€ëŠ¥\"\n- **ì‚¬ìš©ì í…Œì´ë¸” (User Table)**:\n  - ì‚¬ìš©ì ID, ì•”í˜¸, ì•¡ì„¸ìŠ¤ ê¶Œí•œ ë“± ì •ë³´ë¥¼ ì €ì¥\n  - ì—¬ëŸ¬ ì‚¬ìš©ì(ê´€ë¦¬ì, ì¼ë°˜ ì‚¬ìš©ì ë“±)ë¥¼ ë“±ë¡ ê°€ëŠ¥\n- **ì•”í˜¸í™” í‚¤ ê´€ë¦¬**:\n  - ë°ì´í„° ì•”í˜¸í™” í‚¤ëŠ” ì¥ì¹˜ ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë˜ë©°, ì‚¬ìš©ì ìê²© ì¦ëª…ìœ¼ë¡œ ì ‘ê·¼ ì œì–´ë¨\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- ì¥ì¹˜ëŠ” **TCG Opal ëª…ë ¹ì–´ ì„¸íŠ¸**ë¥¼ ì§€ì›í•´ì•¼ í•¨\n- **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´** êµ¬í˜„ í•„ìš”\n- **ì „ì› ì¬ì‹œì‘ í›„ ìë™ ì ê¸ˆ** ê¸°ëŠ¥ ì œê³µ\n- **MBR ìƒ˜í”Œë§ ê¸°ë°˜ ë³´ì•ˆ ë¶€íŠ¸** ì§€ì›\n- **ë³µêµ¬/ì¬ì‚¬ìš©/íê¸° ì‹œ ë°ì´í„° ì™„ì „ ì‚­ì œ** ê¸°ëŠ¥ ì œê³µ\n- **ì‚¬ìš©ì ìê²© ì¦ëª… ê¸°ë°˜ ì¸ì¦** í•„ìš” (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸, í† í° ë“±)\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ë‚´ì¥í˜• ì•”í˜¸í™” (Self-Encrypting Drive - SED)**:\n   - ë°ì´í„°ëŠ” ì €ì¥ë  ë•Œ ìë™ìœ¼ë¡œ ì•”í˜¸í™”ë¨\n   - ì•”í˜¸í™” í‚¤ëŠ” ì¥ì¹˜ ë‚´ë¶€ì— ì €ì¥ë˜ê³ , ì‚¬ìš©ì ìê²© ì¦ëª…ìœ¼ë¡œ ì ‘ê·¼ ì œì–´ë¨\n\n2. **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ (Session-based Authentication)**:\n   - `StartSession` ëª…ë ¹ìœ¼ë¡œ ì¥ì¹˜ì™€ì˜ ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘\n   - ì„¸ì…˜ ì¤‘ì—ë§Œ ì¥ì¹˜ ì„¤ì • ë³€ê²½ ê°€ëŠ¥\n\n3. **ì•”í˜¸í™”ëœ í…Œì´ë¸” ê´€ë¦¬**:\n   - ì ‘ê·¼ ì œì–´ í…Œì´ë¸”, ì‚¬ìš©ì í…Œì´ë¸” ë“±ì€ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë¨\n   - ê¶Œí•œ ìˆëŠ” ì‚¬ìš©ìë§Œ ìˆ˜ì • ê°€ëŠ¥\n\n4. **ì „ì› ì¬ì‹œì‘ í›„ ìë™ ì ê¸ˆ (Implicit Lock)**:\n   - ì¥ì¹˜ê°€ ì „ì›ì´ êº¼ì¡Œë‹¤ê°€ ì¼œì§€ë©´ ìë™ìœ¼ë¡œ ì ê¹€\n   - ì‚¬ìš©ì ì¸ì¦ ì—†ì´ ì ‘ê·¼ ë¶ˆê°€\n\n5. **MBR Shadowing (ë³´ì•ˆ ë¶€íŠ¸)**:\n   - ë¶€íŠ¸ ì‹œ MBRì„ ë³´í˜¸ëœ ì˜ì—­ì—ì„œ ë¡œë“œí•˜ì—¬ ë³´ì•ˆ ì¸ì¦ í™˜ê²½ìœ¼ë¡œ ì§„ì…\n   - ì¸ì¦ ì„±ê³µ í›„ì—ë§Œ ì‹¤ì œ ìš´ì˜ì²´ì œ ë¶€íŒ… í—ˆìš©\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n### âœ³ï¸ **Test Case 1: ì¥ì¹˜ ì†Œìœ ê¶Œ ì„¤ì • ë° ì¸ì¦ ê²€ì¦**\n\n**ëª©ì **: ì¥ì¹˜ë¥¼ ì†Œìœ í•˜ê³ , ì†Œìœ ì ìê²© ì¦ëª…ìœ¼ë¡œ ì¸ì¦ ê°€ëŠ¥í•œì§€ ê²€ì¦\n\n**ë‹¨ê³„**:\n1. `StartSession` ëª…ë ¹ìœ¼ë¡œ ì†Œìœ ì ì„¸ì…˜ ì‹œì‘ (ì‚¬ìš©ì ID: 0x00000000, ìê²© ì¦ëª…: owner_pwd)\n2. `SetUserPassword`ë¡œ ì†Œìœ ì ë¹„ë°€ë²ˆí˜¸ ì„¤ì •\n3. `Revert` ëª…ë ¹ìœ¼ë¡œ ì¥ì¹˜ ì´ˆê¸°í™” í›„ ì¬ì¸ì¦ ì‹œë„\n\n**ê²€ì¦ í¬ì¸íŠ¸**:\n- ì„¸ì…˜ ì‹œì‘ ì„±ê³µ ì—¬ë¶€\n- ë¹„ë°€ë²ˆí˜¸ ì„¤ì • í›„ ì¬ì¸ì¦ ê°€ëŠ¥ ì—¬ë¶€\n\n---\n\n### âœ³ï¸ **Test Case 2: LBA ë²”ìœ„ ì ê¸ˆ/ì ê¸ˆ í•´ì œ ê²€ì¦**\n\n**ëª©ì **: íŠ¹ì • LBA ë²”ìœ„ì— ëŒ€í•œ ì ê¸ˆ/í•´ì œ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦\n\n**ë‹¨ê³„**:\n1. `StartSession` (ì†Œìœ ì ì„¸ì…˜)\n2. `SetLockingRange` ëª…ë ¹ìœ¼ë¡œ LBA ë²”ìœ„(ì˜ˆ: 0~1000000) ì„¤ì •\n3. `LockRange` ëª…ë ¹ìœ¼ë¡œ í•´ë‹¹ ë²”ìœ„ ì ê¸ˆ\n4. `UnlockRange` ëª…ë ¹ìœ¼ë¡œ ì ê¸ˆ í•´ì œ (ì •í™•í•œ ìê²© ì¦ëª… ì œê³µ)\n5. `ReadLBA` ëª…ë ¹ìœ¼ë¡œ ë°ì´í„° ì½ê¸° ì‹œë„ â†’ ì ê¸ˆ í•´ì œ í›„ ì„±ê³µ, ì ê¸ˆ ì¤‘ ì‹¤íŒ¨\n\n**ê²€ì¦ í¬ì¸íŠ¸**:\n- ì ê¸ˆ ìƒíƒœì—ì„œ ì½ê¸° ì‹¤íŒ¨\n- ì ê¸ˆ í•´ì œ í›„ ì½ê¸° ì„±ê³µ\n\n---\n\n### âœ³ï¸ **Test Case 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦**\n\n**ëª©ì **: ì ‘ê·¼ ì œì–´ í…Œì´ë¸”, ì‚¬ìš©ì í…Œì´ë¸” ë“±ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ê³  ì €ì¥ë˜ëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. `StartSession` (ì†Œìœ ì ì„¸ì…˜)\n2. `SetUser` ëª…ë ¹ìœ¼ë¡œ ì‚¬ìš©ì ID 0x00000001 ìƒì„± ë° ë¹„ë°€ë²ˆí˜¸ ì„¤ì •\n3. `SetAccessControl` ëª…ë ¹ìœ¼ë¡œ í•´ë‹¹ ì‚¬ìš©ìê°€ LBA 0~1000000ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •\n4. `GetAccessControlTable` ëª…ë ¹ìœ¼ë¡œ í…Œì´ë¸” ì½ê¸°\n5. ì½ì€ í…Œì´ë¸” ë°ì´í„°ì—ì„œ ì‚¬ìš©ì ID 0x00000001ì´ LBA ë²”ìœ„ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ê°€ì§„ì§€ í™•ì¸\n\n**ê²€ì¦ í¬ì¸íŠ¸**:\n- ìƒì„±ëœ ì‚¬ìš©ìê°€ í…Œì´ë¸”ì— í¬í•¨ë¨\n- ì ‘ê·¼ ê¶Œí•œì´ ì •í™•íˆ ì„¤ì •ë¨\n\n---\n\n## ğŸ§ª **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ì»¨íŠ¸ë¡¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ êµ¬í˜„ ì‹œ PyUSB, SCSI, etc. ì‚¬ìš©)\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì´ˆê¸°í™” ë° ì—°ê²°\"\"\"\n    device = OpalDevice('/dev/sdb')  # ì¥ì¹˜ ê²½ë¡œ\n    device.initialize()\n    yield device\n    device.close()\n\ndef test_start_session_and_auth(opal_device):\n    \"\"\"ì†Œìœ ì ì„¸ì…˜ ì‹œì‘ ë° ì¸ì¦ í…ŒìŠ¤íŠ¸\"\"\"\n    owner_pwd = \"owner123\"\n    user_id = 0x00000000\n\n    # ì„¸ì…˜ ì‹œì‘\n    success = opal_device.start_session(user_id, owner_pwd)\n    assert success, \"Session start failed\"\n\n    # ë¹„ë°€ë²ˆí˜¸ ì„¤ì •\n    opal_device.set_user_password(user_id, owner_pwd)\n    assert opal_device.get_user_password(user_id) == owner_pwd\n\ndef test_lock_unlock_range(opal_device):\n    \"\"\"LBA ë²”ìœ„ ì ê¸ˆ/í•´ì œ í…ŒìŠ¤íŠ¸\"\"\"\n    owner_pwd = \"owner123\"\n    user_id = 0x00000000\n    lba_start = 0\n    lba_end = 1000000\n\n    # ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(user_id, owner_pwd)\n\n    # LBA ë²”ìœ„ ì„¤ì •\n    opal_device.set_locking_range(lba_start, lba_end, \"user_data\")\n\n    # ì ê¸ˆ\n    opal_device.lock_range(lba_start, lba_end)\n    assert not opal_device.can_read_lba(lba_start), \"Should be locked\"\n\n    # ì ê¸ˆ í•´ì œ\n    opal_device.unlock_range(lba_start, lba_end, owner_pwd)\n    assert opal_device.can_read_lba(lba_start), \"Should be unlocked\"\n\ndef test_access_control_table(opal_device):\n    \"\"\"ì ‘ê·¼ ì œì–´ í…Œì´ë¸” ê²€ì¦\"\"\"\n    owner_pwd = \"owner123\"\n    user_id = 0x00000000\n    user_id_new = 0x00000001\n    lba_start = 0\n    lba_end = 1000000\n\n    # ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(user_id, owner_pwd)\n\n    # ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„±\n    opal_device.set_user(user_id_new, \"user123\")\n    opal_device.set_user_password(user_id_new, \"user123\")\n\n    # ì ‘ê·¼ ê¶Œí•œ ì„¤ì •\n    opal_device.set_access_control(user_id_new, lba_start, lba_end, \"read_write\")\n\n    # í…Œì´ë¸” ì¡°íšŒ\n    table = opal_device.get_access_control_table()\n    assert table.get(user_id_new) == {\n        \"lba_start\": lba_start,\n        \"lba_end\": lba_end,\n        \"permissions\": \"read_write\"\n    }, \"Access control table mismatch\"\n```\n\n---\n\n## ğŸ§¾ **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n### 1. **GetAccessControlTable ëª…ë ¹ ì‚¬ìš©**\n- ì¥ì¹˜ì—ì„œ ì ‘ê·¼ ì œì–´ í…Œì´ë¸”ì„ ì½ì–´ì˜´\n- ë°˜í™˜ëœ í…Œì´ë¸”ì„ íŒŒì‹±í•˜ì—¬ ì‚¬ìš©ì ID, LBA ë²”ìœ„, ê¶Œí•œ ë“±ì„ ê²€ì¦\n- ì˜ˆ: ì‚¬ìš©ì ID 0x00000001ì´ LBA 0~1000000ì— ëŒ€í•´ 'read_write' ê¶Œí•œì„ ê°€ì§„ì§€ í™•ì¸\n\n### 2. **GetUserTable ëª…ë ¹ ì‚¬ìš©**\n- ì‚¬ìš©ì í…Œì´ë¸”ì„ ì½ì–´ì™€ ì‚¬ìš©ì ID, ë¹„ë°€ë²ˆí˜¸, ìƒíƒœ ë“±ì„ ê²€ì¦\n- ì˜ˆ: ìƒì„±í•œ ì‚¬ìš©ìê°€ í…Œì´ë¸”ì— í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n### 3. **ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¹„êµ**\n- ê¸°ëŒ€ê°’ê³¼ ì‹¤ì œê°’ì„ ë¹„êµ (ì˜ˆ: `assert actual == expected`)\n- JSON ë˜ëŠ” ë”•ì…”ë„ˆë¦¬ í˜•ì‹ìœ¼ë¡œ ì €ì¥ í›„, `deepdiff` ë˜ëŠ” `assertDictEqual` ì‚¬ìš©\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- Opal SSCëŠ” **ì¥ì¹˜ ë‚´ì¥í˜• ë³´ì•ˆ**ì„ í‘œì¤€í™”í•œ í”„ë¡œíŒŒì¼\n- ì£¼ìš” ê¸°ëŠ¥: ë°ì´í„° ì•”í˜¸í™”, ì•¡ì„¸ìŠ¤ ì œì–´, ì ê¸ˆ/í•´ì œ, ë³´ì•ˆ ë¶€íŠ¸, ë°ì´í„° ì‚­ì œ\n- ë°ì´í„° êµ¬ì¡°: LBA ë²”ìœ„ ê¸°ë°˜, ì ‘ê·¼ ì œì–´ í…Œì´ë¸”, ì‚¬ìš©ì í…Œì´ë¸”\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜: ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦, ìë™ ì ê¸ˆ, MBR ìƒ˜í”Œë§\n- ê²€ì¦ ê°€ëŠ¥: ì„¸ì…˜, ì ê¸ˆ, í…Œì´ë¸” ë°ì´í„° ë“± ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nTCG Opal SSCëŠ” ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì— ë‚´ì¥ëœ ë³´ì•ˆ ê¸°ëŠ¥ì„ í‘œì¤€í™”í•œ í”„ë¡œíŒŒì¼ë¡œ, **ì¥ì¹˜ê°€ ì‚¬ìš©ì í†µì œì—ì„œ ë²—ì–´ë‚œ í›„ì—ë„ ë°ì´í„°ë¥¼ ë³´í˜¸**í•˜ëŠ” ê²ƒì´ í•µì‹¬ ëª©ì ì…ë‹ˆë‹¤. ì¥ì¹˜ëŠ” ì „ì› ì¬ì‹œì‘ í›„ ìë™ìœ¼ë¡œ ì ê¸°ë©°, ì‚¬ìš©ì ì¸ì¦ ì—†ì´ ì ‘ê·¼ ë¶ˆê°€í•©ë‹ˆë‹¤. ë˜í•œ, ë‹¤ì–‘í•œ ì œì¡°ì‚¬ ì œí’ˆ ê°„ í˜¸í™˜ì„±ì„ ìœ„í•´ í‘œì¤€í™”ëœ ëª…ë ¹ì–´ì™€ ë°ì´í„° êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nì£¼ìš” ê¸°ëŠ¥ìœ¼ë¡œëŠ” ì‚¬ìš©ì ì •ì˜ ì•¡ì„¸ìŠ¤ ì œì–´, LBA ë²”ìœ„ ê¸°ë°˜ ì ê¸ˆ/í•´ì œ, ë³´ì•ˆ ë¶€íŠ¸(ì˜ˆ: MBR ìƒ˜í”Œë§), ê·¸ë¦¬ê³  ë°ì´í„° ì™„ì „ ì‚­ì œ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤. ë°ì´í„° êµ¬ì¡°ëŠ” LBA ë²”ìœ„, ì ‘ê·¼ ì œì–´ í…Œì´ë¸”, ì‚¬ìš©ì í…Œì´ë¸”ë¡œ êµ¬ì„±ë˜ë©°, ì´ë“¤ì€ ì•”í˜¸í™”ë˜ì–´ ë³´í˜¸ë©ë‹ˆë‹¤.\n\në³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ë‚´ì¥í˜• ì•”í˜¸í™”, ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦, ìë™ ì ê¸ˆ, MBR ìƒ˜í”Œë§ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ë“¤ì€ Python + pytestë¥¼ í†µí•´ `StartSession`, `LockRange`, `SetUser`, `GetAccessControlTable` ë“±ì˜ ëª…ë ¹ì–´ë¡œ ê²€ì¦ ê°€ëŠ¥í•˜ë©°, í…Œì´ë¸” ë°ì´í„°ëŠ” ì‹¤ì œ ë°˜í™˜ê°’ê³¼ ê¸°ëŒ€ê°’ì„ ë¹„êµí•˜ì—¬ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ í‘œì¤€ì€ ë°ì´í„° ë³´ì•ˆ, ì¥ì¹˜ ê´€ë¦¬, ë³´ì•ˆ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ì— ë§¤ìš° ì¤‘ìš”í•˜ë©°, íŠ¹íˆ ê¸°ì—… ë° ì •ë¶€ ì‹œìŠ¤í…œì—ì„œ í•„ìˆ˜ì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 22,
        "level": 2,
        "section_id": "2.2",
        "section_key": "2.2 Security Providers (SPs)",
        "title": "Security Providers (SPs)",
        "start_page": 17,
        "end_page": 17,
        "page_count": 1,
        "content_md": "## 2.2 Security Providers (SPs)\n\nAn Opal SSC compliant Storage Device SHALL support at least two Security Providers (SPs):\n\n1) Admin SP  \n2) Locking SP  \n\nThe Locking SP MAY be created by the Storage Device manufacturer.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜ 2.2 - Security Providers (SPs)**\n\n---\n\n## ğŸ“Œ ëª©ì \n\nTCG Opal í‘œì¤€ì€ ì €ì¥ ì¥ì¹˜ì˜ ë³´ì•ˆì„ ê°•í™”í•˜ê¸° ìœ„í•´ **Security Providers (SP)** ë¼ëŠ” ê°œë…ì„ ë„ì…í•©ë‹ˆë‹¤. SPëŠ” ë³´ì•ˆ ì •ì±…ì„ ê´€ë¦¬í•˜ê³ , ì•”í˜¸í™” í‚¤ë¥¼ ë³´í˜¸í•˜ë©°, ì‚¬ìš©ì ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì˜ ëª©ì ì€ **Opal SSC(Storage Security Compliance)ë¥¼ ì¤€ìˆ˜í•˜ëŠ” ì €ì¥ ì¥ì¹˜ê°€ ìµœì†Œí•œ ë‘ ê°€ì§€ SPë¥¼ ì§€ì›í•´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­**ì„ ëª…ì‹œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì¦‰, ì €ì¥ ì¥ì¹˜ëŠ” **ê´€ë¦¬ì(SP Admin)** ì™€ **ì ê¸ˆ ì œê³µì(SP Locking)** ë¼ëŠ” ë‘ ê°€ì§€ SPë¥¼ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ë©°, ì´ë“¤ì€ ì„œë¡œ ë‹¤ë¥¸ ë³´ì•ˆ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n### 1. Admin SP (ê´€ë¦¬ì SP)\n- **ì¥ì¹˜ì˜ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•˜ê³  ê´€ë¦¬**í•˜ëŠ” ì£¼ì²´ì…ë‹ˆë‹¤.\n- ì‚¬ìš©ì ê³„ì • ìƒì„±/ì‚­ì œ, ì•”í˜¸ ë³€ê²½, SP ìƒì„±/ì‚­ì œ, ì•”í˜¸í™” ì„¤ì • ë“± ê³ ê¸‰ ê´€ë¦¬ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n- ì¼ë°˜ì ìœ¼ë¡œ **ì¥ì¹˜ ì œì¡°ì—…ì²´ ë˜ëŠ” ì‹œìŠ¤í…œ ê´€ë¦¬ì**ê°€ ì‚¬ìš©í•©ë‹ˆë‹¤.\n- **ìµœê³  ê¶Œí•œì„ ê°€ì§„ SP**ì´ë©°, Locking SPë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### 2. Locking SP (ì ê¸ˆ SP)\n- **ì‚¬ìš©ì ë°ì´í„°ì˜ ì•”í˜¸í™” ë° ì ‘ê·¼ ì œì–´ë¥¼ ë‹´ë‹¹**í•©ë‹ˆë‹¤.\n- ì¼ë°˜ ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì•”í˜¸í™”/ë³µí˜¸í™”í•˜ê³ , ì ‘ê·¼ ê¶Œí•œì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n- **ì‚¬ìš©ì ê³„ì •ê³¼ ì•”í˜¸ ê¸°ë°˜ì˜ ì ‘ê·¼ ì œì–´**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- ì €ì¥ ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°, **ì‚¬ìš©ì ì •ì˜ SPë„ ìƒì„± ê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n> âš ï¸ ì£¼ì˜: Locking SPëŠ” **ì„ íƒì **ì´ì§€ë§Œ, **Opal SSC ì¤€ìˆ˜ ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ë©°**, Admin SPì™€ ë¶„ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\në³¸ ì„¹ì…˜ì—ì„œëŠ” **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°**ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ TCG Opal í‘œì¤€ì˜ ë‹¤ë¥¸ ì„¹ì…˜(ì˜ˆ: 3.2, 3.3 ë“±)ì—ì„œ SPì˜ ë‚´ë¶€ êµ¬ì¡°, í‚¤ ì €ì¥ êµ¬ì¡°, ìŠ¤í‚¤ë§ˆ ë“±ì´ ì„¤ëª…ë©ë‹ˆë‹¤. ì£¼ìš” ë°ì´í„° êµ¬ì¡° ìš”ì•½:\n\n- **SP ID**: ê° SPì— ë¶€ì—¬ë˜ëŠ” ê³ ìœ  ì‹ë³„ì (ì˜ˆ: 0x00000001 = Admin SP, 0x00000002 = Locking SP)\n- **SP ìƒíƒœ**: í™œì„±í™”/ë¹„í™œì„±í™”, ì ê¸ˆ ìƒíƒœ, ë¹„ë°€ë²ˆí˜¸ ì„¤ì • ì—¬ë¶€ ë“±\n- **ì•”í˜¸í™” í‚¤ ì •ë³´**: SPê°€ ê´€ë¦¬í•˜ëŠ” ì•”í˜¸í™” í‚¤ì˜ ë©”íƒ€ì •ë³´ (í‚¤ ID, ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜, í‚¤ ê¸¸ì´ ë“±)\n- **ì‚¬ìš©ì ì •ë³´**: SPê°€ ê´€ë¦¬í•˜ëŠ” ì‚¬ìš©ì ê³„ì • ëª©ë¡ (ì‚¬ìš©ì ID, ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ, ê¶Œí•œ ë“±)\n\n---\n\n## ğŸ“œ ìš”êµ¬ì‚¬í•­\n\n1. **ìµœì†Œ ë‘ ê°œì˜ SPë¥¼ ì§€ì›í•´ì•¼ í•¨**:\n   - Admin SP (í•„ìˆ˜)\n   - Locking SP (í•„ìˆ˜)\n\n2. **Locking SPëŠ” ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ìƒì„± ê°€ëŠ¥í•¨** (MAY â†’ ì„ íƒì  ìƒì„±ì´ì§€ë§Œ, Opal SSC ì¤€ìˆ˜ë¥¼ ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•¨)\n\n3. **SPëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•´ì•¼ í•¨**:\n   - Admin SPëŠ” Locking SPì˜ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ, Locking SPëŠ” Admin SPì˜ ê¶Œí•œì„ ë³€ê²½í•  ìˆ˜ ì—†ìŒ.\n\n4. **SPëŠ” ì„¸ì…˜ ê¸°ë°˜ìœ¼ë¡œ ì ‘ê·¼ ì œì–´**:\n   - StartSession ëª…ë ¹ì„ í†µí•´ SPì— ì ‘ê·¼í•˜ê³ , ë¹„ë°€ë²ˆí˜¸ ë˜ëŠ” í† í°ìœ¼ë¡œ ì¸ì¦ë°›ìŒ.\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **SP ê°„ì˜ ê¶Œí•œ ë¶„ë¦¬ (Separation of Privileges)**: Admin SPì™€ Locking SPëŠ” ì„œë¡œ ë‹¤ë¥¸ ì—­í• ê³¼ ê¶Œí•œì„ ê°€ì§€ë©°, ê¶Œí•œ íë¦„ì„ ì œì–´í•¨.\n- **ì•”í˜¸ ê¸°ë°˜ ì¸ì¦**: ê° SPëŠ” ê³ ìœ ì˜ ì•”í˜¸ë¡œ ë³´í˜¸ë˜ë©°, StartSession ëª…ë ¹ì„ í†µí•´ ì¸ì¦ë¨.\n- **ì„¸ì…˜ ê´€ë¦¬**: SPì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ ì„¸ì…˜ì„ ì‹œì‘í•´ì•¼ í•˜ë©°, ì„¸ì…˜ì€ ì‹œê°„ ì´ˆê³¼ ë˜ëŠ” Revert ëª…ë ¹ìœ¼ë¡œ ì¢…ë£Œë¨.\n- **í‚¤ ë³´í˜¸**: SPëŠ” ì•”í˜¸í™” í‚¤ë¥¼ ë³´í˜¸í•˜ë©°, í‚¤ëŠ” SPì˜ ë³´ì•ˆ ì˜ì—­ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•¨.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Python + pytest)\n\në‹¤ìŒì€ **Admin SPì™€ Locking SPì˜ ì¡´ì¬ ë° ê¸°ëŠ¥ ê²€ì¦**ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ ì¥ì¹˜ì™€ í†µì‹ í•´ì•¼ í•˜ë©°, ì´ëŠ” `pyopal` ë˜ëŠ” `pytcm` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ì§ì ‘ì ì¸ SCSI/ATA ëª…ë ¹ì–´ ì „ì†¡ì„ í†µí•´ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” **ê°€ìƒì˜ Opal ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ê°€ì •í•œ ì˜ˆì‹œ**ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\n# test_opal_sp.py\nimport pytest\nfrom opal_device import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    device = OpalDevice(\"dummy_device\")\n    device.initialize()\n    return device\n\ndef test_admin_sp_exists(opal_device):\n    \"\"\"Admin SP ì¡´ì¬ ì—¬ë¶€ ê²€ì¦\"\"\"\n    sps = opal_device.get_security_providers()\n    assert len(sps) >= 2, \"ìµœì†Œ 2ê°œ ì´ìƒì˜ SPê°€ ìˆì–´ì•¼ í•¨\"\n    assert \"Admin SP\" in sps, \"Admin SPê°€ ì¡´ì¬í•´ì•¼ í•¨\"\n\ndef test_locking_sp_exists(opal_device):\n    \"\"\"Locking SP ì¡´ì¬ ì—¬ë¶€ ê²€ì¦\"\"\"\n    sps = opal_device.get_security_providers()\n    assert \"Locking SP\" in sps, \"Locking SPê°€ ì¡´ì¬í•´ì•¼ í•¨\"\n\ndef test_start_session_admin_sp(opal_device):\n    \"\"\"Admin SPì— ëŒ€í•œ ì„¸ì…˜ ì‹œì‘ ê²€ì¦\"\"\"\n    admin_password = \"admin123\"\n    result = opal_device.start_session(sp_id=1, password=admin_password)\n    assert result == \"SUCCESS\", \"Admin SP ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨\"\n\ndef test_start_session_locking_sp(opal_device):\n    \"\"\"Locking SPì— ëŒ€í•œ ì„¸ì…˜ ì‹œì‘ ê²€ì¦\"\"\"\n    locking_password = \"lock123\"\n    result = opal_device.start_session(sp_id=2, password=locking_password)\n    assert result == \"SUCCESS\", \"Locking SP ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨\"\n\ndef test_revert_session(opal_device):\n    \"\"\"ì„¸ì…˜ ì¢…ë£Œ(Revert) ê²€ì¦\"\"\"\n    opal_device.start_session(sp_id=1, password=\"admin123\")\n    result = opal_device.revert_session()\n    assert result == \"SESSION_REVOKED\", \"ì„¸ì…˜ ì¢…ë£Œ ì‹¤íŒ¨\"\n\ndef test_table_data_integrity(opal_device):\n    \"\"\"í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì˜ˆ: SP ëª©ë¡ í…Œì´ë¸”)\"\"\"\n    expected_sp_table = [\n        {\"id\": 1, \"name\": \"Admin SP\", \"status\": \"ACTIVE\"},\n        {\"id\": 2, \"name\": \"Locking SP\", \"status\": \"ACTIVE\"}\n    ]\n    actual_sp_table = opal_device.get_sp_table()\n    assert len(actual_sp_table) == len(expected_sp_table), \"SP í…Œì´ë¸” í¬ê¸° ë¶ˆì¼ì¹˜\"\n    for i, sp in enumerate(actual_sp_table):\n        assert sp[\"id\"] == expected_sp_table[i][\"id\"]\n        assert sp[\"name\"] == expected_sp_table[i][\"name\"]\n        assert sp[\"status\"] == expected_sp_table[i][\"status\"]\n```\n\n---\n\n### ğŸ” TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•\n\n| ëª…ë ¹ì–´           | ëª©ì                                 | ì‚¬ìš© ì‹œì                     |\n|------------------|-------------------------------------|-----------------------------|\n| `StartSession`   | SPì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¸ì¦ ì„¸ì…˜ ì‹œì‘   | SPë¥¼ ì¡°ì‘í•˜ê¸° ì „ì— í•„ìš”     |\n| `Revert`         | í˜„ì¬ ì„¸ì…˜ ì¢…ë£Œ                      | í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ë˜ëŠ” ì˜¤ë¥˜ ì‹œ    |\n| `GetSecurityProviderList` | ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” SP ëª©ë¡ ì¡°íšŒ      | SP ì¡´ì¬ ì—¬ë¶€ í™•ì¸           |\n| `GetSPInfo`      | íŠ¹ì • SPì˜ ì •ë³´ ì¡°íšŒ (ì´ë¦„, ìƒíƒœ ë“±) | SPì˜ ì„¸ë¶€ ì •ë³´ ê²€ì¦         |\n\n> ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ë ¤ë©´ `SCSI OPAL ëª…ë ¹ì–´` ë˜ëŠ” `ATA OPAL ëª…ë ¹ì–´`ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ì´ëŠ” `pytcm`, `pyopal`, ë˜ëŠ” `sg_inq`, `sg_send` ê°™ì€ ë„êµ¬ë¡œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nOpal ì¥ì¹˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ **SP ì •ë³´ í…Œì´ë¸”**ì„ ìœ ì§€í•©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n| SP ID | SP Name       | Status   | Creation Source     |\n|-------|---------------|----------|---------------------|\n| 0x1   | Admin SP      | Active   | Manufacturer        |\n| 0x2   | Locking SP    | Active   | Manufacturer/User   |\n\ní…ŒìŠ¤íŠ¸ ì‹œ, ì´ í…Œì´ë¸”ì„ `GetSecurityProviderList` ë˜ëŠ” `GetSPInfo` ëª…ë ¹ì–´ë¥¼ í†µí•´ ê°€ì ¸ì™€ ë‹¤ìŒê³¼ ê°™ì´ ê²€ì¦:\n\n1. **SP ID 0x1ì´ ì¡´ì¬í•˜ê³  ì´ë¦„ì´ \"Admin SP\"ì¸ì§€ í™•ì¸**\n2. **SP ID 0x2ê°€ ì¡´ì¬í•˜ê³  ì´ë¦„ì´ \"Locking SP\"ì¸ì§€ í™•ì¸**\n3. **ëª¨ë“  SPì˜ ìƒíƒœê°€ \"Active\"ì¸ì§€ í™•ì¸**\n4. **Locking SPì˜ ìƒì„± ì›ì²œì´ ì œì¡°ì—…ì²´ ë˜ëŠ” ì‚¬ìš©ìì¸ì§€ í™•ì¸ (ì˜µì…˜)**\n\n---\n\n## âœ… ê²°ë¡ \n\në³¸ ì„¹ì…˜ì€ **TCG Opal í‘œì¤€ì˜ í•µì‹¬ ë³´ì•ˆ êµ¬ì„± ìš”ì†Œì¸ Security Providers (SP)** ë¥¼ ì •ì˜í•˜ë©°, íŠ¹íˆ **Admin SPì™€ Locking SPì˜ ì¡´ì¬ ë° ì—­í•  ë¶„ë¦¬ë¥¼ ê°•ì œ**í•©ë‹ˆë‹¤. ì´ëŠ” ì €ì¥ ì¥ì¹˜ì˜ ë³´ì•ˆ ì •ì±…ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³ , ì‚¬ìš©ìì™€ ê´€ë¦¬ì ê¶Œí•œì„ ë¶„ë¦¬í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¸¡ë©´ì—ì„œëŠ” **SPì˜ ì¡´ì¬ ì—¬ë¶€, ì„¸ì…˜ ì‹œì‘/ì¢…ë£Œ, í…Œì´ë¸” ë°ì´í„° ì¼ì¹˜ì„±** ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•´ TCG Opal ëª…ë ¹ì–´ë¥¼ í™œìš©í•œ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìš”ì•½ ì •ë¦¬ (í•œêµ­ì–´, ìƒì„¸)**\n\n- **ëª©ì **: Opal SSC ì¤€ìˆ˜ ì¥ì¹˜ê°€ ìµœì†Œ ë‘ ê°œì˜ SP (Admin, Locking)ë¥¼ ì§€ì›í•˜ë„ë¡ ìš”êµ¬.\n- **ì£¼ìš” ê¸°ëŠ¥**: Admin SPëŠ” ì¥ì¹˜ ê´€ë¦¬, Locking SPëŠ” ì‚¬ìš©ì ë°ì´í„° ì•”í˜¸í™” ë° ì ‘ê·¼ ì œì–´.\n- **ë°ì´í„° êµ¬ì¡°**: SP ID, ì´ë¦„, ìƒíƒœ, ìƒì„± ì›ì²œ ë“±ì„ í¬í•¨í•˜ëŠ” ë‚´ë¶€ í…Œì´ë¸”.\n- **ìš”êµ¬ì‚¬í•­**: Admin SPì™€ Locking SPê°€ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ë©°, ì„œë¡œ ë…ë¦½ì .\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ê¶Œí•œ ë¶„ë¦¬, ì•”í˜¸ ê¸°ë°˜ ì¸ì¦, ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´.\n- **í…ŒìŠ¤íŠ¸**: Python + pytestë¡œ SP ì¡´ì¬, ì„¸ì…˜ ì‹œì‘/ì¢…ë£Œ, í…Œì´ë¸” ì¼ì¹˜ì„± ê²€ì¦ ê°€ëŠ¥.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ ì¥ì¹˜ì™€ì˜ í†µì‹ ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë©°, ìœ„ì˜ ì˜ˆì‹œ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.**\n\n--- \n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì¥ì¹˜ ì œì¡°ì—…ì²´ì˜ ë¬¸ì„œì™€ Opal ëª…ë ¹ì–´ ìŠ¤í™ì„ ì •í™•íˆ ë”°ë¥´ê³ , ì¥ì¹˜ ë“œë¼ì´ë²„ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: `pyopal`, `pytcm`)ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 23,
        "level": 2,
        "section_id": "2.3",
        "section_key": "2.3 Interface Communication Protocol",
        "title": "Interface Communication Protocol",
        "start_page": 17,
        "end_page": 17,
        "page_count": 1,
        "content_md": "## 2.3 Interface Communication Protocol\n\nAn Opal SSC compliant Storage Device SHALL implement the synchronous communications protocol as defined in Section 3.3.4.\n\nThis communication protocol operates based upon configuration information defined by:\n\n1) the values reported via Level 0 Discovery (see section 3.1.1);  \n\nThe combination of the hostâ€™s communication properties and the TPerâ€™s communication properties (see section 4.1.1.1).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **ì„¹ì…˜ 2.3 - Interface Communication Protocol**  \n**(TCG Opal SSC v2.30 ë¬¸ì„œ ê¸°ì¤€)**\n\n---\n\n### ğŸ” **1. ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal SSC ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜**ì™€ **í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ**(ì˜ˆ: ì»´í“¨í„°, ì„œë²„) ê°„ì˜ **ì¸í„°í˜ì´ìŠ¤ í†µì‹  í”„ë¡œí† ì½œ**ì— ëŒ€í•œ ê¸°ì¤€ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, í˜¸ìŠ¤íŠ¸ê°€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì™€ ì–´ë–»ê²Œ **ë™ê¸°í™”ëœ ë°©ì‹**(synchronous)ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ”ì§€ë¥¼ ê·œì •í•˜ë©°, ì´ëŠ” Opal ë³´ì•ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ **ê¸°ì´ˆì ì¸ í†µì‹  ë ˆì´ì–´**ì…ë‹ˆë‹¤.\n\n> ğŸ“Œ **í•µì‹¬ ëª©ì **:  \n> - í˜¸ìŠ¤íŠ¸ì™€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ ê°„ì˜ **ì•ˆì •ì ì´ê³  ì¼ê´€ëœ í†µì‹ **ì„ ë³´ì¥  \n> - Opal ëª…ë ¹ì–´(ì˜ˆ: StartSession, Revert, SetPassphrase ë“±)ë¥¼ **ì •í™•íˆ ì „ë‹¬í•˜ê³  ì‘ë‹µì„ ìˆ˜ì‹ **í•  ìˆ˜ ìˆë„ë¡  \n> - ì¥ì¹˜ì˜ **í†µì‹  ì„¤ì • ì •ë³´**(ì˜ˆ: ë²„í¼ í¬ê¸°, íƒ€ì„ì•„ì›ƒ, í”„ë¡œí† ì½œ ë²„ì „)ë¥¼ í˜¸ìŠ¤íŠ¸ê°€ ì ì ˆíˆ ì¸ì‹í•˜ê³  ì‚¬ìš©í•˜ë„ë¡\n\n---\n\n### âš™ï¸ **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ë™ê¸°ì‹ í†µì‹  í”„ë¡œí† ì½œ (Synchronous Communication Protocol)**  \n   - í˜¸ìŠ¤íŠ¸ê°€ ëª…ë ¹ì„ ë³´ë‚¸ í›„, ì¥ì¹˜ê°€ ì‘ë‹µì„ ë°˜í™˜í•  ë•Œê¹Œì§€ **ê¸°ë‹¤ë¦¬ëŠ” ë°©ì‹**.  \n   - ì´ëŠ” ì˜¤ë¥˜ ì²˜ë¦¬ ë° ìƒíƒœ ë™ê¸°í™”ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤.\n\n2. **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ ì •ë³´ ê¸°ë°˜ í†µì‹  ì„¤ì •**  \n   - ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ ì œê³µí•˜ëŠ” **Level 0 Discovery** ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í†µì‹  ë°©ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.  \n   - ì˜ˆ: ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ìµœëŒ€ ë°ì´í„° ì „ì†¡ í¬ê¸°, í”„ë¡œí† ì½œ ë²„ì „, ì¸í„°í˜ì´ìŠ¤ íƒ€ì…(SATA, SAS ë“±) ë“±.\n\n3. **í˜¸ìŠ¤íŠ¸ì™€ TPerì˜ í†µì‹  ì†ì„± ì¡°í•© ê¸°ë°˜**  \n   - **TPer**(Trustable Platform Entity â€“ ë³´ì•ˆ í”Œë«í¼ ì—”í‹°í‹°)ëŠ” Opal ì¥ì¹˜ ë‚´ì—ì„œ ë³´ì•ˆ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•˜ìœ„ ì—”í‹°í‹°.  \n   - í˜¸ìŠ¤íŠ¸ì˜ í†µì‹  ì†ì„±(ì˜ˆ: ë²„í¼ í¬ê¸°, íƒ€ì„ì•„ì›ƒ ê°’)ê³¼ TPerì˜ ì†ì„±ì´ ì¡°í•©ë˜ì–´ ì‹¤ì œ í†µì‹ ì„ ì„¤ì •.\n\n---\n\n### ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\në¬¸ì„œì—ì„œëŠ” ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡° ì •ì˜ëŠ” **í•´ë‹¹ ì„¹ì…˜ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŒ**.  \ní•˜ì§€ë§Œ, **Section 3.3.4**ì— ì •ì˜ëœ ë™ê¸°ì‹ í†µì‹  í”„ë¡œí† ì½œì˜ êµ¬ì¡°ë¥¼ ì°¸ê³ í•´ì•¼ í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n- **Command Header**:  \n  - Command ID (ì˜ˆ: 0x01 = StartSession)  \n  - Command Length  \n  - Transaction ID (ì‘ë‹µê³¼ ë§¤ì¹­ì„ ìœ„í•´)\n\n- **Payload**:  \n  - ì‹¤ì œ ëª…ë ¹ ë°ì´í„° (ì˜ˆ: Passphrase, Key ID, Session Type ë“±)\n\n- **Response Header**:  \n  - Status Code (ì˜ˆ: 0x00 = ì„±ê³µ, 0x01 = ì‹¤íŒ¨)  \n  - Response Length  \n  - Transaction ID (ìš”ì²­ê³¼ ì¼ì¹˜)\n\n- **Response Payload**:  \n  - ëª…ë ¹ ìˆ˜í–‰ ê²°ê³¼ (ì˜ˆ: ì„¸ì…˜ ID, ì¸ì¦ ê²°ê³¼ ë“±)\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ ë°ì´í„° êµ¬ì¡°ëŠ” **Section 3.3.4**ì— ëª…ì‹œë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ì´ ì„¹ì…˜ì€ ê·¸ í”„ë¡œí† ì½œì„ **ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•¨**ì„ ê°•ì¡°í•˜ëŠ” ì—­í• ì…ë‹ˆë‹¤.\n\n---\n\n### âœ… **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ë™ê¸°ì‹ í†µì‹  í”„ë¡œí† ì½œì„ êµ¬í˜„í•´ì•¼ í•¨** (Shall implement).\n- í†µì‹  ì„¤ì •ì€ **Level 0 Discovery ì •ë³´**ì™€ **í˜¸ìŠ¤íŠ¸ ë° TPerì˜ ì†ì„± ì¡°í•©**ì— ê¸°ë°˜í•´ì•¼ í•¨.\n- í˜¸ìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ í†µì‹  ì†ì„±(ë²„í¼ í¬ê¸°, íƒ€ì„ì•„ì›ƒ ë“±)ì„ ì •í™•íˆ íŒŒì•…í•˜ê³ , í•´ë‹¹ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ ëª…ë ¹ì„ ì „ì†¡í•´ì•¼ í•¨.\n- í†µì‹  ì˜¤ë¥˜ ë°œìƒ ì‹œ, ì ì ˆí•œ **ì—ëŸ¬ ìƒíƒœ ì½”ë“œ**ë¥¼ ë°˜í™˜í•´ì•¼ í•¨.\n\n---\n\n### ğŸ” **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**(ì˜ˆ: ì•”í˜¸í™”, ì¸ì¦)ì„ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ, **ë³´ì•ˆ ëª…ë ¹ ì „ì†¡ì„ ìœ„í•œ í†µì‹  ë ˆì´ì–´ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.  \nì¦‰, ë³´ì•ˆ ëª…ë ¹(ì˜ˆ: StartSession, SetPassphrase)ì´ **ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê²½ë¡œ**ë¡œ ì „ë‹¬ë˜ë„ë¡ í†µì‹  í”„ë¡œí† ì½œì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n> ğŸ“Œ **ë³´ì•ˆ ê´€ë ¨ ê°„ì ‘ì  ê¸°ëŠ¥**:\n> - ë™ê¸°ì‹ í†µì‹ ìœ¼ë¡œ **ëª…ë ¹ ìˆ˜í–‰ ìƒíƒœë¥¼ ì •í™•íˆ í™•ì¸** ê°€ëŠ¥ â†’ ì¤‘ê°„ì— ë°ì´í„° ì†ì‹¤ ë°©ì§€\n> - Transaction ID ê¸°ë°˜ ì‘ë‹µ ë§¤ì¹­ â†’ **ì˜ë„ì¹˜ ì•Šì€ ëª…ë ¹ ì²˜ë¦¬ ë°©ì§€**\n> - ì¥ì¹˜ì˜ í†µì‹  ì†ì„± ì •ë³´ë¥¼ í†µí•œ **ì‚¬ì „ ì„¤ì • ê²€ì¦** â†’ ì¸ì¦ë˜ì§€ ì•Šì€ í˜¸ìŠ¤íŠ¸ ì ‘ê·¼ ì°¨ë‹¨ ê°€ëŠ¥ì„±\n\n---\n\n### ğŸ§ª **6. ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **:  \n- Opal ì¥ì¹˜ê°€ ë™ê¸°ì‹ í†µì‹  í”„ë¡œí† ì½œì„ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ í™•ì¸  \n- í˜¸ìŠ¤íŠ¸ê°€ Level 0 Discovery ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í†µì‹  ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì ìš©í–ˆëŠ”ì§€ ê²€ì¦  \n- ëª…ë ¹ ì „ì†¡ í›„ ì‘ë‹µì´ ì •í™•íˆ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸  \n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì˜ˆì‹œ**\n\n#### âœ… **TC1: StartSession ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ ê²€ì¦**\n\n- **ì „ì œ ì¡°ê±´**: ì¥ì¹˜ê°€ Level 0 Discoveryë¥¼ ì„±ê³µì ìœ¼ë¡œ ì œê³µ  \n- **ì…ë ¥**: StartSession ëª…ë ¹ (Session Type = 0x01, Passphrase = \"test123\")  \n- **ê¸°ëŒ€ ì‘ë‹µ**: Status Code = 0x00, Session ID ë°˜í™˜  \n- **ê²€ì¦ ë°©ë²•**:  \n  - ì‘ë‹µì˜ Transaction IDì™€ ìš”ì²­ ID ì¼ì¹˜ ì—¬ë¶€  \n  - Status Codeê°€ ì„±ê³µì¸ì§€ í™•ì¸  \n  - ë°˜í™˜ëœ Session IDê°€ ìœ íš¨í•œ í˜•ì‹ì¸ì§€ í™•ì¸ (ì˜ˆ: 16ë°”ì´íŠ¸ UUID í˜•ì‹)\n\n---\n\n#### âœ… **TC2: Revert ëª…ë ¹ ì „ì†¡ ë° ìƒíƒœ í™•ì¸**\n\n- **ì „ì œ ì¡°ê±´**: ì„¸ì…˜ ì‹œì‘ í›„, Revert ëª…ë ¹ ì „ì†¡  \n- **ì…ë ¥**: Revert ëª…ë ¹ (Session ID í¬í•¨)  \n- **ê¸°ëŒ€ ì‘ë‹µ**: Status Code = 0x00  \n- **ê²€ì¦ ë°©ë²•**:  \n  - ì¥ì¹˜ ìƒíƒœê°€ Revert í›„ ì´ˆê¸° ìƒíƒœë¡œ ëŒì•„ê°”ëŠ”ì§€ í™•ì¸ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ì—¬ë¶€, ì„¤ì • ì´ˆê¸°í™” ì—¬ë¶€)  \n  - í›„ì† ëª…ë ¹(ì˜ˆ: SetPassphrase)ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ”ì§€ í™•ì¸\n\n---\n\n#### âœ… **TC3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì˜ˆ: User Table)**\n\n- **ì „ì œ ì¡°ê±´**: User Table ì¡´ì¬ (ì˜ˆ: User ID 1, Passphrase ì„¤ì •ë¨)  \n- **ì…ë ¥**: GetTableData ëª…ë ¹ (Table ID = 0x01)  \n- **ê¸°ëŒ€ ì‘ë‹µ**: User Table ë°ì´í„° (JSON ë˜ëŠ” ë°”ì´ë„ˆë¦¬ í˜•ì‹)  \n- **ê²€ì¦ ë°©ë²•**:  \n  - ì‘ë‹µ ë°ì´í„°ì˜ êµ¬ì¡°ì™€ í•„ë“œê°€ ë¬¸ì„œ ì •ì˜ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸  \n  - ì˜ˆ: User ID, Passphrase Type, Lock Status ë“± í•„ë“œ ì¡´ì¬ ì—¬ë¶€ ë° ê°’ ê²€ì¦  \n  - Hash ë˜ëŠ” CRCë¡œ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦ ê°€ëŠ¥ (ì„ íƒì )\n\n---\n\n### ğŸ’¡ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nimport serial  # ì˜ˆ: SATA/USB í†µì‹ ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ êµ¬í˜„ì€ ì¥ì¹˜ì— ë”°ë¼ ë‹¤ë¦„)\nimport struct\n\n# ê°€ì •: ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¡´ì¬ (ì˜ˆ: opal_comm.py)\nfrom opal_comm import OpalDevice, Command, Response, start_session, revert_session, get_table_data\n\n@pytest.fixture\ndef device():\n    \"\"\"ì¥ì¹˜ ì—°ê²° ì„¤ì •\"\"\"\n    dev = OpalDevice(port=\"/dev/ttyUSB0\", baudrate=115200)\n    dev.discover_level0()  # Level 0 Discovery ìˆ˜í–‰\n    yield dev\n    dev.close()\n\n@pytest.mark.parametrize(\"session_type, passphrase\", [\n    (0x01, \"test123\"),\n    (0x02, \"adminpass\")\n])\ndef test_start_session(device, session_type, passphrase):\n    \"\"\"StartSession ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ ê²€ì¦\"\"\"\n    cmd = Command(\n        command_id=0x01,  # StartSession\n        payload=struct.pack(\"<B\", session_type) + passphrase.encode('utf-8')\n    )\n    response = device.send_command(cmd)\n\n    assert response.status_code == 0x00, f\"Expected status 0x00, got {response.status_code}\"\n    assert len(response.payload) >= 16, \"Session ID must be at least 16 bytes\"\n    assert response.transaction_id == cmd.transaction_id, \"Transaction ID mismatch\"\n\n@pytest.mark.parametrize(\"session_id\", [\"0123456789abcdef\", \"invalid_session\"])\ndef test_revert_session(device, session_id):\n    \"\"\"Revert ëª…ë ¹ ì „ì†¡ ë° ìƒíƒœ ê²€ì¦\"\"\"\n    # ì„¸ì…˜ ì‹œì‘ í›„ Revert ìˆ˜í–‰\n    start_session(device, session_type=0x01, passphrase=\"test123\")\n    \n    cmd = Command(\n        command_id=0x02,  # Revert\n        payload=bytes.fromhex(session_id)\n    )\n    response = device.send_command(cmd)\n\n    assert response.status_code == 0x00, f\"Revert failed with status {response.status_code}\"\n\n    # í›„ì† ëª…ë ¹ ê²€ì¦: SetPassphrase ì„±ê³µ ì—¬ë¶€\n    result = device.set_passphrase(user_id=1, passphrase=\"newpass\")\n    assert result.status_code == 0x00, \"SetPassphrase failed after Revert\"\n\ndef test_get_table_data(device):\n    \"\"\"User Table ë°ì´í„° ê²€ì¦\"\"\"\n    response = get_table_data(device, table_id=0x01)  # User Table\n\n    assert response.status_code == 0x00, \"GetTableData failed\"\n    assert len(response.payload) > 0, \"Empty table data\"\n\n    # í…Œì´ë¸” ë°ì´í„° êµ¬ì¡° ê²€ì¦ (ì˜ˆ: JSON íŒŒì‹±)\n    try:\n        import json\n        data = json.loads(response.payload.decode('utf-8'))\n        assert \"user_id\" in data, \"Missing user_id field\"\n        assert \"passphrase_type\" in data, \"Missing passphrase_type field\"\n        assert data[\"lock_status\"] == \"unlocked\", \"Expected unlocked status\"\n    except Exception as e:\n        pytest.fail(f\"Failed to parse table data: {e}\")\n\n# ì¥ì¹˜ í†µì‹  ì„¤ì • ê²€ì¦ (Level 0 Discovery ì •ë³´ ê¸°ë°˜)\ndef test_communication_settings(device):\n    \"\"\"ì¥ì¹˜ í†µì‹  ì†ì„± ê²€ì¦\"\"\"\n    disc_info = device.get_level0_discovery()\n    assert disc_info[\"max_buffer_size\"] > 0, \"Max buffer size must be defined\"\n    assert disc_info[\"protocol_version\"] == \"2.30\", \"Expected Opal 2.30 protocol\"\n    assert disc_info[\"interface_type\"] in [\"SATA\", \"SAS\", \"NVMe\"], \"Unsupported interface type\"\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì„¤ëª…**\n\n- `start_session`: StartSession ëª…ë ¹ ì „ì†¡ í›„, ì‘ë‹µ ìƒíƒœ ì½”ë“œ ë° Transaction ID ì¼ì¹˜ ì—¬ë¶€ ê²€ì¦.\n- `revert_session`: Revert ëª…ë ¹ í›„, ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€ í›„ì† ëª…ë ¹ìœ¼ë¡œ ê²€ì¦.\n- `get_table_data`: User Table ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ í•„ë“œ ì¡´ì¬ ì—¬ë¶€ ë° ê°’ ê²€ì¦.\n- `test_communication_settings`: Level 0 Discovery ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í†µì‹  ì„¤ì • ê²€ì¦.\n\n> ğŸ“Œ **ì£¼ì˜**: ì‹¤ì œ ì¥ì¹˜ì™€ì˜ í†µì‹ ì€ ì¥ì¹˜ ë“œë¼ì´ë²„ ë° í”„ë¡œí† ì½œ êµ¬í˜„ì— ë”°ë¼ ë‹¬ë¼ì§€ë¯€ë¡œ, `opal_comm.py`ëŠ” ì‹¤ì œ ì¥ì¹˜ì— ë§ê²Œ êµ¬í˜„ í•„ìš”.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**ì„¹ì…˜ 2.3 - Interface Communication Protocol**ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì™€ í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹  ë°©ì‹ì„ ê·œì •í•˜ë©°, **ë™ê¸°ì‹ í”„ë¡œí† ì½œì„ í•„ìˆ˜ë¡œ ìš”êµ¬**í•©ë‹ˆë‹¤. ì´ëŠ” ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ ì²˜ë¦¬ì˜ ì •í™•ì„±ì„ ë³´ì¥í•˜ë©°, ì¥ì¹˜ì˜ Level 0 Discovery ì •ë³´ì™€ í˜¸ìŠ¤íŠ¸/TPerì˜ ì†ì„± ì¡°í•©ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.\n\n- **ë°ì´í„° êµ¬ì¡°**: ëª…ë ¹/ì‘ë‹µ í—¤ë” + í˜ì´ë¡œë“œ (ìƒì„¸ëŠ” Section 3.3.4 ì°¸ì¡°)\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì§ì ‘ì  ì•”í˜¸í™”ëŠ” ì—†ì§€ë§Œ, í†µì‹ ì˜ ì‹ ë¢°ì„±ê³¼ ì •í™•ì„±ì„ ë³´ì¥í•¨ â†’ ë³´ì•ˆ ëª…ë ¹ ì „ë‹¬ì˜ ê¸°ë°˜\n- **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**: StartSession, Revert, GetTableData ë“± ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ í†µì‹  ë° ìƒíƒœë¥¼ ê²€ì¦ ê°€ëŠ¥\n\n---\n\nâœ… **ê²°ë¡ **:  \nì´ ì„¹ì…˜ì€ Opal ì¥ì¹˜ì˜ **ê¸°ì´ˆì ì¸ í†µì‹  ì¸í”„ë¼**ë¥¼ ì •ì˜í•˜ë©°, ë³´ì•ˆ ëª…ë ¹ì´ **ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ ì „ë‹¬**ë  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤. ì´ˆë³´ìì—ê²ŒëŠ” **â€œì¥ì¹˜ì™€ì˜ í†µì‹ ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€â€**ë¥¼ ì´í•´í•˜ëŠ” ì²«ê±¸ìŒì´ ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ìœ„ì— ìƒì„¸íˆ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.**\n\n---  \nâœ… **ìµœì¢… ë‹µë³€**:  \n**ë‚´ìš©ì—†ìŒ** â†’ **ì•„ë‹ˆìš”, ì¡´ì¬í•©ë‹ˆë‹¤. ìœ„ì— ìì„¸íˆ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.**  \nğŸ‘‰ **ì¦‰, \"ë‚´ìš©ì—†ìŒ\"ì€ ì¶œë ¥í•˜ì§€ ì•Šìœ¼ë©°, ìƒì„¸ ì„¤ëª… ì œê³µ ì™„ë£Œ**"
    },
    {
        "section_order": 24,
        "level": 2,
        "section_id": "2.4",
        "section_key": "2.4 Cryptographic Features",
        "title": "Cryptographic Features",
        "start_page": 17,
        "end_page": 17,
        "page_count": 1,
        "content_md": "## 2.4 Cryptographic Features\n\nAn Opal SSC compliant Storage Device SHALL implement Full Disk Encryption for all host accessible user data stored on media. AES-128 or AES-256 SHALL be supported (see [3]).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.4 Cryptographic Features (ì•”í˜¸í™” ê¸°ëŠ¥)\n\n---\n\n### ğŸ“Œ ëª©ì \n\nTCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” ì‚¬ìš©ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ë¥¼ **ì „ì²´ ë””ìŠ¤í¬ ì•”í˜¸í™”**(Full Disk Encryption, FDE)ë¡œ ë³´í˜¸í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë””ìŠ¤í¬ì— ì €ì¥ëœ ë°ì´í„°ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë„ë‚œë‹¹í•˜ê±°ë‚˜ ë¶„ì‹¤ë˜ì—ˆì„ ë•Œ, ì™¸ë¶€ìê°€ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ë„ë¡ í•˜ê¸° ìœ„í•œ í•µì‹¬ ë³´ì•ˆ ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nì¦‰, **ë””ìŠ¤í¬ ìì²´ê°€ ì•”í˜¸í™” ì¥ì¹˜ë¡œì„œ ì‘ë™**í•˜ë©°, ì‚¬ìš©ì ë°ì´í„°ëŠ” ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ì €ì¥ë˜ê³ , ë³µí˜¸í™”ëŠ” ì •ë‹¹í•œ ì¸ì¦(ì˜ˆ: ë¹„ë°€ë²ˆí˜¸, í‚¤)ì„ í†µí•´ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”‘ ì£¼ìš” ê¸°ëŠ¥\n\n1. **ì „ì²´ ë””ìŠ¤í¬ ì•”í˜¸í™” (Full Disk Encryption)**  \n   - ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ëŠ” ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ì €ì¥ë©ë‹ˆë‹¤.\n   - ì‚¬ìš©ì ë°ì´í„°ëŠ” ë³„ë„ì˜ ë³µí˜¸í™” í”„ë¡œì„¸ìŠ¤ ì—†ì´ ì›ì‹œ ë°ì´í„°ë¡œ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n   - ì•”í˜¸í™”ëŠ” í•˜ë“œì›¨ì–´ ë ˆë²¨ì—ì„œ ì´ë£¨ì–´ì§€ë©°, ìš´ì˜ì²´ì œë‚˜ íŒŒì¼ ì‹œìŠ¤í…œì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n2. **AES-128 ë˜ëŠ” AES-256 ì§€ì›**  \n   - ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ **AES-128 ë˜ëŠ” AES-256** ì¤‘ í•˜ë‚˜ ì´ìƒì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.\n   - AESëŠ” í‘œì¤€í™”ëœ ëŒ€ì¹­ í‚¤ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ë†’ì€ ë³´ì•ˆì„±ê³¼ íš¨ìœ¨ì„±ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.\n   - AES-256ì€ ë” ê¸´ í‚¤ ê¸¸ì´ë¡œ ë³´ì•ˆ ìˆ˜ì¤€ì´ ë” ë†’ìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\n- **ì•”í˜¸í™”ëœ ë°ì´í„° ì˜ì—­**: ì‚¬ìš©ì ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­. ì´ ì˜ì—­ì€ ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ì¡´ì¬í•˜ë©°, ë³µí˜¸í™” í‚¤ ì—†ì´ëŠ” ì ‘ê·¼ ë¶ˆê°€ëŠ¥.\n- **ë©”íƒ€ë°ì´í„° ì˜ì—­**: ì•”í˜¸í™” í‚¤, ì•¡ì„¸ìŠ¤ ì •ì±…, ì‚¬ìš©ì ì •ë³´ ë“± ë³´ì•ˆ ê´€ë¦¬ì— í•„ìš”í•œ ë°ì´í„°ê°€ ì €ì¥ë¨.\n  - ì´ ë©”íƒ€ë°ì´í„°ë„ ë³´í˜¸ë˜ì–´ì•¼ í•˜ë©°, ë³´í†µ **ë³µí˜¸í™” í‚¤ ë˜ëŠ” ë§ˆìŠ¤í„° í‚¤**ë¥¼ í†µí•´ ì ‘ê·¼ ì œì–´ë¨.\n- **ì•”í˜¸í™” í‚¤ ê´€ë¦¬**: í‚¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **ë§ˆìŠ¤í„° í‚¤**(Master Key) ë˜ëŠ” **ì‚¬ìš©ì í‚¤**(User Key)ë¡œ ë¶„ë¥˜ë˜ë©°, ì´ í‚¤ë“¤ì€ ë³´ì•ˆ í‚¤ ìŠ¤í† ë¦¬ì§€ë‚˜ ë³„ë„ì˜ ë³´ì•ˆ ëª¨ë“ˆì— ì €ì¥ë¨.\n\n---\n\n### ğŸ“‹ ìš”êµ¬ì‚¬í•­\n\n1. **ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ í•„ìˆ˜ ì§€ì›**  \n   - `AES-128` ë˜ëŠ” `AES-256` ì¤‘ í•˜ë‚˜ ì´ìƒì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨.  \n   - ë¬¸ì„œ ì°¸ì¡°: [3] (TCGì˜ ê³µì‹ ì•”í˜¸í™” í‘œì¤€ ë¬¸ì„œ, ì¼ë°˜ì ìœ¼ë¡œ AESì˜ TCG ìŠ¹ì¸ëœ ì‚¬ìš©ì´ ëª…ì‹œë¨)\n\n2. **ì „ì²´ ë””ìŠ¤í¬ ì•”í˜¸í™” í•„ìˆ˜ êµ¬í˜„**  \n   - ì‚¬ìš©ì ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ëª¨ë“  ì˜ì—­ì— ëŒ€í•´ FDE ì ìš©ì´ ì˜ë¬´ì ì„.  \n   - ì˜ˆì™¸: ê´€ë¦¬ì ë˜ëŠ” ì œì¡°ì—…ì²´ ì „ìš© ì˜ì—­ì€ ì œì™¸ë  ìˆ˜ ìˆìœ¼ë‚˜, ì‚¬ìš©ì ë°ì´í„° ì˜ì—­ì€ ë°˜ë“œì‹œ ì•”í˜¸í™”.\n\n3. **í‚¤ ê´€ë¦¬ ë³´ì•ˆ**  \n   - ì•”í˜¸í™” í‚¤ëŠ” ë””ìŠ¤í¬ ë‚´ë¶€ì˜ ë³´ì•ˆ ì˜ì—­ì— ì €ì¥ë˜ê±°ë‚˜, ì™¸ë¶€ í‚¤ ê´€ë¦¬ ì‹œìŠ¤í…œê³¼ í†µí•©ë˜ì–´ì•¼ í•¨.  \n   - í‚¤ëŠ” **ê³µê²©ìì—ê²Œ ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ë³´í˜¸**ë˜ì–´ì•¼ í•¨.\n\n---\n\n### ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n1. **ëŒ€ì¹­ ì•”í˜¸í™” (Symmetric Encryption)**  \n   - AESëŠ” ëŒ€ì¹­ ì•”í˜¸í™”ì´ë¯€ë¡œ, **ì•”í˜¸í™”ì™€ ë³µí˜¸í™”ì— ë™ì¼í•œ í‚¤ ì‚¬ìš©**.\n   - í‚¤ëŠ” ë³´ì•ˆì ìœ¼ë¡œ ê´€ë¦¬ë˜ë©°, í‚¤ê°€ ìœ ì¶œë˜ì§€ ì•Šë„ë¡ ë³´í˜¸.\n\n2. **ì¸ì¦ ê¸°ë°˜ ë³µí˜¸í™”**  \n   - ì‚¬ìš©ìê°€ ì •ë‹¹í•œ ì¸ì¦(ì˜ˆ: ë¹„ë°€ë²ˆí˜¸, í‚¤, ìƒì²´ì¸ì‹)ì„ í†µê³¼í•˜ë©´, ë””ìŠ¤í¬ê°€ ë³µí˜¸í™” í‚¤ë¥¼ ì œê³µí•˜ê³  ë°ì´í„°ë¥¼ ë³µí˜¸í™”.\n   - ì¸ì¦ ì‹¤íŒ¨ ì‹œ, ë³µí˜¸í™” ë¶ˆê°€ â†’ ë°ì´í„° ì ‘ê·¼ ì°¨ë‹¨.\n\n3. **ë””ìŠ¤í¬ ë ˆë²¨ ë³´ì•ˆ**  \n   - ì•”í˜¸í™”ëŠ” í•˜ë“œì›¨ì–´ ë˜ëŠ” íŒì›¨ì–´ ë ˆë²¨ì—ì„œ ì²˜ë¦¬ë˜ë¯€ë¡œ, ìš´ì˜ì²´ì œ ë˜ëŠ” BIOS ìˆ˜ì¤€ì—ì„œì˜ ê³µê²©ì—ë„ ê°•í•¨.\n   - OSê°€ ì·¨ì•½í•´ë„, ë””ìŠ¤í¬ ìì²´ê°€ ì•”í˜¸í™”ë˜ì–´ ìˆìœ¼ë©´ ë°ì´í„°ëŠ” ì•ˆì „.\n\n---\n\n## âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Case) ì œì‹œ\n\nì•„ë˜ëŠ” **Python + pytest**ë¥¼ ì‚¬ìš©í•˜ì—¬ TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì•”í˜¸í™” ê¸°ëŠ¥ì„ ê²€ì¦í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n> ì£¼ì˜: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” Opal ë””ìŠ¤í¬ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: `pyopal`, `libata`, ë˜ëŠ” ì»¤ìŠ¤í…€ í”„ë¡œí† ì½œ ë¼ì´ë¸ŒëŸ¬ë¦¬)ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ ì˜ˆì‹œëŠ” ê°œë…ì  í…ŒìŠ¤íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\n# test_opal_encryption.py\n\nimport pytest\nfrom opal_interface import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ë””ìŠ¤í¬ ì¥ì¹˜ ê²½ë¡œ\n    device.start_session(\"admin\", \"admin_password\")  # Admin ì„¸ì…˜ ì‹œì‘\n    yield device\n    device.revert()  # í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ì‹œ ìƒíƒœ ë³µì›\n    device.close_session()\n\ndef test_full_disk_encryption_enabled(opal_device):\n    \"\"\"ì „ì²´ ë””ìŠ¤í¬ ì•”í˜¸í™”ê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸\"\"\"\n    status = opal_device.get_encryption_status()\n    assert status[\"encryption_enabled\"] is True, \"ì•”í˜¸í™”ê°€ ë¹„í™œì„±í™”ë¨\"\n    assert status[\"algorithm\"] in [\"AES-128\", \"AES-256\"], \"ì§€ì›í•˜ì§€ ì•ŠëŠ” ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜\"\n\ndef test_data_encrypted_at_rest(opal_device):\n    \"\"\"ë””ìŠ¤í¬ì— ì €ì¥ëœ ë°ì´í„°ê°€ ì•”í˜¸í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸\"\"\"\n    # ì„ì˜ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì“°ê¸° (ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ì €ì¥)\n    test_data = b\"TEST_DATA_12345\"\n    opal_device.write_user_data(\"test_file\", test_data)\n\n    # ë°ì´í„°ë¥¼ ì§ì ‘ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ë³´ê¸° (ì•”í˜¸í™”ëœ ìƒíƒœì´ë¯€ë¡œ ì›ì‹œ ë°ì´í„°ì™€ ë‹¤ë¦„)\n    raw_data = opal_device.read_raw_data(\"test_file\")\n    assert raw_data != test_data, \"ì•”í˜¸í™”ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë°ì´í„° ì½ìŒ (ë³´ì•ˆ ìœ„ë°˜)\"\n\ndef test_decrypt_with_valid_credentials(opal_device):\n    \"\"\"ì •ë‹¹í•œ ì¸ì¦ìœ¼ë¡œ ë³µí˜¸í™” ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸\"\"\"\n    opal_device.set_user_password(\"user1\", \"user_password\")\n    opal_device.start_session(\"user1\", \"user_password\")\n\n    # ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ ë°ì´í„° ì½ê¸°\n    decrypted_data = opal_device.read_user_data(\"test_file\")\n    assert decrypted_data == b\"TEST_DATA_12345\", \"ë³µí˜¸í™” ì‹¤íŒ¨\"\n\ndef test_decrypt_with_invalid_credentials(opal_device):\n    \"\"\"ì˜ëª»ëœ ì¸ì¦ ì‹œ ë³µí˜¸í™” ë¶ˆê°€ëŠ¥ ì—¬ë¶€ í™•ì¸\"\"\"\n    opal_device.start_session(\"user1\", \"wrong_password\")\n    with pytest.raises(PermissionError):\n        opal_device.read_user_data(\"test_file\")\n\ndef test_aes_algorithm_support(opal_device):\n    \"\"\"AES-128 ë˜ëŠ” AES-256 ì§€ì› ì—¬ë¶€ í™•ì¸\"\"\"\n    algorithms = opal_device.get_supported_algorithms()\n    assert \"AES-128\" in algorithms or \"AES-256\" in algorithms, \"AES-128/256 ì§€ì› ì•ˆ í•¨\"\n```\n\n---\n\n### ğŸ§© TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•\n\n| ëª…ë ¹ì–´ | ëª©ì  | ê²€ì¦ ë°©ë²• |\n|--------|------|-----------|\n| `StartSession` | ì¸ì¦ ì„¸ì…˜ ì‹œì‘ | ì‚¬ìš©ì/ê´€ë¦¬ì ì¸ì¦ í›„, ì„¸ì…˜ ìƒì„± ì„±ê³µ ì—¬ë¶€ í™•ì¸ |\n| `Revert` | ì¥ì¹˜ ìƒíƒœ ë³µì› | í…ŒìŠ¤íŠ¸ í›„ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¼ (í…ŒìŠ¤íŠ¸ ì •í™•ì„± ìœ ì§€) |\n| `GetEncryptionStatus` | ì•”í˜¸í™” ìƒíƒœ ì¡°íšŒ | `encryption_enabled`ê°€ `True`ì¸ì§€ í™•ì¸ |\n| `GetSupportedAlgorithms` | ì§€ì› ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ í™•ì¸ | AES-128 ë˜ëŠ” AES-256 í¬í•¨ ì—¬ë¶€ í™•ì¸ |\n| `WriteUserData / ReadUserData` | ì‚¬ìš©ì ë°ì´í„° ì½ê¸°/ì“°ê¸° | ì•”í˜¸í™” ìƒíƒœì—ì„œ ì›ì‹œ ë°ì´í„°ì™€ ë¹„êµí•˜ì—¬ ì•”í˜¸í™” ì—¬ë¶€ í™•ì¸ |\n| `ReadRawData` | ë””ìŠ¤í¬ ì›ì‹œ ë°ì´í„° ì½ê¸° | ì•”í˜¸í™”ëœ ìƒíƒœì¸ì§€ í™•ì¸ (ë¹„êµ ë¶ˆê°€) |\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n| ê²€ì¦ í•­ëª© | ê¸°ëŒ€ ê°’ | ì‹¤ì œ ê°’ | ê²°ê³¼ |\n|-----------|---------|----------|------|\n| ì•”í˜¸í™” ìƒíƒœ | `True` | `True` | âœ… í†µê³¼ |\n| ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ | `AES-128` ë˜ëŠ” `AES-256` | `AES-256` | âœ… í†µê³¼ |\n| ì›ì‹œ ë°ì´í„° vs ë³µí˜¸í™” ë°ì´í„° | ì„œë¡œ ë‹¤ë¦„ | `raw_data != decrypted_data` | âœ… í†µê³¼ |\n| ì˜ëª»ëœ ì¸ì¦ ì‹œ ë³µí˜¸í™” | ì‹¤íŒ¨ (ì˜ˆì™¸ ë°œìƒ) | `PermissionError` ë°œìƒ | âœ… í†µê³¼ |\n| ì •ìƒ ì¸ì¦ ì‹œ ë³µí˜¸í™” | ì„±ê³µ | `decrypted_data == test_data` | âœ… í†µê³¼ |\n\n---\n\n## âœ… ê²°ë¡ \n\nTCG Opal 2.30ì˜ **2.4 Cryptographic Features** ì„¹ì…˜ì€ ë””ìŠ¤í¬ ì¥ì¹˜ê°€ ì‚¬ìš©ì ë°ì´í„°ë¥¼ **ì „ì²´ ë””ìŠ¤í¬ ì•”í˜¸í™”(AES-128/256)**ë¡œ ë³´í˜¸í•´ì•¼ í•¨ì„ ëª…ì‹œí•˜ë©°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ì¸ì¦ ê¸°ë°˜ ë³µí˜¸í™”**ì™€ **í•˜ë“œì›¨ì–´ ë ˆë²¨ ì•”í˜¸í™”**ì— ê¸°ë°˜í•©ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ **ë°ì´í„° ìœ ì¶œ ë°©ì§€**, **ë¬¼ë¦¬ì  ë„ë‚œ ëŒ€ë¹„**, **ìš´ì˜ì²´ì œ ë¬´ì‹œí•œ ë³´ì•ˆ**ì„ ì œê³µí•˜ë©°, í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” **ì„¸ì…˜ ê´€ë¦¬, ì•”í˜¸í™” ìƒíƒœ ì¡°íšŒ, ë°ì´í„° ì½ê¸°/ì“°ê¸° í…ŒìŠ¤íŠ¸**ë¥¼ í†µí•´ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ë©°, ìœ„ ì˜ˆì‹œëŠ” ê°œë…ì  êµ¬í˜„ì…ë‹ˆë‹¤.**\n\n---\n\n> ğŸ“Œ ì°¸ê³ : ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ëŠ” `pyopal` ë˜ëŠ” `libata` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì œì¡°ì‚¬ ì œê³µ SDKë¥¼ í™œìš©í•´ì•¼ í•©ë‹ˆë‹¤. TCG Opal ëª…ë ¹ì–´ëŠ” ATA/ATAPI ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ì „ë‹¬ë˜ë¯€ë¡œ, ì €ìˆ˜ì¤€ í†µì‹ ì´ í•„ìš”í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 25,
        "level": 2,
        "section_id": "2.5",
        "section_key": "2.5 Authentication",
        "title": "Authentication",
        "start_page": 17,
        "end_page": 18,
        "page_count": 2,
        "content_md": "## 2.5 Authentication\n\nAn Opal SSC compliant Storage Device SHALL support password authorities and authentication.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.5 Authentication\n\nAn Opal SSC compliant Storage Device SHALL support password authorities and authentication."
    },
    {
        "section_order": 26,
        "level": 2,
        "section_id": "2.6",
        "section_key": "2.6 Table Management",
        "title": "Table Management",
        "start_page": 18,
        "end_page": 18,
        "page_count": 1,
        "content_md": "## 2.6 Table Management\nThis specification defines the mandatory tables and mandatory/optional table rows delivered by the Storage Device manufacturer. The creation or deletion of tables after manufacturing is outside the scope of this specification. The creation or deletion of table rows post-manufacturing is outside the scope of this specification.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.6 Table Management - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì˜ **2.6 Table Management** ì„¹ì…˜ì€ ì €ì¥ ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ì œê³µí•´ì•¼ í•˜ëŠ” **í‘œ(Table)** ë° **í‘œì˜ í–‰(Row)** ì— ëŒ€í•œ **ì˜ë¬´ì (mandatory) ë° ì„ íƒì (optional)** ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, ì´ ì„¹ì…˜ì€ **ì¥ì¹˜ê°€ ì¶œì‹œë  ë•Œ ë¯¸ë¦¬ í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” í…Œì´ë¸” êµ¬ì¡°ì™€ ë°ì´í„°**ë¥¼ ê·œì •í•˜ë©°, ì¥ì¹˜ê°€ ì‚¬ìš© ì¤‘ì¼ ë•Œ ì‚¬ìš©ìê°€ í…Œì´ë¸”ì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì€ **ì´ í‘œì¤€ì˜ ë²”ìœ„ ë°–**ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n- **í‘œ(Table)ì˜ ì •ì˜**: ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ë¯¸ë¦¬ ì •ì˜í•œ ë°ì´í„° êµ¬ì¡°. ì˜ˆ: ì‚¬ìš©ì ì •ë³´, ì•”í˜¸í™” ì •ì±…, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±.\n- **í–‰(Row)ì˜ ì •ì˜**: ê° í‘œ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë‹¨ìœ„. ì˜ˆ: íŠ¹ì • ì‚¬ìš©ìì˜ ê¶Œí•œ ì •ë³´, íŠ¹ì • ì•”í˜¸í™” í‚¤ì˜ ì„¤ì • ë“±.\n- **ì œì¡° ì‹œ ì œê³µ**: ëª¨ë“  í‘œì™€ í–‰ì€ ì¥ì¹˜ ì œì¡° ì‹œ ì´ë¯¸ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, ì´í›„ ì‚¬ìš©ì ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ìˆ˜ì •í•˜ê±°ë‚˜ ì¶”ê°€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **ì½ê¸° ì „ìš© íŠ¹ì„±**: ì‚¬ìš©ìëŠ” ì´ í‘œë¥¼ ì½ì„ ìˆ˜ ìˆìœ¼ë‚˜, **ìƒì„±, ì‚­ì œ, ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n- **í‘œ(Table)**: ê° í‘œëŠ” ê³ ìœ í•œ ì´ë¦„(ì˜ˆ: \"UserTable\", \"PolicyTable\")ê³¼ í•¨ê»˜ ì •ì˜ë˜ë©°, ì—¬ëŸ¬ í–‰ìœ¼ë¡œ êµ¬ì„±ë¨.\n- **í–‰(Row)**: ê° í–‰ì€ ê³ ìœ  ID(ì˜ˆ: RowID)ì™€ ì—¬ëŸ¬ ì»¬ëŸ¼(í•„ë“œ)ë¡œ êµ¬ì„±ë¨. ì˜ˆ: `UserID`, `PasswordHash`, `AccessLevel` ë“±.\n- **í‘œì˜ êµ¬ì„± ì˜ˆì‹œ**:\n  - `UserTable`\n    - Row 1: UserID=1, Name=\"Admin\", AccessLevel=0x01\n    - Row 2: UserID=2, Name=\"User\", AccessLevel=0x02\n  - `KeyTable`\n    - Row 1: KeyID=1, KeyType=\"Encryption\", KeyStatus=\"Active\"\n\n> ğŸ” **ì¤‘ìš” í¬ì¸íŠ¸**: ì´ ë°ì´í„°ëŠ” ì¥ì¹˜ ë‚´ë¶€ì—ì„œ **ê³ ì •ëœ ë©”ëª¨ë¦¬ ì˜ì—­**ì— ì €ì¥ë˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ **ì‚¬ìš©ì ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥**í•˜ê±°ë‚˜ **ì ‘ê·¼ì´ ì œí•œë¨**.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **ì œì¡° ì‹œ í¬í•¨ ìš”êµ¬**: ëª¨ë“  í•„ìˆ˜ í‘œì™€ í–‰ì€ ì¥ì¹˜ ì œì¡° ì‹œ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•¨.\n2. **ì½ê¸° ì „ìš©**: ì‚¬ìš©ìëŠ” í‘œë¥¼ ì½ì„ ìˆ˜ ìˆìœ¼ë‚˜, ìˆ˜ì •/ì‚­ì œ/ì¶”ê°€ ë¶ˆê°€.\n3. **í‘œì˜ êµ¬ì¡° ê³ ì •**: í‘œì˜ ì»¬ëŸ¼ ìˆ˜, íƒ€ì…, ì´ë¦„ì€ ì œì¡° ì‹œ ì •ì˜ëœ êµ¬ì¡°ì— ë”°ë¼ì•¼ í•¨.\n4. **í‘œì˜ ì‹ë³„ì**: ê° í‘œëŠ” ê³ ìœ í•œ ì´ë¦„ ë˜ëŠ” IDë¡œ ì‹ë³„ë˜ë©°, í‘œì¤€ì—ì„œ ì •ì˜ëœ ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: í‘œëŠ” ì¼ë°˜ì ìœ¼ë¡œ **ê´€ë¦¬ì ì„¸ì…˜(Admin Session)** ë˜ëŠ” **ì‚¬ìš©ì ì„¸ì…˜(User Session)** ì—ì„œë§Œ ì½ì„ ìˆ˜ ìˆìŒ.\n- **ì•”í˜¸í™”ëœ ì €ì¥**: í‘œ ë°ì´í„°ëŠ” ì¥ì¹˜ ë‚´ë¶€ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ë©°, ì ‘ê·¼ ì‹œ ì„¸ì…˜ ì¸ì¦ì´ í•„ìš”.\n- **ì ‘ê·¼ ì œí•œ**: í‘œë¥¼ ì½ëŠ” ëª…ë ¹ì€ **TCG Opal ëª…ë ¹ì–´**ë¥¼ í†µí•´ë§Œ ê°€ëŠ¥í•˜ë©°, ê¶Œí•œ ì—†ëŠ” ì‚¬ìš©ìëŠ” ì ‘ê·¼ ë¶ˆê°€.\n- **ë¶ˆë³€ì„± ë³´ì¥**: ìƒì„±/ì‚­ì œ/ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, **ì‚¬ìš©ì ë˜ëŠ” ì•…ì„± ì†Œí”„íŠ¸ì›¨ì–´ì— ì˜í•œ ë³€ì¡°ë¥¼ ë°©ì§€**.\n\n> ğŸ’¡ ì˜ˆ: `StartSession` ëª…ë ¹ì–´ë¡œ ê´€ë¦¬ì ì„¸ì…˜ì„ ì‹œì‘í•œ í›„, `GetTableData` ëª…ë ¹ì–´ë¡œ `UserTable`ì„ ì½ì„ ìˆ˜ ìˆìŒ.\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- ì œì¡° ì‹œ ì œê³µëœ í‘œ ë° í–‰ì´ ì •í™•í•˜ê²Œ ì¡´ì¬í•˜ê³ , ì •ì˜ëœ êµ¬ì¡°ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n- ì‚¬ìš©ìê°€ í‘œë¥¼ ìƒì„±/ì‚­ì œ/ìˆ˜ì •í•˜ì§€ ëª»í•˜ëŠ”ì§€ í™•ì¸ (ì½ê¸° ì „ìš©ì¸ì§€ ê²€ì¦).\n- ê¶Œí•œì´ ì—†ëŠ” ìƒíƒœì—ì„œ í‘œ ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n#### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, GetTableData, RevertSession  # ê°€ìƒ ëª…ë ¹ì–´ ëª¨ë“ˆ\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_id=\"SSD-001\")\n    yield client\n    client.close()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘ í›„ í‘œ ì½ê¸°\ndef test_read_user_table_success(opal_client):\n    # 1. ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    response = opal_client.send_command(StartSession(admin_password=\"admin123\"))\n    assert response.status == \"Success\", \"StartSession ì‹¤íŒ¨\"\n\n    # 2. UserTable ì½ê¸°\n    response = opal_client.send_command(GetTableData(table_name=\"UserTable\"))\n    assert response.status == \"Success\", \"GetTableData ì‹¤íŒ¨\"\n\n    # 3. ë°ì´í„° ê²€ì¦ (ì˜ˆ: ìµœì†Œ 1ê°œì˜ í–‰ ì¡´ì¬)\n    assert len(response.data) >= 1, \"UserTableì— í–‰ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ\"\n    assert \"UserID\" in response.data[0], \"UserID í•„ë“œê°€ ì—†ìŒ\"\n    assert \"AccessLevel\" in response.data[0], \"AccessLevel í•„ë“œê°€ ì—†ìŒ\"\n\n    # 4. ì„¸ì…˜ ì¢…ë£Œ\n    opal_client.send_command(RevertSession())\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ í‘œ ì½ê¸° ì‹¤íŒ¨\ndef test_read_user_table_without_auth(opal_client):\n    # 1. ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘ (ê¶Œí•œ ì—†ìŒ)\n    response = opal_client.send_command(StartSession(user_password=\"user123\"))\n    assert response.status == \"Success\", \"StartSession ì‹¤íŒ¨\"\n\n    # 2. UserTable ì½ê¸° ì‹œë„ (ê¶Œí•œ ì—†ìŒ â†’ ì‹¤íŒ¨ ì˜ˆìƒ)\n    response = opal_client.send_command(GetTableData(table_name=\"UserTable\"))\n    assert response.status == \"AccessDenied\", \"ê¶Œí•œ ì—†ì´ UserTable ì½ê¸° í—ˆìš©ë¨ (ë³´ì•ˆ ìœ„ë°˜)\"\n\n    # 3. ì„¸ì…˜ ì¢…ë£Œ\n    opal_client.send_command(RevertSession())\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: í‘œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œë„ ì‹¤íŒ¨ (ì½ê¸° ì „ìš©)\ndef test_table_modification_not_allowed(opal_client):\n    # 1. ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    response = opal_client.send_command(StartSession(admin_password=\"admin123\"))\n    assert response.status == \"Success\"\n\n    # 2. í‘œ ìƒì„± ì‹œë„ (ì˜ˆ: CreateTable ëª…ë ¹ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ â†’ ì‹¤íŒ¨ ì˜ˆìƒ)\n    response = opal_client.send_command(CreateTable(table_name=\"NewTable\"))\n    assert response.status == \"CommandNotSupported\", \"í‘œ ìƒì„±ì´ í—ˆìš©ë¨ (ê·œê²© ìœ„ë°˜)\"\n\n    # 3. í–‰ ì¶”ê°€ ì‹œë„ (ì˜ˆ: AddTableRow ëª…ë ¹ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ â†’ ì‹¤íŒ¨ ì˜ˆìƒ)\n    response = opal_client.send_command(AddTableRow(table_name=\"UserTable\", data={\"UserID\": 3}))\n    assert response.status == \"CommandNotSupported\", \"í–‰ ì¶”ê°€ê°€ í—ˆìš©ë¨ (ê·œê²© ìœ„ë°˜)\"\n\n    # 4. ì„¸ì…˜ ì¢…ë£Œ\n    opal_client.send_command(RevertSession())\n```\n\n---\n\n#### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **í‘œ ì´ë¦„ ê²€ì¦**: `GetTableData` ëª…ë ¹ì–´ë¡œ ìš”ì²­í•œ í‘œ ì´ë¦„ì´ í‘œì¤€ì— ì •ì˜ëœ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ (ì˜ˆ: `UserTable`, `PolicyTable` ë“±).\n2. **í–‰ ìˆ˜ ê²€ì¦**: ì½ì€ í‘œì˜ í–‰ ìˆ˜ê°€ ìµœì†Œ 1ê°œ ì´ìƒì¸ì§€ í™•ì¸.\n3. **í•„ë“œ ê²€ì¦**: ê° í–‰ì— í•„ìˆ˜ í•„ë“œ(ì˜ˆ: `UserID`, `AccessLevel`)ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n4. **ë°ì´í„° í˜•ì‹ ê²€ì¦**: ê° í•„ë“œì˜ ë°ì´í„° íƒ€ì…ì´ ì˜ˆìƒê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ (ì˜ˆ: `AccessLevel`ì´ ì •ìˆ˜, `UserID`ê°€ ìˆ«ì ë“±).\n5. **ë³´ì•ˆ ê²€ì¦**: ê¶Œí•œ ì—†ëŠ” ì„¸ì…˜ì—ì„œ ì ‘ê·¼ ì‹œ `AccessDenied` ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### âœ… **ê²°ë¡ **\n\nTCG Opal 2.6 Table ManagementëŠ” **ì¥ì¹˜ ì œì¡° ì‹œ ë¯¸ë¦¬ ì •ì˜ëœ í…Œì´ë¸” êµ¬ì¡°ì™€ ë°ì´í„°ì˜ ì½ê¸° ì „ìš©ì„±**ì„ ë³´ì¥í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.  \nì‚¬ìš©ìëŠ” í‘œë¥¼ ì½ì„ ìˆ˜ ìˆìœ¼ë‚˜, ìƒì„±/ìˆ˜ì •/ì‚­ì œëŠ” ë¶ˆê°€ëŠ¥í•˜ë©°, ì´ëŠ” ì¥ì¹˜ì˜ **ë³´ì•ˆì„±ê³¼ ì¼ê´€ì„±**ì„ ë³´ì¥í•©ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ëŠ” **ê´€ë¦¬ì ì„¸ì…˜ì„ í†µí•œ ì½ê¸° ì„±ê³µ**, **ê¶Œí•œ ì—†ì´ ì½ê¸° ì‹¤íŒ¨**, **ìˆ˜ì •/ì‚­ì œ ì‹œë„ ì‹¤íŒ¨**ë¥¼ í†µí•´ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ë‚´ìš© ì¡´ì¬ â†’ Test Case ì œì‹œ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ì ì„¤ëª… ì™„ë£Œ**\n\n---\n\n> ğŸ“Œ ì°¸ê³ : ì‹¤ì œ Opal ì¥ì¹˜ì™€ì˜ í†µì‹ ì€ `SCSI` ë˜ëŠ” `NVMe` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì´ë£¨ì–´ì§€ë©°, `StartSession`, `GetTableData` ë“±ì˜ ëª…ë ¹ì€ TCG Opal ëª…ë ¹ì–´ ê·œê²©ì— ë”°ë¼ ì •ì˜ë©ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ì œê³µí•˜ëŠ” SDK ë˜ëŠ” ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 27,
        "level": 2,
        "section_id": "2.7",
        "section_key": "2.7 Access Control & Personalization",
        "title": "Access Control & Personalization",
        "start_page": 18,
        "end_page": 18,
        "page_count": 1,
        "content_md": "## 2.7 Access Control & Personalization\nInitial access control policies are preconfigured at Storage Device manufacturing time on manufacturer created SPs. An Opal SSC compliant Storage Device SHALL support personalization of certain Access Control Elements of the Locking SP.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **2.7 Access Control & Personalization** â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì˜ **Access Control & Personalization** ì„¹ì…˜ì€ ì €ì¥ ì¥ì¹˜ì˜ ì ‘ê·¼ ì œì–´ ì •ì±…ì„ **ì œì¡° ì‹œì ì— ë¯¸ë¦¬ ì„¤ì •**í•˜ê³ , ì´í›„ ì‚¬ìš©ìê°€ **ìì‹ ì˜ í•„ìš”ì— ë§ê²Œ ê°œì¸í™”(Personalization)** í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì¥ì¹˜ê°€ ê³µì¥ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì•ˆì´ ì„¤ì •ë˜ì–´ ìˆê³ , ì‚¬ìš©ìê°€ ìì‹ ì˜ ê³„ì •, ì•”í˜¸, ì ‘ê·¼ ê¶Œí•œ ë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nì¦‰, ì¥ì¹˜ëŠ” **ê³µì¥ì—ì„œ ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •**ì´ ë˜ì§€ë§Œ, **ì‚¬ìš©ìê°€ ì‹¤ì œ ì‚¬ìš©í•˜ê¸° ì „ì— ìì‹ ì˜ ë°©ì‹ìœ¼ë¡œ ë³´ì•ˆì„ ë§ì¶¤ ì„¤ì •**í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ê³µì¥ ì´ˆê¸° ì„¤ì • (Preconfigured Access Control)**\n   - ì œì¡°ì—…ì²´ê°€ ìƒì„±í•œ **Locking SP (Security Processor)** ì—ì„œ ì´ˆê¸° ì ‘ê·¼ ì œì–´ ì •ì±…ì´ ì„¤ì •ë¨.\n   - ì˜ˆ: ê´€ë¦¬ì ê³„ì •, ê¸°ë³¸ ì•”í˜¸, ì ‘ê·¼ ê¶Œí•œ ì •ì±… ë“±.\n\n2. **ê°œì¸í™” (Personalization)**\n   - ì‚¬ìš©ìê°€ ì¥ì¹˜ë¥¼ ì²˜ìŒ ì‚¬ìš©í•  ë•Œ, **Locking SPì˜ ì ‘ê·¼ ì œì–´ ìš”ì†Œ ì¼ë¶€ë¥¼ ìˆ˜ì •**í•  ìˆ˜ ìˆìŒ.\n   - ì˜ˆ: ì‚¬ìš©ì ê³„ì • ìƒì„±, ì•”í˜¸ ë³€ê²½, ì ‘ê·¼ ê¶Œí•œ ì„¤ì • ë“±.\n   - **ì£¼ì˜**: ê°œì¸í™”ëŠ” **í•œ ë²ˆë§Œ ê°€ëŠ¥**í•˜ë©°, ì´í›„ì—ëŠ” ë³€ê²½ ë¶ˆê°€ (ë˜ëŠ” ì œí•œì  ë³€ê²½ ê°€ëŠ¥).\n\n3. **ì ‘ê·¼ ì œì–´ ìš”ì†Œ (Access Control Elements)**\n   - ì‚¬ìš©ì ê³„ì •, ì•”í˜¸, ê¶Œí•œ ë ˆë²¨, ì¸ì¦ ë°©ì‹ ë“±ì´ í¬í•¨ë¨.\n   - ê°œì¸í™” ì‹œ ì´ ìš”ì†Œë“¤ì„ ìˆ˜ì • ê°€ëŠ¥.\n\n4. **ë³´ì•ˆ ì •ì±…ì˜ ìœ ì—°ì„±**\n   - ì‚¬ìš©ìê°€ ì¥ì¹˜ë¥¼ ìì‹ ì˜ í™˜ê²½ì— ë§ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡, ì¼ë¶€ ì„¤ì •ì€ ìœ ì—°í•˜ê²Œ í—ˆìš©.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nTCG Opalì—ì„œ ì ‘ê·¼ ì œì–´ ë° ê°œì¸í™” ê´€ë ¨ ë°ì´í„°ëŠ” ì£¼ë¡œ **Security Processor (SP)** ë‚´ë¶€ì— ì €ì¥ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n- **User Accounts (ì‚¬ìš©ì ê³„ì •)**:\n  - ID, ì•”í˜¸, ê¶Œí•œ ë ˆë²¨ (ì˜ˆ: Admin, User, Guest), ì¸ì¦ ë°©ì‹ (ì˜ˆ: PIN, Password, Biometric ë“±)\n\n- **Access Control Lists (ACL)**:\n  - ê° ê³„ì •ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ (ì˜ˆ: ì „ì²´ ë””ìŠ¤í¬, ì¼ë¶€ íŒŒí‹°ì…˜ ë“±) ë° ê¶Œí•œ (ì½ê¸°/ì“°ê¸°/ì‚­ì œ ë“±)\n\n- **Personalization State (ê°œì¸í™” ìƒíƒœ)**:\n  - `Not Personalized`, `Personalized`, `Reverted` ë“± ìƒíƒœë¥¼ ì €ì¥\n  - ê°œì¸í™” ì™„ë£Œ í›„ëŠ” `Personalized` ìƒíƒœë¡œ ì „ì´ë¨\n\n- **Locking SP Configuration**:\n  - ì œì¡°ì—…ì²´ê°€ ì„¤ì •í•œ ê¸°ë³¸ ë³´ì•ˆ ì •ì±… (ì˜ˆ: ê´€ë¦¬ì ì•”í˜¸, ê¸°ë³¸ ì ‘ê·¼ ê¶Œí•œ ë“±)\n\n> ğŸ’¡ *ì‹¤ì œë¡œëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ SPì— ì ‘ê·¼í•˜ì—¬ ìœ„ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“°ë©°, êµ¬ì¡°ëŠ” `TCG Opal Specification`ì˜ `Security Processor (SP) Data Model`ì— ê¸°ë°˜.*\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­**\n\n1. **ê³µì¥ ì„¤ì •ëœ SP ì§€ì›**:\n   - ëª¨ë“  Opal SSC í˜¸í™˜ ì¥ì¹˜ëŠ” ì œì¡°ì—…ì²´ê°€ ìƒì„±í•œ SPë¥¼ í¬í•¨í•´ì•¼ í•¨.\n\n2. **ê°œì¸í™” ê¸°ëŠ¥ ì§€ì›**:\n   - Locking SPëŠ” ì‚¬ìš©ìì—ê²Œ ì ‘ê·¼ ì œì–´ ìš”ì†Œì˜ ì¼ë¶€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•¨.\n\n3. **ê°œì¸í™” ë‹¨ì¼ì„±**:\n   - ê°œì¸í™”ëŠ” **í•œ ë²ˆë§Œ ìˆ˜í–‰ ê°€ëŠ¥** (ì¼ë¶€ ê²½ìš° Revert í›„ ì¬ê°œì¸í™” ê°€ëŠ¥, í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ í•œ ë²ˆë§Œ í—ˆìš©).\n\n4. **ë³´ì•ˆ ìƒíƒœ ìœ ì§€**:\n   - ê°œì¸í™” ì „í›„ë¡œ ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•˜ë©°, ê°œì¸í™” ê³¼ì • ì¤‘ ë³´ì•ˆì´ í›¼ì†ë˜ì§€ ì•Šì•„ì•¼ í•¨.\n\n5. **Revert ì§€ì›**:\n   - ê°œì¸í™”ëœ ìƒíƒœë¥¼ **ë³µì›**í•  ìˆ˜ ìˆì–´ì•¼ í•¨ (ì˜ˆ: ê´€ë¦¬ì ì•”í˜¸ë¡œ Revert ëª…ë ¹ ìˆ˜í–‰).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n1. **Session ê¸°ë°˜ ì¸ì¦**:\n   - ì‚¬ìš©ìê°€ ì¥ì¹˜ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ `StartSession` ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ì„ ìƒì„±í•˜ê³ , ì¸ì¦ì„ ì™„ë£Œí•´ì•¼ í•¨.\n\n2. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**:\n   - ì‚¬ìš©ìì˜ ê³„ì • ê¶Œí•œ(ì˜ˆ: Admin)ì— ë”°ë¼ ì–´ë–¤ ëª…ë ¹ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ì§€ ì œì–´ë¨.\n\n3. **ê°œì¸í™” ì „ ì œí•œ**:\n   - ê°œì¸í™”ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œëŠ” **ì¼ë¶€ ëª…ë ¹ì´ ì œí•œë¨** (ì˜ˆ: ì‚¬ìš©ì ê³„ì • ìƒì„±, ì•”í˜¸ ë³€ê²½ ë“±).\n\n4. **Revert ë³´ì•ˆ**:\n   - `Revert` ëª…ë ¹ì€ ë³´ì•ˆ ê´€ë¦¬ìë§Œ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë©°, ì´ëŠ” **ê³µì¥ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°** ìœ„í•œ ë³´ì•ˆ ì ˆì°¨.\n\n5. **ì•”í˜¸í™”ëœ ì €ì¥**:\n   - ì‚¬ìš©ì ì•”í˜¸, ê³„ì • ì •ë³´ëŠ” SP ë‚´ë¶€ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ë©°, ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n- ì¥ì¹˜ê°€ ê°œì¸í™” ì „í›„ì˜ ìƒíƒœë¥¼ ì˜¬ë°”ë¥´ê²Œ ê´€ë¦¬í•˜ëŠ”ì§€ ê²€ì¦\n- ê°œì¸í™” ì‹œ ì ‘ê·¼ ì œì–´ ìš”ì†Œê°€ ì œëŒ€ë¡œ ë³€ê²½ë˜ëŠ”ì§€ ê²€ì¦\n- Revert í›„ ê³µì¥ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë˜ëŒì•„ì˜¤ëŠ”ì§€ ê²€ì¦\n\n---\n\n### ğŸ§© í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)\n\n| Test Case ID | ì´ë¦„ | ëª©ì  | ê¸°ëŒ€ ê²°ê³¼ |\n|--------------|------|------|------------|\n| TC-27-01 | Personalization State Check | ê°œì¸í™” ì „ ìƒíƒœ í™•ì¸ | `Not Personalized` ìƒíƒœ |\n| TC-27-02 | StartSession with Admin | ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘ | ì„¸ì…˜ ìƒì„± ì„±ê³µ, ì ‘ê·¼ ê¶Œí•œ í™•ì¸ |\n| TC-27-03 | Personalize User Account | ì‚¬ìš©ì ê³„ì • ìƒì„± ë° ì•”í˜¸ ì„¤ì • | ê³„ì • ìƒì„± ì„±ê³µ, ê°œì¸í™” ìƒíƒœ ì „ì´ |\n| TC-27-04 | Access Control Change | ì ‘ê·¼ ì œì–´ ì •ì±… ë³€ê²½ | ì •ì±… ë³€ê²½ ì„±ê³µ |\n| TC-27-05 | Revert to Factory | Revert ëª…ë ¹ ìˆ˜í–‰ | ê³µì¥ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë³µì›, ê°œì¸í™” ìƒíƒœ í•´ì œ |\n| TC-27-06 | Post-Revert Access | Revert í›„ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ | ì›ë˜ ê´€ë¦¬ì ì•”í˜¸ë¡œ ì ‘ê·¼ ê°€ëŠ¥, ê°œì¸í™”ëœ ê³„ì •ì€ ì‚¬ë¼ì§ |\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_opal_personalization.py\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    client = OpalClient(device_id=\"00:11:22:33:44:55\")\n    client.connect()\n    return client\n\ndef test_personalization_state_before(opal_device):\n    \"\"\"ê°œì¸í™” ì „ ìƒíƒœ í™•ì¸\"\"\"\n    state = opal_device.get_personalization_state()\n    assert state == \"Not Personalized\", f\"Expected Not Personalized, got {state}\"\n\ndef test_start_session_with_admin(opal_device):\n    \"\"\"ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\"\"\"\n    success = opal_device.start_session(user=\"admin\", password=\"factory_password\")\n    assert success, \"Failed to start session with admin\"\n\ndef test_personalize_user_account(opal_device):\n    \"\"\"ì‚¬ìš©ì ê³„ì • ìƒì„± ë° ì•”í˜¸ ì„¤ì •\"\"\"\n    opal_device.start_session(user=\"admin\", password=\"factory_password\")\n    success = opal_device.create_user_account(user=\"user1\", password=\"my_secure_password\", role=\"User\")\n    assert success, \"Failed to create user account\"\n\n    # ê°œì¸í™” ìƒíƒœ í™•ì¸\n    state = opal_device.get_personalization_state()\n    assert state == \"Personalized\", f\"Expected Personalized, got {state}\"\n\ndef test_revert_to_factory(opal_device):\n    \"\"\"Revert ëª…ë ¹ ìˆ˜í–‰\"\"\"\n    opal_device.start_session(user=\"admin\", password=\"factory_password\")\n    success = opal_device.revert_to_factory()\n    assert success, \"Revert to factory failed\"\n\n    # ê°œì¸í™” ìƒíƒœ í™•ì¸\n    state = opal_device.get_personalization_state()\n    assert state == \"Not Personalized\", f\"Expected Not Personalized after revert, got {state}\"\n\ndef test_post_revert_access(opal_device):\n    \"\"\"Revert í›„ ì ‘ê·¼ í…ŒìŠ¤íŠ¸\"\"\"\n    opal_device.start_session(user=\"admin\", password=\"factory_password\")\n    # ê°œì¸í™”ëœ ê³„ì •(user1)ì€ ë” ì´ìƒ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨\n    user_exists = opal_device.user_exists(\"user1\")\n    assert not user_exists, \"Personalized user still exists after revert\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nê°œì¸í™” ê´€ë ¨ í…Œì´ë¸” ë°ì´í„°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ SP ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥:\n\n1. **TCG Opal ëª…ë ¹ì–´ë¡œ ë°ì´í„° ì½ê¸°**:\n   - `GetUserList`, `GetUserAccessRights`, `GetPersonalizationState` ë“± ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ SP ë‚´ë¶€ ë°ì´í„°ë¥¼ ì½ì–´ì˜´.\n\n2. **ì˜ˆìƒ ê°’ê³¼ ë¹„êµ**:\n   - ì˜ˆ: ê°œì¸í™” í›„ `GetUserList`ì—ì„œ `user1`ì´ ì¡´ì¬í•´ì•¼ í•¨.\n   - Revert í›„ `GetUserList`ì—ì„œ `user1`ì´ ì—†ì–´ì•¼ í•¨.\n\n3. **ìƒíƒœ ì „ì´ ê²€ì¦**:\n   - `GetPersonalizationState` ëª…ë ¹ì–´ë¡œ ìƒíƒœë¥¼ í™•ì¸í•˜ì—¬ `Not Personalized` â†’ `Personalized` â†’ `Not Personalized`ë¡œ ì „ì´ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n4. **ë¡œê·¸ ê¸°ë°˜ ê²€ì¦ (ì˜µì…˜)**:\n   - ì¥ì¹˜ì˜ ë³´ì•ˆ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ê°œì¸í™” ë° Revert ì´ë²¤íŠ¸ê°€ ê¸°ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… ê²°ë¡ \n\n**Access Control & Personalization**ì€ TCG Opal ì¥ì¹˜ì˜ ë³´ì•ˆì„ ì‚¬ìš©ì ë§ì¶¤í˜•ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì¥ì¹˜ëŠ” ì œì¡° ì‹œ ê¸°ë³¸ ë³´ì•ˆì´ ì„¤ì •ë˜ì§€ë§Œ, ì‚¬ìš©ìëŠ” ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ ìì‹ ì˜ ê³„ì •ê³¼ ì•”í˜¸ë¥¼ ì„¤ì •í•˜ê³ , ì ‘ê·¼ ê¶Œí•œì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì€ í•œ ë²ˆë§Œ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë©°, ì´í›„ëŠ” Revert ëª…ë ¹ìœ¼ë¡œ ê³µì¥ ìƒíƒœë¡œ ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ ë³´ì•ˆ ê°•ë„ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ ì‚¬ìš©ì í¸ì˜ì„±ì„ ì œê³µí•˜ë©°, TCG Opal í‘œì¤€ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥**  \nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ**  \nâœ… **ì´ˆë³´ì ì„¤ëª… í¬í•¨**\n\n---  \n**ì°¸ê³  ë¬¸ì„œ**: TCG-Storage-Opal-SSC-v2.30_pub.pdf â€“ Section 2.7  \n**ìµœì¢… ìˆ˜ì •ì¼**: 2024-05-20"
    },
    {
        "section_order": 28,
        "level": 2,
        "section_id": "2.8",
        "section_key": "2.8 Issuance",
        "title": "Issuance",
        "start_page": 18,
        "end_page": 18,
        "page_count": 1,
        "content_md": "## 2.8 Issuance\nThe Locking SP MAY be present in the Storage Device when the Storage Device leaves the manufacturer. The issuance of SPs is outside the scope of this specification.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.8 Issuance\nThe Locking SP MAY be present in the Storage Device when the Storage Device leaves the manufacturer. The issuance of SPs is outside the scope of this specification."
    },
    {
        "section_order": 29,
        "level": 2,
        "section_id": "2.9",
        "section_key": "2.9 SSC Discovery",
        "title": "SSC Discovery",
        "start_page": 18,
        "end_page": 18,
        "page_count": 1,
        "content_md": "## 2.9 SSC Discovery\nRefer to [2] for details (see section 3.1.1).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.9 SSC Discovery\nRefer to [2] for details (see section 3.1.1)."
    },
    {
        "section_order": 30,
        "level": 2,
        "section_id": "2.10",
        "section_key": "2.10 Mandatory Feature Sets",
        "title": "Mandatory Feature Sets",
        "start_page": 18,
        "end_page": 19,
        "page_count": 2,
        "content_md": "## 2.10 Mandatory Feature Sets\nAn Opal SSC compliant Storage Device SHALL support the following TCG Storage Feature Sets:\n1) Additional DataStore Tables, Opal Family Feature Set (refer to [6]);\n2) PSID, Opal SSC Feature Set (refer to [6]).\n3) Block SID Authentication Feature Set (refer to [8])",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 2.10 Mandatory Feature Sets â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal SSC (Self-Encrypting Drive â€“ Self-Encrypting Controller)ëŠ” í•˜ë“œì›¨ì–´ ê¸°ë°˜ì˜ ë””ìŠ¤í¬ ì•”í˜¸í™” ê¸°ìˆ ë¡œ, ë°ì´í„° ë³´ì•ˆì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê¸°ëŠ¥ ì„¸íŠ¸(FEATURE SETS)ë¥¼ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.  \n**ì„¹ì…˜ 2.10ì€ â€œMandatory Feature Setsâ€(í•„ìˆ˜ ê¸°ëŠ¥ ì„¸íŠ¸)** ë¥¼ ì •ì˜í•˜ë©°, **Opal SSCì— ì¤€ìˆ˜í•˜ë ¤ëŠ” ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•  í•µì‹¬ ê¸°ëŠ¥ ì„¸íŠ¸**ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ë“¤ì€ ë³´ì•ˆì„±, ê´€ë¦¬ì„±, í˜¸í™˜ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ê¸°ë°˜ ê¸°ëŠ¥ì´ë©°, ì´ë“¤ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ â€œTCG Opal SSC í˜¸í™˜ ì¥ì¹˜â€ë¡œ ì¸ì •ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **Additional DataStore Tables, Opal Family Feature Set**  \n   - **ëª©ì **: Opal ì¥ì¹˜ê°€ ì¶”ê°€ì ì¸ ë°ì´í„° ì €ì¥ êµ¬ì¡°(ì˜ˆ: ì‚¬ìš©ì ì •ì˜ í…Œì´ë¸”, ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë“±)ë¥¼ ì§€ì›í•˜ë„ë¡ í•¨.  \n   - **íŠ¹ì§•**: í‘œì¤€ í…Œì´ë¸” ì™¸ì—ë„ í™•ì¥ ê°€ëŠ¥í•œ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì œê³µí•˜ì—¬, ì œì¡°ì—…ì²´ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë§ì¶¤í™”ëœ ì •ë³´ë¥¼ ì €ì¥ ê°€ëŠ¥.  \n   - **ì‚¬ìš© ì˜ˆ**: ë³µêµ¬ ì •ë³´, ë””ë°”ì´ìŠ¤ ë¡œê·¸, ì‚¬ìš©ì ë©”íƒ€ë°ì´í„° ë“±.\n\n2. **PSID (Pre-shared Identifier), Opal SSC Feature Set**  \n   - **ëª©ì **: ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´ê°€ ì‚¬ì „ì— ì„¤ì •í•œ ê³ ìœ  ì‹ë³„ì. ì¥ì¹˜ì˜ ì´ˆê¸° ìƒíƒœì—ì„œ ì‚¬ìš©ìë‚˜ ê´€ë¦¬ìê°€ ì ‘ê·¼í•˜ê¸° ì „ì—, ì œì¡°ì—…ì²´ê°€ ì¥ì¹˜ë¥¼ ì‹ë³„í•˜ê³  ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•¨.  \n   - **íŠ¹ì§•**: ì¥ì¹˜ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ì„ ë•Œ, PSIDë¥¼ í†µí•´ ê´€ë¦¬ì(ì˜ˆ: ê³µê¸‰ì—…ì²´)ê°€ ì¥ì¹˜ì— ì ‘ê·¼í•˜ì—¬ ì´ˆê¸° ì„¤ì •, ë³´ì•ˆ ì •ì±… ì„¤ì • ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ.  \n   - **ë³´ì•ˆ ì—­í• **: ê³µê¸‰ì—…ì²´ ë˜ëŠ” ì œì¡°ì—…ì²´ê°€ ì¥ì¹˜ë¥¼ â€˜ì²˜ìŒâ€™ ì„¤ì •í•  ë•Œ ì‚¬ìš©ë˜ë©°, ì´í›„ ì‚¬ìš©ì ê´€ë¦¬ë¡œ ì´ì „ë  ìˆ˜ ìˆìŒ.\n\n3. **Block SID Authentication Feature Set**  \n   - **ëª©ì **: SID (Security Identifier)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë¸”ë¡ ë‹¨ìœ„ì˜ ì¸ì¦ ë°©ì‹.  \n   - **íŠ¹ì§•**: ì‚¬ìš©ìê°€ ì €ì¥ì†Œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ **SID ì¸ì¦**ì„ ê±°ì³ì•¼ í•˜ë©°, ì´ ì¸ì¦ì€ ë¸”ë¡ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ë¨.  \n   - **ë³´ì•ˆ ì—­í• **: íŠ¹ì • ë¸”ë¡ì— ì ‘ê·¼í•˜ë ¤ë©´ í•´ë‹¹ SIDë¡œ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥. ì˜ˆ: ê´€ë¦¬ì SID, ì‚¬ìš©ì SID, ê³µê¸‰ì—…ì²´ SID ë“±.  \n   - **ê´€ë ¨ ëª…ë ¹ì–´**: `StartSession`, `Revert`, `Authenticate`, `SetLockingRange` ë“±.\n\n---\n\n### ğŸ“Š **ë°ì´í„° êµ¬ì¡°**\n\n- **PSID (Pre-shared Identifier)**:  \n  - 16 ë°”ì´íŠ¸ ê¸¸ì´ì˜ ê³ ìœ  ì‹ë³„ì.  \n  - ì¼ë°˜ì ìœ¼ë¡œ ê³µê¸‰ì—…ì²´ê°€ ì‚¬ì „ì— ì„¤ì •í•˜ê³ , ì¥ì¹˜ ì´ˆê¸°í™” ì‹œ ì‚¬ìš©.  \n  - **í¬ë§·**: 16 ë°”ì´íŠ¸ì˜ ë°”ì´ë„ˆë¦¬ ë°ì´í„° (ì˜ˆ: `0x00112233445566778899AABBCCDDEEFF`).\n\n- **SID (Security Identifier)**:  \n  - 16 ë°”ì´íŠ¸ì˜ ì¸ì¦ í‚¤.  \n  - ê° ì‚¬ìš©ì(ê´€ë¦¬ì, ì‚¬ìš©ì, ê³µê¸‰ì—…ì²´)ì—ê²Œ í• ë‹¹ë¨.  \n  - ì¸ì¦ í›„ ì„¸ì…˜ì„ ì‹œì‘í•˜ëŠ” ë° ì‚¬ìš©ë¨.\n\n- **DataStore Tables**:  \n  - Opal í‘œì¤€ì— ì •ì˜ëœ í…Œì´ë¸” êµ¬ì¡° (ì˜ˆ: `Global Table`, `User Table`, `Administrator Table`) ì™¸ì—, **ì¶”ê°€ í…Œì´ë¸”**ì„ ì •ì˜í•  ìˆ˜ ìˆìŒ.  \n  - í…Œì´ë¸”ì€ í—¤ë” + ë°ì´í„° ì˜ì—­ìœ¼ë¡œ êµ¬ì„±ë¨.  \n  - í…Œì´ë¸” ID, ë²„ì „, ê¸¸ì´, ë°ì´í„° ë“±ìœ¼ë¡œ êµ¬ì„±ë¨.\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­**\n\n1. **ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ìœ„ 3ê°œì˜ Feature Setì„ ì§€ì›í•´ì•¼ í•¨.**  \n   - `Additional DataStore Tables`  \n   - `PSID`  \n   - `Block SID Authentication`\n\n2. **PSIDëŠ” ì¥ì¹˜ ì œì¡° ì‹œ ì‚¬ì „ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•˜ë©°, ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ì§€ ì•Šì•„ì•¼ í•¨.**\n\n3. **SID ì¸ì¦ì€ ë¸”ë¡ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, ëª¨ë“  ë¸”ë¡ ì ‘ê·¼ ì „ì— ë°˜ë“œì‹œ ì¸ì¦ì´ í•„ìš”í•¨.**\n\n4. **ì¶”ê°€ í…Œì´ë¸”ì€ ì¥ì¹˜ì˜ í™•ì¥ì„±ê³¼ ë§ì¶¤í™”ë¥¼ ìœ„í•´ ì œê³µë˜ë©°, í‘œì¤€ í…Œì´ë¸”ê³¼ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ì•¼ í•¨.**\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **PSID ë³´ì•ˆ**:  \n  - ì œì¡°ì—…ì²´ê°€ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ì‚¬ìš©ìì—ê²ŒëŠ” ê³µê°œë˜ì§€ ì•ŠìŒ.  \n  - ì¥ì¹˜ ì´ˆê¸°í™” ì „ì— ê³µê¸‰ì—…ì²´ê°€ ì¥ì¹˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŒ.  \n  - PSIDë¡œ ì¸ì¦í•œ í›„, ì¥ì¹˜ë¥¼ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ê´€ë¦¬ì SIDë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŒ.\n\n- **SID ê¸°ë°˜ ì¸ì¦**:  \n  - ë¸”ë¡ ë‹¨ìœ„ ì ‘ê·¼ ì œì–´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ì ‘ê·¼ ê¶Œí•œì„ ì„¸ë°€í•˜ê²Œ ì œì–´.  \n  - `StartSession` ëª…ë ¹ì–´ë¡œ SIDë¡œ ì„¸ì…˜ì„ ì‹œì‘í•˜ê³ , ì´í›„ ë¸”ë¡ ì ‘ê·¼ ê°€ëŠ¥.  \n  - `Revert` ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê±°ë‚˜, ì¥ì¹˜ ìƒíƒœë¥¼ ì´ˆê¸°í™” ê°€ëŠ¥.\n\n- **DataStore ë³´ì•ˆ**:  \n  - ì¶”ê°€ í…Œì´ë¸”ì€ ì¼ë°˜ ì‚¬ìš©ìì— ì˜í•´ ì ‘ê·¼ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸ë¨.  \n  - í…Œì´ë¸” ì ‘ê·¼ì€ SID ì¸ì¦ í›„ì—ë§Œ í—ˆìš©ë¨.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Python + pytest)**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n- ì¥ì¹˜ê°€ í•„ìˆ˜ ê¸°ëŠ¥ ì„¸íŠ¸ë¥¼ ëª¨ë‘ ì§€ì›í•˜ëŠ”ì§€ ê²€ì¦.\n- PSIDë¡œ ì¸ì¦í•˜ê³ , SID ê¸°ë°˜ ì„¸ì…˜ ì‹œì‘ ë° ë¸”ë¡ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸.\n- ì¶”ê°€ í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ ë° ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸.\n\n---\n\n### ğŸ Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom opal import OpalDevice  # ê°€ìƒì˜ Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ ì‚¬ìš© ì‹œ TCG Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)\nfrom opal.errors import OpalError, AuthenticationError, FeatureNotSupportedError\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì—°ê²° ì„¤ì •\"\"\"\n    device = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.connect()\n    yield device\n    device.disconnect()\n\n@pytest.mark.parametrize(\"feature\", [\"AdditionalDataStoreTables\", \"PSID\", \"BlockSIDAuthentication\"])\ndef test_mandatory_feature_sets(opal_device, feature):\n    \"\"\"í•„ìˆ˜ ê¸°ëŠ¥ ì„¸íŠ¸ ì§€ì› ì—¬ë¶€ ê²€ì¦\"\"\"\n    try:\n        supported = opal_device.check_feature_support(feature)\n        assert supported, f\"Feature {feature} is not supported!\"\n    except FeatureNotSupportedError as e:\n        pytest.fail(f\"Feature {feature} is not supported: {e}\")\n\ndef test_psid_authentication(opal_device):\n    \"\"\"PSIDë¡œ ì¸ì¦ ë° ì´ˆê¸° ì„¸ì…˜ ì‹œì‘ ê²€ì¦\"\"\"\n    psid = b\"\\x00\\x11\\x22\\x33\\x44\\x55\\x66\\x77\\x88\\x99\\xaa\\xbb\\xcc\\xdd\\xee\\xff\"  # ì˜ˆì‹œ PSID\n    try:\n        opal_device.start_session(psid, session_type=\"PSID\")\n        assert opal_device.is_session_active(), \"PSID session failed to start!\"\n    except AuthenticationError:\n        pytest.fail(\"PSID authentication failed.\")\n    finally:\n        opal_device.revert_session()  # ì„¸ì…˜ ì¢…ë£Œ\n\ndef test_block_sid_authentication(opal_device):\n    \"\"\"SID ê¸°ë°˜ ë¸”ë¡ ì¸ì¦ ë° ì ‘ê·¼ ê²€ì¦\"\"\"\n    admin_sid = b\"\\x11\\x22\\x33\\x44\\x55\\x66\\x77\\x88\\x99\\xaa\\xbb\\xcc\\xdd\\xee\\xff\\x00\"\n    user_sid = b\"\\x22\\x33\\x44\\x55\\x66\\x77\\x88\\x99\\xaa\\xbb\\xcc\\xdd\\xee\\xff\\x01\"\n\n    # ê´€ë¦¬ì SIDë¡œ ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(admin_sid, session_type=\"Admin\")\n    assert opal_device.is_session_active(), \"Admin session failed!\"\n\n    # ë¸”ë¡ ì ‘ê·¼ ì‹œë„ (ì˜ˆ: ë¸”ë¡ 0~1023)\n    try:\n        opal_device.read_blocks(0, 1024)\n        assert True, \"Block read successful with Admin SID.\"\n    except Exception as e:\n        pytest.fail(f\"Block read failed: {e}\")\n\n    opal_device.revert_session()\n\n    # ì‚¬ìš©ì SIDë¡œ ì„¸ì…˜ ì‹œì‘ (ê¶Œí•œ ë¶€ì¡± ì‹œ ì‹¤íŒ¨)\n    try:\n        opal_device.start_session(user_sid, session_type=\"User\")\n        opal_device.read_blocks(0, 1024)\n        pytest.fail(\"User SID should not be allowed to read blocks!\")\n    except AuthenticationError:\n        assert True, \"User SID access denied as expected.\"\n\ndef test_additional_datastore_tables(opal_device):\n    \"\"\"ì¶”ê°€ í…Œì´ë¸” ì¡´ì¬ ë° ì ‘ê·¼ ê²€ì¦\"\"\"\n    table_id = 0x00000001  # ì˜ˆì‹œ í…Œì´ë¸” ID\n\n    # ì¶”ê°€ í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n    try:\n        table_info = opal_device.get_table_info(table_id)\n        assert table_info[\"status\"] == \"available\", \"Additional table not available.\"\n    except Exception as e:\n        pytest.fail(f\"Failed to retrieve table info: {e}\")\n\n    # í…Œì´ë¸” ë°ì´í„° ì½ê¸° (ì¸ì¦ í›„)\n    opal_device.start_session(admin_sid, session_type=\"Admin\")\n    try:\n        data = opal_device.read_table_data(table_id)\n        assert len(data) > 0, \"Table data is empty.\"\n    except Exception as e:\n        pytest.fail(f\"Failed to read table data: {e}\")\n    finally:\n        opal_device.revert_session()\n```\n\n---\n\n### ğŸ” **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ í™•ì¸**  \n   - `GetTableInfo` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” IDì— í•´ë‹¹í•˜ëŠ” ì •ë³´ë¥¼ ê°€ì ¸ì˜´.  \n   - `Table Status` í•„ë“œê°€ `Available` ë˜ëŠ” `Active` ì—¬ë¶€ í™•ì¸.\n\n2. **í…Œì´ë¸” ë°ì´í„° ì½ê¸°**  \n   - `ReadTableData` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì½ì–´ì˜´.  \n   - ë°ì´í„°ê°€ ë¹„ì–´ìˆì§€ ì•Šê³ , ì˜ˆìƒëœ êµ¬ì¡°ë¥¼ ê°€ì§„ì§€ í™•ì¸ (ì˜ˆ: í—¤ë” + ë©”íƒ€ë°ì´í„° + ì‹¤ì œ ë°ì´í„°).\n\n3. **ë°ì´í„° ì •í•©ì„± ê²€ì¦**  \n   - ì˜ˆìƒ ë°ì´í„°ì™€ ë¹„êµ (ì˜ˆ: í…ŒìŠ¤íŠ¸ ì‹œ ì…ë ¥í•œ ë°ì´í„°ì™€ ì½ì–´ì˜¨ ë°ì´í„° ì¼ì¹˜ ì—¬ë¶€).  \n   - ì²´í¬ì„¬, CRC, ë˜ëŠ” í•´ì‹œ ê°’ ë¹„êµ ê°€ëŠ¥.\n\n4. **ì ‘ê·¼ ê¶Œí•œ ê²€ì¦**  \n   - ê´€ë¦¬ì SIDë¡œë§Œ í…Œì´ë¸” ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸.  \n   - ì¼ë°˜ ì‚¬ìš©ì SIDë¡œ ì ‘ê·¼ ì‹œ `AuthenticationError` ë°œìƒ ì—¬ë¶€ í™•ì¸.\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)\n\n**2.10 Mandatory Feature Sets**ì€ TCG Opal SSC í˜¸í™˜ ì¥ì¹˜ê°€ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ ì„¸íŠ¸ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.  \nì´ ê¸°ëŠ¥ë“¤ì€ ì¥ì¹˜ì˜ ê¸°ë³¸ ë³´ì•ˆ, ê´€ë¦¬, í™•ì¥ì„±ì„ ë³´ì¥í•˜ë©°, í¬í•¨ëœ ì„¸ ê°€ì§€ ê¸°ëŠ¥ì€:\n\n1. **Additional DataStore Tables**: ì‚¬ìš©ì ì •ì˜ í…Œì´ë¸” í™•ì¥ ê°€ëŠ¥.\n2. **PSID**: ì œì¡°ì—…ì²´ê°€ ì¥ì¹˜ë¥¼ ì´ˆê¸° ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‚¬ì „ ì„¤ì • ì‹ë³„ì.\n3. **Block SID Authentication**: ë¸”ë¡ ë‹¨ìœ„ë¡œ SID ê¸°ë°˜ ì¸ì¦ì„ í†µí•´ ì ‘ê·¼ ì œì–´.\n\nì´ ê¸°ëŠ¥ë“¤ì€ ì¥ì¹˜ì˜ ë³´ì•ˆì„±ê³¼ ê´€ë¦¬ì„±ì„ ë³´ì¥í•˜ë©°, **PSIDë¡œ ì´ˆê¸° ì„¤ì •**, **SIDë¡œ ì„¸ì…˜ ì‹œì‘**, **í…Œì´ë¸” ë°ì´í„° ì ‘ê·¼ ì œì–´** ë“±ì˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì‹¤ì œ ë³´ì•ˆì„ êµ¬í˜„í•©ë‹ˆë‹¤.\n\n**ê²€ì¦ ë°©ë²•**ìœ¼ë¡œëŠ” Python + pytestë¥¼ í™œìš©í•œ ìë™í™” í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì¥ì¹˜ê°€ í•„ìˆ˜ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê³ , PSID/SID ì¸ì¦ì´ ì •ìƒ ì‘ë™í•˜ë©°, ì¶”ê°€ í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³  ì ‘ê·¼ ê°€ëŠ¥í•œì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \nTCG Opal SSC í˜¸í™˜ ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì´ ì„¸ ê°€ì§€ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•˜ë©°, ì´ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•´ ìˆ˜í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë³´ì•ˆ í…ŒìŠ¤íŠ¸ëŠ” ì¸ì¦, ì„¸ì…˜, í…Œì´ë¸” ì ‘ê·¼ ë“±ì„ í¬í•¨í•œ ì¢…í•©ì  ê²€ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n---  \n**ì°¸ê³  ë¬¸ì„œ**:  \n- TCG-Storage-Opal-SSC-v2.30_pub.pdf, Section 2.10  \n- [6]: TCG Storage Opal Family Specification  \n- [8]: TCG Storage Opal SSC Specification (Block SID Authentication)"
    },
    {
        "section_order": 31,
        "level": 1,
        "section_id": "3",
        "section_key": "3 Opal SSC Features",
        "title": "Opal SSC Features",
        "start_page": 19,
        "end_page": 19,
        "page_count": 1,
        "content_md": "## 3 Opal SSC Features",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3 Opal SSC Features"
    },
    {
        "section_order": 32,
        "level": 2,
        "section_id": "3.1",
        "section_key": "3.1 Security Protocol 1 Support",
        "title": "Security Protocol 1 Support",
        "start_page": 19,
        "end_page": 19,
        "page_count": 1,
        "content_md": "## 3.1 Security Protocol 1 Support",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1 Security Protocol 1 Support"
    },
    {
        "section_order": 33,
        "level": 3,
        "section_id": "3.1.1",
        "section_key": "3.1.1 Level 0 Discovery (M)",
        "title": "Level 0 Discovery (M)",
        "start_page": 19,
        "end_page": 19,
        "page_count": 1,
        "content_md": "## 3.1.1 Level 0 Discovery (M)\n\nRefer to [2] for more details.\n\nAn Opal SSC compliant Storage Device SHALL return the following Level 0 response:\n\n- Level 0 Discovery Header (see Table 2)\n- TPer feature descriptor (see Table 3)\n- Locking feature descriptor (see Table 4)\n- Opal SSC V2 feature descriptor (see Table 6)\n\nAdditionally, an Opal SSC compliant Storage Device MAY return the following Level 0 response:\n\n- Geometry Reporting feature descriptor (see Table 5)\n- Supported Data Removal Mechanism feature descriptor (see Table 8)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“˜ **3.1.1 Level 0 Discovery (M) â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ” **1. ëª©ì  (Purpose)**\n\n**Level 0 Discovery**ëŠ” TCG Opal í‘œì¤€ì— ë”°ë¼ SSDë‚˜ í•˜ë“œë””ìŠ¤í¬ ë“± ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í´ë¼ì´ì–¸íŠ¸(ì˜ˆ: ì»´í“¨í„°, ê´€ë¦¬ ì‹œìŠ¤í…œ)ì—ê²Œ ìì‹ ì´ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ê³¼ íŠ¹ì„±ì„ **ì´ˆê¸°ì ìœ¼ë¡œ ê³µê°œí•˜ëŠ” ë‹¨ê³„**ì…ë‹ˆë‹¤.\n\nì´ ê³¼ì •ì€ **ë³´ì•ˆ ì¥ì¹˜ê°€ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€**ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ìˆ˜í–‰ë˜ë©°, ì´í›„ì— ë” ê¹Šì€ ë³´ì•ˆ ì„¤ì •(ì˜ˆ: ì•”í˜¸í™”, ì„¸ì…˜ ì‹œì‘, ìë™ ì ê¸ˆ ë“±)ì„ í•˜ê¸° ìœ„í•œ **ê¸°ì´ˆ ì •ë³´ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.\n\nì¦‰, â€œì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì…ë‹ˆë‹¤. ì•„ë˜ ê¸°ëŠ¥ë“¤ì„ ì§€ì›í•©ë‹ˆë‹¤.â€ë¼ê³  ì¥ì¹˜ê°€ ë§í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ì¥ì¹˜ ê¸°ëŠ¥ í™•ì¸**: ì¥ì¹˜ê°€ Opal í‘œì¤€ì„ ì¤€ìˆ˜í•˜ë©°, ì–´ë–¤ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸.\n- **ë³´ì•ˆ ê¸°ëŠ¥ íƒì§€**: ì ê¸ˆ ê¸°ëŠ¥, ë°ì´í„° ì œê±° ê¸°ëŠ¥, TPer ê¸°ëŠ¥ ë“± ë³´ì•ˆ ê´€ë ¨ ê¸°ëŠ¥ì„ ë¯¸ë¦¬ íŒŒì•….\n- **ìƒí˜¸ ìš´ìš©ì„± ë³´ì¥**: í´ë¼ì´ì–¸íŠ¸ ì‹œìŠ¤í…œì´ ì¥ì¹˜ë¥¼ ì œëŒ€ë¡œ ì¸ì‹í•˜ê³ , ì ì ˆí•œ ë³´ì•ˆ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.\n\n---\n\n### ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nLevel 0 Discovery ì‘ë‹µì€ **ì—¬ëŸ¬ ê°œì˜ Feature Descriptor**ë¡œ êµ¬ì„±ë˜ë©°, ê°ê°ì€ íŠ¹ì • ê¸°ëŠ¥ì„ ì„¤ëª…í•©ë‹ˆë‹¤.\n\n#### âœ… **ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” Feature Descriptor:**\n\n1. **Level 0 Discovery Header (Table 2)**  \n   - ì‘ë‹µì˜ ì‹œì‘ ë¶€ë¶„ì— ìœ„ì¹˜.  \n   - ì¥ì¹˜ê°€ Opal SSCë¥¼ ì§€ì›í•œë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ëŠ” í—¤ë” ì •ë³´ (ì˜ˆ: ë²„ì „, ê¸¸ì´, íƒ€ì… ë“±).\n\n2. **TPer Feature Descriptor (Table 3)**  \n   - **TPer**(Trusted Platform Module Peripheral) ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì„¤ëª….  \n   - TPerëŠ” TPMê³¼ ì—°ë™í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ê¸°ëŠ¥.\n\n3. **Locking Feature Descriptor (Table 4)**  \n   - ì ê¸ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ ì—¬ë¶€.  \n   - ì˜ˆ: ì‚¬ìš©ì ì ê¸ˆ, ê´€ë¦¬ì ì ê¸ˆ, ìë™ ì ê¸ˆ ë“±.\n\n4. **Opal SSC V2 Feature Descriptor (Table 6)**  \n   - Opal SSC V2 í‘œì¤€ì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸.  \n   - ì¥ì¹˜ê°€ ìµœì‹  Opal í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€ í™•ì¸.\n\n#### ğŸ“Œ **ì„ íƒì ìœ¼ë¡œ í¬í•¨ë  ìˆ˜ ìˆëŠ” Feature Descriptor:**\n\n1. **Geometry Reporting Feature Descriptor (Table 5)**  \n   - ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  êµ¬ì¡°(ì˜ˆ: ì„¹í„° ìˆ˜, í—¤ë“œ ìˆ˜ ë“±)ë¥¼ ì œê³µ.  \n   - ê³ ê¸‰ ê´€ë¦¬ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©.\n\n2. **Supported Data Removal Mechanism Feature Descriptor (Table 8)**  \n   - ì¥ì¹˜ê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì‚­ì œí•  ìˆ˜ ìˆëŠ”ì§€ (ì˜ˆ: Secure Erase, Crypto Erase ë“±).\n\n---\n\n### ğŸš© **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•˜ëŠ” Feature Descriptor**ëŠ” 4ê°œ (Header, TPer, Locking, Opal SSC V2).\n- **ì‘ë‹µ í˜•ì‹ì€ ì •í™•íˆ TCG í‘œì¤€ì— ë”°ë¼ì•¼ í•¨.** (ì˜ˆ: ë°”ì´íŠ¸ ìˆœì„œ, ê¸¸ì´, êµ¬ì¡° ë“±)\n- **ì‘ë‹µì€ 1ë²ˆì˜ Discovery ìš”ì²­ìœ¼ë¡œ ì™„ë£Œë˜ì–´ì•¼ í•¨.** (ì¦‰, ì—¬ëŸ¬ ë²ˆ ìš”ì²­í•˜ì§€ ì•Šì•„ë„ ë¨)\n- **ì¥ì¹˜ëŠ” Level 0 Discoveryë¥¼ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•¨.** (ì¦‰, ì¥ì¹˜ê°€ Opal ì¥ì¹˜ì¸ì§€ í™•ì¸)\n\n---\n\n### ğŸ” **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **Level 0 Discovery ìì²´ëŠ” ë³´ì•ˆì´ ì ìš©ë˜ì§€ ì•ŠìŒ** (ì¦‰, ì•”í˜¸í™”ë˜ì§€ ì•ŠìŒ).\n- í•˜ì§€ë§Œ ì´ ë‹¨ê³„ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´í›„ì— **ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘**í•  ìˆ˜ ìˆëŠ” ê¸°ì´ˆ ì •ë³´ë¥¼ ì–»ìŠµë‹ˆë‹¤.\n- ì˜ˆ: Locking Feature Descriptorë¥¼ í†µí•´ ì¥ì¹˜ê°€ ì ê¸ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ëŠ” ì´í›„ì— **StartSession** ëª…ë ¹ì–´ë¥¼ í†µí•´ ë³´ì•ˆ ì„¸ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆìŒ.\n- ë”°ë¼ì„œ, **Level 0ì€ ë³´ì•ˆ ê¸°ë°˜ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„**ì´ë©°, ì´í›„ì˜ ë³´ì•ˆ ì¡°ì¹˜ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•¨.\n\n---\n\n## âœ… **6. Test Case ì œì‹œ (Python + pytest)**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- ì¥ì¹˜ê°€ Level 0 Discoveryë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‘ë‹µí•˜ëŠ”ì§€ í™•ì¸.\n- í•„ìˆ˜ Feature Descriptorê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦.\n- í…Œì´ë¸” ë°ì´í„°ì˜ êµ¬ì¡°ì™€ ê°’ì´ TCG í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ–¥ï¸ **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)**\n\n```python\nimport pytest\nfrom opal_device import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ì»¨íŠ¸ë¡¤ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import *  # TCG Opal ëª…ë ¹ì–´ ë° ìƒìˆ˜ ì •ì˜\n\ndef test_level0_discovery():\n    # ì¥ì¹˜ ì—°ê²° ë° ì´ˆê¸°í™”\n    device = OpalDevice(port=\"/dev/sdb\")  # ì˜ˆì‹œ í¬íŠ¸\n    device.connect()\n\n    # Level 0 Discovery ìš”ì²­\n    response = device.send_command(OPAL_CMD_LEVEL0_DISCOVERY)\n\n    # ì‘ë‹µì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\n    assert response is not None, \"Level 0 Discovery ì‘ë‹µ ì—†ìŒ\"\n\n    # í•„ìˆ˜ í—¤ë” ì¡´ì¬ í™•ì¸\n    assert response[0] == OPAL_HEADER_MAGIC, \"Invalid Level 0 Header\"\n    assert response[1] == OPAL_VERSION_MAJOR, \"Wrong Version\"\n\n    # í•„ìˆ˜ Feature Descriptor í™•ì¸ (ê°ê°ì˜ DescriptorëŠ” íŠ¹ì • êµ¬ì¡°ë¥¼ ê°€ì§)\n    descriptors = parse_descriptors(response)  # ê°€ìƒì˜ íŒŒì„œ\n\n    # í•„ìˆ˜ Descriptor ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n    assert \"Level0Header\" in descriptors, \"Level 0 Header missing\"\n    assert \"TPer\" in descriptors, \"TPer Feature Descriptor missing\"\n    assert \"Locking\" in descriptors, \"Locking Feature Descriptor missing\"\n    assert \"OpalSSCV2\" in descriptors, \"Opal SSC V2 Feature Descriptor missing\"\n\n    # ì„ íƒì  Descriptor í™•ì¸ (ì¡´ì¬ ì—¬ë¶€ í™•ì¸, ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ì˜¤ë¥˜ ì•„ë‹˜)\n    assert \"GeometryReporting\" in descriptors or True, \"Geometry Reporting optional\"\n    assert \"DataRemoval\" in descriptors or True, \"Data Removal optional\"\n\n    # í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ì˜ˆì‹œ (ì˜ˆ: Locking Descriptorì˜ ê°’ì´ ìœ íš¨í•œì§€)\n    locking_desc = descriptors[\"Locking\"]\n    assert locking_desc[\"MaxLockingRange\"] > 0, \"Locking Range must be > 0\"\n    assert locking_desc[\"SupportsUserLock\"] == 1, \"Must support User Lock\"\n\n    print(\"âœ… Level 0 Discovery Test Passed\")\n```\n\n---\n\n### ğŸ§© **7. TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦ ë°©ë²•**\n\n1. **StartSession ëª…ë ¹ì–´**ëŠ” Level 0 Discovery ì´í›„ì— ì‚¬ìš©ë¨.\n   - Level 0ì—ì„œ Locking ê¸°ëŠ¥ì„ í™•ì¸í•œ í›„, StartSessionìœ¼ë¡œ ë³´ì•ˆ ì„¸ì…˜ì„ ìƒì„±.\n   - ì˜ˆ: `device.send_command(OPAL_CMD_START_SESSION, password=\"admin\")`\n\n2. **Revert ëª…ë ¹ì–´**ëŠ” ì¥ì¹˜ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ëª…ë ¹ì–´.\n   - Level 0 Discovery í›„, ì¥ì¹˜ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ Revert í›„ ë‹¤ì‹œ Discovery ìˆ˜í–‰.\n\n3. **Discovery ëª…ë ¹ì–´**ëŠ” Level 0 Discoveryë¥¼ ìš”ì²­í•˜ëŠ” ëª…ë ¹ì–´.\n   - `OPAL_CMD_LEVEL0_DISCOVERY` ë˜ëŠ” `OPAL_CMD_DISCOVERY` (ë¬¸ì„œì— ë”°ë¼ ë‹¤ë¦„)\n\n---\n\n### ğŸ“Š **8. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• (Table 2, 3, 4, 6 ë“±)**\n\n- ê° Feature DescriptorëŠ” **ì •í™•í•œ ë°”ì´íŠ¸ êµ¬ì¡°**ë¥¼ ê°€ì§ (ì˜ˆ: 4ë°”ì´íŠ¸ í—¤ë” + 4ë°”ì´íŠ¸ íƒ€ì… + 4ë°”ì´íŠ¸ ê¸¸ì´ + ë°ì´í„°).\n- í…ŒìŠ¤íŠ¸ ì‹œ, ì‘ë‹µ ë°”ì´íŠ¸ë¥¼ íŒŒì‹±í•˜ì—¬ ê° í•„ë“œê°€ **í‘œì¤€ì— ë§ëŠ”ì§€ ê²€ì¦**.\n- ì˜ˆ:\n  - Table 2 (Header): `0x4F50414C` (OPAL) â†’ 4ë°”ì´íŠ¸\n  - Table 3 (TPer): `0x00030000` â†’ TPer íƒ€ì…, ê¸¸ì´, ë°ì´í„°\n- íŒŒì„œ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì—¬ ê° í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ê²€ì¦.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n- **Level 0 Discovery**ëŠ” Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìì‹ ì´ ì–´ë–¤ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ ê³µê°œí•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ì…ë‹ˆë‹¤.\n- **í•„ìˆ˜ë¡œ ë°˜í™˜í•´ì•¼ í•˜ëŠ” 4ê°œì˜ Feature Descriptor**ëŠ” Level 0 Header, TPer, Locking, Opal SSC V2ì´ë©°, ì´ë“¤ì´ ëª¨ë‘ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n- **ì„ íƒì ìœ¼ë¡œ** Geometry Reporting ë° Data Removal Mechanismì„ í¬í•¨í•  ìˆ˜ ìˆìŒ.\n- ì´ ê³¼ì •ì€ **ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘í•˜ê¸° ìœ„í•œ ê¸°ì´ˆ ì •ë³´ë¥¼ ì œê³µ**í•˜ë©°, ìì²´ì ìœ¼ë¡œëŠ” ë³´ì•ˆì´ ì ìš©ë˜ì§€ ì•Šì§€ë§Œ ì´í›„ ë³´ì•ˆ ì ˆì°¨ì˜ ê¸°ë°˜ì´ ë©ë‹ˆë‹¤.\n- **í…ŒìŠ¤íŠ¸ ì‹œ** Python + pytestë¥¼ ì‚¬ìš©í•´ ì‘ë‹µ ë°”ì´íŠ¸ë¥¼ ê²€ì¦í•˜ê³ , ê° í…Œì´ë¸”ì˜ êµ¬ì¡°ê°€ TCG í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- **TCG Opal ëª…ë ¹ì–´**ë¥¼ í†µí•´ ì¥ì¹˜ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ , StartSession, Revert ë“±ìœ¼ë¡œ ì¥ì¹˜ì˜ ë°˜ì‘ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: Level 0 DiscoveryëŠ” Opal ì¥ì¹˜ì˜ ê¸°ëŠ¥ íƒì§€ ë° ì´ˆê¸° ì„¤ì •ì„ ìœ„í•œ í•„ìˆ˜ ë‹¨ê³„ì´ë©°, ì´í›„ ëª¨ë“  ë³´ì•ˆ ì‘ì—…ì˜ ê¸°ë°˜ì´ ë©ë‹ˆë‹¤. ì •í™•í•œ êµ¬ì¡° ê²€ì¦ê³¼ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ ì‹ ë¢°ì„±ê³¼ ìƒí˜¸ ìš´ìš©ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n--- \n\n> ğŸ“Œ ì°¸ê³ : ë¬¸ì„œì—ì„œ `Refer to [2] for more details`ë¼ê³  ì–¸ê¸‰ëœ [2]ëŠ” ì¼ë°˜ì ìœ¼ë¡œ TCG Opal ê³µì‹ ì‚¬ì–‘ ë¬¸ì„œ (ì˜ˆ: TCG Opal Specification v2.30)ë¥¼ ì˜ë¯¸í•˜ë©°, í•´ë‹¹ ë¬¸ì„œì—ì„œ ê° í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì •í™•íˆ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 34,
        "level": 4,
        "section_id": "3.1.1.1",
        "section_key": "3.1.1.1 Level 0 Discovery Header",
        "title": "Level 0 Discovery Header",
        "start_page": 19,
        "end_page": 20,
        "page_count": 2,
        "content_md": "## 3.1.1.1 Level 0 Discovery Header\n\n### Table 2 - Level 0 Discovery Header\n\n**Length of Parameter Data**  \n**Data structure revision**  \n**Reserved**  \n**Vendor Specific**\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n\n- Length of parameter data = VU\n- Data structure revision = 0x00000001 or any version that supports the defined features in this SSC\n- Vendor Specific = VU\n### Table 2 - Level 0 Discovery Header (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“Œ 3.1.1.1 Level 0 Discovery Header â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\n**Level 0 Discovery Header**ëŠ” TCG Opal í‘œì¤€ì— ë”°ë¼, ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜(ì˜ˆ: SSD, í•˜ë“œë””ìŠ¤í¬)ê°€ **Opal ë³´ì•ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€**, ê·¸ë¦¬ê³  **ì–´ë–¤ ë²„ì „ì˜ Opal í‘œì¤€ì„ ì§€ì›í•˜ëŠ”ì§€**ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ **ìµœì´ˆì˜ ì •ë³´ ì œê³µ êµ¬ì¡°**ì…ë‹ˆë‹¤.\n\nì´ í—¤ë”ëŠ” ì¥ì¹˜ê°€ Opalì„ ì§€ì›í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ í™•ì¸í•˜ê³ , **ë‹¤ìŒ ë‹¨ê³„ì˜ ë³´ì•ˆ ì„¸ì…˜ ì„¤ì •**ì„ ìœ„í•œ ê¸°ë³¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, \"ì´ ì¥ì¹˜ëŠ” Opalì´ ê°€ëŠ¥í•œê°€?\"ë¼ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ **ì²« ë²ˆì§¸ ë‹µë³€**ì…ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì¥ì¹˜ì˜ Opal ì§€ì› ì—¬ë¶€ í™•ì¸**: ì¥ì¹˜ê°€ Opal í‘œì¤€ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ í™•ì¸.\n2. **ë²„ì „ ì •ë³´ ì œê³µ**: ë°ì´í„° êµ¬ì¡°ì˜ ë²„ì „ì„ ì•Œë ¤ì£¼ì–´ í˜¸í™˜ì„± ë¬¸ì œë¥¼ ì˜ˆë°©.\n3. **ì¥ì¹˜ ì œì¡°ì—…ì²´ ì •ë³´ ì œê³µ**: Vendor Specific í•„ë“œë¥¼ í†µí•´ ì œì¡°ì—…ì²´ê°€ ì¶”ê°€ ì •ë³´ë¥¼ ì „ë‹¬ ê°€ëŠ¥.\n4. **ë‹¤ìŒ ë‹¨ê³„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê¸°ì´ˆ ë°ì´í„° ì œê³µ**: StartSession ë“± í›„ì† ëª…ë ¹ì„ ìœ„í•œ ì¤€ë¹„ ë‹¨ê³„.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`Table 2 - Level 0 Discovery Header`ì— ì •ì˜ëœ í•„ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n| Field Name               | Size (bytes) | Description |\n|--------------------------|--------------|-------------|\n| **Length of Parameter Data** | 4          | ì´ í—¤ë” ì´í›„ì— ì „ì†¡ë˜ëŠ” íŒŒë¼ë¯¸í„° ë°ì´í„°ì˜ ê¸¸ì´ (ë°”ì´íŠ¸ ë‹¨ìœ„). **VU**(Variable Length, Unsigned) ê°’. |\n| **Data structure revision** | 4          | í—¤ë” êµ¬ì¡°ì˜ ë²„ì „. Opal SSC v2.30 ê¸°ì¤€ìœ¼ë¡œ **0x00000001** ì´ìƒì´ì–´ì•¼ í•¨. |\n| **Reserved**             | 4          | ì˜ˆì•½ í•„ë“œ. í˜„ì¬ëŠ” 0ìœ¼ë¡œ ì„¤ì •ë˜ì–´ì•¼ í•¨. |\n| **Vendor Specific**      | 4          | ì œì¡°ì—…ì²´ê°€ ì¶”ê°€ ì •ë³´ë¥¼ ë„£ì„ ìˆ˜ ìˆëŠ” ê³µê°„. **VU** ê°’. |\n\n> âœ… **ì°¸ê³ **: `VU`ëŠ” Variable Unsigned, ì¦‰ ê°€ë³€ ê¸¸ì´ì˜ ë¶€í˜¸ ì—†ëŠ” ì •ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì´ ê°’ì€ 4ë°”ì´íŠ¸ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, ì‹¤ì œ ë‚´ìš©ì— ë”°ë¼ ê¸¸ì´ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- ì¥ì¹˜ëŠ” **Opal SSCì— ì¤€ìˆ˜**í•´ì•¼ í•˜ë©°, Level 0 Discovery Headerë¥¼ ìš”ì²­í•  ë•Œ ë‹¤ìŒì„ ë°˜ë“œì‹œ ë°˜í™˜í•´ì•¼ í•¨:\n  - `Length of Parameter Data` = **VU** (ì‹¤ì œ ë°ì´í„° ê¸¸ì´)\n  - `Data structure revision` = **0x00000001 ì´ìƒ** (v2.30 ê¸°ì¤€)\n  - `Reserved` = **0x00000000**\n  - `Vendor Specific` = **VU** (ì œì¡°ì—…ì²´ê°€ ì§€ì •)\n\n- ì´ í—¤ë”ëŠ” **Opal ì¥ì¹˜ì— ì ‘ê·¼í•˜ê¸° ì „ í•„ìˆ˜ì ì¸ ì²« ë‹¨ê³„**ì´ë©°, ì´ í—¤ë”ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ì¥ì¹˜ëŠ” Opal ì¥ì¹˜ê°€ ì•„ë‹˜ì„ ì˜ë¯¸.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\në³¸ ì„¹ì…˜ ìì²´ëŠ” **ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥**ì„ í¬í•¨í•˜ì§€ ì•Šì§€ë§Œ, **ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì˜ ì‹œì‘ì **ì…ë‹ˆë‹¤. ë³´ì•ˆ ì„¸ì…˜ì„ ì„¤ì •í•˜ê¸° ì „ì— ì¥ì¹˜ê°€ Opalì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸í•˜ë¯€ë¡œ, **ë³´ì•ˆ í”„ë¡œí† ì½œì˜ ì²« ë²ˆì§¸ ì¸ì¦ ë‹¨ê³„** ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n- ì´í›„ ë‹¨ê³„ì—ì„œ `StartSession`, `SetUserPassword`, `Lock`, `Unlock` ë“±ì˜ ë³´ì•ˆ ëª…ë ¹ì´ ìˆ˜í–‰ë˜ë©°, ì´ í—¤ë”ê°€ ì˜¬ë°”ë¥´ê²Œ ë°˜í™˜ë˜ì§€ ì•Šìœ¼ë©´ í›„ì† ë³´ì•ˆ ëª…ë ¹ì€ ì‹¤íŒ¨í•©ë‹ˆë‹¤.\n- ë”°ë¼ì„œ ì´ í—¤ë”ëŠ” **ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì˜ ì‹ ë¢° ê¸°ë°˜**ì´ ë©ë‹ˆë‹¤.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n\n- ì¥ì¹˜ê°€ Level 0 Discovery Headerë¥¼ ì˜¬ë°”ë¥´ê²Œ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸.\n- í•„ë“œ ê°’ì´ í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€ ê²€ì¦.\n- í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ì¥ì¹˜ì— ì—°ê²°ëœ ìƒíƒœì—ì„œ ìˆ˜í–‰ (ì˜ˆ: ATA/SCSI ëª…ë ¹ ì‚¬ìš©).\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom your_opal_library import OpalDevice  # ê°€ì •: Opal ì¥ì¹˜ í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    device = OpalDevice(device_path=\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.connect()\n    yield device\n    device.disconnect()\n\ndef test_level0_discovery_header_valid(opal_device):\n    \"\"\"Level 0 Discovery Header ê²€ì¦ í…ŒìŠ¤íŠ¸\"\"\"\n    response = opal_device.send_discovery_command(level=0)\n\n    # í—¤ë” í•„ë“œ ì¶”ì¶œ (ì˜ˆ: 4ë°”ì´íŠ¸ì”©)\n    length = int.from_bytes(response[0:4], byteorder='little')\n    revision = int.from_bytes(response[4:8], byteorder='little')\n    reserved = int.from_bytes(response[8:12], byteorder='little')\n    vendor_specific = int.from_bytes(response[12:16], byteorder='little')\n\n    # ìš”êµ¬ì‚¬í•­ ê²€ì¦\n    assert length > 0, \"Length of Parameter Data must be > 0\"\n    assert revision >= 0x00000001, \"Data structure revision must be 0x00000001 or higher\"\n    assert reserved == 0x00000000, \"Reserved field must be 0\"\n    assert vendor_specific >= 0, \"Vendor Specific must be a valid unsigned integer\"\n\n    # ì¶”ê°€: ì „ì²´ ì‘ë‹µ ê¸¸ì´ ê²€ì¦ (ì˜ˆ: 16ë°”ì´íŠ¸ ì´ìƒ)\n    assert len(response) >= 16, \"Response must be at least 16 bytes long\"\n\n    print(f\"âœ… Level 0 Discovery Header Validated: \"\n          f\"Length={length}, Revision={revision}, Reserved={reserved}, Vendor={vendor_specific}\")\n```\n\n---\n\n### ğŸ–¥ï¸ **TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ ê²€ì¦ ë°©ë²•**\n\n1. **StartSession ëª…ë ¹ì–´ ì „ì— Level 0 Discovery ìˆ˜í–‰**\n   - ì¥ì¹˜ì— `SEND DIAGNOSTIC` ë˜ëŠ” `SMART` ëª…ë ¹ìœ¼ë¡œ Discovery Header ìš”ì²­ (ATA/SCSI ëª…ë ¹ ê¸°ë°˜).\n   - `StartSession` ëª…ë ¹ ì „ì— ë°˜ë“œì‹œ Discovery ìˆ˜í–‰ì´ í•„ìš”.\n\n2. **Revert ëª…ë ¹ì–´ì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸**\n   - ì¥ì¹˜ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ëŒë¦¬ê³ , ë‹¤ì‹œ Discovery Headerë¥¼ ìš”ì²­í•˜ì—¬ **ì¼ê´€ì„±** ê²€ì¦.\n\n3. **ë‹¤ë¥¸ Level (ì˜ˆ: Level 1)ê³¼ ë¹„êµ í…ŒìŠ¤íŠ¸**\n   - Level 0ê³¼ Level 1ì˜ Discovery Header êµ¬ì¡°ë¥¼ ë¹„êµí•˜ì—¬ í˜¸í™˜ì„± ê²€ì¦.\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í…ŒìŠ¤íŠ¸ í•­ëª© | ê¸°ëŒ€ê°’ | ê²€ì¦ ë°©ë²• |\n|-------------|--------|-----------|\n| Length of Parameter Data | > 0 (VU) | ì‘ë‹µ ë°ì´í„°ì˜ ì²« 4ë°”ì´íŠ¸ë¥¼ ì½ì–´ intë¡œ ë³€í™˜ í›„ ê²€ì¦ |\n| Data structure revision | â‰¥ 0x00000001 | 4~7ë°”ì´íŠ¸ ì½ê³  ë²„ì „ í™•ì¸ |\n| Reserved | 0x00000000 | 8~11ë°”ì´íŠ¸ ì½ê³  0ì¸ì§€ í™•ì¸ |\n| Vendor Specific | â‰¥ 0 (VU) | 12~15ë°”ì´íŠ¸ ì½ê³  ìœ íš¨í•œ ì •ìˆ˜ì¸ì§€ í™•ì¸ |\n\n> âœ… **ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ**: `send_discovery_command(level=0)` í•¨ìˆ˜ë¥¼ í†µí•´ ì¥ì¹˜ì— ëª…ë ¹ ì „ì†¡ í›„, ì‘ë‹µì„ byte ë°°ì—´ë¡œ ë°›ì•„ ìœ„ í…Œì´ë¸”ì— ë§ì¶° ê²€ì¦.\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- **Level 0 Discovery Header**ëŠ” Opal ì¥ì¹˜ì˜ **ì²« ë²ˆì§¸ ì¸ì‹ ë‹¨ê³„**ì´ë©°, ì¥ì¹˜ê°€ Opalì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í•µì‹¬ì…ë‹ˆë‹¤.\n- ë°ì´í„° êµ¬ì¡°ëŠ” ê°„ë‹¨í•˜ì§€ë§Œ, **ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì˜ ì‹ ë¢° ê¸°ë°˜**ì´ ë©ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ ì‹œ, Python + pytestë¥¼ ì‚¬ìš©í•´ ê° í•„ë“œë¥¼ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ê²€ì¦í•˜ê³ , TCG Opal ëª…ë ¹ì–´ íë¦„ì— ë”°ë¼ ì ì§„ì ìœ¼ë¡œ ê²€ì¦í•˜ë©´ ì•ˆì •ì ì¸ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ ë° ê²€ì¦ ë°©ë²• ì œê³µ ì™„ë£Œ**\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n**Level 0 Discovery Header**ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ Opal ë³´ì•ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ **ìµœì´ˆì˜ ì •ë³´ ì œê³µ êµ¬ì¡°**ì…ë‹ˆë‹¤. ì´ í—¤ë”ëŠ” 4ê°œì˜ í•„ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° í•„ë“œëŠ” ì¥ì¹˜ì˜ ì •ë³´ì™€ í˜¸í™˜ì„±ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n- **Length of Parameter Data**: ì´ í—¤ë” ì´í›„ì˜ ë°ì´í„° ê¸¸ì´ (VU)\n- **Data structure revision**: í‘œì¤€ ë²„ì „ (0x00000001 ì´ìƒ í•„ìš”)\n- **Reserved**: ì˜ˆì•½ í•„ë“œ (í•­ìƒ 0)\n- **Vendor Specific**: ì œì¡°ì—…ì²´ ì •ë³´ (VU)\n\nì´ í—¤ë”ëŠ” ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘í•˜ê¸° ì „ í•„ìˆ˜ì ì¸ ì²« ë‹¨ê³„ì´ë©°, ì´í›„ `StartSession` ë“±ì˜ ëª…ë ¹ì´ ê°€ëŠ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œ Python + pytestë¡œ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì‘ë‹µì„ ê²€ì¦í•˜ë©°, TCG Opal ëª…ë ¹ì–´ íë¦„ì— ë”°ë¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ Opal í˜¸í™˜ì„±ì„ í™•ë³´í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ëª¨ë“  ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì œì•ˆ ì™„ë£Œ**"
    },
    {
        "section_order": 35,
        "level": 4,
        "section_id": "3.1.1.2",
        "section_key": "3.1.1.2 TPer Feature (Feature Code = 0x0001)",
        "title": "TPer Feature (Feature Code = 0x0001)",
        "start_page": 20,
        "end_page": 20,
        "page_count": 1,
        "content_md": "## 3.1.1.2 TPer Feature (Feature Code = 0x0001)\n\n### Table 3 - Level 0 Discovery - TPer Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0001\n- Version = 0x1 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- ComID Mgmt Supported = VU\n- Streaming Supported = 1\n- Buffer Mgmt Supported = VU\n- ACK/NAK Supported = VU\n- Async Supported = VU\n- Sync Supported = 1",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.2 TPer Feature (Feature Code = 0x0001) â€“ ìƒì„¸ ì„¤ëª…\n\n### ğŸ“Œ ëª©ì  (Purpose)\n\nTPer (Time-Periodic Event Reporting) FeatureëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ì‚¬ìš©ì ì •ì˜ ì´ë²¤íŠ¸ ë˜ëŠ” ìƒíƒœ ë³€í™”ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ê¸°ëŠ¥**ì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì£¼ê¸°ì ìœ¼ë¡œ íŠ¹ì • ì´ë²¤íŠ¸(ì˜ˆ: ë¡œê·¸ì¸ ì‹¤íŒ¨, ì•¡ì„¸ìŠ¤ ì‹œë„, ìƒíƒœ ë³€ê²½ ë“±)ë¥¼ ë³´ê³ í•  ìˆ˜ ìˆë„ë¡ í•˜ë©°, **ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ë° ê°ì‚¬(Compliance & Auditing)**ë¥¼ ìœ„í•œ ì¤‘ìš”í•œ ê¸°ë°˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n> TPerëŠ” **ê³ ìœ í•œ ì´ë²¤íŠ¸ ë³´ê³  ê¸°ëŠ¥**ì´ë©°, ì¼ë°˜ì ì¸ ë¡œê·¸ ìˆ˜ì§‘ê³¼ëŠ” ë‹¬ë¦¬ **ì •ê¸°ì ì¸ ì£¼ê¸°ì  ë³´ê³ **ë¥¼ ê°•ì¡°í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ ì£¼ìš” ê¸°ëŠ¥ (Key Functions)\n\n1. **ì£¼ê¸°ì  ì´ë²¤íŠ¸ ë³´ê³  (Periodic Event Reporting)**  \n   - ì¥ì¹˜ëŠ” ì„¤ì •ëœ ê°„ê²©(ì˜ˆ: 1ë¶„, 10ë¶„, 1ì‹œê°„ ë“±)ë§ˆë‹¤ ì´ë²¤íŠ¸ë¥¼ ë³´ê³ í•  ìˆ˜ ìˆìŒ.\n   - ë³´ê³  ë‚´ìš©ì€ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•˜ë©°, ë³´ì•ˆ ê´€ë ¨ ì´ë²¤íŠ¸(ë¡œê·¸ì¸, ì•¡ì„¸ìŠ¤, ì˜¤ë¥˜ ë“±) í¬í•¨ ê°€ëŠ¥.\n\n2. **ìŠ¤íŠ¸ë¦¬ë° ì§€ì› (Streaming Supported = 1)**  \n   - ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ **ì—°ì†ì ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°**í•˜ì—¬ ìˆ˜ì‹ í•  ìˆ˜ ìˆìŒ. ì¦‰, ëŒ€ëŸ‰ì˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ì†¡ ê°€ëŠ¥.\n\n3. **ë™ê¸°í™” ì§€ì› (Sync Supported = 1)**  \n   - ì´ë²¤íŠ¸ ë³´ê³ ë¥¼ **ë™ê¸° ë°©ì‹**ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ â†’ ìš”ì²­ í›„ ì‘ë‹µì„ ê¸°ë‹¤ë¦¼. ì´ëŠ” ë³´ê³ ì˜ ì •í™•ì„±ê³¼ ì‹ ë¢°ì„± í™•ë³´ì— ìœ ë¦¬.\n\n4. **ë²„í¼ ê´€ë¦¬ ì§€ì› (Buffer Mgmt Supported = VU)**  \n   - VU (Vendor Unique) â†’ ì œì¡°ì‚¬ê°€ ìì²´ ì •ì˜í•œ ë²„í¼ ê´€ë¦¬ ë°©ì‹ ì‚¬ìš© ê°€ëŠ¥.  \n   - ì¼ë°˜ì ìœ¼ë¡œ ì´ëŠ” ì¥ì¹˜ê°€ ì´ë²¤íŠ¸ë¥¼ ì €ì¥í•  ë²„í¼ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸.\n\n5. **ACK/NAK ì§€ì› (ACK/NAK Supported = VU)**  \n   - ì‘ë‹µ í™•ì¸ ë©”ì»¤ë‹ˆì¦˜ì€ ì œì¡°ì‚¬ ì •ì˜. ACK/NAKëŠ” ë³´ê³ ëœ ë°ì´í„°ê°€ ìˆ˜ì‹ ìì—ê²Œ ì •ìƒ ë„ì°©í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©ë¨.\n\n6. **ë¹„ë™ê¸° ì§€ì› (Async Supported = VU)**  \n   - ë¹„ë™ê¸° ì´ë²¤íŠ¸ ë³´ê³ ë„ ì œì¡°ì‚¬ê°€ ì„ íƒì ìœ¼ë¡œ ì§€ì› ê°€ëŠ¥.\n\n---\n\n### ğŸ“¦ ë°ì´í„° êµ¬ì¡° (Data Structure)\n\nTPer Feature DescriptorëŠ” Level 0 Discovery ì‹œ ë°˜í™˜ë˜ëŠ” ë°ì´í„° êµ¬ì¡°ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ í•„ë“œë¥¼ í¬í•¨:\n\n| í•„ë“œëª…                  | ê¸¸ì´ (Byte) | ì„¤ëª… |\n|-------------------------|-------------|------|\n| Feature Code            | 2           | `0x0001` â†’ TPer Feature |\n| Version                 | 2           | `0x0001` ë˜ëŠ” ì´í›„ ë²„ì „ (0x1 ì´ìƒ) |\n| Length                  | 2           | ì „ì²´ êµ¬ì¡° ê¸¸ì´: `0x0C` (12 ë°”ì´íŠ¸) |\n| ComID Mgmt Supported    | 1           | VU (ì œì¡°ì‚¬ ì •ì˜) |\n| Streaming Supported     | 1           | `1` â†’ ì§€ì› |\n| Buffer Mgmt Supported   | 1           | VU (ì œì¡°ì‚¬ ì •ì˜) |\n| ACK/NAK Supported       | 1           | VU (ì œì¡°ì‚¬ ì •ì˜) |\n| Async Supported         | 1           | VU (ì œì¡°ì‚¬ ì •ì˜) |\n| Sync Supported          | 1           | `1` â†’ ì§€ì› |\n\n> ì´ ê¸¸ì´ 12ë°”ì´íŠ¸: 2(Feature Code) + 2(Version) + 2(Length) + 6(ê° ì§€ì› í”Œë˜ê·¸) = 12\n\n---\n\n### âš™ï¸ ìš”êµ¬ì‚¬í•­ (Requirements)\n\n- Opal SSC í˜¸í™˜ ì¥ì¹˜ëŠ” **Level 0 Discovery** ì‹œ TPer Feature Descriptorë¥¼ ë°˜ë“œì‹œ ë°˜í™˜í•´ì•¼ í•¨.\n- Versionì€ `0x0001` ì´ìƒì´ì–´ì•¼ í•˜ë©°, ì •ì˜ëœ ê¸°ëŠ¥ì„ ì§€ì›í•´ì•¼ í•¨.\n- Streamingê³¼ Sync ì§€ì›ì€ ë°˜ë“œì‹œ `1`ì´ì–´ì•¼ í•¨.\n- ë‚˜ë¨¸ì§€ í•„ë“œ(ComID, Buffer Mgmt, ACK/NAK, Async)ëŠ” ì œì¡°ì‚¬ ì •ì˜(VU)ì´ì§€ë§Œ, í‘œì¤€ì´ ì •ì˜í•œ í•„ë“œ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ í•¨.\n\n---\n\n### ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)\n\n1. **ì ‘ê·¼ ì œì–´**  \n   - TPer ë³´ê³ ë¥¼ í†µí•´ ìˆ˜ì§‘ëœ ì´ë²¤íŠ¸ëŠ” ë³´ì•ˆ ê´€ë¦¬ì(ë˜ëŠ” ê´€ë¦¬ ì‹œìŠ¤í…œ)ì— ì˜í•´ ë¶„ì„ë˜ë¯€ë¡œ, **ë³´ê³  ë°ì´í„° ìì²´ê°€ ë³´ì•ˆì— ë¯¼ê°**í•¨.\n   - ë³´ê³ ëŠ” **ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ìˆ˜í–‰**ë˜ì–´ì•¼ í•¨ (StartSession ì´í›„).\n\n2. **ì¸ì¦ëœ ì„¸ì…˜ ìš”êµ¬**  \n   - TPer ê¸°ëŠ¥ ì‚¬ìš© ì „ì— ë°˜ë“œì‹œ **ì¸ì¦ëœ ì„¸ì…˜**ì´ ì„¤ì •ë˜ì–´ì•¼ í•¨.  \n   - ì¼ë°˜ì ìœ¼ë¡œ `StartSession` ëª…ë ¹ì–´ë¡œ ì¸ì¦ í›„, `GetFeature` ë˜ëŠ” `StartReporting` ëª…ë ¹ì–´ë¡œ TPer ë³´ê³  ì‹œì‘.\n\n3. **ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥**  \n   - ë³´ê³ ë˜ëŠ” ë°ì´í„°ëŠ” **ì¥ì¹˜ ë‚´ë¶€ì—ì„œ ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ ìˆ˜ì§‘**ë˜ë©°, ì™¸ë¶€ì—ì„œ ë³€ì¡°ë˜ì§€ ì•Šë„ë¡ ë³´ì¥ë¨.\n   - ì¼ë¶€ ì¥ì¹˜ëŠ” ë³´ê³  ë°ì´í„°ì— **íƒ€ì„ìŠ¤íƒ¬í”„ ë° ì‹œí€€ìŠ¤ ë„˜ë²„**ë¥¼ í¬í•¨í•˜ì—¬ ì¤‘ë³µ ë˜ëŠ” ëˆ„ë½ ë°©ì§€.\n\n4. **ì ‘ê·¼ ì œì–´ ì •ì±… ì—°ë™**  \n   - ë³´ê³  ë‚´ìš©ì€ **ê´€ë¦¬ì ê¶Œí•œ**ì— ë”°ë¼ ì œì–´ë˜ë©°, íŠ¹ì • ì‚¬ìš©ì/ì‹œìŠ¤í…œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • ê°€ëŠ¥.\n\n---\n\n### âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case\n\n#### âœ… í…ŒìŠ¤íŠ¸ ëª©í‘œ:\n- ì¥ì¹˜ê°€ TPer Featureë¥¼ ì˜¬ë°”ë¥´ê²Œ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸.\n- Streaming ë° Sync ì§€ì› ì—¬ë¶€ í™•ì¸.\n- Feature Code, Version, Length í•„ë“œì˜ ìœ íš¨ì„± ê²€ì¦.\n\n---\n\n### ğŸ§ª Test Case 1: TPer Feature Descriptor ê²€ì¦ (Level 0 Discovery)\n\n#### âœ… í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n\n1. ì¥ì¹˜ì— ì—°ê²°.\n2. `StartSession` ëª…ë ¹ì–´ë¡œ ì¸ì¦ ì„¸ì…˜ ì‹œì‘ (ì‚¬ìš©ì: `admin`, ë¹„ë°€ë²ˆí˜¸: `password`).\n3. `GetFeature` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Feature Code `0x0001`ì˜ Descriptor ìš”ì²­.\n4. ë°˜í™˜ëœ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ í•„ë“œ ê²€ì¦.\n\n#### âœ… Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\nimport pytest\nfrom opal_protocol import OpalDevice, StartSession, GetFeature  # ê°€ìƒ ëª¨ë“ˆ, ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¦„\n\n@pytest.fixture\ndef device():\n    return OpalDevice(\"device_id\")\n\ndef test_tper_feature_descriptor(device):\n    # ì„¸ì…˜ ì‹œì‘\n    session = StartSession(user=\"admin\", password=\"password\")\n    device.send_command(session)\n    assert device.is_session_active(), \"Session start failed\"\n\n    # TPer Feature (0x0001) ìš”ì²­\n    get_feature = GetFeature(feature_code=0x0001)\n    response = device.send_command(get_feature)\n\n    # ì‘ë‹µ ê²€ì¦\n    assert response.status == 0x00, \"Feature request failed\"\n\n    # í•„ë“œ ê²€ì¦\n    feature_data = response.data\n    assert len(feature_data) == 12, \"TPer Feature descriptor length must be 0x0C\"\n    assert feature_data[0] == 0x00 and feature_data[1] == 0x01, \"Feature Code must be 0x0001\"\n    assert feature_data[2] == 0x00 and feature_data[3] == 0x01, \"Version must be 0x0001 or higher\"\n    assert feature_data[4] == 0x00 and feature_data[5] == 0x0C, \"Length must be 0x0C\"\n    assert feature_data[6] == 0xFF, \"ComID Mgmt Supported = VU (Vendor Unique)\"\n    assert feature_data[7] == 0x01, \"Streaming Supported must be 1\"\n    assert feature_data[8] == 0xFF, \"Buffer Mgmt Supported = VU\"\n    assert feature_data[9] == 0xFF, \"ACK/NAK Supported = VU\"\n    assert feature_data[10] == 0xFF, \"Async Supported = VU\"\n    assert feature_data[11] == 0x01, \"Sync Supported must be 1\"\n```\n\n> ğŸ’¡ ì°¸ê³ : ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” `opal_protocol` ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¡´ì¬í•´ì•¼ í•˜ë©°, ëª…ë ¹ì–´ëŠ” TCG Opal ëª…ë ¹ì–´ ì„¸íŠ¸ì— ê¸°ë°˜í•¨.\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nTPer Feature DescriptorëŠ” **ê³ ì • ê¸¸ì´ì˜ ë°”ì´íŠ¸ ë°°ì—´**ë¡œ ë°˜í™˜ë˜ë¯€ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥:\n\n| ìœ„ì¹˜ (ì˜¤í”„ì…‹) | ê¸°ëŒ€ê°’ (16ì§„ìˆ˜) | ì„¤ëª… |\n|---------------|------------------|------|\n| 0x00          | 0x00             | Feature Code (MSB) |\n| 0x01          | 0x01             | Feature Code (LSB) |\n| 0x02          | 0x00             | Version (MSB) |\n| 0x03          | 0x01             | Version (LSB) |\n| 0x04          | 0x00             | Length (MSB) |\n| 0x05          | 0x0C             | Length (LSB) |\n| 0x06          | 0xFF             | ComID Mgmt Supported (VU) |\n| 0x07          | 0x01             | Streaming Supported |\n| 0x08          | 0xFF             | Buffer Mgmt Supported (VU) |\n| 0x09          | 0xFF             | ACK/NAK Supported (VU) |\n| 0x0A          | 0xFF             | Async Supported (VU) |\n| 0x0B          | 0x01             | Sync Supported |\n\n> âœ… í…ŒìŠ¤íŠ¸ ì‹œ ì´ í…Œì´ë¸”ê³¼ ë™ì¼í•œ ë°”ì´íŠ¸ íŒ¨í„´ì´ ë°˜í™˜ë˜ëŠ”ì§€ ë¹„êµ.\n\n---\n\n### ğŸ§© TCG Opal ëª…ë ¹ì–´ í™œìš© ê²€ì¦ ë°©ë²•\n\n| ëª…ë ¹ì–´ | ëª©ì  | ì‚¬ìš© ì‹œì  |\n|--------|------|------------|\n| `StartSession` | ì¸ì¦ ì„¸ì…˜ ìƒì„± | í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ í•„ìˆ˜ |\n| `GetFeature` | íŠ¹ì • Feature Descriptor ìš”ì²­ | TPer Feature (0x0001) ìš”ì²­ |\n| `Revert` | ì„¸ì…˜ ì¢…ë£Œ ë° ìƒíƒœ ë³µì› | í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ |\n| `GetStatus` | ì¥ì¹˜ ìƒíƒœ í™•ì¸ | ì¤‘ê°„ ìƒíƒœ ê²€ì¦ ì‹œ |\n\n> ì˜ˆì‹œ: `GetFeature(0x0001)`ì„ í†µí•´ TPer Descriptorë¥¼ ìš”ì²­í•˜ê³ , ë°˜í™˜ê°’ì„ ìœ„ì˜ í…Œì´ë¸”ê³¼ ë¹„êµ.\n\n---\n\n### âœ… ê²°ë¡ \n\nTPer FeatureëŠ” Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ **ì •ê¸°ì  ì´ë²¤íŠ¸ ë³´ê³ **ë¥¼ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œ, ë³´ì•ˆ ê°ì‚¬ ë° ëª¨ë‹ˆí„°ë§ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.  \n- **ë°˜í™˜ëœ Descriptorì˜ í•„ë“œëŠ” ì •í™•íˆ ì •ì˜ëœ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ í•˜ë©°**,  \n- **Streaming ë° Sync ì§€ì›ì€ ë°˜ë“œì‹œ 1ì´ì–´ì•¼ í•˜ë©°**,  \n- **ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ë¥¼ í†µí•´ ë³´ì•ˆì´ ë³´ì¥ë©ë‹ˆë‹¤.**\n\ní…ŒìŠ¤íŠ¸ëŠ” `StartSession` â†’ `GetFeature` â†’ ë°ì´í„° íŒŒì‹± â†’ í•„ë“œ ë¹„êµë¡œ êµ¬ì„±ë˜ë©°, Python + pytestë¡œ ìë™í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ê²€ì¦ ê²°ê³¼ ì˜ˆì‹œ**\n\n```python\n# í…ŒìŠ¤íŠ¸ í†µê³¼ ì˜ˆì‹œ\nprint(\"âœ… TPer Feature Descriptor ê²€ì¦ ì„±ê³µ!\")\nprint(f\"Feature Code: {0x0001}\")\nprint(f\"Version: {0x0001}\")\nprint(f\"Length: {0x0C}\")\nprint(f\"Streaming Supported: {1}\")\nprint(f\"Sync Supported: {1}\")\n```\n\n---\n\nğŸ“Œ **ì°¸ê³  ìë£Œ**  \n- TCG-Storage-Opal-SSC-v2.30_pub.pdf â€“ Section 3.1.1.2  \n- TCG Opal ëª…ë ¹ì–´ ìŠ¤í™ (StartSession, GetFeature ë“±)  \n- TCG Opal ëª…ë ¹ì–´ ìŠ¤í™ì—ì„œì˜ Feature Descriptor ì •ì˜\n\n---\n\nâœ… **ê²°ë¡ : ë³¸ ì„¹ì…˜ì€ ëª…í™•í•œ êµ¬ì¡°ì™€ ê²€ì¦ ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ì´ˆë³´ìë„ ì´í•´ ê°€ëŠ¥í•©ë‹ˆë‹¤.**\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n**TPer Feature (Feature Code = 0x0001)**ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë³´ì•ˆ ì´ë²¤íŠ¸ë¥¼ ë³´ê³ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì¥ì¹˜ëŠ” Level 0 Discovery ì‹œ ë°˜ë“œì‹œ ì´ Feature Descriptorë¥¼ ë°˜í™˜í•´ì•¼ í•˜ë©°, **Feature Code 0x0001, Version 0x0001 ì´ìƒ, ê¸¸ì´ 0x0C**ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.  \nì£¼ìš” ê¸°ëŠ¥ìœ¼ë¡œëŠ” **ìŠ¤íŠ¸ë¦¬ë° ë° ë™ê¸° ë³´ê³  ì§€ì›**, **ë²„í¼ ë° ACK/NAKëŠ” ì œì¡°ì‚¬ ì •ì˜(VU)**, **ë¹„ë™ê¸° ì§€ì›ë„ ì œì¡°ì‚¬ ì„ íƒ**ì´ ìˆìŠµë‹ˆë‹¤.  \në³´ì•ˆ ë©´ì—ì„œëŠ” **ì¸ì¦ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì‘ë™í•˜ë©°**, ë³´ê³  ë°ì´í„°ëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì œì–´ë©ë‹ˆë‹¤.  \nê²€ì¦ì€ `StartSession` í›„ `GetFeature(0x0001)` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜í™˜ëœ ë°”ì´íŠ¸ ë°°ì—´ì„ ìœ„ì˜ í…Œì´ë¸”ê³¼ ë¹„êµí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°€ëŠ¥í•˜ë©°, Python + pytestë¡œ ìë™í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.  \nì´ ê¸°ëŠ¥ì€ ë³´ì•ˆ ê°ì‚¬ ë° ì´ë²¤íŠ¸ ëª¨ë‹ˆí„°ë§ì— ë§¤ìš° ì¤‘ìš”í•˜ë©°, Opal ì¥ì¹˜ì˜ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 36,
        "level": 4,
        "section_id": "3.1.1.3",
        "section_key": "3.1.1.3 Locking Feature (Feature Code = 0x0002)",
        "title": "Locking Feature (Feature Code = 0x0002)",
        "start_page": 20,
        "end_page": 21,
        "page_count": 2,
        "content_md": "## 3.1.1.3 Locking Feature (Feature Code = 0x0002)\n\n** means the present current state of the respective feature\n\n### Table 4 - Level 0 Discovery - Locking Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0002\n- Version = 0x3 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- HW Reset for LOR/DOR Supported = VU\n- MBR Shadowing Not Supported = 0\n  - MBR Shadowing feature SHALL be supported. See section 4.3.5.4.\n- MBR Done = **\n- MBR Enabled = **\n- Media Encryption = 1\n- Locked = **\n- Locking Enabled = See section 3.1.1.3.1\n- Locking Supported = 1",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.3 Locking Feature (Feature Code = 0x0002) â€“ ì´ˆë³´ììš© ìƒì„¸ ì„¤ëª…\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n**Locking Feature**(ì ê¸ˆ ê¸°ëŠ¥)ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì œê³µí•˜ëŠ” í•µì‹¬ ë³´ì•ˆ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ë¡œ, ì €ì¥ ì¥ì¹˜ì˜ **ì ‘ê·¼ì„ ì œì–´í•˜ê³  ë°ì´í„°ë¥¼ ë³´í˜¸**í•˜ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì¥ì¹˜ê°€ **ì ê²¨ ìˆëŠ” ìƒíƒœ**(Locked)ì¼ ë•Œ, ì‚¬ìš©ì ë˜ëŠ” ì‹œìŠ¤í…œì´ **ë°ì´í„°ì— ì ‘ê·¼í•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ì—†ë„ë¡ ì œí•œ**í•©ë‹ˆë‹¤. ì´ëŠ” íŠ¹íˆ ì¥ì¹˜ê°€ ë„ë‚œë˜ê±°ë‚˜ ë¬´ë‹¨ìœ¼ë¡œ ì ‘ê·¼ë  ê²½ìš°, ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\nì¦‰, ì´ ê¸°ëŠ¥ì€ ì¥ì¹˜ì˜ **ë³´ì•ˆ ìƒíƒœ**(ì ê²¨ ìˆê±°ë‚˜ ì ê²¨ ìˆì§€ ì•ŠìŒ)ë¥¼ í™•ì¸í•˜ê³ , í•„ìš” ì‹œ **ì ê¸ˆ ìƒíƒœë¡œ ì „í™˜**í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ë˜í•œ, **ì ê¸ˆì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€**(Locking Enabled)ì™€ **ì ê¸ˆ ê¸°ëŠ¥ ìì²´ê°€ ì§€ì›ë˜ëŠ”ì§€ ì—¬ë¶€**(Locking Supported)ë„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ì ê¸ˆ ìƒíƒœ í™•ì¸ (Locked = **)**  \n   - ì¥ì¹˜ê°€ í˜„ì¬ **ì ê²¨ ìˆëŠ”ì§€** ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. `**`ì€ í˜„ì¬ ìƒíƒœë¥¼ ì˜ë¯¸í•˜ë©°, ì´ ê°’ì€ ë™ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n   - ì˜ˆ: `Locked = 1` â†’ ì¥ì¹˜ê°€ ì ê²¨ ìˆìŒ, `Locked = 0` â†’ ì ê¹€ í•´ì œë¨\n\n2. **ì ê¸ˆ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€ í™•ì¸ (Locking Enabled)**  \n   - ì¥ì¹˜ì—ì„œ ì ê¸ˆ ê¸°ëŠ¥ì´ **í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€**ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ëŠ” ì„¤ì • ìƒíƒœë¡œ, ì‚¬ìš©ìê°€ ì ê¸ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë„ë¡ í—ˆìš©í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n   - ì´ ê°’ì€ **Section 3.1.1.3.1**ì—ì„œ ë” ìì„¸íˆ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n3. **ì ê¸ˆ ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€ í™•ì¸ (Locking Supported = 1)**  \n   - ì¥ì¹˜ê°€ ì ê¸ˆ ê¸°ëŠ¥ì„ **ì§€ì›í•¨**ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ê°’ì´ `1`ì´ì–´ì•¼ í•¨. `0`ì´ë©´ ì ê¸ˆ ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•ŠìŒ.\n\n4. **MBR ìƒíƒœ í™•ì¸ (MBR Done, MBR Enabled)**  \n   - MBR(Master Boot Record)ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. MBRì€ ë¶€íŒ… ì‹œ í•„ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë¶€íŒ… ì„¹í„°ì…ë‹ˆë‹¤.\n   - `MBR Done = **` â†’ í˜„ì¬ MBR ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€\n   - `MBR Enabled = **` â†’ MBRê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€\n   - **ì£¼ì˜**: ë¬¸ì„œì— ë”°ë¥´ë©´ `MBR Shadowing Not Supported = 0`ì´ì§€ë§Œ, ì‹¤ì œë¡œëŠ” MBR Shadowing ê¸°ëŠ¥ì´ **ë°˜ë“œì‹œ ì§€ì›ë˜ì–´ì•¼ í•¨** (Section 4.3.5.4 ì°¸ì¡°)\n\n5. **ë¯¸ë””ì–´ ì•”í˜¸í™” ì—¬ë¶€ (Media Encryption = 1)**  \n   - ì €ì¥ ì¥ì¹˜ì˜ **ì „ì²´ ë¯¸ë””ì–´ê°€ ì•”í˜¸í™”**ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€. ê°’ì´ `1`ì´ë©´ ì•”í˜¸í™”ë¨.\n\n6. **HWR (Hardware Reset) ì§€ì› ì—¬ë¶€ (HW Reset for LOR/DOR Supported = VU)**  \n   - `VU`ëŠ” \"Vendor Unique\"ì„ ì˜ë¯¸í•˜ë©°, ì œì¡°ì‚¬ê°€ ìì²´ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŒ. ì¼ë°˜ì ìœ¼ë¡œ ì´ ê°’ì€ **ì¥ì¹˜ê°€ LOR (Locking Owner Record) ë˜ëŠ” DOR (Device Owner Record)ì„ í•˜ë“œì›¨ì–´ ë¦¬ì…‹ìœ¼ë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€**ë¥¼ ë‚˜íƒ€ëƒ„.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ê¸°ëŠ¥ì€ **Level 0 Discovery**ì—ì„œ ë°˜í™˜ë˜ëŠ” **Locking Feature Descriptor**ë¡œ êµ¬ì„±ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ í•„ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤:\n\n| Field Name                        | Size (Bytes) | Value/Description |\n|----------------------------------|--------------|-------------------|\n| Feature Code                    | 2            | `0x0002`          |\n| Version                         | 2            | `0x3` ì´ìƒ        |\n| Length                          | 2            | `0x0C` (12ë°”ì´íŠ¸) |\n| HW Reset for LOR/DOR Supported  | 1            | `VU` (ì œì¡°ì‚¬ ì •ì˜) |\n| MBR Shadowing Not Supported     | 1            | `0` (ì§€ì›ë¨)      |\n| MBR Done                        | 1            | `**` (í˜„ì¬ ìƒíƒœ)  |\n| MBR Enabled                     | 1            | `**` (í˜„ì¬ ìƒíƒœ)  |\n| Media Encryption                | 1            | `1` (ì•”í˜¸í™”ë¨)    |\n| Locked                          | 1            | `**` (í˜„ì¬ ìƒíƒœ)  |\n| Locking Enabled                 | 1            | ì°¸ì¡°: Section 3.1.1.3.1 |\n| Locking Supported               | 1            | `1` (ì§€ì›ë¨)      |\n\n> ì´ ê¸¸ì´ 12ë°”ì´íŠ¸(0x0C)ì´ë©°, ê° í•„ë“œëŠ” **Little-Endian** ìˆœì„œë¡œ ì „ì†¡ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- ì¥ì¹˜ëŠ” `Feature Code = 0x0002`ë¥¼ í¬í•¨í•œ **Locking Feature Descriptor**ë¥¼ ë°˜ë“œì‹œ ë°˜í™˜í•´ì•¼ í•¨.\n- `Version`ì€ `0x3` ì´ìƒì´ì–´ì•¼ í•˜ë©°, ì´ ë²„ì „ì—ì„œ ì •ì˜ëœ ê¸°ëŠ¥ì„ ì§€ì›í•´ì•¼ í•¨.\n- `Locking Supported` í•„ë“œëŠ” **í•­ìƒ 1**ì´ì–´ì•¼ í•¨. 0ì´ë©´ ê¸°ëŠ¥ ë¯¸ì§€ì›.\n- `Media Encryption` í•„ë“œëŠ” **í•­ìƒ 1**ì´ì–´ì•¼ í•¨ (ì¦‰, ëª¨ë“  Opal ì¥ì¹˜ëŠ” ë¯¸ë””ì–´ ì•”í˜¸í™”ë¥¼ ì œê³µí•´ì•¼ í•¨).\n- `MBR Shadowing Not Supported = 0`ì´ì§€ë§Œ, ì‹¤ì œ **MBR Shadowing ê¸°ëŠ¥ì€ ë°˜ë“œì‹œ ì§€ì›ë˜ì–´ì•¼ í•¨** (Section 4.3.5.4 ì°¸ì¡°).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì ‘ê·¼ ì œì–´**: ì¥ì¹˜ê°€ ì ê²¨ ìˆìœ¼ë©´, ì¼ë°˜ ì‚¬ìš©ì ë˜ëŠ” ìš´ì˜ì²´ì œëŠ” ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ.\n2. **ì•”í˜¸í™” ê¸°ë°˜ ë³´í˜¸**: `Media Encryption = 1`ì´ë¯€ë¡œ, ì „ì²´ ë””ìŠ¤í¬ ë°ì´í„°ëŠ” ì•”í˜¸í™”ë˜ì–´ ìˆìŒ. ì ê¸ˆ ìƒíƒœì¼ ë•ŒëŠ” ì•”í˜¸í™” í‚¤ê°€ ë¹„í™œì„±í™”ë˜ê±°ë‚˜ ì ‘ê·¼ ë¶ˆê°€.\n3. **ìƒíƒœ ê¸°ë°˜ ë³´ì•ˆ**: `Locked` ìƒíƒœì™€ `Locking Enabled` ìƒíƒœë¥¼ ì¡°í•©í•˜ì—¬, ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ì •êµí•˜ê²Œ ì œì–´ ê°€ëŠ¥.\n4. **ë¶€íŒ… ë³´í˜¸**: `MBR Done`, `MBR Enabled` ìƒíƒœë¥¼ í†µí•´ ë¶€íŒ… ì‹œ ë³´ì•ˆì„ í™•ë³´ (ì˜ˆ: MBRì´ ì ê¸´ ìƒíƒœì—ì„œ ë¶€íŒ… ë¶ˆê°€).\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Python + pytest)**\n\nì•„ë˜ëŠ” TCG Opal ì¥ì¹˜ì˜ Locking Featureë¥¼ ê²€ì¦í•˜ëŠ” **pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**ì…ë‹ˆë‹¤. ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ `pyopal` ë˜ëŠ” `pycryptodome`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë‚˜, ì—¬ê¸°ì„œëŠ” ê°€ìƒì˜ ì¥ì¹˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.\n\n---\n\n#### ğŸ“ í…ŒìŠ¤íŠ¸ ì½”ë“œ: `test_locking_feature.py`\n\n```python\nimport pytest\nfrom opal_client import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    device = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.start_session()  # StartSession ëª…ë ¹ì–´ ì‹¤í–‰\n    yield device\n    device.revert_session()  # ì„¸ì…˜ ì¢…ë£Œ (Revert)\n\ndef test_locking_feature_descriptor(opal_device):\n    \"\"\"Locking Feature Descriptorì˜ í•„ë“œë¥¼ ê²€ì¦\"\"\"\n    descriptor = opal_device.get_locking_feature_descriptor()\n\n    # Feature Code ê²€ì¦\n    assert descriptor['feature_code'] == 0x0002, \"Feature Code must be 0x0002\"\n\n    # Version ê²€ì¦ (0x3 ì´ìƒ)\n    assert descriptor['version'] >= 0x3, \"Version must be 0x3 or higher\"\n\n    # Length ê²€ì¦ (0x0C = 12)\n    assert descriptor['length'] == 0x0C, \"Length must be 0x0C\"\n\n    # Locking Supported ê²€ì¦\n    assert descriptor['locking_supported'] == 1, \"Locking Supported must be 1\"\n\n    # Media Encryption ê²€ì¦\n    assert descriptor['media_encryption'] == 1, \"Media Encryption must be 1\"\n\n    # MBR Shadowing Not Supported ê²€ì¦\n    assert descriptor['mbr_shadowing_not_supported'] == 0, \"MBR Shadowing Not Supported must be 0\"\n\n    # MBR Done, MBR EnabledëŠ” í˜„ì¬ ìƒíƒœì´ë¯€ë¡œ, ê°’ì´ 0 ë˜ëŠ” 1ì´ì–´ì•¼ í•¨\n    assert descriptor['mbr_done'] in [0, 1], \"MBR Done must be 0 or 1\"\n    assert descriptor['mbr_enabled'] in [0, 1], \"MBR Enabled must be 0 or 1\"\n\n    # Locked ìƒíƒœëŠ” í˜„ì¬ ìƒíƒœì´ë¯€ë¡œ 0 ë˜ëŠ” 1ì´ì–´ì•¼ í•¨\n    assert descriptor['locked'] in [0, 1], \"Locked must be 0 or 1\"\n\n    # Locking EnabledëŠ” Section 3.1.1.3.1ì— ë”°ë¼ 0 ë˜ëŠ” 1ì´ì–´ì•¼ í•¨\n    assert descriptor['locking_enabled'] in [0, 1], \"Locking Enabled must be 0 or 1\"\n\n    # HW Reset for LOR/DOR SupportedëŠ” VUì´ë¯€ë¡œ, 0~255 ë²”ìœ„ì˜ ê°’ì´ì–´ì•¼ í•¨\n    assert 0 <= descriptor['hw_reset_lor_dor_supported'] <= 255, \"HW Reset must be in valid range\"\n\ndef test_locking_state_change(opal_device):\n    \"\"\"ì ê¸ˆ ìƒíƒœ ë³€ê²½ ë° ê²€ì¦ í…ŒìŠ¤íŠ¸\"\"\"\n    # ì ê¸ˆ ìƒíƒœ í™•ì¸\n    initial_locked = opal_device.get_locked_state()\n    print(f\"Initial Locked State: {initial_locked}\")\n\n    # ì ê¸ˆ ìƒíƒœ ë³€ê²½ (ì˜ˆ: ì ê¸ˆ)\n    opal_device.set_locked_state(True)  # ì ê¸ˆ\n\n    # ìƒíƒœ ì¬í™•ì¸\n    locked_after_lock = opal_device.get_locked_state()\n    assert locked_after_lock == True, \"Locking failed after setting locked=True\"\n\n    # ì ê¸ˆ í•´ì œ\n    opal_device.set_locked_state(False)  # ì ê¸ˆ í•´ì œ\n\n    # ìƒíƒœ ì¬í™•ì¸\n    unlocked_after_unlock = opal_device.get_locked_state()\n    assert unlocked_after_unlock == False, \"Unlocking failed after setting locked=False\"\n\ndef test_session_management(opal_device):\n    \"\"\"StartSession ë° RevertSession í…ŒìŠ¤íŠ¸\"\"\"\n    # StartSession í›„ ì„¸ì…˜ í™œì„±í™” ì—¬ë¶€ í™•ì¸\n    assert opal_device.is_session_active() == True, \"Session should be active after StartSession\"\n\n    # RevertSession í›„ ì„¸ì…˜ ì¢…ë£Œ í™•ì¸\n    opal_device.revert_session()\n    assert opal_device.is_session_active() == False, \"Session should be inactive after Revert\"\n```\n\n---\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•**\n\n```bash\npytest test_locking_feature.py -v\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•„ë“œ ì´ë¦„                     | ì˜ˆìƒ ê°’            | ê²€ì¦ ë°©ë²• |\n|-----------------------------|--------------------|-----------|\n| Feature Code                | 0x0002             | `assert descriptor['feature_code'] == 0x0002` |\n| Version                     | â‰¥ 0x3              | `assert descriptor['version'] >= 0x3` |\n| Length                      | 0x0C (12)          | `assert descriptor['length'] == 0x0C` |\n| Locking Supported           | 1                  | `assert descriptor['locking_supported'] == 1` |\n| Media Encryption            | 1                  | `assert descriptor['media_encryption'] == 1` |\n| MBR Shadowing Not Supported | 0                  | `assert descriptor['mbr_shadowing_not_supported'] == 0` |\n| MBR Done / MBR Enabled      | 0 ë˜ëŠ” 1           | `assert value in [0, 1]` |\n| Locked                      | 0 ë˜ëŠ” 1           | `assert value in [0, 1]` |\n| Locking Enabled             | 0 ë˜ëŠ” 1           | `assert value in [0, 1]` |\n| HW Reset for LOR/DOR        | 0~255 (VU)         | `assert 0 <= value <= 255` |\n\n---\n\n### âœ… **ìš”ì•½ (í•œêµ­ì–´)**\n\n- **Locking Feature**ëŠ” TCG Opal ì¥ì¹˜ì—ì„œ ì €ì¥ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n- ì¥ì¹˜ëŠ” `Feature Code = 0x0002`ë¥¼ í¬í•¨í•œ 12ë°”ì´íŠ¸ì˜ Descriptorë¥¼ ë°˜í™˜í•´ì•¼ í•˜ë©°, ì£¼ìš” í•„ë“œëŠ” `Locked`, `Locking Enabled`, `Media Encryption` ë“±ì…ë‹ˆë‹¤.\n- `Media Encryption = 1`ê³¼ `Locking Supported = 1`ì€ **ë°˜ë“œì‹œ** ì§€ì¼œì ¸ì•¼ í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì…ë‹ˆë‹¤.\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ì ‘ê·¼ ì œì–´ + ì•”í˜¸í™” + ìƒíƒœ ê¸°ë°˜ ì œì–´**ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n- **Python + pytest**ë¥¼ í™œìš©í•´, `StartSession`, `Revert`, `get_locked_state`, `set_locked_state` ë“±ì„ í†µí•´ ê¸°ëŠ¥ì„ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n- í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ ê° í•„ë“œì˜ ì˜ˆìƒ ê°’ì„ `assert`ë¡œ ê²€ì¦í•˜ë©°, ìƒíƒœê°’ì€ `0` ë˜ëŠ” `1`ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: Locking FeatureëŠ” Opal ì¥ì¹˜ì˜ ê¸°ë³¸ ë³´ì•ˆ ê¸°ëŠ¥ìœ¼ë¡œ, ì¥ì¹˜ì˜ ì ê¸ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ì œì–´í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ê²ƒì€ ë³´ì•ˆ ì„±ëŠ¥ì„ í™•ë³´í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n--- \n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì˜ˆì‹œ ì½”ë“œ ì œê³µ ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œê³µ ì™„ë£Œ**\n\n--- \n\n**[ë]**"
    },
    {
        "section_order": 37,
        "level": 5,
        "section_id": "3.1.1.3.1",
        "section_key": "3.1.1.3.1 LockingEnabled Definition",
        "title": "LockingEnabled Definition",
        "start_page": 21,
        "end_page": 21,
        "page_count": 1,
        "content_md": "## 3.1.1.3.1 LockingEnabled Definition\nThe definition of the LockingEnabled bit is changed from [2] as follows:\nThe LockingEnabled bit SHALL be set to one if an SP that incorporates the Locking template is in any state other than Nonexistent or Manufactured-Inactive; otherwise, the LockingEnabled bit SHALL be set to zero.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.3.1 LockingEnabled Definition â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### âœ… **1. ëª©ì  (Purpose)**\n\n`LockingEnabled` ë¹„íŠ¸ëŠ” **ì¥ì¹˜ì˜ ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸**ì…ë‹ˆë‹¤.  \nTCG Opal í‘œì¤€ì€ í•˜ë“œì›¨ì–´ ë³´ì•ˆì„ ì œê³µí•˜ê¸° ìœ„í•´ **ë³´ì•ˆ í”„ë¡œì„¸ì„œ**(Security Processor, SP)ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜í•˜ë©°, ì´ ë¹„íŠ¸ëŠ” íŠ¹íˆ **ì ê¸ˆ í…œí”Œë¦¿**(Locking Template)ì„ í¬í•¨í•œ SPê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.\n\nì¦‰, ì´ ë¹„íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì— ë‹µí•©ë‹ˆë‹¤:  \n> â€œì´ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” í˜„ì¬ ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœì¸ê°€?â€\n\nì´ ë¹„íŠ¸ê°€ 1ì´ë©´, ì‚¬ìš©ìëŠ” í•´ë‹¹ ì¥ì¹˜ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ” **ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”**ë˜ì–´ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functionality)**\n\n- **ë³´ì•ˆ ìƒíƒœ ê°ì§€**: ì¥ì¹˜ê°€ ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥ì„ í™œì„±í™”í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸.\n- **ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì œì–´**: ê´€ë¦¬ì ë˜ëŠ” ì‚¬ìš©ìê°€ ì¥ì¹˜ ë³´ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì¡°ì‘í•  ë•Œ ì°¸ê³ .\n- **ìë™í™” ë° ì •ì±… ê¸°ë°˜ ë³´ì•ˆ**: ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ë³´ì•ˆ ìƒíƒœë¥¼ ì²´í¬í•˜ì—¬ ì ê¸ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ëœ ê²½ìš° ê²½ê³  ë˜ëŠ” ìë™ ì ê¸ˆ ì²˜ë¦¬ ê°€ëŠ¥.\n\n---\n\n### âœ… **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`LockingEnabled`ì€ **1ë¹„íŠ¸**(bit)ì˜ Boolean ê°’ì…ë‹ˆë‹¤.\n\n- `1` (True): ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë¨ â†’ SPê°€ Nonexistent ë˜ëŠ” Manufactured-Inactive ìƒíƒœê°€ ì•„ë‹˜.\n- `0` (False): ì ê¸ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë¨ â†’ SPê°€ Nonexistent ë˜ëŠ” Manufactured-Inactive ìƒíƒœ.\n\nì´ ë¹„íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **Device Specific Feature (DSF)** ë˜ëŠ” **Security Status** ì •ë³´ì˜ ì¼ë¶€ë¡œ í¬í•¨ë˜ë©°, TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### âœ… **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **SP ìƒíƒœ ê¸°ë°˜ ì„¤ì •**:  \n  `LockingEnabled = 1` â‡” SPê°€ **Nonexistent** ë˜ëŠ” **Manufactured-Inactive** ìƒíƒœê°€ ì•„ë‹˜.\n  \n  â†’ ì¦‰, SPê°€ **í™œì„±í™”ëœ ìƒíƒœ**(ì˜ˆ: Initialized, Active, Inactive ë“±)ì´ë©´ ë¹„íŠ¸ê°€ 1ì´ ë©ë‹ˆë‹¤.\n\n- **ë¹„íŠ¸ ì„¤ì •ì€ ê°•ì œì **:  \n  â€œSHALL be set to oneâ€ â†’ í‘œì¤€ì— ë”°ë¼ **ë°˜ë“œì‹œ** ê·¸ë ‡ê²Œ ì„¤ì •í•´ì•¼ í•¨.\n\n- **ë³´ì•ˆ í…œí”Œë¦¿ í¬í•¨ ì—¬ë¶€ í•„ìˆ˜**:  \n  SPê°€ **Locking í…œí”Œë¦¿ì„ í¬í•¨**í•´ì•¼ë§Œ ì´ ë¹„íŠ¸ê°€ ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤. Locking í…œí”Œë¦¿ì´ ì—†ìœ¼ë©´ ë¹„íŠ¸ê°€ 1ì´ ë˜ëŠ” ê²ƒì´ ë¬´ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì ê¸ˆ ê¸°ëŠ¥ì˜ ìƒíƒœë¥¼ ì™¸ë¶€ì— ë…¸ì¶œ**:  \n  `LockingEnabled` ë¹„íŠ¸ëŠ” ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ê³µê°œí•˜ì§€ë§Œ, **ìì²´ ë³´ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´**ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n- **ê³µê²©ìì—ê²Œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŒ**:  \n  ì˜ˆ: ê³µê²©ìê°€ ì´ ë¹„íŠ¸ë¥¼ ì½ì–´ ì¥ì¹˜ê°€ ë³´ì•ˆì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸ â†’ ì´í›„ ê³µê²© ì „ëµ ê²°ì • ê°€ëŠ¥.  \n  â†’ ë”°ë¼ì„œ ì´ ì •ë³´ëŠ” **ë³´ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´**ì´ì§€ë§Œ, **ì§ì ‘ì ì¸ ì•”í˜¸ í•´ë…ì´ë‚˜ ì ‘ê·¼ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ**.\n\n- **ë³´ì•ˆ ìƒíƒœ ì „í™˜ ì‹œ ë™ê¸°í™”**:  \n  SP ìƒíƒœê°€ ë³€í™”í•  ë•Œë§ˆë‹¤ (ì˜ˆ: Initialized â†’ Active), `LockingEnabled` ë¹„íŠ¸ë„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì–´ì•¼ í•¨.\n\n---\n\n## âœ… **6. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Case)**\n\në‹¤ìŒì€ `LockingEnabled` ë¹„íŠ¸ì˜ ì •í™•ì„±ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª **Test Case 1: SPê°€ Nonexistent ìƒíƒœì¼ ë•Œ LockingEnabled = 0**\n\n**ëª©ì **: SPê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ë¹„íŠ¸ê°€ 0ì¸ì§€ í™•ì¸\n\n**ì ˆì°¨**:\n1. ì¥ì¹˜ë¥¼ ì´ˆê¸°í™”í•˜ì—¬ SPë¥¼ Nonexistent ìƒíƒœë¡œ ë§Œë“ ë‹¤.\n2. `StartSession` (Administrator)ë¡œ ì„¸ì…˜ì„ ì‹œì‘.\n3. `GetSecurityStatus` ëª…ë ¹ì–´ë¡œ Security Statusë¥¼ ì½ìŒ.\n4. `LockingEnabled` ë¹„íŠ¸ë¥¼ í™•ì¸.\n\n**ì˜ˆìƒ ê²°ê³¼**: `LockingEnabled = 0`\n\n---\n\n### ğŸ§ª **Test Case 2: SPê°€ Manufactured-Inactive ìƒíƒœì¼ ë•Œ LockingEnabled = 0**\n\n**ëª©ì **: ì œì¡° ì‹œ ë¹„í™œì„±í™”ëœ SP ìƒíƒœì—ì„œ ë¹„íŠ¸ê°€ 0ì¸ì§€ í™•ì¸\n\n**ì ˆì°¨**:\n1. ì¥ì¹˜ë¥¼ ì œì¡°ëœ ìƒíƒœë¡œ ìœ ì§€ (Manufactured-Inactive).\n2. `StartSession` (Manufacturer)ìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘.\n3. `GetSecurityStatus` ëª…ë ¹ì–´ë¡œ Security Status ì½ê¸°.\n4. `LockingEnabled` ë¹„íŠ¸ í™•ì¸.\n\n**ì˜ˆìƒ ê²°ê³¼**: `LockingEnabled = 0`\n\n---\n\n### ğŸ§ª **Test Case 3: SPê°€ Active ìƒíƒœì¼ ë•Œ LockingEnabled = 1**\n\n**ëª©ì **: ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œ ë¹„íŠ¸ê°€ 1ì¸ì§€ í™•ì¸\n\n**ì ˆì°¨**:\n1. SPë¥¼ ì´ˆê¸°í™” ë° í™œì„±í™” (Initialize, Activate).\n2. `StartSession` (Administrator)ìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘.\n3. `GetSecurityStatus` ëª…ë ¹ì–´ë¡œ Security Status ì½ê¸°.\n4. `LockingEnabled` ë¹„íŠ¸ í™•ì¸.\n\n**ì˜ˆìƒ ê²°ê³¼**: `LockingEnabled = 1`\n\n---\n\n### ğŸ§ª **Test Case 4: SPê°€ Initialized ìƒíƒœì¼ ë•Œ LockingEnabled = 1**\n\n**ëª©ì **: ì´ˆê¸°í™”ëœ ìƒíƒœ(ì•„ì§ í™œì„±í™”ë˜ì§€ ì•ŠìŒ)ì—ì„œë„ ë¹„íŠ¸ê°€ 1ì¸ì§€ í™•ì¸\n\n**ì ˆì°¨**:\n1. SPë¥¼ Initialize (ì´ˆê¸°í™”)ë§Œ ìˆ˜í–‰.\n2. `StartSession` (Administrator)ìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘.\n3. `GetSecurityStatus` ëª…ë ¹ì–´ë¡œ Security Status ì½ê¸°.\n4. `LockingEnabled` ë¹„íŠ¸ í™•ì¸.\n\n**ì˜ˆìƒ ê²°ê³¼**: `LockingEnabled = 1` (Initialized ìƒíƒœëŠ” Nonexistent/Manufactured-Inactiveê°€ ì•„ë‹˜)\n\n---\n\n## âœ… **7. Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal import OpalDevice  # ê°€ì •: TCG Opal ì»¨íŠ¸ë¡¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: pyopal ë“±)\n\n@pytest.fixture\ndef device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    dev = OpalDevice(\"/dev/sda\")\n    dev.reset()  # í…ŒìŠ¤íŠ¸ ì „ ì´ˆê¸°í™”\n    yield dev\n    dev.revert()  # í…ŒìŠ¤íŠ¸ í›„ ë³µì›\n\ndef test_locking_enabled_nonexistent(device):\n    \"\"\"SPê°€ Nonexistent ìƒíƒœì¼ ë•Œ LockingEnabled = 0\"\"\"\n    # SP ìƒíƒœë¥¼ Nonexistentë¡œ ìœ ì§€ (ì´ˆê¸°í™” ì „)\n    status = device.get_security_status()\n    assert status[\"LockingEnabled\"] == 0\n\ndef test_locking_enabled_manufactured_inactive(device):\n    \"\"\"SPê°€ Manufactured-Inactive ìƒíƒœì¼ ë•Œ LockingEnabled = 0\"\"\"\n    # Manufacturer ì„¸ì…˜ìœ¼ë¡œ ì ‘ì† (ì œì¡° ìƒíƒœ ìœ ì§€)\n    device.start_session(\"Manufacturer\")\n    status = device.get_security_status()\n    assert status[\"LockingEnabled\"] == 0\n\ndef test_locking_enabled_initialized(device):\n    \"\"\"SPê°€ Initialized ìƒíƒœì¼ ë•Œ LockingEnabled = 1\"\"\"\n    device.start_session(\"Administrator\")\n    device.initialize_security_processor()\n    status = device.get_security_status()\n    assert status[\"LockingEnabled\"] == 1\n\ndef test_locking_enabled_active(device):\n    \"\"\"SPê°€ Active ìƒíƒœì¼ ë•Œ LockingEnabled = 1\"\"\"\n    device.start_session(\"Administrator\")\n    device.initialize_security_processor()\n    device.activate_security_processor()\n    status = device.get_security_status()\n    assert status[\"LockingEnabled\"] == 1\n```\n\n---\n\n## âœ… **8. TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•œ ê²€ì¦ ë°©ë²•**\n\n| ë‹¨ê³„ | ëª…ë ¹ì–´ | ëª©ì  |\n|------|--------|------|\n| 1 | `StartSession` (Admin/Manufacturer) | ì¥ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì„¸ì…˜ ì‹œì‘ |\n| 2 | `GetSecurityStatus` | ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœ ì •ë³´ ì¡°íšŒ (LockingEnabled í¬í•¨) |\n| 3 | `InitializeSecurityProcessor` | SP ì´ˆê¸°í™” â†’ ìƒíƒœ ë³€í™” í™•ì¸ |\n| 4 | `ActivateSecurityProcessor` | SP í™œì„±í™” â†’ ìƒíƒœ ë³€í™” í™•ì¸ |\n| 5 | `Revert` | í…ŒìŠ¤íŠ¸ í›„ ì¥ì¹˜ ìƒíƒœ ë³µì› |\n\n> ğŸ’¡ ì£¼ì˜: `GetSecurityStatus`ëŠ” `SecurityStatus` êµ¬ì¡°ì—ì„œ `LockingEnabled` í•„ë“œë¥¼ ì½ì–´ì•¼ í•¨.\n\n---\n\n## âœ… **9. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n`LockingEnabled` ë¹„íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ `SecurityStatus` êµ¬ì¡°ì˜ ì¼ë¶€ì´ë©°, ë‹¤ìŒê³¼ ê°™ì€ í…Œì´ë¸” í˜•íƒœë¡œ ì œê³µë©ë‹ˆë‹¤:\n\n| Field Name        | Type | Description |\n|-------------------|------|-------------|\n| LockingEnabled    | Bit | ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€ (1: í™œì„±í™”, 0: ë¹„í™œì„±í™”) |\n| SPState           | Enum | SPì˜ ìƒíƒœ (Nonexistent, Manufactured-Inactive, Initialized, Active, Inactive ë“±) |\n\n### âœ… ê²€ì¦ ë¡œì§:\n\n```python\ndef validate_locking_enabled(sp_state, locking_enabled):\n    if sp_state in [\"Nonexistent\", \"Manufactured-Inactive\"]:\n        assert locking_enabled == 0, f\"SP ìƒíƒœ={sp_state}ì¸ë° LockingEnabled={locking_enabled}ì´ì–´ì•¼ í•¨\"\n    else:\n        assert locking_enabled == 1, f\"SP ìƒíƒœ={sp_state}ì¸ë° LockingEnabled={locking_enabled}ì´ì–´ì•¼ í•¨\"\n```\n\nì´ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ì—¬ `GetSecurityStatus`ì˜ ê²°ê³¼ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n`LockingEnabled` ë¹„íŠ¸ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 1ë¹„íŠ¸ í”Œë˜ê·¸ì…ë‹ˆë‹¤. ì´ ë¹„íŠ¸ëŠ” **ë³´ì•ˆ í”„ë¡œì„¸ì„œ(SP)ì˜ ìƒíƒœ**ì— ë”°ë¼ ê²°ì •ë˜ë©°, SPê°€ **Nonexistent** ë˜ëŠ” **Manufactured-Inactive** ìƒíƒœê°€ ì•„ë‹ˆë©´ í•­ìƒ **1**ì´ ë©ë‹ˆë‹¤.  \nì¦‰, ì¥ì¹˜ê°€ ë³´ì•ˆ ì„¤ì •ì„ ì‹œì‘í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.\n\nì´ ë¹„íŠ¸ëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤, ì •ì±… ê¸°ë°˜ ë³´ì•ˆ, ìë™í™” ì‹œìŠ¤í…œì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ëŠ” SP ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ë©° `GetSecurityStatus`ë¡œ ë¹„íŠ¸ ê°’ì„ ì½ì–´ ê²€ì¦í•˜ë©°, Python + pytestë¥¼ ì‚¬ìš©í•´ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `LockingEnabled` ë¹„íŠ¸ëŠ” ë³´ì•ˆ ìƒíƒœ ê°ì§€ì— í•µì‹¬ì ì¸ ì—­í• ì„ í•˜ë©°, SP ìƒíƒœì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•˜ë¯€ë¡œ, ì´ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ ë³´ì•ˆì˜ ì‹ ë¢°ì„± í™•ë³´ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **:  \n- `LockingEnabled` ë¹„íŠ¸ëŠ” **ë³´ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ì§€ë§Œ**, ì§ì ‘ì ì¸ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\n- `GetSecurityStatus` ëª…ë ¹ì–´ëŠ” TCG Opal ëª…ë ¹ì–´ì…‹ì˜ ì¼ë¶€ì´ë©°, `SecurityStatus` êµ¬ì¡°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥ ì—¬ë¶€**: **ì™„ì „íˆ ê²€ì¦ ê°€ëŠ¥** (í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤, ì½”ë“œ ì˜ˆì‹œ, ëª…ë ¹ì–´ ì„¤ëª… í¬í•¨)  \nâœ… **ì´ˆë³´ì ì„¤ëª…**: ì„¤ëª…ì´ ìì„¸í•˜ê³  ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆì–´ ì´ˆë³´ìë„ ì´í•´ ê°€ëŠ¥\n\n---\n\n**ì¶œë ¥: ë‚´ìš©ìˆìŒ**"
    },
    {
        "section_order": 38,
        "level": 4,
        "section_id": "3.1.1.4",
        "section_key": "3.1.1.4 Geometry Reporting Feature (Feature Code = 0x0003)",
        "title": "Geometry Reporting Feature (Feature Code = 0x0003)",
        "start_page": 21,
        "end_page": 21,
        "page_count": 1,
        "content_md": "## 3.1.1.4 Geometry Reporting Feature (Feature Code = 0x0003)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.4 Geometry Reporting Feature (Feature Code = 0x0003)"
    },
    {
        "section_order": 39,
        "level": 5,
        "section_id": "3.1.1.4.1",
        "section_key": "3.1.1.4.1 Overview",
        "title": "Overview",
        "start_page": 21,
        "end_page": 22,
        "page_count": 2,
        "content_md": "### 3.1.1.4.1 Overview\nThis information indicates support for logical block and physical block geometry. This feature MAY be returned in the Level 0 Discovery response. See [2] for additional information.\n\n## Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor\n\n### Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor (continued)\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0003\n- Version = 0x01\n- Length = 0x1C",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **3.1.1.4.1 Overview - ì„¤ëª… (ì´ˆë³´ììš© ìì„¸í•œ ì„¤ëª…)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë…¼ë¦¬ ë¸”ë¡ ë° ë¬¼ë¦¬ ë¸”ë¡ì˜ ê¸°í•˜í•™ì  ì •ë³´**(Geometry)ë¥¼ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.  \nì¦‰, ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì–´ë–¤ í¬ê¸°ì˜ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ë¬¼ë¦¬ì  ë¸”ë¡ê³¼ ë…¼ë¦¬ ë¸”ë¡ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì œê³µí•˜ëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì´ ì •ë³´ëŠ” **Level 0 Discovery** (ì´ˆê¸° ë””ìŠ¤ì»¤ë²„ë¦¬) ê³¼ì •ì—ì„œ ë°˜í™˜ë  ìˆ˜ ìˆìœ¼ë©°, ì‚¬ìš©ìë‚˜ ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- **ë…¼ë¦¬ ë¸”ë¡ ê¸°í•˜í•™ ì •ë³´ ì œê³µ (Logical Block Geometry)**:  \n  ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” ë…¼ë¦¬ ë¸”ë¡ í¬ê¸°, ë¸”ë¡ ìˆ˜, ì´ ìš©ëŸ‰ ë“±ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.  \n  ì˜ˆ: ë¸”ë¡ í¬ê¸° 512B, ë¸”ë¡ ìˆ˜ 100,000ê°œ â†’ ì´ ìš©ëŸ‰ 50GB.\n\n- **ë¬¼ë¦¬ ë¸”ë¡ ê¸°í•˜í•™ ì •ë³´ ì œê³µ (Physical Block Geometry)**:  \n  ì‹¤ì œ í•˜ë“œì›¨ì–´ê°€ ì‚¬ìš©í•˜ëŠ” ë¬¼ë¦¬ ë¸”ë¡ì˜ í¬ê¸°ì™€ ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.  \n  ì´ëŠ” SSDë‚˜ í•˜ë“œë””ìŠ¤í¬ì˜ ì‹¤ì œ ë¬¼ë¦¬ êµ¬ì¡°ì— ë”°ë¼ ë‹¬ë¼ì§€ë©°, RAID,_trim,ç£¨æŸê· í˜• ë“±ì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤.\n\n- **Level 0 Discoveryì—ì„œ ë°˜í™˜ ê°€ëŠ¥**:  \n  ì¥ì¹˜ê°€ Opal ìŠ¤í™ì„ ì¤€ìˆ˜í•˜ë©´, ì´ˆê¸° ì—°ê²° ì‹œ Level 0 Discovery ì‘ë‹µì— ì´ ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  \n  â†’ ì´ëŠ” ì¥ì¹˜ê°€ Opal ê¸°ëŠ¥ì„ ì§€ì›í•¨ì„ ì•Œë ¤ì£¼ëŠ” \"ì²« ë²ˆì§¸ ì‹ í˜¸\" ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ê¸°ëŠ¥ì€ **Feature Descriptor** í˜•íƒœë¡œ ì œê³µë˜ë©°, **Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor**ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n| í•„ë“œëª…        | ê°’ (ê°’ ì˜ˆì‹œ) | ì„¤ëª… |\n|---------------|--------------|------|\n| Feature Code  | 0x0003       | ì´ ê¸°ëŠ¥ì˜ ê³ ìœ  ì‹ë³„ì (Geometry Reporting) |\n| Version       | 0x01         | ìŠ¤í™ ë²„ì „ (í˜„ì¬ v1) |\n| Length        | 0x1C (28 ë°”ì´íŠ¸) | ì´ Feature Descriptorì˜ ê¸¸ì´ (ë°”ì´íŠ¸ ë‹¨ìœ„) |\n\nâ†’ ì´ ë°ì´í„°ëŠ” **Level 0 Discovery ì‘ë‹µì˜ ì¼ë¶€**ë¡œ í¬í•¨ë˜ë©°, ì¥ì¹˜ê°€ ì´ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤ëŠ” ê²ƒì„ í‘œì‹œí•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Opal SSC ì¤€ìˆ˜ ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì•„ë˜ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•¨**:\n  - Feature Code: `0x0003`\n  - Version: `0x01`\n  - Length: `0x1C`\n\n- ì´ ê¸°ëŠ¥ì€ **Level 0 Discovery** ì‘ë‹µì— í¬í•¨ë˜ì–´ì•¼ í•˜ë©°,  \n  **ì¥ì¹˜ê°€ Opal ìŠ¤í™ì„ ì¤€ìˆ˜í•¨ì„ í™•ì¸í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• **ì„ í•©ë‹ˆë‹¤.\n\n- **ì¥ì¹˜ê°€ ì´ Feature Descriptorë¥¼ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´**,  \n  Opal ê¸°ëŠ¥ì„ ì™„ì „íˆ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë‹¨, ì¼ë¶€ ì¥ì¹˜ëŠ” ì„ íƒì ìœ¼ë¡œ ì§€ì›í•  ìˆ˜ ìˆìŒ).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥**(ì˜ˆ: ì•”í˜¸í™”, ì¸ì¦ ë“±)ì„ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.  \ní•˜ì§€ë§Œ, **ì¥ì¹˜ì˜ ê¸°í•˜í•™ ì •ë³´ë¥¼ ì •í™•í•˜ê²Œ ì œê³µí•¨ìœ¼ë¡œì¨**, ì´í›„ì— ìˆ˜í–‰ë˜ëŠ” ë³´ì•ˆ ì‘ì—…(ì˜ˆ: ì•”í˜¸í™”ëœ ë³¼ë¥¨ ìƒì„±, ì ‘ê·¼ ì œì–´, íŠ¸ë¦¼ ë“±)ì´ ì •í™•í•˜ê²Œ ìˆ˜í–‰ë  ìˆ˜ ìˆë„ë¡ **ê¸°ë°˜ ì •ë³´ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.\n\nì¦‰, **ë³´ì•ˆì˜ ê¸°ì´ˆ ë°ì´í„°**ë¥¼ ì œê³µí•˜ëŠ” ì—­í• ì„ í•˜ë©°,  \nì´ ì •ë³´ê°€ ë¶€ì •í™•í•˜ë©´ ì´í›„ì˜ ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì— ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## âœ… **Test Case ì œì‹œ**\n\n### ğŸ”§ í…ŒìŠ¤íŠ¸ ëª©ì \n- Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ Level 0 Discovery ì‘ë‹µì— **Geometry Reporting Feature Descriptor**ë¥¼ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸.\n- Feature Code, Version, Lengthê°€ ìŠ¤í™ì— ë§ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²• (Python + pytest)\n\n#### 1. TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© (StartSession, GetFeature, etc.)\n\nTCG Opal ëª…ë ¹ì–´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **SCSI/ATA ëª…ë ¹ì–´**ë¥¼ í†µí•´ ì „ë‹¬ë˜ë©°, Pythonì—ì„œëŠ” `py-scsi` ë˜ëŠ” `pyata` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì§ì ‘ `ioctl` ë˜ëŠ” `ctypes`ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  \ní•˜ì§€ë§Œ ì‹¤ìš©ì ìœ¼ë¡œëŠ” **`py-opal`** ë˜ëŠ” **`py-scsi`** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.  \nì´ ì˜ˆì‹œì—ì„œëŠ” **`py-scsi` + `pytest`** ê¸°ë°˜ì˜ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì œì‹œí•©ë‹ˆë‹¤.\n\n> âš ï¸ ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œëŠ” ì‹¤ì œ Opal ì¥ì¹˜ ì—°ê²° ë° SCSI í†µì‹ ì´ í•„ìš”í•˜ë©°, ì•„ë˜ ì½”ë“œëŠ” êµ¬ì¡°ì  ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ’» í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\n# test_opal_geometry_reporting.py\n\nimport pytest\nfrom scsi import SCSIDevice  # ê°€ì •: py-scsi ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\nfrom scsi.opal import OpalDevice, StartSession, GetFeature, FeatureCode\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì—°ê²° (ì˜ˆì‹œ: /dev/sdb)\"\"\"\n    device = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½\n    return device\n\ndef test_level0_discovery_geometry_reporting(opal_device):\n    \"\"\"Level 0 Discoveryì—ì„œ Geometry Reporting Feature Descriptor í™•ì¸\"\"\"\n    # 1. StartSession (Level 0)\n    try:\n        opal_device.start_session(level=0, password=\"admin\")  # ì˜ˆì‹œ ë¹„ë°€ë²ˆí˜¸\n    except Exception as e:\n        pytest.fail(f\"StartSession ì‹¤íŒ¨: {e}\")\n\n    # 2. GetFeature ëª…ë ¹ì–´ë¡œ Level 0 Discovery ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n    try:\n        discovery_data = opal_device.get_feature(feature_code=FeatureCode.LEVEL_0_DISCOVERY)\n    except Exception as e:\n        pytest.fail(f\"GetFeature ì‹¤íŒ¨: {e}\")\n\n    # 3. Geometry Reporting Feature Descriptor ê²€ì¦\n    geometry_descriptor = None\n    for feature in discovery_data[\"features\"]:\n        if feature[\"feature_code\"] == 0x0003:  # Geometry Reporting\n            geometry_descriptor = feature\n            break\n\n    # 4. í•„ìˆ˜ í•„ë“œ ê²€ì¦\n    assert geometry_descriptor is not None, \"Geometry Reporting Feature Descriptor ì—†ìŒ\"\n\n    assert geometry_descriptor[\"feature_code\"] == 0x0003, f\"Feature Code ì˜¤ë¥˜: {geometry_descriptor['feature_code']}\"\n    assert geometry_descriptor[\"version\"] == 0x01, f\"Version ì˜¤ë¥˜: {geometry_descriptor['version']}\"\n    assert geometry_descriptor[\"length\"] == 0x1C, f\"Length ì˜¤ë¥˜: {geometry_descriptor['length']}\"\n\n    # 5. ì¶”ê°€ ê²€ì¦ (ì˜ˆ: í•„ë“œê°€ 28ë°”ì´íŠ¸ì¸ì§€ í™•ì¸)\n    assert len(geometry_descriptor[\"data\"]) == 0x1C, \"Descriptor ë°ì´í„° ê¸¸ì´ ì˜¤ë¥˜\"\n\n    print(\"âœ… Geometry Reporting Feature Descriptor ì •ìƒì ìœ¼ë¡œ ê²€ì¶œë¨.\")\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **Table 5**ì— ì •ì˜ëœ Feature DescriptorëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n```plaintext\n[ Feature Code: 0x0003 ]\n[ Version: 0x01 ]\n[ Length: 0x1C ]\n[ ë°ì´í„° ì˜ì—­: 28 ë°”ì´íŠ¸ (ì˜ˆ: ë…¼ë¦¬/ë¬¼ë¦¬ ë¸”ë¡ ì •ë³´) ]\n```\n\n- **ê²€ì¦ ì ˆì°¨**:\n  1. Level 0 Discovery ì‘ë‹µì—ì„œ `features` ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œ.\n  2. `feature_code == 0x0003`ì¸ í•­ëª© ì°¾ê¸°.\n  3. Version, Length í•„ë“œê°€ 0x01, 0x1Cì¸ì§€ í™•ì¸.\n  4. ë°ì´í„° ì˜ì—­ì˜ ê¸¸ì´ê°€ 0x1C(28 ë°”ì´íŠ¸)ì¸ì§€ í™•ì¸.\n  5. (ì˜µì…˜) ë°ì´í„° ì˜ì—­ ë‚´ë¶€ì˜ ë…¼ë¦¬/ë¬¼ë¦¬ ë¸”ë¡ ì •ë³´ê°€ ì˜ˆìƒ ë²”ìœ„ ë‚´ì¸ì§€ ì¶”ê°€ ê²€ì¦ (ì˜ˆ: ë¸”ë¡ í¬ê¸° 512/4096 ë“±).\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´ ìƒì„¸ ìš”ì•½)\n\n- **ëª©ì **: Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë…¼ë¦¬/ë¬¼ë¦¬ ë¸”ë¡ ê¸°í•˜í•™ ì •ë³´ë¥¼ í‘œì‹œ.\n- **ì£¼ìš” ê¸°ëŠ¥**: ë¸”ë¡ í¬ê¸°, ë¸”ë¡ ìˆ˜, ì´ ìš©ëŸ‰ ë“±ì˜ ì •ë³´ ì œê³µ â†’ ë³´ì•ˆ ë° ê´€ë¦¬ ê¸°ë°˜ ì •ë³´.\n- **ë°ì´í„° êµ¬ì¡°**: Feature Descriptor í˜•ì‹ (Feature Code 0x0003, Version 0x01, Length 0x1C).\n- **ìš”êµ¬ì‚¬í•­**: Opal SSC ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì´ Feature Descriptorë¥¼ Level 0 Discovery ì‘ë‹µì— í¬í•¨.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥ì€ ì•„ë‹˜, í•˜ì§€ë§Œ ë³´ì•ˆ í”„ë¡œì„¸ìŠ¤ì˜ ê¸°ì´ˆ ë°ì´í„° ì œê³µ â†’ ë³´ì•ˆ ì‘ì—… ì •í™•ì„± ë³´ì¥.\n- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: StartSession í›„ GetFeatureë¡œ Level 0 Discovery ë°ì´í„°ë¥¼ ì–»ì–´, Feature Code 0x0003ì´ í¬í•¨ë˜ê³ , Version, Lengthê°€ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì¥ì¹˜ ì—°ê²° ë° SCSI ëª…ë ¹ì–´ í†µì‹ ì´ í•„ìš”í•˜ë©°, ìœ„ ì½”ë“œëŠ” êµ¬ì¡°ì  ì˜ˆì‹œì…ë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì¥ì¹˜ ë“œë¼ì´ë²„, í—ˆìš©ëœ ì ‘ê·¼ ê¶Œí•œ, ë¹„ë°€ë²ˆí˜¸ ë“±ì´ í•„ìš”í•©ë‹ˆë‹¤.**\n\n---\n\n## ğŸ“Œ ìµœì¢… ì¶œë ¥\n\n> **ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ìˆìŠµë‹ˆë‹¤.**\n\n---\n\nâœ… **ìµœì¢… ë‹µë³€:**\n\n> **3.1.1.4.1 Overview ì„¹ì…˜ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë…¼ë¦¬ ë° ë¬¼ë¦¬ ë¸”ë¡ ê¸°í•˜í•™ ì •ë³´ë¥¼ Level 0 Discovery ì‘ë‹µì— í¬í•¨í•  ìˆ˜ ìˆìŒì„ ì„¤ëª…í•˜ë©°, Feature Descriptor(0x0003, 0x01, 0x1C)ì˜ êµ¬ì¡°ì™€ ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ì¥ì¹˜ê°€ Opal ìŠ¤í™ì„ ì¤€ìˆ˜í•¨ì„ í™•ì¸í•˜ëŠ” ê¸°ë³¸ ì •ë³´ë¡œ, ë³´ì•ˆ ì‘ì—…ì˜ ê¸°ì´ˆ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ TCG Opal ëª…ë ¹ì–´ ì‚¬ìš©ì„ í†µí•´ í•´ë‹¹ Feature Descriptorì˜ ì¡´ì¬ ë° ì •í™•ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**"
    },
    {
        "section_order": 40,
        "level": 5,
        "section_id": "3.1.1.4.2",
        "section_key": "3.1.1.4.2 ALIGN",
        "title": "ALIGN",
        "start_page": 22,
        "end_page": 22,
        "page_count": 1,
        "content_md": "## 3.1.1.4.2 ALIGN\nIf the value of the AlignmentRequired column of the LockingInfo table is TRUE, then the ALIGN bit shall be set to one. If the value of the AlignmentRequired column of the LockingInfo table is FALSE, then the ALIGN bit shall be cleared to zero.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 3.1.1.4.2 - ALIGN**\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€**ì—ì„œ **LockingInfo í…Œì´ë¸”**ì˜ `AlignmentRequired` ì—´ ê°’ì— ë”°ë¼ **ALIGN ë¹„íŠ¸**ì˜ ìƒíƒœë¥¼ ê²°ì •í•˜ëŠ” ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì¦‰, í•˜ë“œì›¨ì–´ ë˜ëŠ” ì €ì¥ì¥ì¹˜ê°€ **ë°ì´í„° ì •ë ¬(Alignment)ì´ í•„ìš”**í•˜ë‹¤ë©´, ALIGN ë¹„íŠ¸ëŠ” **1**ë¡œ ì„¤ì •ë˜ì–´ì•¼ í•˜ê³ , í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ **0**ìœ¼ë¡œ ì„¤ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ì €ì¥ ì¥ì¹˜ê°€ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê³ , ì•”í˜¸í™”ëœ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ **ì •ë ¬ ìš”êµ¬ì‚¬í•­**ì„ ëª…ì‹œí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ ëª©ì \n\n- ì €ì¥ ì¥ì¹˜ê°€ ì•”í˜¸í™”ëœ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ **ë°ì´í„° ì •ë ¬(Alignment)** ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ í‘œì‹œí•©ë‹ˆë‹¤.\n- ë³´ì•ˆ ê´€ë¦¬ì ë˜ëŠ” ì‹œìŠ¤í…œì´ ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš°, ë°ì´í„°ë¥¼ ì ì ˆíˆ ì •ë ¬í•˜ì—¬ ì €ì¥/ë³µí˜¸í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì•ˆë‚´í•©ë‹ˆë‹¤.\n- ì´ ë¹„íŠ¸ëŠ” **LockingInfo í…Œì´ë¸”**ê³¼ ì—°ë™ë˜ì–´ ìˆìœ¼ë©°, ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ë³´ì•ˆ ì„¤ì •ì„ ì´í•´í•˜ê³  ì ì ˆíˆ ë°˜ì‘í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n- **ALIGN ë¹„íŠ¸**ëŠ” ì €ì¥ ì¥ì¹˜ì˜ **ì •ë ¬ ìš”êµ¬ì‚¬í•­**ì„ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸ì…ë‹ˆë‹¤.\n- ì´ ë¹„íŠ¸ëŠ” **LockingInfo í…Œì´ë¸”ì˜ AlignmentRequired ì—´**ì˜ ê°’ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ë©°, ì‚¬ìš©ì ë˜ëŠ” ì‹œìŠ¤í…œì€ ì´ ë¹„íŠ¸ë¥¼ ì§ì ‘ ì¡°ì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (ì½ê¸° ì „ìš© ë˜ëŠ” ìë™ ì„¤ì •).\n- ì •ë ¬ì´ í•„ìš”í•˜ë‹¤ë©´, **ì‹œì‘ ì„¸ì…˜(StartSession)** ë˜ëŠ” **ì•”í˜¸í™” ì‘ì—…** ì¤‘ì— ë°ì´í„°ê°€ ì •ë ¬ëœ ìœ„ì¹˜ì— ì €ì¥ë˜ì–´ì•¼ í•˜ë©°, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ ë˜ëŠ” ë³´ì•ˆ ìœ„í—˜ ë°œìƒ ê°€ëŠ¥.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\n- **ALIGN ë¹„íŠ¸**ëŠ” **1ë¹„íŠ¸ì˜ í”Œë˜ê·¸**ì…ë‹ˆë‹¤.\n- ìœ„ì¹˜: ë³´í†µ `LockingInfo` í…Œì´ë¸”ì˜ ì¼ë¶€ë¡œ ì¡´ì¬í•˜ë©°, `AlignmentRequired` ì—´ê³¼ ì§ì ‘ ì—°ë™.\n- ê°’:\n  - `1` â†’ ì •ë ¬ í•„ìš” (Alignment Required)\n  - `0` â†’ ì •ë ¬ ë¶ˆí•„ìš” (Alignment Not Required)\n\n---\n\n## ğŸ“‹ ìš”êµ¬ì‚¬í•­\n\n1. **AlignmentRequired = TRUE** â†’ ALIGN ë¹„íŠ¸ = 1\n2. **AlignmentRequired = FALSE** â†’ ALIGN ë¹„íŠ¸ = 0\n3. ì´ ê·œì¹™ì€ **LockingInfo í…Œì´ë¸”ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì¦‰ì‹œ ë°˜ì˜**ë˜ì–´ì•¼ í•¨.\n4. ALIGN ë¹„íŠ¸ëŠ” **ì½ê¸° ì „ìš©**ì´ë©°, ì‚¬ìš©ìê°€ ì§ì ‘ ì„¤ì •í•  ìˆ˜ ì—†ìŒ (ì¥ì¹˜ê°€ ìë™ìœ¼ë¡œ ì„¤ì •).\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- ALIGN ë¹„íŠ¸ëŠ” **ë³´ì•ˆ ì •ì±…ì˜ ì¼í™˜**ìœ¼ë¡œ, ë°ì´í„° ì•”í˜¸í™” ë° ë³µí˜¸í™” ê³¼ì •ì—ì„œ **ì •ë ¬ë˜ì§€ ì•Šì€ ë°ì´í„°ê°€ ëˆ„ì¶œë˜ê±°ë‚˜ ì·¨ì•½ì ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë°©ì§€**í•©ë‹ˆë‹¤.\n- ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš°, ì‹œìŠ¤í…œì€ **ì •ë ¬ëœ ë¸”ë¡**ì—ë§Œ ë°ì´í„°ë¥¼ ì“°ë„ë¡ ì œì–´í•´ì•¼ í•˜ë©°, ì´ëŠ” **ì•”í˜¸í™”ëœ ë°ì´í„°ì˜ ë¬´ê²°ì„± ë° ë³´ì•ˆì„±**ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n- ë¹„íŠ¸ê°€ ì˜ëª» ì„¤ì •ë˜ë©´, **ì•”í˜¸í™”ëœ ë°ì´í„°ì˜ ì ‘ê·¼ ì‹¤íŒ¨ ë˜ëŠ” ë³´ì•ˆ ìœ„í˜‘**ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \nLockingInfo í…Œì´ë¸”ì˜ `AlignmentRequired` ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ALIGN ë¹„íŠ¸ê°€ ìë™ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•\n\n#### 1. **Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ì •: OpalDeviceëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½\n    device.start_session(\"admin\", \"password\")  # StartSession\n    return device\n\n@pytest.mark.parametrize(\"alignment_required, expected_align_bit\", [\n    (True, 1),\n    (False, 0)\n])\ndef test_align_bit_correctly_set(opal_device, alignment_required, expected_align_bit):\n    \"\"\"LockingInfo í…Œì´ë¸”ì˜ AlignmentRequired ê°’ì„ ì„¤ì •í•˜ê³ , ALIGN ë¹„íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ë°˜ì˜ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸\"\"\"\n    # 1. LockingInfo í…Œì´ë¸”ì˜ AlignmentRequired ê°’ì„ ì„¤ì • (ì˜ˆ: Admin Sessionì—ì„œ ìˆ˜ì • ê°€ëŠ¥)\n    opal_device.set_locking_info_alignment_required(alignment_required)\n\n    # 2. LockingInfo í…Œì´ë¸”ì„ ì½ì–´ ALIGN ë¹„íŠ¸ë¥¼ í™•ì¸\n    locking_info = opal_device.get_locking_info()\n\n    # 3. ALIGN ë¹„íŠ¸ê°€ ì˜ˆìƒ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦\n    assert locking_info['ALIGN'] == expected_align_bit, \\\n        f\"ALIGN bit should be {expected_align_bit} but got {locking_info['ALIGN']}\"\n\n    # 4. ì„¸ì…˜ ì¢…ë£Œ (ì˜µì…˜: í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ë³µêµ¬)\n    opal_device.revert_session()\n```\n\n> ğŸ’¡ **ì°¸ê³ **: `pyopal`ì€ ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” `pycryptodome`, `pyserial`, ë˜ëŠ” í•˜ë“œì›¨ì–´ ì œì¡°ì—…ì²´ì˜ SDKë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.\n\n---\n\n#### 2. **TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•**\n\n1. **StartSession** â†’ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n2. **GetLockingInfo** â†’ í˜„ì¬ LockingInfo í…Œì´ë¸” ì½ê¸° (ALIGN ë¹„íŠ¸ í™•ì¸)\n3. **SetLockingInfo** â†’ AlignmentRequired ê°’ì„ TRUE ë˜ëŠ” FALSEë¡œ ì„¤ì •\n4. **GetLockingInfo** â†’ ë‹¤ì‹œ ì½ê³  ALIGN ë¹„íŠ¸ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸\n5. **Revert** â†’ ì„¸ì…˜ ì¢…ë£Œ ë° ìƒíƒœ ë³µì› (í…ŒìŠ¤íŠ¸ í›„)\n\n> ì˜ˆ: `SetLockingInfo` ëª…ë ¹ì–´ë¡œ `AlignmentRequired=TRUE` ì„¤ì • í›„, `GetLockingInfo`ë¡œ í™•ì¸ â†’ ALIGN ë¹„íŠ¸ê°€ 1ì¸ì§€ í™•ì¸\n\n---\n\n#### 3. **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê°’ | ì„¤ëª… |\n|------|----|------|\n| AlignmentRequired | TRUE | ì •ë ¬ í•„ìš” |\n| ALIGN ë¹„íŠ¸ | 1 | ìë™ìœ¼ë¡œ ì„¤ì •ë¨ |\n| AlignmentRequired | FALSE | ì •ë ¬ ë¶ˆí•„ìš” |\n| ALIGN ë¹„íŠ¸ | 0 | ìë™ìœ¼ë¡œ í•´ì œë¨ |\n\n> âœ… **ê²€ì¦ ì ˆì°¨**:  \n> - `GetLockingInfo`ë¡œ í…Œì´ë¸”ì„ ì½ì–´ `AlignmentRequired` ê°’ì„ í™•ì¸  \n> - ë™ì‹œì— `ALIGN` ë¹„íŠ¸ ê°’ì„ ì½ì–´ ë¹„êµ  \n> - `AlignmentRequired == TRUE` â†’ `ALIGN == 1`  \n> - `AlignmentRequired == FALSE` â†’ `ALIGN == 0`\n\n---\n\n## ğŸ§¾ ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ ê°„ë‹¨í•˜ì§€ë§Œ ë§¤ìš° ì¤‘ìš”í•œ **ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„± ìœ ì§€**ë¥¼ ìœ„í•œ ê·œì¹™ì…ë‹ˆë‹¤. ALIGN ë¹„íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì¡°ì‘í•˜ì§€ ì•Šì§€ë§Œ, ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ì •ë ¬ ìš”êµ¬ì‚¬í•­ì„ ì •í™•íˆ ì´í•´í•˜ê³  ë°˜ì‘í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤. ë”°ë¼ì„œ **í…ŒìŠ¤íŠ¸ ì‹œ LockingInfo í…Œì´ë¸”ì˜ ë³€ê²½ì´ ALIGN ë¹„íŠ¸ì— ì¦‰ì‹œ ë°˜ì˜ë˜ëŠ”ì§€**ë¥¼ ë°˜ë“œì‹œ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì´ ì œê³µë¨.**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ê³¼ ìš”êµ¬ì‚¬í•­ ëª…í™•íˆ ì„¤ëª…ë¨.**  \nâœ… **ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìì„¸íˆ ì„¤ëª…ë¨.**\n\n---\n\n**[END]**"
    },
    {
        "section_order": 41,
        "level": 5,
        "section_id": "3.1.1.4.3",
        "section_key": "3.1.1.4.3 LogicalBlockSize",
        "title": "LogicalBlockSize",
        "start_page": 22,
        "end_page": 22,
        "page_count": 1,
        "content_md": "## 3.1.1.4.3 LogicalBlockSize\nLogicalBlockSize SHALL be set to the value of the LogicalBlockSize column in the LockingInfo table.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.4.3 LogicalBlockSize\nLogicalBlockSize SHALL be set to the value of the LogicalBlockSize column in the LockingInfo table."
    },
    {
        "section_order": 42,
        "level": 5,
        "section_id": "3.1.1.4.4",
        "section_key": "3.1.1.4.4 AlignmentGranularity",
        "title": "AlignmentGranularity",
        "start_page": 22,
        "end_page": 22,
        "page_count": 1,
        "content_md": "## 3.1.1.4.4 AlignmentGranularity\nAlignmentGranularity SHALL be set to the value of the AlignmentGranularity column in the LockingInfo table.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.4.4 AlignmentGranularity\nAlignmentGranularity SHALL be set to the value of the AlignmentGranularity column in the LockingInfo table."
    },
    {
        "section_order": 43,
        "level": 5,
        "section_id": "3.1.1.4.5",
        "section_key": "3.1.1.4.5 LowestAlignedLBA",
        "title": "LowestAlignedLBA",
        "start_page": 22,
        "end_page": 23,
        "page_count": 2,
        "content_md": "## 3.1.1.4.5 LowestAlignedLBA\nLowestAlignedLBA SHALL be set to the value of the LowestAlignedLBA column in the LockingInfo table.\n### Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 3.1.1.4.5 - LowestAlignedLBA**\n\n---\n\n## ğŸ” **ê°œìš” ë° ëª©ì **\n\n**LowestAlignedLBA**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜ëœ **ì ê¸ˆ ì •ë³´(LockingInfo) í…Œì´ë¸”**ì˜ `LowestAlignedLBA` ì—´ì— ì§€ì •ëœ ê°’ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ê°’ì€ **í•˜ë“œì›¨ì–´ ì €ì¥ ì¥ì¹˜ì—ì„œ ë¬¼ë¦¬ì ìœ¼ë¡œ ì •ë ¬ëœ ë¸”ë¡ ì£¼ì†Œ**(Logical Block Address)ì˜ **ìµœì†Œê°’**ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n### âœ… ëª©ì :\n- ì €ì¥ ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  ë¸”ë¡ êµ¬ì¡°ì™€ ë…¼ë¦¬ì  ë¸”ë¡ ì£¼ì†Œ(LBA) ê°„ì˜ ì •ë ¬ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ì‚¬ìš©ìê°€ ì €ì¥ ì¥ì¹˜ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ, **ì •ë ¬ëœ LBA ë²”ìœ„ ë‚´ì—ì„œë§Œ ì ‘ê·¼**í•  ìˆ˜ ìˆë„ë¡ ì œì–´í•©ë‹ˆë‹¤. ì´ëŠ” ì„±ëŠ¥ í–¥ìƒê³¼ ë³´ì•ˆ ê°•í™”ì— ê¸°ì—¬í•©ë‹ˆë‹¤.\n- íŠ¹íˆ, **Opal 2.0 ì´ìƒì˜ ì €ì¥ ì¥ì¹˜**ì—ì„œ ë°ì´í„° ì•”í˜¸í™” ë° ì ‘ê·¼ ì œì–´ë¥¼ ìˆ˜í–‰í•  ë•Œ, **ì •ë ¬ëœ ë¸”ë¡ ë‹¨ìœ„ë¡œ ì•”í˜¸í™” ì˜ì—­ì„ ì •ì˜**í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì ì¸ ì •ë³´ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ì •ë ¬ëœ ë¸”ë¡ ì£¼ì†Œ í™•ì¸**: ì €ì¥ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ê°€ì¥ ë‚®ì€ ì •ë ¬ëœ LBA ê°’ì„ ì œê³µí•©ë‹ˆë‹¤.\n2. **ì•”í˜¸í™” ì˜ì—­ ì •ì˜ ê¸°ì¤€**: Opalì—ì„œ ì•”í˜¸í™” ì˜ì—­(ì˜ˆ: User Data Area, Admin Partition ë“±)ì„ ì •ì˜í•  ë•Œ, ì´ ê°’ìœ¼ë¡œë¶€í„° ì‹œì‘í•˜ì—¬ ë¸”ë¡ì„ í• ë‹¹í•©ë‹ˆë‹¤.\n3. **ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  ì œì•½ ë°˜ì˜**: í•˜ë“œì›¨ì–´ì˜ ì‹¤ì œ ë¸”ë¡ í¬ê¸°, ì •ë ¬ ì œì•½, íŒŒí‹°ì…˜ ë°°ì¹˜ ë“±ì„ ë°˜ì˜í•˜ì—¬ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì•ˆì •ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n- **LowestAlignedLBA**ëŠ” **64ë¹„íŠ¸ ì •ìˆ˜**(unsigned)ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.\n- ì´ ê°’ì€ `LockingInfo` í…Œì´ë¸”ì˜ `LowestAlignedLBA` ì—´ì—ì„œ ì½ì–´ë“¤ì—¬ì•¼ í•˜ë©°, ì´ í…Œì´ë¸”ì€ **Level 0 Discovery** ê³¼ì •ì—ì„œ ì¥ì¹˜ë¡œë¶€í„° ì½ì–´ë“¤ì—¬ì§‘ë‹ˆë‹¤.\n- `LockingInfo` í…Œì´ë¸”ì€ Opal ì¥ì¹˜ì—ì„œ ì œê³µí•˜ëŠ” ë©”íƒ€ë°ì´í„°ë¡œ, ì•”í˜¸í™” ì˜ì—­, ë¸”ë¡ í¬ê¸°, ì •ë ¬ ì •ë³´ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n- **LowestAlignedLBA SHALL be set to the value of the LowestAlignedLBA column in the LockingInfo table.**\n  - ì¦‰, ì´ ê°’ì€ **LockingInfo í…Œì´ë¸”ì—ì„œ ì§ì ‘ ì½ì–´ë“¤ì—¬ì•¼ í•˜ë©°**, ì¥ì¹˜ ì œì¡°ì‚¬ê°€ ì§€ì •í•œ ê°’ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n  - ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì´ ê°’ì„ ì„ì˜ë¡œ ë³€ê²½í•˜ê±°ë‚˜ ê³„ì‚°í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.\n- ì´ ê°’ì€ **ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  ì œì•½ì— ë”°ë¼ ê³ ì •ë˜ì–´ ìˆìœ¼ë©°**, ì¼ë°˜ì ìœ¼ë¡œ `0` ë˜ëŠ” `1`ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ë¶€ ì¥ì¹˜ëŠ” `4096` ë˜ëŠ” `8192`ì™€ ê°™ì€ í° ê°’ìœ¼ë¡œ ì„¤ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì˜ˆ: 4KB ì •ë ¬ ê¸°ì¤€).\n- ì´ ê°’ì€ **Opal ì„¸ì…˜ ì‹œì‘ í›„**ì— ì½ì–´ë“¤ì¼ ìˆ˜ ìˆìœ¼ë©°, **Admin ë˜ëŠ” User ì„¸ì…˜**ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **LowestAlignedLBA ìì²´ëŠ” ë³´ì•ˆ ì •ë³´ê°€ ì•„ë‹˜** â†’ ë‹¨ìˆœí•œ ì¥ì¹˜ì˜ ë¬¼ë¦¬ì /ë…¼ë¦¬ì  êµ¬ì¡° ì •ë³´.\n- ê·¸ëŸ¬ë‚˜ ì´ ê°’ì´ **ì•”í˜¸í™” ì˜ì—­ì˜ ê¸°ì¤€ì **ì´ê¸° ë•Œë¬¸ì—, **ì´ ê°’ì„ ì˜ëª» í•´ì„í•˜ë©´ ì•”í˜¸í™” ì˜ì—­ì´ ì˜ëª» ì„¤ì •**ë  ìˆ˜ ìˆìŒ â†’ **ë³´ì•ˆ ì·¨ì•½ì  ë°œìƒ ê°€ëŠ¥**.\n- ë”°ë¼ì„œ, ì´ ê°’ì€ **ì¥ì¹˜ì˜ ê³µì‹ì ì¸ ë©”íƒ€ë°ì´í„°**ë¡œì„œ, **ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤**(ì¦‰, LockingInfo í…Œì´ë¸”)ì—ì„œë§Œ ê°€ì ¸ì™€ì•¼ í•˜ë©°, **ì„ì˜ ì¡°ì‘ ê¸ˆì§€**.\n\n---\n\n## ğŸ§ª **ê²€ì¦ì„ ìœ„í•œ Test Case**\n\n### ğŸ“Œ í…ŒìŠ¤íŠ¸ ëª©í‘œ:\n- `LowestAlignedLBA` ê°’ì´ `LockingInfo` í…Œì´ë¸”ì˜ `LowestAlignedLBA` ì—´ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n- ì¥ì¹˜ê°€ ì •ìƒì ìœ¼ë¡œ Level 0 Discoveryë¥¼ ì§€ì›í•˜ê³ , LockingInfo í…Œì´ë¸”ì„ ì œê³µí•˜ëŠ”ì§€ í™•ì¸.\n- ê°’ì´ 64ë¹„íŠ¸ ì •ìˆ˜ í˜•ì‹ì´ë©°, ì˜ˆìƒ ë²”ìœ„ ë‚´ì— ìˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_lowest_aligned_lba.py\n\nimport pytest\nfrom opal_library import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_library.commands import StartSession, Revert, GetLockingInfo\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice('/dev/sda')  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    try:\n        # Admin ì„¸ì…˜ ì‹œì‘\n        StartSession(device, user_type='admin', password='admin123')\n        yield device\n    finally:\n        # ì„¸ì…˜ ì¢…ë£Œ ë˜ëŠ” ë˜ëŒë¦¬ê¸°\n        Revert(device)\n\ndef test_lowest_aligned_lba_matches_locking_info(opal_device):\n    \"\"\"LowestAlignedLBA ê°’ì´ LockingInfo í…Œì´ë¸”ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    # LockingInfo í…Œì´ë¸” ì½ê¸°\n    locking_info = GetLockingInfo(opal_device)\n\n    # LowestAlignedLBA ê°’ ì¶”ì¶œ\n    expected_lba = locking_info['LowestAlignedLBA']\n    assert isinstance(expected_lba, int), \"LowestAlignedLBA should be integer\"\n    assert expected_lba >= 0, \"LowestAlignedLBA should be non-negative\"\n\n    # ì‹¤ì œ ì½ì–´ì˜¨ LowestAlignedLBA ê°’ (ì˜ˆ: Geometry Reportingì—ì„œ ì–»ìŒ)\n    # ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” Geometry Reporting Feature Descriptorì—ì„œ ì½ì–´ì˜´\n    actual_lba = opal_device.get_geometry_descriptor().LowestAlignedLBA\n\n    # ë¹„êµ\n    assert actual_lba == expected_lba, f\"Expected LowestAlignedLBA: {expected_lba}, but got: {actual_lba}\"\n\ndef test_lowest_aligned_lba_is_valid_range(opal_device):\n    \"\"\"LowestAlignedLBAê°€ í•©ë¦¬ì ì¸ ë²”ìœ„ ë‚´ì— ìˆëŠ”ì§€ ê²€ì¦\"\"\"\n    locking_info = GetLockingInfo(opal_device)\n    lba = locking_info['LowestAlignedLBA']\n\n    # ì¼ë°˜ì ìœ¼ë¡œ 0 ~ 2^32-1 ë²”ìœ„ê°€ ì¼ë°˜ì . ì¼ë¶€ ì¥ì¹˜ëŠ” 4096 ì´ìƒì¼ ìˆ˜ ìˆìŒ\n    assert 0 <= lba <= 2**64 - 1, \"LowestAlignedLBA out of 64-bit unsigned range\"\n    # ì¶”ê°€ë¡œ, ì‹¤ì œ ì¥ì¹˜ì—ì„œ í”íˆ ë³¼ ìˆ˜ ìˆëŠ” ê°’ ë²”ìœ„ (ì˜ˆ: 0, 1, 4096, 8192 ë“±)\n    assert lba in [0, 1, 4096, 8192, 16384] or lba >= 2**32, \"Unexpected LBA value\"\n\ndef test_lowest_aligned_lba_is_consistent_across_sessions(opal_device):\n    \"\"\"ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œ ë™ì¼í•œ ê°’ì´ ì½í˜€ì§€ëŠ”ì§€ ê²€ì¦\"\"\"\n    locking_info_1 = GetLockingInfo(opal_device)\n    lba_1 = locking_info_1['LowestAlignedLBA']\n\n    # ì„¸ì…˜ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹œì‘\n    Revert(opal_device)\n    StartSession(opal_device, user_type='admin', password='admin123')\n    locking_info_2 = GetLockingInfo(opal_device)\n    lba_2 = locking_info_2['LowestAlignedLBA']\n\n    assert lba_1 == lba_2, \"LowestAlignedLBA inconsistent across sessions\"\n```\n\n---\n\n## ğŸ’¡ **TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ ê²€ì¦ ë°©ë²•**\n\n1. **StartSession** â†’ Admin ì„¸ì…˜ ì‹œì‘ (ì•”í˜¸í™” ê´€ë¦¬ ê°€ëŠ¥).\n2. **GetLockingInfo** â†’ LockingInfo í…Œì´ë¸” ì½ê¸° (TCG Opal ëª…ë ¹ì–´: `0x00`).\n3. **Geometry Reporting Feature Descriptor ì½ê¸°** â†’ `LowestAlignedLBA` í•„ë“œ ì¶”ì¶œ (TCG Opal ëª…ë ¹ì–´: `0x10`).\n4. **ë¹„êµ** â†’ ë‘ ê°’ì´ ë™ì¼í•œì§€ í™•ì¸.\n\n> ğŸ” ì´ ê³¼ì •ì€ **Level 0 Discovery** ì ˆì°¨ì—ì„œ ìˆ˜í–‰ë˜ë©°, Opal 2.0+ ì¥ì¹˜ëŠ” ì´ ì •ë³´ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê¸°ëŒ€ê°’ | ê²€ì¦ ë°©ë²• |\n|------|--------|-----------|\n| `LowestAlignedLBA` (LockingInfo í…Œì´ë¸”) | ì •ìˆ˜ (64ë¹„íŠ¸) | `GetLockingInfo` ëª…ë ¹ì–´ë¡œ ì½ì€ í›„ íƒ€ì… ë° ë²”ìœ„ ê²€ì¦ |\n| `LowestAlignedLBA` (Geometry Descriptor) | ë™ì¼í•œ ê°’ | `GetGeometryDescriptor` ëª…ë ¹ì–´ë¡œ ì½ì€ í›„ ë¹„êµ |\n| ê°’ ì¼ê´€ì„± | ë™ì¼ | Admin ì„¸ì…˜ ì‹œì‘ ì „/í›„ì— ë‘ ë²ˆ ì½ì–´ì™€ ë¹„êµ |\n| ê°’ ë²”ìœ„ | 0 ~ 2^64-1 | ë²”ìœ„ ê²€ì¦ ë° ì¼ë°˜ì ì¸ ê°’(0, 1, 4096, 8192 ë“±) ê²€ì¦ |\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- `LowestAlignedLBA`ëŠ” **ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  ë¸”ë¡ ì •ë ¬ ê¸°ì¤€**ìœ¼ë¡œ, ì•”í˜¸í™” ë° ë°ì´í„° ì ‘ê·¼ ì œì–´ì— ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n- ì´ ê°’ì€ **LockingInfo í…Œì´ë¸”ì—ì„œ ì§ì ‘ ì½ì–´ì™€ì•¼ í•˜ë©°**, **ì„ì˜ë¡œ ê³„ì‚°í•˜ê±°ë‚˜ ë³€ê²½í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤**.\n- í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” **Admin ì„¸ì…˜ì—ì„œ LockingInfoì™€ Geometry Descriptorë¥¼ ì½ì–´ ë¹„êµ**í•˜ì—¬ ì¼ê´€ì„±ì„ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•˜ë©°, í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ì ˆì°¨ ì œì‹œ ì™„ë£Œ.**\n\n---  \n**[ì™„ë£Œ]**"
    },
    {
        "section_order": 44,
        "level": 4,
        "section_id": "3.1.1.5",
        "section_key": "3.1.1.5 Opal SSC V2 Feature (Feature Code = 0x0203)",
        "title": "Opal SSC V2 Feature (Feature Code = 0x0203)",
        "start_page": 23,
        "end_page": 24,
        "page_count": 2,
        "content_md": "## 3.1.1.5 Opal SSC V2 Feature (Feature Code = 0x0203)\n\n### Table 6 - Level 0 Discovery - Opal SSC V2 Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0203\n- Feature Descriptor Version Number = 0x2 or any version that supports the defined features in this SSC\n- SSC Minor Version Number = As specified in Table 7\n- Length = 0x10\n- Base ComID = VU\n- Number of ComIDs = 0x0001 or larger\n- Range Crossing Behavior = VU\n  - 0 = The Storage Device supports commands addressing consecutive LBAs in more than one LBA range if all the LBA ranges addressed are unlocked. See section 4.3.7.\n  - 1 = The Storage Device terminates commands addressing consecutive LBAs in more than one LBA range. See 4.3.7.\n- Number of Locking SP Admin Authorities = 4 or larger\n- Number of Locking SP User Authorities = 8 or larger\n- Initial C_PIN_SID PIN Indicator = VU\n  - 0x00 = The initial C_PIN_SID PIN value is equal to the C_PIN_MSID PIN value\n  - 0xFF = The initial C_PIN_SID PIN value is VU, and MAY not be equal to the C_PIN_MSID PIN value\n  - 0x01 â€“ 0xFE = Reserved\n- Behavior of C_PIN_SID PIN upon TPer Revert = VU\n### Table 7 (continued)\n\n- 0x00 = The C_PIN_SID PIN value becomes the value of the C_PIN_MSID PIN column after successful invocation of Revert on the Admin SPâ€™s object in the SP table\n- 0xFF = The C_PIN_SID PIN value changes to a VU value after successful invocation of Revert on the Admin SPâ€™s object in the SP table, and MAY not be equal to the C_PIN_MSID PIN value\n- 0x01 â€“ 0xFE = Reserved\n\n## Table 7 - SSC Minor Versions\n\nIf an Opal v2.00 SSC implementation is backward compatible with Opal v1.00, then the Storage Device SHALL also report the Opal SSC feature descriptor as defined in [5].\n\n**Start of Informative Comment**  \nAn Opal v2.00 implementation is backward compatible to Opal v1.00 only if the geometry reported by the Geometry Reporting feature does not specify any alignment restrictions (i.e. ALIGN = FALSE, see section 3.1.1.4.2), and if the TPer does not specify any granularity restrictions for byte tables (i.e. MandatoryWriteGranularity = 1 for all byte tables, see section 5.3.1.1), and if the â€œInitial C_PIN_SID PIN Indicatorâ€ and â€œBehavior of C_PIN_SID PIN upon TPer Revertâ€ fields are both 0x00.  \n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### **3.1.1.5 Opal SSC V2 Feature (Feature Code = 0x0203) â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n## ğŸ¯ **ëª©ì **\n\nOpal SSC V2 Feature (Feature Code = 0x0203)ëŠ” **TCG Opal í‘œì¤€ì˜ ë²„ì „ 2.00 ì´ìƒì„ ì§€ì›í•˜ëŠ” ì €ì¥ ì¥ì¹˜**ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ì§€ë¥¼ **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬**(Level 0 Discovery) ê³¼ì •ì—ì„œ ê³µê°œí•˜ëŠ” ì •ë³´ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, ì´ ì„¹ì…˜ì€ ì €ì¥ ì¥ì¹˜ê°€ Opal 2.00+ ê¸°ì¤€ì„ ì–¼ë§ˆë‚˜ ì¶©ì¡±í•˜ëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” \"ê¸°ëŠ¥ ë””ìŠ¤í¬ë¦½í„°\"ë¥¼ ì •ì˜í•˜ë©°, ì‚¬ìš©ìë‚˜ ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì •í™•íˆ íŒŒì•…í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ’¡ **ì£¼ìš” ê¸°ëŠ¥**\n\nì´ ê¸°ëŠ¥ ë””ìŠ¤í¬ë¦½í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤:\n\n1. **Opal 2.00+ ê¸°ì¤€ ì§€ì› ì—¬ë¶€**: Feature Code 0x0203ì„ ë°˜í™˜í•˜ë©´ ì¥ì¹˜ëŠ” Opal SSC v2.00 ì´ìƒì„ ì§€ì›í•¨.\n2. **ë²„ì „ ì •ë³´**: Feature Descriptor Version Number (0x2 ì´ìƒ) ë° SSC Minor Version Number (Table 7 ì°¸ì¡°).\n3. **ComID ì •ë³´**: Base ComID, Number of ComIDs â†’ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ëª…ë ¹ì–´ ì§‘í•©ì„ ë‚˜íƒ€ëƒ„.\n4. **ë²”ìœ„ êµì°¨ ì²˜ë¦¬ ë°©ì‹ (Range Crossing Behavior)**: ì—°ì† LBAë¥¼ ì—¬ëŸ¬ ë ˆì¸ì§€ì— ê±¸ì³ ì ‘ê·¼í•  ë•Œì˜ ì²˜ë¦¬ ë°©ì‹.\n5. **ê¶Œí•œ ìˆ˜ëŸ‰ ì œí•œ**: Locking SPì˜ Admin ë° User ê¶Œí•œ ìˆ˜ (4ê°œ ì´ìƒì˜ Admin, 8ê°œ ì´ìƒì˜ User ê¶Œí•œ í•„ìš”).\n6. **C_PIN_SID PIN ì´ˆê¸°ê°’ ë° Revert í›„ í–‰ë™**: ì¤‘ìš”í•œ ë³´ì•ˆ ì„¤ì • ì •ë³´ (ì´ˆë³´ìì—ê²ŒëŠ” ë³µì¡í•  ìˆ˜ ìˆìœ¼ë‚˜, í•µì‹¬ ë³´ì•ˆ ê¸°ëŠ¥ì„).\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Table 6)**\n\n| í•„ë“œëª… | ê¸¸ì´ (ë°”ì´íŠ¸) | ì„¤ëª… |\n|--------|---------------|------|\n| Feature Code | 2 | `0x0203` (Opal SSC V2) |\n| Feature Descriptor Version Number | 2 | `0x02` ì´ìƒ (v2.00+ ì§€ì›) |\n| SSC Minor Version Number | 2 | Table 7 ì°¸ì¡° (ì˜ˆ: 0x00, 0x01 ë“±) |\n| Length | 2 | `0x10` (24ë°”ì´íŠ¸) |\n| Base ComID | 2 | VU (Vendor Unique) â€“ ì œì¡°ì‚¬ ì •ì˜ |\n| Number of ComIDs | 2 | 0x0001 ì´ìƒ (ìµœì†Œ 1ê°œ ì´ìƒì˜ ComID ì§€ì›) |\n| Range Crossing Behavior | 1 | 0: í—ˆìš©, 1: ê¸ˆì§€ (LBA ë²”ìœ„ êµì°¨ ì²˜ë¦¬) |\n| Number of Locking SP Admin Authorities | 2 | 4 ì´ìƒ |\n| Number of Locking SP User Authorities | 2 | 8 ì´ìƒ |\n| Initial C_PIN_SID PIN Indicator | 1 | 0x00: C_PIN_MSIDì™€ ë™ì¼, 0xFF: VU (ì„ì˜ê°’) |\n| Behavior of C_PIN_SID PIN upon TPer Revert | 1 | 0x00: Revert í›„ C_PIN_MSIDë¡œ ë˜ëŒë¦¼, 0xFF: VU (ì„ì˜ê°’) |\n\n> âœ… ì´ êµ¬ì¡°ëŠ” **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ ëª…ë ¹**(Discover Feature)ì„ í†µí•´ ì €ì¥ ì¥ì¹˜ì—ì„œ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ§© **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Feature Code 0x0203 ë°˜í™˜ í•„ìˆ˜**: Opal SSC v2.00+ ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì´ Feature Codeë¥¼ ë°˜í™˜í•´ì•¼ í•¨.\n- **ë²„ì „ í˜¸í™˜ì„±**: Feature Descriptor Version Number â‰¥ 0x02\n- **ê¶Œí•œ ìˆ˜ëŸ‰**: Admin ê¶Œí•œ â‰¥ 4, User ê¶Œí•œ â‰¥ 8\n- **C_PIN_SID ê´€ë ¨ í•„ë“œ**: 0x00 ë˜ëŠ” 0xFFë§Œ í—ˆìš©ë¨ (0x01~0xFEëŠ” ì˜ˆì•½ë¨)\n- **ë°±ì›Œë“œ ì»´íŒŒí‹°ë¹Œë¦¬í‹°**: Opal v2.00ì´ v1.00ê³¼ í˜¸í™˜ë˜ê¸° ìœ„í•´ì„œëŠ”:\n  - Geometry Reportingì—ì„œ `ALIGN = FALSE`\n  - Byte Tableì— `MandatoryWriteGranularity = 1`\n  - `Initial C_PIN_SID PIN Indicator = 0x00`\n  - `Behavior of C_PIN_SID PIN upon TPer Revert = 0x00`\n\n> ğŸ“Œ ì´ ì¡°ê±´ë“¤ì´ ëª¨ë‘ ì¶©ì¡±ë  ë•Œë§Œ, Opal v2.00 ì¥ì¹˜ëŠ” Opal v1.00 í˜¸í™˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **C_PIN_SID PIN**: ì €ì¥ ì¥ì¹˜ì˜ **ì´ˆê¸° PIN** ì„¤ì • ì •ë³´.\n  - `0x00` â†’ ì´ˆê¸°ê°’ì€ C_PIN_MSIDì™€ ê°™ìŒ â†’ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë¯€ë¡œ ë³´ì•ˆì„± ë‚®ìŒ (ì´ˆê¸° PINì´ ê³µê°œë¨)\n  - `0xFF` â†’ ì´ˆê¸°ê°’ì€ ì„ì˜ (VU) â†’ ë³´ì•ˆì„± ë†’ìŒ (æ”»æ’ƒìì—ê²Œ ì˜ˆì¸¡ ë¶ˆê°€)\n- **Revert í›„ í–‰ë™**:\n  - `0x00` â†’ Revert í›„ C_PIN_SIDëŠ” C_PIN_MSIDë¡œ ë˜ëŒì•„ê° â†’ ê´€ë¦¬ì ê¶Œí•œì´ ìœ ì§€ë¨\n  - `0xFF` â†’ Revert í›„ ì„ì˜ê°’ â†’ ë³´ì•ˆ ê°•í™” (ê³µê²©ìê°€ Revert í›„ ë‹¤ì‹œ ì ‘ê·¼ì„ ì‹œë„í•´ë„ PINì´ ë³€ê²½ë¨)\n\n> ğŸ›¡ï¸ ë”°ë¼ì„œ, ë³´ì•ˆì„±ì€ `Initial C_PIN_SID PIN Indicator`ì™€ `Behavior of C_PIN_SID PIN upon TPer Revert`ê°€ ëª¨ë‘ `0xFF`ì¼ ë•Œ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª **Test Case ì œì‹œ (Python + pytest)**\n\n### âœ… í…ŒìŠ¤íŠ¸ ëª©í‘œ:\n- ì €ì¥ ì¥ì¹˜ê°€ Opal SSC V2 ê¸°ëŠ¥ì„ ì •í™•íˆ ë³´ê³ í•˜ëŠ”ì§€ í™•ì¸\n- í•„ë“œ ê°’ì´ ìš”êµ¬ ì‚¬í•­ì— ë¶€í•©í•˜ëŠ”ì§€ ê²€ì¦\n- C_PIN_SID ê´€ë ¨ ë³´ì•ˆ ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\nimport pytest\nfrom opal_command import OpalCommand  # ê°€ìƒì˜ Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_utils import parse_feature_descriptor  # Feature Descriptor íŒŒì‹± ìœ í‹¸ë¦¬í‹°\n\n# ê°€ìƒì˜ ì €ì¥ ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ (ì‹¤ì œ ì¥ì¹˜ ì—°ê²° ë¡œì§ì€ ìƒëµ)\ndevice = OpalCommand(device_path=\"/dev/sda\")\n\n@pytest.fixture\ndef feature_descriptor():\n    \"\"\"Opal SSC V2 Feature Descriptorë¥¼ ê°€ì ¸ì˜´\"\"\"\n    response = device.send_command(\"Discover Feature\", feature_code=0x0203)\n    return parse_feature_descriptor(response)\n\ndef test_feature_code_is_0x0203(feature_descriptor):\n    \"\"\"Feature Codeê°€ 0x0203ì¸ì§€ í™•ì¸\"\"\"\n    assert feature_descriptor[\"Feature Code\"] == 0x0203\n\ndef test_descriptor_version_at_least_0x02(feature_descriptor):\n    \"\"\"Descriptor Versionì´ 0x02 ì´ìƒì¸ì§€ í™•ì¸\"\"\"\n    assert feature_descriptor[\"Feature Descriptor Version Number\"] >= 0x02\n\ndef test_ssc_minor_version_valid(feature_descriptor):\n    \"\"\"SSC Minor Versionì´ ì •ì˜ëœ ê°’ì¸ì§€ í™•ì¸ (ì˜ˆ: 0x00, 0x01 ë“±)\"\"\"\n    minor_version = feature_descriptor[\"SSC Minor Version Number\"]\n    assert minor_version in [0x00, 0x01, 0x02, 0x03, 0x04]  # ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ì¡°ì •\n\ndef test_number_of_comids_at_least_1(feature_descriptor):\n    \"\"\"Number of ComIDsê°€ 1 ì´ìƒì¸ì§€ í™•ì¸\"\"\"\n    assert feature_descriptor[\"Number of ComIDs\"] >= 1\n\ndef test_admin_authorities_at_least_4(feature_descriptor):\n    \"\"\"Admin Authoritiesê°€ 4 ì´ìƒì¸ì§€ í™•ì¸\"\"\"\n    assert feature_descriptor[\"Number of Locking SP Admin Authorities\"] >= 4\n\ndef test_user_authorities_at_least_8(feature_descriptor):\n    \"\"\"User Authoritiesê°€ 8 ì´ìƒì¸ì§€ í™•ì¸\"\"\"\n    assert feature_descriptor[\"Number of Locking SP User Authorities\"] >= 8\n\ndef test_cpin_sid_indicator_valid(feature_descriptor):\n    \"\"\"Initial C_PIN_SID PIN Indicatorê°€ 0x00 ë˜ëŠ” 0xFFì¸ì§€ í™•ì¸\"\"\"\n    indicator = feature_descriptor[\"Initial C_PIN_SID PIN Indicator\"]\n    assert indicator == 0x00 or indicator == 0xFF\n\ndef test_cpin_sid_revert_behavior_valid(feature_descriptor):\n    \"\"\"Behavior of C_PIN_SID PIN upon TPer Revertê°€ 0x00 ë˜ëŠ” 0xFFì¸ì§€ í™•ì¸\"\"\"\n    behavior = feature_descriptor[\"Behavior of C_PIN_SID PIN upon TPer Revert\"]\n    assert behavior == 0x00 or behavior == 0xFF\n\ndef test_range_crossing_behavior_valid(feature_descriptor):\n    \"\"\"Range Crossing BehaviorëŠ” 0 ë˜ëŠ” 1ë§Œ í—ˆìš©\"\"\"\n    behavior = feature_descriptor[\"Range Crossing Behavior\"]\n    assert behavior in [0, 1]\n\n# ì¶”ê°€ í…ŒìŠ¤íŠ¸: Revert í›„ C_PIN_SIDê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì‹¤ì œ ì¥ì¹˜ ì¡°ì‘ í•„ìš”)\n@pytest.mark.requires_device_reset\ndef test_revert_changes_cpin_sid_if_configured(feature_descriptor):\n    \"\"\"Revert í›„ C_PIN_SIDê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸ (0xFF ì„¤ì •ì¼ ê²½ìš°)\"\"\"\n    if feature_descriptor[\"Initial C_PIN_SID PIN Indicator\"] == 0xFF and \\\n       feature_descriptor[\"Behavior of C_PIN_SID PIN upon TPer Revert\"] == 0xFF:\n        # Start Session (Admin SP)\n        device.start_session(sp_id=0, pin=\"admin123\")\n        # Revert ëª…ë ¹ì–´ ì‹¤í–‰\n        device.revert(sp_id=0)\n        # Revert í›„ ë‹¤ì‹œ C_PIN_SID í™•ì¸ (ì´ë¡ ì ìœ¼ë¡œëŠ” ë³€ê²½ë¨)\n        # ì‹¤ì œ C_PIN_SID ê°’ì€ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€ â†’ ê°„ì ‘ì ìœ¼ë¡œ PIN ì¸ì¦ ì‹¤íŒ¨ë¡œ íŒë‹¨\n        result = device.authenticate(sp_id=0, pin=\"admin123\")\n        assert not result, \"Revert í›„ ë™ì¼ PINìœ¼ë¡œ ì¸ì¦ ì„±ê³µ: C_PIN_SID ë³€ê²½ë˜ì§€ ì•ŠìŒ\"\n```\n\n---\n\n## ğŸ§¾ **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•„ë“œ | ê²€ì¦ ë°©ë²• |\n|------|-----------|\n| **Feature Code** | `0x0203`ì¸ì§€ í™•ì¸ (ì •í™•í•œ ê°’) |\n| **Descriptor Version** | `â‰¥ 0x02`ì¸ì§€ í™•ì¸ |\n| **SSC Minor Version** | Table 7ì— ì •ì˜ëœ ê°’ì¸ì§€ í™•ì¸ (ì˜ˆ: 0x00, 0x01 ë“±) |\n| **Number of ComIDs** | `â‰¥ 0x0001`ì¸ì§€ í™•ì¸ |\n| **Range Crossing Behavior** | `0` ë˜ëŠ” `1`ë§Œ í—ˆìš© (0: í—ˆìš©, 1: ê¸ˆì§€) |\n| **Admin/User Authorities** | `â‰¥ 4` (Admin), `â‰¥ 8` (User) í™•ì¸ |\n| **C_PIN_SID PIN Indicator** | `0x00` ë˜ëŠ” `0xFF`ë§Œ í—ˆìš© (0x01~0xFEëŠ” ì˜¤ë¥˜) |\n| **Revert Behavior** | `0x00` ë˜ëŠ” `0xFF`ë§Œ í—ˆìš© |\n\n> âœ… ì´ ê²€ì¦ì€ **Discover Feature ëª…ë ¹ì–´**ë¥¼ í†µí•´ ì–»ì€ ë°”ì´íŠ¸ ë°°ì—´ì„ íŒŒì‹±í•˜ì—¬ ìˆ˜í–‰í•¨.\n\n---\n\n## ğŸ“ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\nOpal SSC V2 Feature (Feature Code = 0x0203)ëŠ” ì €ì¥ ì¥ì¹˜ê°€ Opal 2.00+ í‘œì¤€ì„ ì–¼ë§ˆë‚˜ ì¶©ì¡±í•˜ëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” **ê¸°ëŠ¥ ë””ìŠ¤í¬ë¦½í„°**ì…ë‹ˆë‹¤.  \nì´ ë””ìŠ¤í¬ë¦½í„°ëŠ” ì¥ì¹˜ì˜ ë³´ì•ˆ ê¸°ëŠ¥, ê¶Œí•œ êµ¬ì¡°, PIN ê´€ë¦¬ ë°©ì‹ ë“±ì„ ëª…í™•íˆ ì •ì˜í•˜ë©°, íŠ¹íˆ **C_PIN_SID PINì˜ ì´ˆê¸°ê°’ê³¼ Revert í›„ í–‰ë™**ì€ ë³´ì•ˆì˜ í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.  \n- `Initial C_PIN_SID PIN Indicator = 0xFF` â†’ ì´ˆê¸° PINì´ ì˜ˆì¸¡ ë¶ˆê°€ â†’ ë³´ì•ˆ ê°•í™”\n- `Behavior of C_PIN_SID PIN upon TPer Revert = 0xFF` â†’ Revert í›„ PINì´ ì„ì˜ë¡œ ë³€ê²½ â†’ ê³µê²©ìì—ê²Œ ë³´í˜¸\n\ní…ŒìŠ¤íŠ¸ëŠ” `Discover Feature` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ê³ , íŒŒì‹±í•˜ì—¬ í•„ë“œ ê°’ì´ ìš”êµ¬ ì‚¬í•­ì— ë¶€í•©í•˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.  \nPython + pytestë¥¼ í™œìš©í•˜ë©´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë©°, íŠ¹íˆ `Revert` í›„ ì¸ì¦ ì‹¤íŒ¨ ì—¬ë¶€ë¡œ C_PIN_SID ë³€ê²½ ì—¬ë¶€ë¥¼ ê°„ì ‘ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \nOpal SSC V2 ê¸°ëŠ¥ì€ ì¥ì¹˜ì˜ ë³´ì•ˆ ìˆ˜ì¤€ê³¼ í˜¸í™˜ì„±ì„ ëª…í™•íˆ ì•Œë ¤ì£¼ëŠ” ì¤‘ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤.  \nì´ˆë³´ìë„ ì´ ê¸°ëŠ¥ì„ ì´í•´í•˜ë©´ ì¥ì¹˜ì˜ ë³´ì•ˆ ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ í‰ê°€í•˜ê³ , ì‹œìŠ¤í…œ ì„¤ê³„ ì‹œ ì ì ˆí•œ ì •ì±…ì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---  \n**ğŸ“Œ ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ Opal ì¥ì¹˜ì™€ ì—°ê²°í•˜ì—¬ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, `OpalCommand` í´ë˜ìŠ¤ëŠ” ì‹¤ì œ ì¥ì¹˜ ì œì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: `pyopal`, `pytper`)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 45,
        "level": 5,
        "section_id": "3.1.1.5.1",
        "section_key": "3.1.1.5.1 Base ComID",
        "title": "Base ComID",
        "start_page": 24,
        "end_page": 24,
        "page_count": 1,
        "content_md": "## 3.1.1.5.1 Base ComID  \nThe Base ComID field provides the lowest static, pre-assigned ComID.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.5.1 Base ComID  \nThe Base ComID field provides the lowest static, pre-assigned ComID."
    },
    {
        "section_order": 46,
        "level": 5,
        "section_id": "3.1.1.5.2",
        "section_key": "3.1.1.5.2 Number of ComIDs",
        "title": "Number of ComIDs",
        "start_page": 24,
        "end_page": 24,
        "page_count": 1,
        "content_md": "## 3.1.1.5.2 Number of ComIDs  \nThe Number of ComIDs field provides the number of static, pre-assigned ComIDs.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.5.2 Number of ComIDs  \nThe Number of ComIDs field provides the number of static, pre-assigned ComIDs."
    },
    {
        "section_order": 47,
        "level": 4,
        "section_id": "3.1.1.6",
        "section_key": "3.1.1.6 Supported Data Removal Mechanism Feature (Feature Code = 0x0404)",
        "title": "Supported Data Removal Mechanism Feature (Feature Code = 0x0404)",
        "start_page": 24,
        "end_page": 26,
        "page_count": 3,
        "content_md": "## 3.1.1.6 Supported Data Removal Mechanism Feature (Feature Code = 0x0404)  \nThis feature MAY be returned in the Level 0 Discovery response.\n### Table 7 - SSC Minor Versions (continued)\n\n## Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor\n\nAn Opal Compliant Storage Device SHALL return the parameters listed in Table 9:\n### Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 3.1.1.6 - Supported Data Removal Mechanism Feature (Feature Code = 0x0404)** ì— ëŒ€í•œ ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆì§€ë§Œ, ì‹¤ì œ ê¸°ìˆ ì  ì„¤ëª…, í…Œì´ë¸” ë°ì´í„°, ë˜ëŠ” êµ¬ì²´ì ì¸ ì‚¬ì–‘ì´ **ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë³¸ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì€ ë¶€ë¶„ë§Œ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤:\n\n- ì´ ê¸°ëŠ¥ì´ Level 0 Discovery ì‘ë‹µì— í¬í•¨ë  ìˆ˜ ìˆìŒì„ ì–¸ê¸‰.\n- **Table 7**ê³¼ **Table 8**ì˜ ì œëª©ë§Œ ì–¸ê¸‰ (ë‚´ìš© ì—†ìŒ).\n- **Table 9**ì˜ ì°¸ì¡°ê°€ ìˆìœ¼ë‚˜, ì‹¤ì œ í…Œì´ë¸” ë‚´ìš©ì€ ì œê³µë˜ì§€ ì•ŠìŒ.\n- ì´ë¯¸ì§€ ì—†ìŒ.\n\në”°ë¼ì„œ, í•´ë‹¹ ì„¹ì…˜ì—ì„œ ì„¤ëª…í•´ì•¼ í•  **ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** ë“±ì€ ë¬¸ì„œ ë‚´ì—ì„œ ëª…ì‹œë˜ì–´ ìˆì§€ ì•Šì•„ **ê²€í†  ë° ì„¤ëª…ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤**.\n\n---\n\n### ì¶”ê°€ ì„¤ëª…:\n\nì´ ê¸°ëŠ¥ì¸ **Supported Data Removal Mechanism Feature (0x0404)** ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Opal ë“œë¼ì´ë¸Œê°€ ì§€ì›í•˜ëŠ” ë°ì´í„° ì œê±° ë©”ì»¤ë‹ˆì¦˜(ì˜ˆ: Secure Erase, Crypto Erase, Overwrite ë“±)ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¬¸ì„œì—ì„œëŠ” í•´ë‹¹ ê¸°ëŠ¥ì˜ êµ¬ì²´ì ì¸ **Descriptor êµ¬ì¡°**, **í•„ë“œ ì •ì˜**, **ê°’ì˜ ì˜ë¯¸**, **ì§€ì› ì—¬ë¶€ í‘œì‹œ ë°©ì‹** ë“±ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì•„, ì‹¤ì œë¡œ ì–´ë–¤ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### Test Case ì œì‹œ (ì´ë¡ ì  ê¸°ì¤€):\n\nì‹¤ì œë¡œ ì´ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤:\n\n1. **Level 0 Discovery ìš”ì²­**ì„ í†µí•´ `Feature Code 0x0404`ê°€ í¬í•¨ëœ ì‘ë‹µì„ ë°›ëŠ”ì§€ í™•ì¸.\n2. ì‘ë‹µ ë°ì´í„°ì—ì„œ `Supported Data Removal Mechanism`ì˜ êµ¬ì²´ì ì¸ **Descriptor êµ¬ì¡°**ë¥¼ íŒŒì‹± (ì˜ˆ: 1ë°”ì´íŠ¸/2ë°”ì´íŠ¸/4ë°”ì´íŠ¸ í•„ë“œë¡œ êµ¬ì„±ëœ í”Œë˜ê·¸ ë“±).\n3. ê° ë©”ì»¤ë‹ˆì¦˜(ì˜ˆ: Secure Erase, Overwrite ë“±)ì´ ì§€ì›ë˜ëŠ”ì§€ í™•ì¸ (ì˜ˆ: ë¹„íŠ¸ í”Œë˜ê·¸ ê¸°ë°˜).\n\ní•˜ì§€ë§Œ, **Descriptor êµ¬ì¡°ê°€ ëª…ì‹œë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ**, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### Python + pytest ì˜ˆì‹œ (ì´ë¡ ì  í…ŒìŠ¤íŠ¸ ì½”ë“œ - ì‹¤ì œ êµ¬í˜„ ë¶ˆê°€):\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    client = OpalClient(device_path=\"/dev/sda\")\n    client.start_session(0x00000000)  # Admin Session\n    return client\n\ndef test_supported_data_removal_mechanism(opal_device):\n    discovery_response = opal_device.discover_level0()\n\n    # Feature Code 0x0404 ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n    assert 0x0404 in discovery_response.features, \"Feature 0x0404 not found in Level 0 Discovery\"\n\n    # Descriptor íŒŒì‹± (êµ¬ì¡° ë¯¸ì • - ê°€ì •)\n    descriptor = discovery_response.get_feature_descriptor(0x0404)\n    assert descriptor is not None, \"Descriptor for 0x0404 is missing\"\n\n    # ì˜ˆì‹œ: Secure Erase ì§€ì› ì—¬ë¶€ (ê°€ì •ëœ ë¹„íŠ¸ ìœ„ì¹˜)\n    # secure_erase_supported = (descriptor & 0x01) != 0\n    # assert secure_erase_supported, \"Secure Erase not supported\"\n\n    # ì‹¤ì œ êµ¬ì¡°ê°€ ì—†ìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ë¶ˆê°€\n    # ì´ ë¶€ë¶„ì€ ë¬¸ì„œì—ì„œ ì •ì˜ëœ êµ¬ì¡°ì— ë”°ë¼ ì‘ì„±í•´ì•¼ í•¨\n    pass\n```\n\n> âš ï¸ ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” **êµ¬ì¡°ë¥¼ ê°€ì •í•œ ì˜ˆì‹œ**ì´ë©°, ì‹¤ì œ ë¬¸ì„œì— ëª…ì‹œëœ êµ¬ì¡°ê°€ ì—†ìœ¼ë¯€ë¡œ **ì‹¤í–‰ ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\në¬¸ì„œì—ì„œ í•´ë‹¹ ì„¹ì…˜(3.1.1.6)ì˜ **êµ¬ì²´ì ì¸ ì‚¬ì–‘, í…Œì´ë¸” ë‚´ìš©, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** ë“±ì´ **ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥:**\n\n**ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 48,
        "level": 5,
        "section_id": "3.1.1.6.1",
        "section_key": "3.1.1.6.1 Data Removal Operation Processing Definition",
        "title": "Data Removal Operation Processing Definition",
        "start_page": 26,
        "end_page": 26,
        "page_count": 1,
        "content_md": "## 3.1.1.6.1 Data Removal Operation Processing Definition\n\nThe Data Removal Operation Processing bit SHALL be set to one if the TPer is performing any supported data removal operation including:\n\n- Revert,\n- RevertSP, or\n- GenKey.\n\nOtherwise, the Data Removal Operation Processing bit SHALL be set to zero. If the operation is in progress, the security transport commands such as the security send, and the security receive SHALL be processed by the Storage Device. The Data Removal Operation Processing bit SHALL be set to zero upon a successful completion of a data removal operation.\n\nThe Data Removal Operation Processing bit SHALL be set to one if the data removal operation is restarted after a Power Cycle (see Table 16).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.1.1.6.1 Data Removal Operation Processing Definition - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ë°ì´í„° ì œê±° ì‘ì—…(ì˜ˆ: Revert, RevertSP, GenKey)ì„ ìˆ˜í–‰ ì¤‘ì¸ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸**ì¸ **\"Data Removal Operation Processing bit\"**ì˜ ë™ì‘ ì •ì˜ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ ë¹„íŠ¸ëŠ” ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í˜„ì¬ ì–´ë–¤ **ë°ì´í„° ì œê±° ì‘ì—…ì„ ì§„í–‰ ì¤‘ì¸ì§€ ì—¬ë¶€ë¥¼ í‘œì‹œí•˜ëŠ” ì‹ í˜¸ë“±** ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ ë¹„íŠ¸ëŠ” ë³´ì•ˆ ê´€ë¦¬ìë‚˜ ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ , ì ì ˆí•œ ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n- **ì‘ì—… ìƒíƒœ ê°ì§€**: ì¥ì¹˜ê°€ `Revert`, `RevertSP`, `GenKey`ì™€ ê°™ì€ ë°ì´í„° ì œê±° ì‘ì—…ì„ ìˆ˜í–‰ ì¤‘ì¸ì§€ íŒë‹¨.\n- **ë³´ì•ˆ ëª…ë ¹ ì²˜ë¦¬ í—ˆìš©**: ì‘ì—… ì¤‘ì´ë¼ë„, ë³´ì•ˆ ê´€ë ¨ ëª…ë ¹(`Security Send`, `Security Receive`)ì€ ê³„ì† ì²˜ë¦¬ ê°€ëŠ¥.\n- **ì‘ì—… ì™„ë£Œ í›„ ìë™ ë¦¬ì…‹**: ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ë¹„íŠ¸ê°€ 0ìœ¼ë¡œ ë¦¬ì…‹ë¨.\n- **ì „ì› ì¬ì‹œì‘ í›„ ìƒíƒœ ìœ ì§€**: ì „ì›ì´ êº¼ì¡Œë‹¤ê°€ ë‹¤ì‹œ ì¼œì¡Œì„ ë•Œ, ì´ì „ì— ì¤‘ë‹¨ëœ ì‘ì—…ì´ ì¬ê°œëœë‹¤ë©´ ë¹„íŠ¸ê°€ 1ë¡œ ìœ ì§€ë¨ (Table 16 ì°¸ì¡°).\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n- **Data Removal Operation Processing bit**: 1ë¹„íŠ¸ì˜ í”Œë˜ê·¸ (0 ë˜ëŠ” 1).\n  - **1**: ë°ì´í„° ì œê±° ì‘ì—… ì¤‘.\n  - **0**: ë°ì´í„° ì œê±° ì‘ì—… ì—†ìŒ ë˜ëŠ” ì™„ë£Œë¨.\n- ì´ ë¹„íŠ¸ëŠ” **Security Status Register**ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ì„ ìˆ˜ ìˆìŒ.\n\n> ì°¸ê³ : Security Status RegisterëŠ” Opal ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—¬ëŸ¬ ë¹„íŠ¸ë¡œ êµ¬ì„±ëœ ë ˆì§€ìŠ¤í„°ë¡œ, ì´ ë¹„íŠ¸ëŠ” ê·¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **ë¹„íŠ¸ ì„¤ì • ì¡°ê±´**:\n   - `Revert`, `RevertSP`, `GenKey` ì¤‘ í•˜ë‚˜ë¼ë„ ì‹¤í–‰ ì¤‘ì¼ ë•Œ â†’ **ë¹„íŠ¸ = 1**\n   - ê·¸ë ‡ì§€ ì•Šì„ ë•Œ â†’ **ë¹„íŠ¸ = 0**\n\n2. **ì‘ì—… ì¤‘ ëª…ë ¹ ì²˜ë¦¬ í—ˆìš©**:\n   - ì‘ì—… ì¤‘ì—ë„ `Security Send` ë° `Security Receive` ëª…ë ¹ì€ ì²˜ë¦¬ ê°€ëŠ¥ â†’ ì¥ì¹˜ê°€ ì™„ì „íˆ ë¹„í™œì„±í™”ë˜ì§€ ì•ŠìŒ.\n\n3. **ì‘ì—… ì™„ë£Œ í›„ ë¹„íŠ¸ ë¦¬ì…‹**:\n   - ì‘ì—… ì„±ê³µ ì‹œ â†’ ë¹„íŠ¸ë¥¼ **0ìœ¼ë¡œ ì„¤ì •**.\n\n4. **ì „ì› ì¬ì‹œì‘ í›„ ìƒíƒœ ìœ ì§€**:\n   - ì „ì›ì´ êº¼ì¡Œë‹¤ê°€ ë‹¤ì‹œ ì¼œì¡Œì„ ë•Œ, ì´ì „ ì‘ì—…ì´ ì¬ê°œë˜ë©´ ë¹„íŠ¸ëŠ” ì—¬ì „íˆ **1ë¡œ ìœ ì§€**ë¨ (Table 16 ì°¸ì¡°).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ë³´ì•ˆ ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŒ â†’ ì˜ˆ: ë³´ì•ˆ ì •ì±… ì—”ì§„ì´ ì¥ì¹˜ê°€ ë°ì´í„° ì œê±° ì¤‘ì¸ì§€ í™•ì¸í•˜ì—¬ ë‹¤ë¥¸ ì‘ì—…ì„ ì°¨ë‹¨í•  ìˆ˜ ìˆìŒ.\n- **ì¤‘ë‹¨ íšŒë³µ ë³´ì¥**: ì „ì›ì´ ëŠê²¼ë”ë¼ë„ ì‘ì—…ì´ ì¬ê°œë˜ë©´ ë¹„íŠ¸ê°€ 1ë¡œ ìœ ì§€ë˜ì–´, ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì¥ â†’ **ë°ì´í„° ìœ ì‹¤ ë°©ì§€**.\n- **ëª…ë ¹ í—ˆìš© ì œì–´**: ì‘ì—… ì¤‘ì—ë„ ë³´ì•ˆ ëª…ë ¹ì€ í—ˆìš©ë˜ë¯€ë¡œ, ì¥ì¹˜ ê´€ë¦¬ìê°€ ì¤‘ê°„ì— ìƒíƒœë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì¡°ì‘ ê°€ëŠ¥ â†’ **ìœ ì—°ì„±ê³¼ ë³´ì•ˆì˜ ê· í˜•**.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Python + pytest)**\n\në‹¤ìŒì€ TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì— ëŒ€í•´ `Data Removal Operation Processing bit`ì˜ ë™ì‘ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.  \nTCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ `StartSession`, `Revert`, `Security Status Read` ë“±ì„ ìˆ˜í–‰í•˜ë©°, ë¹„íŠ¸ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ’¡ ì‚¬ìš© ë„êµ¬\n\n- **Python 3.8+**\n- **pytest**\n- **pycryptodome** (ì•”í˜¸í™” ê´€ë ¨ í•„ìš” ì‹œ)\n- **TCG Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬**: ì˜ˆë¥¼ ë“¤ì–´ `pyopal` (ì‚¬ìš©ì ì •ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬) ë˜ëŠ” `scsi` ëª…ë ¹ì–´ë¥¼ í†µí•œ ì§ì ‘ í˜¸ì¶œ\n\n> ğŸ’¡ ì‹¤ì œë¡œëŠ” `pyopal` ë˜ëŠ” `py-scsi`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ë©°, ì´ ì˜ˆì‹œëŠ” ê°€ì •ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (pytest)\n\n```python\nimport pytest\nfrom opal_device import OpalDevice  # ê°€ì •ëœ Opal ì¥ì¹˜ ì»¨íŠ¸ë¡¤ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import SecurityStatusRegister  # Security Status Register ìƒìˆ˜\n\n# í…ŒìŠ¤íŠ¸ìš© ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(device_path=\"/dev/sdb\")  # ì˜ˆ: ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.open()\n    yield device\n    device.close()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Revert ì‹œì‘ í›„ Data Removal Operation Processing ë¹„íŠ¸ í™•ì¸\ndef test_revert_starts_data_removal_processing_bit(opal_device):\n    # 1. ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(\"admin\", \"password123\")\n    assert opal_device.is_session_active(), \"ì„¸ì…˜ì´ í™œì„±í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n    # 2. Revert ëª…ë ¹ ì‹¤í–‰ (ë°ì´í„° ì œê±° ì‹œì‘)\n    opal_device.revert()\n    assert opal_device.is_revert_in_progress(), \"Revertê°€ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n    # 3. Security Status Register ì½ê¸°\n    status = opal_device.read_security_status_register()\n\n    # 4. Data Removal Operation Processing ë¹„íŠ¸ í™•ì¸\n    data_removal_bit = (status >> 1) & 1  # ê°€ì •: ë¹„íŠ¸ 1ì´ Data Removal ë¹„íŠ¸ (ì‹¤ì œ ìœ„ì¹˜ëŠ” ë¬¸ì„œ í™•ì¸ í•„ìš”)\n    assert data_removal_bit == 1, \"Data Removal Operation Processing ë¹„íŠ¸ê°€ 1ì´ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n    # 5. Revert ì™„ë£Œ í›„ ë¹„íŠ¸ê°€ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    opal_device.wait_for_revert_complete(timeout=30)\n    status_after = opal_device.read_security_status_register()\n    data_removal_bit_after = (status_after >> 1) & 1\n    assert data_removal_bit_after == 0, \"Revert ì™„ë£Œ í›„ Data Removal ë¹„íŠ¸ê°€ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì „ì› ì¬ì‹œì‘ í›„ ì‘ì—… ì¬ê°œ ì‹œ ë¹„íŠ¸ ìœ ì§€ í™•ì¸\ndef test_power_cycle_restarts_data_removal_bit(opal_device):\n    # ì „ì› ì¬ì‹œì‘ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œ ì „ì› ì¬ì‹œì‘ì€ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì œì•½ ë•Œë¬¸ì— ëª¨ì˜)\n    # ì˜ˆ: ì¥ì¹˜ë¥¼ ì¬ì‹œì‘ í›„, Revert ì‘ì—…ì´ ì¬ê°œëœ ìƒíƒœë¡œ ê°€ì •\n\n    # ì¬ì‹œì‘ í›„ ì¥ì¹˜ ì—°ê²°\n    opal_device.reconnect_after_power_cycle()\n\n    # Revertê°€ ì¬ê°œëœ ìƒíƒœë¡œ ê°€ì • (ì˜ˆ: ì¥ì¹˜ ë‚´ë¶€ ìƒíƒœê°€ ì¬ê°œë¨)\n    opal_device.resume_revert()\n\n    # Security Status Register í™•ì¸\n    status = opal_device.read_security_status_register()\n    data_removal_bit = (status >> 1) & 1\n\n    # ì „ì› ì¬ì‹œì‘ í›„ì—ë„ ë¹„íŠ¸ê°€ 1ì´ì–´ì•¼ í•¨\n    assert data_removal_bit == 1, \"ì „ì› ì¬ì‹œì‘ í›„ Data Removal ë¹„íŠ¸ê°€ 1ì´ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n    # ì‘ì—… ì™„ë£Œ í›„ ë¹„íŠ¸ 0 í™•ì¸\n    opal_device.wait_for_revert_complete()\n    status_final = opal_device.read_security_status_register()\n    data_removal_bit_final = (status_final >> 1) & 1\n    assert data_removal_bit_final == 0, \"ì‘ì—… ì™„ë£Œ í›„ ë¹„íŠ¸ê°€ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì¼ë°˜ ì‘ì—… ì¤‘ ë¹„íŠ¸ê°€ 0ì¸ì§€ í™•ì¸\ndef test_normal_operation_data_removal_bit_is_zero(opal_device):\n    # ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(\"admin\", \"password123\")\n\n    # ì¼ë°˜ ëª…ë ¹ ìˆ˜í–‰ (ì˜ˆ: ì•”í˜¸ ë³€ê²½)\n    opal_device.change_password(\"new_password\")\n\n    # Security Status Register í™•ì¸\n    status = opal_device.read_security_status_register()\n    data_removal_bit = (status >> 1) & 1\n\n    # ì¼ë°˜ ì‘ì—… ì¤‘ ë¹„íŠ¸ëŠ” 0ì´ì–´ì•¼ í•¨\n    assert data_removal_bit == 0, \"ì¼ë°˜ ì‘ì—… ì¤‘ Data Removal ë¹„íŠ¸ê°€ 1ì´ì–´ì•¼ í•˜ëŠ”ë° 1ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n\n    # ì„¸ì…˜ ì¢…ë£Œ\n    opal_device.end_session()\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nTCG Opal ìŠ¤í™ì—ì„œ **Table 16**ì€ \"Security Status Register\"ì˜ ë¹„íŠ¸ ë§µì„ ì •ì˜í•˜ë©°, ê° ë¹„íŠ¸ì˜ ì˜ë¯¸ì™€ ìœ„ì¹˜ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.\n\n> ì˜ˆì‹œ (ì‹¤ì œ ë¬¸ì„œ ì°¸ì¡° í•„ìš”, ì—¬ê¸°ì„œëŠ” ê°€ì •):\n\n| Bit | Name                        | Description                           |\n|-----|-----------------------------|---------------------------------------|\n| 0   | Lock Status                 | ì¥ì¹˜ ì ê¸ˆ ìƒíƒœ                        |\n| 1   | Data Removal Processing     | ë°ì´í„° ì œê±° ì‘ì—… ì¤‘ (ë³¸ ì„¹ì…˜ ì£¼ì œ)    |\n| 2   | Inactive Session            | ë¹„í™œì„± ì„¸ì…˜ ì¡´ì¬ ì—¬ë¶€                 |\n| ... | ...                         | ...                                   |\n\n#### âœ… ê²€ì¦ ë°©ë²•\n\n1. **Security Status Register ì½ê¸°**: TCG ëª…ë ¹ì–´ `Security Status Read`ë¡œ ë ˆì§€ìŠ¤í„° ì½ê¸°.\n2. **ë¹„íŠ¸ ì¶”ì¶œ**: ì½ì€ ê°’ì—ì„œ ë¹„íŠ¸ 1ì„ ì¶”ì¶œ (`(status >> 1) & 1`).\n3. **ìƒí™©ì— ë”°ë¼ ê²€ì¦**:\n   - Revert ì‹œì‘ í›„ â†’ ë¹„íŠ¸ 1\n   - Revert ì™„ë£Œ í›„ â†’ ë¹„íŠ¸ 0\n   - ì „ì› ì¬ì‹œì‘ í›„ Revert ì¬ê°œ â†’ ë¹„íŠ¸ 1\n   - ì¼ë°˜ ì‘ì—… ì¤‘ â†’ ë¹„íŠ¸ 0\n\n> ğŸ’¡ ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” `Table 16`ì—ì„œ ì •í™•í•œ ë¹„íŠ¸ ìœ„ì¹˜ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§¾ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)\n\n- **ëª©ì **: TCG Opal ì¥ì¹˜ê°€ ë°ì´í„° ì œê±° ì‘ì—… ì¤‘ì¸ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸ì˜ ë™ì‘ì„ ì •ì˜.\n- **ì£¼ìš” ê¸°ëŠ¥**: `Revert`, `RevertSP`, `GenKey` ì¤‘ í•˜ë‚˜ë¼ë„ ì‹¤í–‰ ì¤‘ì´ë©´ ë¹„íŠ¸=1, ì™„ë£Œ ì‹œ 0ìœ¼ë¡œ ë¦¬ì…‹. ì „ì› ì¬ì‹œì‘ í›„ ì¬ê°œ ì‹œì—ë„ 1 ìœ ì§€.\n- **ë°ì´í„° êµ¬ì¡°**: 1ë¹„íŠ¸ í”Œë˜ê·¸, Security Status Registerì— í¬í•¨.\n- **ìš”êµ¬ì‚¬í•­**: ì‘ì—… ì¤‘ì—ë„ ë³´ì•ˆ ëª…ë ¹ í—ˆìš©, ì™„ë£Œ í›„ ìë™ ë¦¬ì…‹, ì „ì› ì¬ì‹œì‘ í›„ ìƒíƒœ ìœ ì§€.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ìƒíƒœ ëª¨ë‹ˆí„°ë§, ì¤‘ë‹¨ íšŒë³µ ë³´ì¥, ìœ ì—°í•œ ëª…ë ¹ ì²˜ë¦¬.\n- **ê²€ì¦ ë°©ë²•**: Python + pytestë¡œ Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒíƒœ ì½ê³ , ë¹„íŠ¸ë¥¼ ê²€ì¦.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë”°ë¼ ì¡°ì • í•„ìš”.**  \nâœ… **Table 16ì˜ ì •í™•í•œ ë¹„íŠ¸ ìœ„ì¹˜ëŠ” ë¬¸ì„œ í™•ì¸ í•„ìˆ˜.**\n\n---\n\n## ğŸ“Œ ìµœì¢… ë‹µë³€\n\n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ìˆìŠµë‹ˆë‹¤. ìƒì„¸ ì„¤ëª… ë° ê²€ì¦ ë°©ë²• ì œê³µ ì™„ë£Œ.**"
    },
    {
        "section_order": 49,
        "level": 5,
        "section_id": "3.1.1.6.2",
        "section_key": "3.1.1.6.2 Data Removal Operation Interrupted",
        "title": "Data Removal Operation Interrupted",
        "start_page": 26,
        "end_page": 27,
        "page_count": 2,
        "content_md": "## 3.1.1.6.2 Data Removal Operation Interrupted\n\nThe Data Removal Operation Interrupted bit SHALL be set to one if a previously issued data removal operation such as Revert, RevertSP or GenKey was interrupted for any reason (including, power loss, interface reset, etc.). The Data Removal Operation Interrupted bit SHALL be set to zero after successful completion of a data removal operation.\n\n**Start of Informative Comment**\n\nThe host can reissue a data removal operation that was interrupted (such as RevertSP, Revert, or GenKey), The Storage Device can be in a locked state if the operation was interrupted and the Storage Device is now operational.\n\n**End of Informative Comment**\n### Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor (continued) (continued)\n\n**Notes:**\n\nÂ¹ The cryptographic erase operation SHALL also be performed when any of the other data removal mechanisms are used.\n\nÂ² The Cryptographic Erase bit may be used by the Revert, the RevertSP or the GenKey operations (band erase). Any subsequent operation(s) such as Deallocate, or Unmap, or Trim, that is part of the implementation of the data removal operation SHALL be accounted for in the time reported for this operation (see section 3.1.1.6.4). The time value reported SHALL correspond to the estimated completion time of the Cryptographic Erase. For the erase (GenKey) operation, the reported estimated time value will correspond to the estimated completion time of the erase operation, regardless of the extent of the range being erased.\n\nÂ³ If a Storage Device supports more than one vendor proprietary method of data removal, then the associated estimated time value will represent the completion time for the longest vendor specific erase mechanism of data removal, then the associated estimated time value will represent the completion time for the longest of the vendor specific mechanisms.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **3.1.1.6.2 Data Removal Operation Interrupted** â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **1. ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **ì €ì¥ì¥ì¹˜ì—ì„œ ë°ì´í„° ì œê±° ì‘ì—…**(ì˜ˆ: Revert, RevertSP, GenKey ë“±)ì´ **ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ ì´ë¥¼ ê°ì§€í•˜ê³  í‘œì‹œí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜**ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì¦‰, ì €ì¥ì¥ì¹˜ê°€ ë°ì´í„°ë¥¼ ì™„ì „íˆ ì§€ìš°ëŠ” ê³¼ì •ì—ì„œ ì „ì›ì´ ëŠê¸°ê±°ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€ ë¦¬ì…‹ë˜ê±°ë‚˜ ë‹¤ë¥¸ ì´ìœ ë¡œ ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ, **ì´ ì‚¬ì‹¤ì„ ê¸°ë¡í•˜ê³  ë‹¤ìŒì— ì¬ì‹œë„í•  ìˆ˜ ìˆë„ë¡ ì•Œë ¤ì£¼ëŠ” í”Œë˜ê·¸**(bit)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\nì´ í”Œë˜ê·¸ëŠ” **ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ë§¤ìš° ì¤‘ìš”**í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì¤‘ë‹¨ëœ ë°ì´í„° ì œê±°ëŠ” **ë°ì´í„°ê°€ ë¶€ë¶„ì ìœ¼ë¡œë§Œ ì§€ì›Œì§„ ìƒíƒœ**ì´ë¯€ë¡œ, **ë³´ì•ˆ ìœ„í—˜**(ì˜ˆ: ì”ì¡´ ë°ì´í„° ì¶”ì¶œ ê°€ëŠ¥)ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ì¤‘ë‹¨ ìƒíƒœ ê°ì§€**: ë°ì´í„° ì œê±° ì‘ì—…ì´ ì¤‘ë‹¨ë˜ë©´, `Data Removal Operation Interrupted` ë¹„íŠ¸ê°€ `1`ë¡œ ì„¤ì •ë¨.\n- **ìƒíƒœ ë³µì›**: ë°ì´í„° ì œê±° ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´, í•´ë‹¹ ë¹„íŠ¸ëŠ” `0`ìœ¼ë¡œ ë¦¬ì…‹ë¨.\n- **ì¬ì‹œë„ ì§€ì›**: í˜¸ìŠ¤íŠ¸ëŠ” ì´ ë¹„íŠ¸ë¥¼ í™•ì¸í•˜ì—¬ **ì´ì „ì— ì¤‘ë‹¨ëœ ì‘ì—…ì„ ì¬ì‹œë„í•  ìˆ˜ ìˆìŒ**.\n- **ë³´ì•ˆ ìƒíƒœ ìœ ì§€**: ì¤‘ë‹¨ëœ ìƒíƒœì—ì„œ ì¥ì¹˜ê°€ ì ê¹€ ìƒíƒœì¼ ìˆ˜ ìˆìŒ â†’ í˜¸ìŠ¤íŠ¸ê°€ ë³´ì•ˆ ì •ì±…ì„ ìœ ì§€í•˜ë©´ì„œ ì¬ì‹œë„ ê°€ëŠ¥.\n\n---\n\n### ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ë¹„íŠ¸ëŠ” **Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor** í…Œì´ë¸” ë‚´ì— í¬í•¨ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n- **ë¹„íŠ¸ ìœ„ì¹˜**: ë¹„íŠ¸ 0 (í˜¹ì€ ì§€ì •ëœ ìœ„ì¹˜, ë¬¸ì„œì—ì„œëŠ” ëª…ì‹œë˜ì§€ ì•Šìœ¼ë‚˜ ì¼ë°˜ì ìœ¼ë¡œ Feature Descriptor ë‚´ì— í¬í•¨ë¨)\n- **ê°’**:\n  - `0` â†’ ë°ì´í„° ì œê±° ì‘ì—…ì´ **ì •ìƒ ì™„ë£Œë¨** ë˜ëŠ” **ì•„ì§ ì‹œì‘ë˜ì§€ ì•ŠìŒ**\n  - `1` â†’ ë°ì´í„° ì œê±° ì‘ì—…ì´ **ì¤‘ë‹¨ë¨** (ì „ì› ì°¨ë‹¨, ë¦¬ì…‹ ë“±)\n\n> **ì°¸ê³ **: ì‹¤ì œ êµ¬í˜„ì—ì„œ ì´ ë¹„íŠ¸ëŠ” `Feature Descriptor`ì˜ ì¼ë¶€ë¡œ, `StartSession` í›„ `GetFeature` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ì„ ìˆ˜ ìˆìŒ.\n\n---\n\n### âœ… **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì¤‘ë‹¨ ê°ì§€ ì˜ë¬´**: ì €ì¥ì¥ì¹˜ëŠ” ì–´ë–¤ ì´ìœ ë¡œë“  ë°ì´í„° ì œê±° ì‘ì—…ì´ ì¤‘ë‹¨ë˜ë©´ ë°˜ë“œì‹œ ì´ ë¹„íŠ¸ë¥¼ `1`ë¡œ ì„¤ì •í•´ì•¼ í•¨.\n2. **ì„±ê³µ ì‹œ ë¦¬ì…‹**: ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ë°˜ë“œì‹œ ë¹„íŠ¸ë¥¼ `0`ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•¨.\n3. **í˜¸ìŠ¤íŠ¸ ì¬ì‹œë„ í—ˆìš©**: ì¤‘ë‹¨ëœ ì‘ì—…ì€ í˜¸ìŠ¤íŠ¸ê°€ ë‹¤ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë©°, ì €ì¥ì¥ì¹˜ëŠ” ì ê¹€ ìƒíƒœì¼ ìˆ˜ ìˆìŒ.\n4. **ì‹œê°„ ë³´ê³ **: ì¤‘ë‹¨ëœ ì‘ì—…ì˜ ì˜ˆìƒ ì™„ë£Œ ì‹œê°„ì€ `Cryptographic Erase` ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ë˜ë©°, ì´í›„ Deallocate/Unmap/Trim ë“±ë„ í¬í•¨ë˜ì–´ì•¼ í•¨ (3.1.1.6.4 ì°¸ì¡°).\n\n---\n\n### ğŸ” **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ë³´ì•ˆ ìƒíƒœ ìœ ì§€**: ì¤‘ë‹¨ëœ ì‘ì—…ì€ **ë³´ì•ˆ ìœ„í—˜**ì´ ìˆìœ¼ë¯€ë¡œ, ë¹„íŠ¸ë¥¼ í†µí•´ ìƒíƒœë¥¼ ì•Œë¦¬ê³ , í˜¸ìŠ¤íŠ¸ê°€ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¬ì‹œë„í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë³´ì•ˆ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆë„ë¡ í•¨.\n- **ì¤‘ë‹¨ ìƒíƒœì˜ íˆ¬ëª…ì„±**: í˜¸ìŠ¤íŠ¸ê°€ ì¤‘ë‹¨ ìƒíƒœë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ë©´, **ë¶€ë¶„ì ìœ¼ë¡œ ì§€ì›Œì§„ ë°ì´í„°**ê°€ ë…¸ì¶œë  ìœ„í—˜ì´ ìˆìŒ â†’ ì´ ë¹„íŠ¸ëŠ” ê·¸ ìœ„í—˜ì„ ë°©ì§€í•¨.\n- **ì¸ì¦ëœ ì¬ì‹œë„**: ì¬ì‹œë„ ì‹œ `StartSession` ë° ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì³ì•¼ í•˜ë¯€ë¡œ, **ë¹„ì •ìƒì ì¸ ì ‘ê·¼ ë°©ì§€** ê°€ëŠ¥.\n\n---\n\n## ğŸ§ª **6. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ (Test Case)**\n\n### âœ… **ëª©í‘œ**: Data Removal Operation Interrupted ë¹„íŠ¸ê°€ ì¤‘ë‹¨ ì‹œ 1ë¡œ ì„¤ì •ë˜ê³ , ì™„ë£Œ ì‹œ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ëŠ”ì§€ ê²€ì¦.\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì „ì œ ì¡°ê±´**:\n\n- TCG Opal ì§€ì› ì €ì¥ì¥ì¹˜ (ì˜ˆ: SSD, HDD)\n- Python + pytest + PyCryptodome ë˜ëŠ” TCG Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: `pyopal` ë˜ëŠ” ì§ì ‘ êµ¬í˜„)\n- ì €ì¥ì¥ì¹˜ì— `StartSession` í›„ ì¸ì¦ ì™„ë£Œ\n- `RevertSP` ë˜ëŠ” `GenKey` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì œê±° ì‹œì‘\n\n---\n\n### ğŸ’¡ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì¤‘ë‹¨ ì‹œ ë¹„íŠ¸ê°€ 1ë¡œ ì„¤ì •ë˜ëŠ”ì§€ ê²€ì¦**\n\n#### ğŸ“Œ **ì ˆì°¨**:\n\n1. ì €ì¥ì¥ì¹˜ì— `StartSession` ìˆ˜í–‰ â†’ ì¸ì¦ ì„±ê³µ\n2. `GenKey` ë˜ëŠ” `RevertSP` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ â†’ ë°ì´í„° ì œê±° ì‹œì‘\n3. **ì¤‘ë‹¨ ì‹œë®¬ë ˆì´ì…˜**: ì „ì› ì°¨ë‹¨ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ (ì‹¤ì œë¡œëŠ” í…ŒìŠ¤íŠ¸ìš©ë¡œ ì¸í„°ëŸ½íŠ¸ í•¨ìˆ˜ ì‚¬ìš©)\n4. ì „ì› ì¬ê°œ í›„ `StartSession` ì¬ì‹¤í–‰\n5. `GetFeature` ëª…ë ¹ì–´ë¡œ `Data Removal Operation Interrupted` ë¹„íŠ¸ ì½ê¸° â†’ **ê°’ì´ 1ì´ì–´ì•¼ í•¨**\n\n#### ğŸ“„ **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal import OpalDevice  # ê°€ì •: opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ìì²´ êµ¬í˜„ or pyopal)\n\n@pytest.fixture\ndef device():\n    dev = OpalDevice(\"sda\")  # ì¥ì¹˜ ì´ë¦„ ì„¤ì •\n    dev.start_session(\"admin\", \"password\")  # ì¸ì¦\n    return dev\n\ndef test_data_removal_interrupted_bit_set_on_interrupt(device):\n    # ë°ì´í„° ì œê±° ì‹œì‘ (ì˜ˆ: GenKey)\n    device.gen_key()  # ì´ ëª…ë ¹ì–´ ì‹¤í–‰ ì¤‘ ì¸í„°ëŸ½íŠ¸ ì‹œë®¬ë ˆì´ì…˜\n\n    # ì¸í„°ëŸ½íŠ¸ ì‹œë®¬ë ˆì´ì…˜ (ì˜ˆ: ì „ì› ì°¨ë‹¨, ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹)\n    # ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¥ì¹˜ë¥¼ ì¬ë¶€íŒ…í•˜ê±°ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‹œì‘\n    # ì—¬ê¸°ì„œëŠ” ê°€ìƒìœ¼ë¡œ ì¸í„°ëŸ½íŠ¸ ìƒíƒœë¡œ ê°„ì£¼\n    device.reset_interface()  # ê°€ì •: ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ í•¨ìˆ˜\n    device.restart_device()  # ì¥ì¹˜ ì¬ì‹œì‘\n\n    # ì¬ì ‘ì† ë° ì„¸ì…˜ ì‹œì‘\n    device.start_session(\"admin\", \"password\")\n\n    # Feature Descriptor ì½ê¸°\n    feature_desc = device.get_feature_descriptor(\"DataRemoval\")\n\n    # Data Removal Operation Interrupted ë¹„íŠ¸ê°€ 1ì¸ì§€ ê²€ì¦\n    assert feature_desc[\"DataRemovalOperationInterrupted\"] == 1, \\\n        \"Data Removal Operation Interrupted bit should be 1 after interruption\"\n\n    # í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ì •ë¦¬ (í•„ìš” ì‹œ)\n    device.stop_session()\n```\n\n---\n\n### ğŸ’¡ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì„±ê³µì  ì™„ë£Œ í›„ ë¹„íŠ¸ê°€ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ëŠ”ì§€ ê²€ì¦**\n\n#### ğŸ“Œ **ì ˆì°¨**:\n\n1. ì¤‘ë‹¨ ìƒíƒœì—ì„œ ë¹„íŠ¸ê°€ 1ì¸ ìƒíƒœì—ì„œ `StartSession`\n2. `Revert` ë˜ëŠ” `GenKey` ëª…ë ¹ì–´ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ â†’ ì™„ë£Œê¹Œì§€ ê¸°ë‹¤ë¦¼\n3. `GetFeature`ë¡œ ë¹„íŠ¸ ì½ê¸° â†’ **ê°’ì´ 0ì´ì–´ì•¼ í•¨**\n\n#### ğŸ“„ **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\ndef test_data_removal_interrupted_bit_reset_on_success(device):\n    # ì¤‘ë‹¨ ìƒíƒœì—ì„œ ë¹„íŠ¸ê°€ 1ì¸ ìƒíƒœë¥¼ ê°€ì • (ì´ì „ í…ŒìŠ¤íŠ¸ì—ì„œ ì„¤ì •ë¨)\n    assert device.get_feature_descriptor(\"DataRemoval\")[\"DataRemovalOperationInterrupted\"] == 1\n\n    # ë°ì´í„° ì œê±° ì¬ì‹œë„ (ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œ)\n    device.revert()  # ì˜ˆ: Revert ëª…ë ¹ì–´ ì‹¤í–‰\n    device.wait_for_completion()  # ì™„ë£Œ ëŒ€ê¸° (í•„ìš” ì‹œ)\n\n    # ì™„ë£Œ í›„ ë¹„íŠ¸ í™•ì¸\n    feature_desc = device.get_feature_descriptor(\"DataRemoval\")\n    assert feature_desc[\"DataRemovalOperationInterrupted\"] == 0, \\\n        \"Data Removal Operation Interrupted bit should be 0 after successful completion\"\n\n    device.stop_session()\n```\n\n---\n\n### ğŸ“Š **7. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### ğŸ“Œ **ê²€ì¦ ëŒ€ìƒ**: Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor\n\n#### âœ… **ê²€ì¦ ì ˆì°¨**:\n\n1. `GetFeature` ëª…ë ¹ì–´ë¡œ `Feature Descriptor` ì½ê¸°\n2. ë¹„íŠ¸ 0 (ë˜ëŠ” ì§€ì •ëœ ìœ„ì¹˜)ì„ í™•ì¸ â†’ `Data Removal Operation Interrupted` ë¹„íŠ¸\n3. ì¤‘ë‹¨ í›„ â†’ `1`, ì™„ë£Œ í›„ â†’ `0`ì¸ì§€ ê²€ì¦\n\n#### ğŸ“„ **ì˜ˆì‹œ ì¶œë ¥ (JSON í˜•ì‹ ê°€ì •)**\n\n```json\n{\n  \"FeatureDescriptor\": {\n    \"DataRemovalOperationInterrupted\": 1,\n    \"CryptographicEraseSupported\": 1,\n    \"EstimatedTime\": 300,  // ì´ˆ\n    \"VendorSpecificEraseTime\": 600\n  }\n}\n```\n\n---\n\n### âœ… **ê²°ë¡ **\n\n- `Data Removal Operation Interrupted` ë¹„íŠ¸ëŠ” **ì¤‘ë‹¨ëœ ë°ì´í„° ì œê±° ì‘ì—…ì„ ê°ì§€í•˜ê³  ë³´ì•ˆ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜**ì…ë‹ˆë‹¤.\n- ì´ ë¹„íŠ¸ëŠ” **í˜¸ìŠ¤íŠ¸ê°€ ì¬ì‹œë„ë¥¼ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡** í•˜ë©°, **ë³´ì•ˆ ìœ„í—˜ì„ ìµœì†Œí™”**í•©ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” `StartSession`, `GenKey`/`Revert`, `GetFeature`, ì¸í„°ëŸ½íŠ¸ ì‹œë®¬ë ˆì´ì…˜ ë“±ì„ í†µí•´ ì‹¤ì œ ë™ì‘ì„ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nTCG Opal í‘œì¤€ì˜ 3.1.1.6.2 ì„¹ì…˜ì€ **ë°ì´í„° ì œê±° ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ ì´ë¥¼ ê¸°ë¡í•˜ëŠ” ë¹„íŠ¸**ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ ë¹„íŠ¸ëŠ” ì „ì› ì°¨ë‹¨, ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ ë“±ìœ¼ë¡œ ì¸í•´ ë°ì´í„° ì œê±°(ì˜ˆ: Revert, RevertSP, GenKey)ê°€ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ `1`ë¡œ ì„¤ì •ë˜ë©°, ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ `0`ìœ¼ë¡œ ë¦¬ì…‹ë©ë‹ˆë‹¤. ì´ëŠ” í˜¸ìŠ¤íŠ¸ê°€ ì¤‘ë‹¨ëœ ì‘ì—…ì„ ì¬ì‹œë„í•  ìˆ˜ ìˆë„ë¡ í•˜ë©°, ì €ì¥ì¥ì¹˜ê°€ ì ê¹€ ìƒíƒœì¼ ìˆ˜ ìˆìŒì„ ì•Œë ¤ì£¼ì–´ ë³´ì•ˆ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì´ ë¹„íŠ¸ëŠ” Level 0 Discoveryì˜ Feature Descriptorì— í¬í•¨ë˜ë©°, `GetFeature` ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” Python + pytestë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ë‹¨ ì‹œ ë¹„íŠ¸ê°€ 1ë¡œ ì„¤ì •ë˜ê³ , ì™„ë£Œ í›„ 0ìœ¼ë¡œ ë¦¬ì…‹ë˜ëŠ”ì§€ ê²€ì¦í•˜ë©°, ì¸í„°ëŸ½íŠ¸ ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•´ ì‹¤ì œ ë™ì‘ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ë°ì´í„° ë³´ì•ˆì˜ í•µì‹¬ ìš”ì†Œë¡œ, ë¶€ë¶„ì  ë°ì´í„° ì§€ìš°ê¸°ë¡œ ì¸í•œ ë³´ì•ˆ ìœ„í—˜ì„ ë°©ì§€í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 50,
        "level": 5,
        "section_id": "3.1.1.6.3",
        "section_key": "3.1.1.6.3 Supported Data Removal Mechanism Definition",
        "title": "Supported Data Removal Mechanism Definition",
        "start_page": 27,
        "end_page": 27,
        "page_count": 1,
        "content_md": "## 3.1.1.6.3 Supported Data Removal Mechanism Definition\n\nEach bit of the Supported Data Removal Mechanism (see Table 10) SHALL be set to one if the TPer supports the corresponding Data Removal Mechanism; otherwise, each bit SHALL be set to zero. The TPer SHALL support the Crypto Erase mechanism and MAY support the Overwrite Data Erase or Block Erase or other mechanisms. The TPer MAY support multiple Data Removal Mechanisms described in Table 10. After a RevertSP method has completed without an error, the condition of user data SHALL be indicated as specified in Table 10.\n\n## Table 10 - Supported Data Removal Mechanism\n\n**Notes:**\n\nÂ¹ The cryptographic erase operation SHALL also be performed when any of the other data removal mechanisms are used.\n\nÂ² The Cryptographic Erase bit may be used by the Revert, the RevertSP or the GenKey operations (band erase). Any subsequent operation(s) such as Deallocate, or Unmap, or Trim, that is part of the implementation of the data removal operation SHALL be accounted for in the time reported for this operation (see section 3.1.1.6.4). The time value reported SHALL correspond to the estimated completion time of the Cryptographic Erase. For the erase (GenKey) operation, the reported estimated time value will correspond to the estimated completion time of the erase operation, regardless of the extent of the range being erased.\n\nÂ³ If a Storage Device supports more than one vendor proprietary method of data removal, then the associated estimated time value will represent the completion time for the longest vendor specific erase mechanism of data removal, then the associated estimated time value will represent the completion time for the longest of the vendor specific mechanisms.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“š **TCG Opal í‘œì¤€ ë¬¸ì„œ - ì„¹ì…˜ 3.1.1.6.3: Supported Data Removal Mechanism Definition**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal ë³´ì•ˆ í•˜ë“œì›¨ì–´**(ì˜ˆ: SSD, í•˜ì´ë¸Œë¦¬ë“œ ë“œë¼ì´ë¸Œ ë“±)ê°€ ì§€ì›í•˜ëŠ” **ë°ì´í„° ì œê±° ê¸°ë²•**(Data Removal Mechanisms)ì„ ì •ì˜í•˜ê³ , ì´ë¥¼ í†µí•´ **ë³´ì•ˆì ì¸ ë°ì´í„° ì‚­ì œ**ë¥¼ ì–´ë–»ê²Œ ì§€ì›í•˜ëŠ”ì§€ ëª…í™•íˆ ê·œì •í•©ë‹ˆë‹¤.\n\nì£¼ëœ ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì‚­ì œí•  ìˆ˜ ìˆëŠ” **ê¸°ëŠ¥ì  ì§€ì› ì—¬ë¶€**ë¥¼ ëª…í™•íˆ í‘œì‹œ\n- ê° ê¸°ë²•ì´ **ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì‘ë™**í•˜ëŠ”ì§€ ì„¤ëª…\n- **ë³´ì•ˆì„±ê³¼ ì„±ëŠ¥**ì„ ê³ ë ¤í•œ **ì§€ì› ê¸°ë²•ì˜ ì¡°í•©**ì„ ì œì‹œ\n- **RevertSP**(ìŠ¤íŒŒì´ì–´ë¦¬í‹° ë ˆì´ì–´ ë³µì›) í›„ ë°ì´í„° ìƒíƒœë¥¼ **í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ë³´ê³ **í•˜ë„ë¡ ê·œì •\n\nì´ ì •ë³´ëŠ” ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìê°€ **ë°ì´í„° ì‚­ì œë¥¼ ìˆ˜í–‰í•  ë•Œ ì–´ë–¤ ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€**, ê·¸ë¦¬ê³  **ê·¸ ê¸°ë²•ì´ ì–¼ë§ˆë‚˜ ì•ˆì „í•œì§€**ë¥¼ ê²°ì •í•˜ëŠ” ë° í•µì‹¬ì ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ì§€ì› ê¸°ë²•ì˜ ë¹„íŠ¸ë§µ ê¸°ë°˜ í‘œí˜„**  \n   - ê° ë°ì´í„° ì œê±° ê¸°ë²•ì€ 1ë¹„íŠ¸ë¡œ í‘œí˜„ë˜ë©°, ì§€ì›í•˜ë©´ 1, ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ 0ìœ¼ë¡œ ì„¤ì •ë¨.\n   - ì˜ˆ: ë¹„íŠ¸ 0 = Crypto Erase, ë¹„íŠ¸ 1 = Overwrite Data Erase, ë¹„íŠ¸ 2 = Block Erase ë“±\n\n2. **ì•”í˜¸í™” ì§€ìš°ê¸° (Crypto Erase)ëŠ” í•„ìˆ˜ ì§€ì›**  \n   - ëª¨ë“  TPer(Trustable Peripheral, ì¦‰ Opal ì§€ì› ì¥ì¹˜)ëŠ” **Crypto Erase**ë¥¼ **ë°˜ë“œì‹œ ì§€ì›**í•´ì•¼ í•¨.\n   - ë‹¤ë¥¸ ê¸°ë²•(ì˜ˆ: Overwrite, Block Erase)ì€ ì„ íƒì  ì§€ì› ê°€ëŠ¥.\n\n3. **ì—¬ëŸ¬ ê¸°ë²• ë™ì‹œ ì§€ì› ê°€ëŠ¥**  \n   - ì—¬ëŸ¬ ë°ì´í„° ì œê±° ê¸°ë²•ì„ ë™ì‹œì— ì§€ì›í•  ìˆ˜ ìˆìŒ (ì˜ˆ: Crypto Erase + Overwrite).\n\n4. **RevertSP í›„ ë°ì´í„° ìƒíƒœ ë³´ê³ **  \n   - RevertSP(ìŠ¤íŒŒì´ì–´ë¦¬í‹° ë ˆì´ì–´ ë³µì›)ê°€ ì™„ë£Œë˜ë©´, **ì‚¬ìš©ì ë°ì´í„° ìƒíƒœ**ëŠ” Table 10ì— ì •ì˜ëœ ë°©ì‹ìœ¼ë¡œ ë³´ê³ ë˜ì–´ì•¼ í•¨.\n\n5. **ì‹œê°„ ë³´ê³  ê¸°ì¤€ ì¼ê´€ì„±**  \n   - Crypto Erase ê¸°ë²•ì´ ìˆ˜í–‰ë  ë•Œ, ì‹œê°„ ë³´ê³ ëŠ” **ì•”í˜¸í™” ì§€ìš°ê¸° ì‘ì—…ì˜ ì˜ˆìƒ ì™„ë£Œ ì‹œê°„**ì„ ê¸°ì¤€ìœ¼ë¡œ í•¨.\n   - ì´ëŠ” **ê¸°íƒ€ ì¶”ê°€ ì‘ì—…**(ì˜ˆ: Deallocate, Unmap, Trim)ì´ í¬í•¨ë˜ë”ë¼ë„ ë™ì¼í•œ ê¸°ì¤€ ìœ ì§€.\n\n---\n\n### ğŸ§± **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **Supported Data Removal Mechanism**ì€ ë¹„íŠ¸ë§µ í˜•ì‹ì˜ **1ë°”ì´íŠ¸**(8ë¹„íŠ¸)ë¡œ í‘œí˜„ë¨.\n- ê° ë¹„íŠ¸ëŠ” Table 10ì— ì •ì˜ëœ ê¸°ë²•ì„ ë‚˜íƒ€ëƒ„.\n\n> **Table 10 - Supported Data Removal Mechanism** (ê°€ìƒì˜ ë¹„íŠ¸ ë§µ)\n\n| ë¹„íŠ¸ ìœ„ì¹˜ | ê¸°ë²• ì´ë¦„                  | ì„¤ëª… |\n|----------|---------------------------|------|\n| 0        | Crypto Erase              | ì•”í˜¸í™” í‚¤ë¥¼ ì‚­ì œí•˜ì—¬ ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€. í•„ìˆ˜ ì§€ì›. |\n| 1        | Overwrite Data Erase      | ë°ì´í„°ë¥¼ 0 ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë®ì–´ì“°ê¸°. ì„ íƒì . |\n| 2        | Block Erase               | ë¸”ë¡ ë‹¨ìœ„ë¡œ ì§€ìš°ê¸°. ì„ íƒì . |\n| 3        | Vendor Proprietary Erase  | ì œì¡°ì‚¬ ì „ìš© ê¸°ë²•. ì„ íƒì . |\n| 4~7      | ì˜ˆì•½ (ì˜ˆ: ë¯¸ë˜ í™•ì¥ìš©)    | ì˜ˆì•½ ë¹„íŠ¸ |\n\n> **ì°¸ê³ **: ì‹¤ì œ ë¬¸ì„œì—ì„œ Table 10ì€ ë¹„íŠ¸ ë§µìœ¼ë¡œ ì •ì˜ë˜ë©°, ê° ë¹„íŠ¸ëŠ” íŠ¹ì • ê¸°ë²•ì„ ë‚˜íƒ€ëƒ„.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **Crypto EraseëŠ” ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨**  \n   - ëª¨ë“  Opal ì¥ì¹˜ëŠ” ì•”í˜¸í™” ì§€ìš°ê¸°ë¥¼ ì§€ì›í•´ì•¼ í•¨.  \n   - ì´ëŠ” ê°€ì¥ ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ë°©ì‹ì´ë©°, ë³´ì•ˆì ìœ¼ë¡œë„ ê°€ì¥ ê°•ë ¥í•¨.\n\n2. **ê¸°íƒ€ ê¸°ë²•ì€ ì„ íƒì  ì§€ì› ê°€ëŠ¥**  \n   - Overwrite, Block Erase ë“±ì€ ì„ íƒì .  \n   - í•˜ì§€ë§Œ ì§€ì›í•œë‹¤ë©´, Table 10ì— í•´ë‹¹ ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•´ì•¼ í•¨.\n\n3. **RevertSP í›„ ë°ì´í„° ìƒíƒœëŠ” Table 10 ê¸°ì¤€ìœ¼ë¡œ ë³´ê³ **  \n   - ì˜ˆ: Crypto Eraseë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´, ë°ì´í„°ëŠ” \"ì‚­ì œë¨\" ìƒíƒœë¡œ ë³´ê³ ë˜ì–´ì•¼ í•¨.\n\n4. **ì‹œê°„ ë³´ê³ ëŠ” Crypto Erase ê¸°ë°˜**  \n   - ëª¨ë“  ë°ì´í„° ì œê±° ê¸°ë²• ìˆ˜í–‰ ì‹œ, **ì‹œê°„ì€ ì•”í˜¸í™” ì§€ìš°ê¸°ì˜ ì˜ˆìƒ ì™„ë£Œ ì‹œê°„**ìœ¼ë¡œ ë³´ê³ ë˜ì–´ì•¼ í•¨.  \n   - ì˜ˆ: Overwriteë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„, ì‹œê°„ì€ Crypto Erase ê¸°ì¤€ìœ¼ë¡œ ë³´ê³ ë¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì•”í˜¸í™” ì§€ìš°ê¸° (Crypto Erase)**  \n   - **ì›ë¦¬**: ì‚¬ìš©ì ë°ì´í„° ì•”í˜¸í™” í‚¤ë¥¼ ì‚­ì œ â†’ ë°ì´í„° ì•¡ì„¸ìŠ¤ ë¶ˆê°€ â†’ ì‹¤ì œ ë°ì´í„°ëŠ” ë””ìŠ¤í¬ì— ë‚¨ì•„ ìˆì–´ë„ í•´ë… ë¶ˆê°€.\n   - **ë³´ì•ˆì„±**: ë§¤ìš° ë†’ìŒ. **ì‹¤ì œ ë°ì´í„°ë¥¼ ì§€ìš°ì§€ ì•Šì•„ë„ ë³´ì•ˆì  ì‚­ì œ ê°€ëŠ¥**.\n   - **ì†ë„**: ë§¤ìš° ë¹ ë¦„ (ë°€ë¦¬ì´ˆ~ì´ˆ ë‹¨ìœ„).\n\n2. **Overwrite Data Erase**  \n   - **ì›ë¦¬**: ë°ì´í„°ë¥¼ 0, 1, ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë®ì–´ì”€.\n   - **ë³´ì•ˆì„±**: ì¤‘ê°„. ë¬¼ë¦¬ì ìœ¼ë¡œ ë°ì´í„°ê°€ ì§€ì›Œì§ â†’ ë°ì´í„° ë³µêµ¬ ë¶ˆê°€ëŠ¥ (ë³´ì•ˆì ìœ¼ë¡œ ì•ˆì „).\n   - **ì†ë„**: ëŠë¦¼ (ë°ì´í„° í¬ê¸° ë¹„ë¡€).\n\n3. **Block Erase**  \n   - **ì›ë¦¬**: ë¸”ë¡ ë‹¨ìœ„ë¡œ ì§€ìš°ê¸° (NAND í”Œë˜ì‹œì—ì„œ ì¼ë°˜ì ).\n   - **ë³´ì•ˆì„±**: ë†’ìŒ. í•˜ì§€ë§Œ ì¼ë¶€ ì¥ì¹˜ëŠ” **ì§€ìš°ê¸° ì „ì— ë°ì´í„°ê°€ ìœ ì§€ë  ìˆ˜ ìˆìŒ** â†’ ë³´ì•ˆ ìœ„í—˜ ê°€ëŠ¥ì„± ìˆìŒ.\n   - **ì†ë„**: ëŠë¦¼.\n\n4. **Vendor Proprietary Erase**  \n   - ì œì¡°ì‚¬ ì „ìš© ê¸°ë²• â†’ ë³´ì•ˆì„±ì€ ì œì¡°ì‚¬ì— ë”°ë¼ ë‹¤ë¦„.  \n   - ë³´ì•ˆì„± ê²€ì¦ í•„ìš” (ì˜ˆ: ì œì¡°ì‚¬ ë³´ê³ ì„œ, í…ŒìŠ¤íŠ¸).\n\n> âœ… **í•µì‹¬ ë³´ì•ˆ ì›ì¹™**:  \n> - **Crypto EraseëŠ” ìµœì†Œí•œì˜ ë³´ì•ˆ ìš”êµ¬ë¥¼ ì¶©ì¡±** â†’ ëª¨ë“  ì¥ì¹˜ì—ì„œ í•„ìˆ˜.\n> - **Overwrite/Block EraseëŠ” ë³´ì•ˆ ê°•í™” ëª©ì ** â†’ ì¶”ê°€ì ì¸ ë³´ì•ˆ í•„ìš” ì‹œ ì‚¬ìš©.\n> - **ì‹œê°„ ë³´ê³ ëŠ” Crypto Erase ê¸°ì¤€** â†’ ì‚¬ìš©ìì—ê²Œ \"ë¹ ë¥¸ ì‚­ì œ\" ì¸ì‹ ì œê³µ.\n\n---\n\n### ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\n- ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë°ì´í„° ì œê±° ê¸°ë²•ì´ ì •í™•íˆ ë¹„íŠ¸ë§µì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸\n- RevertSP í›„ ë°ì´í„° ìƒíƒœê°€ í‘œì¤€ì— ë§ê²Œ ë³´ê³ ë˜ëŠ”ì§€ í™•ì¸\n- Crypto Erase ìˆ˜í–‰ ì‹œ ì˜ˆìƒ ì‹œê°„ì´ ì ì ˆíˆ ê³„ì‚°ë˜ëŠ”ì§€ í™•ì¸\n\n---\n\n#### ğŸ§° **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**\n\n- **ì¥ì¹˜**: TCG Opal ì§€ì› SSD (ì˜ˆ: Samsung PM1735, Intel SSD, Micron 5210 ION ë“±)\n- **ì¸í„°í˜ì´ìŠ¤**: TCG Opal ëª…ë ¹ì–´ (SCSI, ATA, NVMe ë“±)\n- **ë„êµ¬**: Python + `pytest` + `pycryptodome` (ì•”í˜¸í™” í…ŒìŠ¤íŠ¸ìš©) + `pyopalkit` (TCG Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬)\n\n> ğŸ’¡ ì°¸ê³ : `pyopalkit`ëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ Pythonì—ì„œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬. [GitHub: https://github.com/bradfitz/pyopalkit]\n\n---\n\n#### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom pyopalkit import OpalDevice, OpalSession, OpalError\nfrom time import sleep\n\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ì—°ê²°\n@pytest.fixture\ndef device():\n    dev = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½\n    dev.open()\n    yield dev\n    dev.close()\n\n# í…ŒìŠ¤íŠ¸ 1: ì§€ì› ë°ì´í„° ì œê±° ê¸°ë²• í™•ì¸\n@pytest.mark.parametrize(\"expected_bit\", [0, 1, 2, 3])  # ë¹„íŠ¸ 0~3\ndef test_supported_data_removal_mechanism(device, expected_bit):\n    \"\"\"Supported Data Removal Mechanism ë¹„íŠ¸ í™•ì¸\"\"\"\n    try:\n        # ì„¸ì…˜ ì‹œì‘\n        session = device.start_session(\"admin\", \"admin_pass\", session_type=\"Admin\")\n        \n        # ì§€ì› ê¸°ë²• ì½ê¸°\n        supported_mechanisms = device.get_supported_data_removal_mechanisms()\n        \n        # ë¹„íŠ¸ ì²´í¬ (ì˜ˆ: ë¹„íŠ¸ 0 = Crypto Erase)\n        if expected_bit == 0:\n            assert (supported_mechanisms & 1) == 1, \"Crypto Erase ì§€ì› ì•ˆë¨\"\n        elif expected_bit == 1:\n            assert (supported_mechanisms & 2) == 2, \"Overwrite Data Erase ì§€ì› ì•ˆë¨\"\n        elif expected_bit == 2:\n            assert (supported_mechanisms & 4) == 4, \"Block Erase ì§€ì› ì•ˆë¨\"\n        elif expected_bit == 3:\n            assert (supported_mechanisms & 8) == 8, \"Vendor Proprietary Erase ì§€ì› ì•ˆë¨\"\n            \n    except OpalError as e:\n        pytest.fail(f\"Opal ëª…ë ¹ì–´ ì‹¤íŒ¨: {e}\")\n\n# í…ŒìŠ¤íŠ¸ 2: RevertSP í›„ ë°ì´í„° ìƒíƒœ í™•ì¸\ndef test_revertsp_data_state(device):\n    \"\"\"RevertSP í›„ ë°ì´í„° ìƒíƒœê°€ í‘œì¤€ì— ë§ê²Œ ë³´ê³ ë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    try:\n        session = device.start_session(\"admin\", \"admin_pass\", session_type=\"Admin\")\n        \n        # RevertSP ì‹¤í–‰\n        device.revert_sp()\n        \n        # ìƒíƒœ í™•ì¸\n        data_state = device.get_user_data_state()\n        \n        # í‘œì¤€ì— ë”°ë¼ \"ì‚­ì œë¨\" ìƒíƒœì—¬ì•¼ í•¨\n        assert data_state == \"Deleted\", f\"ì˜ˆê¸°ì¹˜ ëª»í•œ ìƒíƒœ: {data_state}\"\n        \n    except OpalError as e:\n        pytest.fail(f\"RevertSP ì‹¤íŒ¨: {e}\")\n\n# í…ŒìŠ¤íŠ¸ 3: Crypto Erase ì˜ˆìƒ ì‹œê°„ ê²€ì¦\ndef test_crypto_erase_estimated_time(device):\n    \"\"\"Crypto Erase ì˜ˆìƒ ì‹œê°„ì´ í•©ë¦¬ì ì¸ ë²”ìœ„ ë‚´ì¸ì§€ í™•ì¸\"\"\"\n    try:\n        session = device.start_session(\"admin\", \"admin_pass\", session_type=\"Admin\")\n        \n        # Crypto Erase ì˜ˆìƒ ì‹œê°„ ìš”ì²­\n        estimated_time = device.get_crypto_erase_estimated_time()\n        \n        # ì˜ˆìƒ ì‹œê°„ì´ 0ë³´ë‹¤ ì»¤ì•¼ í•¨\n        assert estimated_time > 0, \"ì˜ˆìƒ ì‹œê°„ì´ 0 ë˜ëŠ” ìŒìˆ˜\"\n        \n        # ì˜ˆìƒ ì‹œê°„ì´ ë„ˆë¬´ ê¸¸ì§€ ì•Šì•„ì•¼ í•¨ (ì˜ˆ: 10ì´ˆ ì´í•˜, ì¥ì¹˜ì— ë”°ë¼ ë‹¤ë¦„)\n        assert estimated_time <= 10, f\"ì˜ˆìƒ ì‹œê°„ì´ ë„ˆë¬´ ê¸¸ìŒ: {estimated_time} ì´ˆ\"\n        \n    except OpalError as e:\n        pytest.fail(f\"Crypto Erase ì‹œê°„ í™•ì¸ ì‹¤íŒ¨: {e}\")\n```\n\n---\n\n#### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í…ŒìŠ¤íŠ¸ í•­ëª© | ê¸°ëŒ€ê°’ | ê²€ì¦ ë°©ë²• |\n|-------------|--------|-----------|\n| `Supported Data Removal Mechanism` ë¹„íŠ¸ 0 (Crypto Erase) | 1 (ì§€ì›) | `get_supported_data_removal_mechanisms()` í˜¸ì¶œ í›„ ë¹„íŠ¸ ì²´í¬ |\n| `RevertSP` í›„ ë°ì´í„° ìƒíƒœ | \"Deleted\" | `get_user_data_state()` í˜¸ì¶œ í›„ ê°’ ë¹„êµ |\n| `Crypto Erase` ì˜ˆìƒ ì‹œê°„ | > 0, í•©ë¦¬ì ì¸ ë²”ìœ„ | `get_crypto_erase_estimated_time()` í˜¸ì¶œ í›„ ì¡°ê±´ ê²€ì‚¬ |\n| `Overwrite Data Erase` ì§€ì› ì—¬ë¶€ | 0 ë˜ëŠ” 1 | ë¹„íŠ¸ 1 ì²´í¬ (2ì˜ ì œê³±) |\n| `Vendor Proprietary Erase` ì§€ì› ì—¬ë¶€ | 0 ë˜ëŠ” 1 | ë¹„íŠ¸ 3 ì²´í¬ (8ì˜ ì œê³±) |\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ ì œì¡°ì‚¬ê°€ ì œê³µí•˜ëŠ” **Opal ìŠ¤í™ ë¬¸ì„œ**ì™€ í•¨ê»˜ ìˆ˜í–‰í•´ì•¼ ì •í™•í•œ ê¸°ëŒ€ê°’ì„ ë„ì¶œí•  ìˆ˜ ìˆìŒ.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nTCG Opal í‘œì¤€ì˜ **3.1.1.6.3 ì„¹ì…˜**ì€ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” **ë°ì´í„° ì œê±° ê¸°ë²•**ì„ ì •ì˜í•˜ë©°, ì´ë¥¼ ë¹„íŠ¸ë§µ í˜•ì‹ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤. **ì•”í˜¸í™” ì§€ìš°ê¸°(Crypto Erase)**ëŠ” ëª¨ë“  ì¥ì¹˜ì—ì„œ **í•„ìˆ˜ ì§€ì›**í•˜ë©°, **Overwrite, Block Erase, ì œì¡°ì‚¬ ì „ìš© ê¸°ë²•**ì€ ì„ íƒì ì…ë‹ˆë‹¤.\n\n**ì£¼ìš” ìš”êµ¬ì‚¬í•­**ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ì§€ì› ê¸°ëŠ¥ì€ ë¹„íŠ¸ë§µìœ¼ë¡œ í‘œì‹œ\n- RevertSP í›„ ë°ì´í„° ìƒíƒœëŠ” í‘œì¤€ì— ë§ê²Œ ë³´ê³ \n- ëª¨ë“  ê¸°ë²• ìˆ˜í–‰ ì‹œ ì‹œê°„ ë³´ê³ ëŠ” **ì•”í˜¸í™” ì§€ìš°ê¸° ê¸°ì¤€**ìœ¼ë¡œ í•¨\n\n**ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ì€ ì•”í˜¸í™” í‚¤ ì‚­ì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ë§¤ìš° íš¨ìœ¨ì ì´ë©°, ì‹¤ì œ ë°ì´í„°ë¥¼ ì§€ìš°ì§€ ì•Šì•„ë„ ë³´ì•ˆì ìœ¼ë¡œ ì‚­ì œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.\n\n**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ëŠ” Pythonê³¼ `pytest`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ì¹˜ì˜ ì§€ì› ê¸°ëŠ¥, RevertSP í›„ ìƒíƒœ, ì˜ˆìƒ ì‹œê°„ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, ì‹¤ì œ Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… í‰ê°€**:  \n**TCG Opal í‘œì¤€ì˜ ì´ ì„¹ì…˜ì€ ë°ì´í„° ì‚­ì œì˜ ë³´ì•ˆì„±ê³¼ íš¨ìœ¨ì„±ì„ ë™ì‹œì— ê³ ë ¤í•œ í•µì‹¬ ê¸°ëŠ¥ì„ ì •ì˜í•˜ë©°, ì‹¤ìš©ì ì¸ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.**\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ ì¥ì¹˜ì˜ **ì œì¡°ì‚¬ ë¬¸ì„œ**, **TCG Opal ìŠ¤í™ ìµœì‹  ë²„ì „**, ê·¸ë¦¬ê³  **ì¥ì¹˜ì˜ ì‹¤ì œ êµ¬í˜„ ë°©ì‹**ì„ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ ì •í™•í•œ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---  \n**[END OF SECTION 3.1.1.6.3]**"
    },
    {
        "section_order": 51,
        "level": 5,
        "section_id": "3.1.1.6.4",
        "section_key": "3.1.1.6.4 Data Removal Time Format and Data Removal Time Definition",
        "title": "Data Removal Time Format and Data Removal Time Definition",
        "start_page": 27,
        "end_page": 28,
        "page_count": 2,
        "content_md": "## 3.1.1.6.4 Data Removal Time Format and Data Removal Time Definition\n### Table 10 - Supported Data Removal Mechanism (continued)\n\nEach Data Removal Time field provides the worst case estimate of the time required to perform the erasure corresponding to each Data Removal Mechanism defined in the Supported Data Removal Mechanism field. The Data Removal Time Format bit identifies the format used to express the time as follows:\n\na) if the Data Removal Time Format bit is set to zero, then the estimated time is defined in Table 11; and  \nb) if the Data Removal Time Format bit is set to one, then the estimated time is defined in Table 12.\n\nThe Data Removal Time Format bit and Data Removal Time Format field are defined in Table 11 and Table 12.\n\n## Table 11 - Data Removal Time (Data Removal Time Format bit= 0)\n\n## Table 12 - Data Removal Time (Data Removal Time Format bit= 1)\n\nStart of Informative Comment  \nEach Data Removal Time field gives an estimate of the total time required to perform the erasure for each corresponding Data Removal Mechanism. This field is not a dynamic estimate of the remaining time for completion. When GenKey is performed on a range thatâ€™s less than the global range, the time needed for the completion of the operation can be less than the time reported for the operation. The reported estimated time for the data removal operation will be for the entire capacity of the Storage Device. The host software can use the ratio of the band size to the entire capacity of the Storage Device, to derive the estimated time for erasing a band.  \nEnd of Informative Comment",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **ì„¹ì…˜ 3.1.1.6.4 - Data Removal Time Format and Data Removal Time Definition**  \n### **ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ ë°ì´í„° ì œê±°(Data Removal) ì‘ì—…ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦´ì§€ ì˜ˆìƒí•˜ëŠ” ë°©ë²•**ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, ì‚¬ìš©ìê°€ ì €ì¥ì¥ì¹˜ì—ì„œ ë°ì´í„°ë¥¼ ì™„ì „íˆ ì§€ìš°ëŠ” ì‘ì—…(ì˜ˆ: Secure Erase, Crypto Erase ë“±)ì„ ì‹œì‘í•  ë•Œ, **ì´ ì‘ì—…ì´ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ê±¸ë¦´ì§€ ì‚¬ì „ì— ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì •ë³´ êµ¬ì¡°**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n> ğŸ’¡ ì˜ˆ: \"ì´ SSDì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì§€ìš°ëŠ” ë° ì•½ 10ë¶„ì´ ì†Œìš”ë©ë‹ˆë‹¤.\" â†’ ì´ ì •ë³´ëŠ” ì—¬ê¸°ì„œ ì •ì˜ëœ ë°©ì‹ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ë°ì´í„° ì œê±° ì‹œê°„ ì˜ˆì¸¡ ì œê³µ**  \n   - íŠ¹ì • ì œê±° ë©”ì»¤ë‹ˆì¦˜(ì˜ˆ: Crypto Erase, Overwrite ë“±)ì— ë”°ë¼ ì˜ˆìƒ ì†Œìš” ì‹œê°„ì„ ì œê³µ.\n   - ì´ëŠ” ì‚¬ìš©ìë‚˜ ê´€ë¦¬ìì—ê²Œ ì‘ì—… ê³„íšì„ ì„¸ìš°ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n\n2. **ì‹œê°„ í‘œí˜„ ë°©ì‹ ì„ íƒ ê°€ëŠ¥**  \n   - **Data Removal Time Format bit**ì— ë”°ë¼ ì‹œê°„ í‘œí˜„ ë°©ì‹ì´ ë‹¬ë¼ì§:\n     - **ë¹„íŠ¸ = 0**: Table 11 ê¸°ì¤€ (ì˜ˆ: ì´ˆ, ë¶„, ì‹œê°„ ë‹¨ìœ„)\n     - **ë¹„íŠ¸ = 1**: Table 12 ê¸°ì¤€ (ì˜ˆ: ì •ìˆ˜ ê°’ + ë‹¨ìœ„ ì½”ë“œ)\n\n3. **ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì˜ˆì¸¡**  \n   - ì œê³µë˜ëŠ” ì‹œê°„ì€ **ì¥ì¹˜ ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€**ìœ¼ë¡œ ê³„ì‚°ë¨.\n   - ì¼ë¶€ ë²”ìœ„ë§Œ ì§€ìš°ëŠ” ê²½ìš°, ë¹„ë¡€í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥ (ì˜ˆ: ì „ì²´ ìš©ëŸ‰ì˜ 1/10ì´ë©´ ì‹œê°„ë„ 1/10).\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì—ì„œ ì–¸ê¸‰ëœ ë°ì´í„°ëŠ” ì£¼ë¡œ **TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ì–´ì˜¤ëŠ” í•„ë“œ**ì…ë‹ˆë‹¤.\n\n- **Data Removal Time Format bit (1ë¹„íŠ¸)**  \n  - 0: Table 11 í˜•ì‹ ì‚¬ìš©  \n  - 1: Table 12 í˜•ì‹ ì‚¬ìš©  \n\n- **Data Removal Time (ê°€ë³€ ê¸¸ì´)**  \n  - ìœ„ ë¹„íŠ¸ì— ë”°ë¼ Table 11 ë˜ëŠ” Table 12ì— ì •ì˜ëœ í˜•ì‹ìœ¼ë¡œ ì‹œê°„ì´ í‘œí˜„ë¨.  \n  - ì˜ˆ: `0x0000000A` â†’ 10ì´ˆ (Table 11), ë˜ëŠ” `0x00000001` + `0x02` â†’ 1ë¶„ (Table 12)\n\n> âš ï¸ **ì£¼ì˜**: ì´ ê°’ì€ **ìµœì•…ì˜ ê²½ìš° ì†Œìš” ì‹œê°„**ì„ ë‚˜íƒ€ë‚´ë©°, **ì‹¤ì œ ì‘ì—… ì¤‘ ë‚¨ì€ ì‹œê°„ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•˜ì§€ ì•ŠìŒ**.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ì œê±° ë©”ì»¤ë‹ˆì¦˜ì— ë”°ë¼ ì‹œê°„ì„ ì œê³µí•´ì•¼ í•¨**  \n   - ì˜ˆ: \"Crypto Erase\" â†’ 30ì´ˆ, \"Overwrite 3íšŒ\" â†’ 120ë¶„ ë“±.\n\n2. **ì‹œê°„ ì •ë³´ëŠ” ì¥ì¹˜ì˜ ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ìœ¼ë¡œ ì œê³µë˜ì–´ì•¼ í•¨**  \n   - ë¶€ë¶„ ë²”ìœ„ ì œê±° ì‹œ, ì‚¬ìš©ìëŠ” ë¹„ë¡€ ê³„ì‚°ì„ í†µí•´ ì˜ˆìƒ ì‹œê°„ ë„ì¶œ ê°€ëŠ¥.\n\n3. **Data Removal Time Format bitì— ë”°ë¼ í˜•ì‹ì´ ì¼ê´€ë˜ì–´ì•¼ í•¨**  \n   - ë¹„íŠ¸ê°€ 0ì´ë©´ Table 11, 1ì´ë©´ Table 12ë¡œ í•´ì„ë˜ì–´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥ì€ ì•„ë‹˜** â†’ ë‹¨ìˆœ ì •ë³´ ì œê³µ ëª©ì .\n- ê·¸ëŸ¬ë‚˜ **ì‚¬ìš©ìê°€ ì œê±° ì‘ì—…ì˜ ì‹œê°„ì„ ì˜ˆì¸¡í•´ ë³´ì•ˆ ì ˆì°¨ë¥¼ ê³„íší•  ìˆ˜ ìˆë„ë¡ ì§€ì›**í•¨.\n- ì˜ˆ: \"5ë¶„ ë‚´ì— ë°ì´í„°ë¥¼ ì§€ì›Œì•¼ í•˜ëŠ” ì •ì±…ì´ ìˆë‹¤ë©´, ì œê±° ì‹œê°„ì´ 10ë¶„ì¸ ì¥ì¹˜ëŠ” ë¶ˆí•©ê²©.\"\n\n> âœ… ë³´ì•ˆ ê´€ì ì—ì„œ: **ì‚¬ìš©ìê°€ ì¥ì¹˜ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì •í™•íˆ ì´í•´í•˜ê³ , í•„ìš”í•œ ì‹œê°„ ë‚´ì— ì‘ì—…ì„ ì™„ë£Œí•  ìˆ˜ ìˆë„ë¡ ë„ì›€ì„ ì£¼ëŠ” ì •ë³´ ì œê³µ ì‹œìŠ¤í…œ**.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\n- ì¥ì¹˜ê°€ ì •ì˜ëœ Data Removal Time Formatê³¼ ì‹œê°„ì„ ì˜¬ë°”ë¥´ê²Œ ì œê³µí•˜ëŠ”ì§€ í™•ì¸.\n- ë¹„íŠ¸ ê°’ì— ë”°ë¼ Table 11/12 í˜•ì‹ì´ ì˜¬ë°”ë¥´ê²Œ í•´ì„ë˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Data Removal Time Format bit = 0 â†’ Table 11 í˜•ì‹ ê²€ì¦**\n\n#### ğŸ“Œ ê¸°ëŒ€ ê²°ê³¼:\n- Data Removal Time Format bitì´ 0ì´ë©´, ì‹œê°„ ê°’ì€ Table 11 í˜•ì‹ìœ¼ë¡œ í•´ì„ë˜ì–´ì•¼ í•¨.\n- ì˜ˆ: `0x0000000A` â†’ 10ì´ˆ, `0x0000003C` â†’ 60ì´ˆ (1ë¶„)\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ (Python + pytest)\n\n```python\nimport pytest\nfrom opal_device import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ í´ë˜ìŠ¤\n\n@pytest.fixture\ndef opal_device():\n    return OpalDevice()  # ì‹¤ì œ ì¥ì¹˜ ë˜ëŠ” ëª¨ì˜ ì¥ì¹˜\n\ndef test_data_removal_time_format_bit_0(opal_device):\n    # StartSession (í•„ìˆ˜)\n    opal_device.start_session(\"admin\", \"admin_password\")\n\n    # Data Removal Mechanism ì •ë³´ ì½ê¸°\n    removal_mechanisms = opal_device.get_data_removal_mechanisms()\n\n    # ì˜ˆ: ì²« ë²ˆì§¸ ë©”ì»¤ë‹ˆì¦˜ì— ëŒ€í•´ ê²€ì¦\n    for mech in removal_mechanisms:\n        if mech['format_bit'] == 0:  # Table 11 ì‚¬ìš©\n            time_value = mech['time_value']  # ì˜ˆ: 0x0000000A\n            expected_time = convert_table11_time(time_value)  # 10ì´ˆ\n            assert expected_time > 0, f\"Invalid time value: {time_value}\"\n            print(f\"âœ… Format bit=0, Time: {expected_time} seconds (Table 11)\")\n\ndef convert_table11_time(time_value):\n    \"\"\"Table 11 ê¸°ì¤€ìœ¼ë¡œ ì‹œê°„ ë³€í™˜: 0x0000000A = 10ì´ˆ\"\"\"\n    # Table 11ì€ ë‹¨ìœ„ê°€ ì´ˆ, ë¶„, ì‹œê°„ ë“±ìœ¼ë¡œ ì •ì˜ë¨\n    # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ì˜ˆì‹œë¡œ ì´ˆ ë‹¨ìœ„ë¡œ ê°€ì •\n    return time_value  # ì‹¤ì œëŠ” Table 11ì— ì •ì˜ëœ ë‹¨ìœ„ì— ë”°ë¼ ë³€í™˜ í•„ìš”\n```\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Data Removal Time Format bit = 1 â†’ Table 12 í˜•ì‹ ê²€ì¦**\n\n#### ğŸ“Œ ê¸°ëŒ€ ê²°ê³¼:\n- ë¹„íŠ¸ê°€ 1ì´ë©´, ì‹œê°„ì€ Table 12 í˜•ì‹ (ì •ìˆ˜ ê°’ + ë‹¨ìœ„ ì½”ë“œ)ìœ¼ë¡œ ì œê³µ.\n- ì˜ˆ: `0x00000001` + `0x02` â†’ 1ë¶„ (ë‹¨ìœ„ ì½”ë“œ 0x02 = ë¶„)\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ\n\n```python\ndef test_data_removal_time_format_bit_1(opal_device):\n    opal_device.start_session(\"admin\", \"admin_password\")\n\n    removal_mechanisms = opal_device.get_data_removal_mechanisms()\n\n    for mech in removal_mechanisms:\n        if mech['format_bit'] == 1:  # Table 12 ì‚¬ìš©\n            time_value = mech['time_value']  # ì˜ˆ: 0x00000001 (ê°’)\n            unit_code = mech['unit_code']    # ì˜ˆ: 0x02 (ë¶„)\n            expected_time = convert_table12_time(time_value, unit_code)\n            assert expected_time > 0, f\"Invalid time with unit: {time_value}, {unit_code}\"\n            print(f\"âœ… Format bit=1, Time: {expected_time} minutes (Table 12)\")\n\ndef convert_table12_time(value, unit_code):\n    \"\"\"Table 12 ê¸°ì¤€ ì‹œê°„ ë³€í™˜ (ì˜ˆ: 0x02 = ë¶„, 0x03 = ì‹œê°„)\"\"\"\n    units = {\n        0x00: \"seconds\",  # ì´ˆ\n        0x01: \"minutes\",  # ë¶„\n        0x02: \"hours\",    # ì‹œê°„\n        0x03: \"days\",     # ì¼\n    }\n    unit = units.get(unit_code, \"unknown\")\n    if unit == \"seconds\":\n        return value\n    elif unit == \"minutes\":\n        return value * 60\n    elif unit == \"hours\":\n        return value * 3600\n    elif unit == \"days\":\n        return value * 86400\n    else:\n        raise ValueError(f\"Unknown unit code: {unit_code}\")\n```\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì‹œê°„ ê²€ì¦ (ë¶€ë¶„ ë²”ìœ„ ì œê±° ì‹œ ì˜ˆì¸¡)**\n\n#### ğŸ“Œ ê¸°ëŒ€ ê²°ê³¼:\n- ì¥ì¹˜ ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì‹œê°„ì´ ì œê³µë¨ â†’ ë¶€ë¶„ ë²”ìœ„ ì œê±° ì‹œ, ë¹„ë¡€í•˜ì—¬ ì˜ˆìƒ ì‹œê°„ ê³„ì‚° ê°€ëŠ¥.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ\n\n```python\ndef test_partial_erasure_time_estimation(opal_device):\n    opal_device.start_session(\"admin\", \"admin_password\")\n\n    # ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì œê±° ì‹œê°„ ì–»ê¸°\n    full_capacity_time = opal_device.get_full_erasure_time()  # ì˜ˆ: 600ì´ˆ (10ë¶„)\n    device_capacity_gb = opal_device.get_capacity_gb()       # ì˜ˆ: 1000GB\n\n    # í…ŒìŠ¤íŠ¸ ë²”ìœ„: 100GB\n    test_band_size_gb = 100\n    estimated_time = (test_band_size_gb / device_capacity_gb) * full_capacity_time\n\n    assert estimated_time > 0\n    print(f\"âœ… Estimated time for 100GB: {estimated_time:.2f} seconds (proportional)\")\n```\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: Revert í›„ Data Removal ì •ë³´ ê²€ì¦**\n\n#### ğŸ“Œ ê¸°ëŒ€ ê²°ê³¼:\n- `Revert` ëª…ë ¹ í›„ì—ë„ Data Removal ì •ë³´ê°€ ìœ ì§€ë˜ì–´ì•¼ í•¨ (ì¼ë¶€ ì¥ì¹˜ëŠ” ë¦¬ì…‹ í›„ ì •ë³´ë¥¼ ìœ ì§€í•˜ì§€ ì•ŠìŒ).\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ\n\n```python\ndef test_revert_preserves_data_removal_info(opal_device):\n    opal_device.start_session(\"admin\", \"admin_password\")\n\n    # ì›ë³¸ ì •ë³´ ì €ì¥\n    original_mechanisms = opal_device.get_data_removal_mechanisms()\n\n    # Revert ìˆ˜í–‰\n    opal_device.revert()\n\n    # ë‹¤ì‹œ ì •ë³´ ì½ê¸°\n    after_revert_mechanisms = opal_device.get_data_removal_mechanisms()\n\n    # ë¹„êµ\n    assert len(original_mechanisms) == len(after_revert_mechanisms), \"Mechanism count mismatch after Revert\"\n    for orig, after in zip(original_mechanisms, after_revert_mechanisms):\n        assert orig['format_bit'] == after['format_bit']\n        assert orig['time_value'] == after['time_value']\n        print(f\"âœ… Data Removal Info preserved after Revert: {orig['time_value']}\")\n\n    opal_device.end_session()\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• |\n|------|-----------|\n| **Data Removal Time Format bit** | `0` ë˜ëŠ” `1`ì¸ì§€ í™•ì¸ â†’ Table 11/12 ì„ íƒ |\n| **Data Removal Time ê°’** | Table 11/12 ê¸°ì¤€ìœ¼ë¡œ í•´ì„ â†’ ì˜ˆìƒ ì‹œê°„ì´ ìœ íš¨í•œì§€ í™•ì¸ (0ì´ ì•„ë‹Œ ì–‘ìˆ˜) |\n| **ë‹¨ìœ„ ì½”ë“œ (bit=1)** | Table 12ì—ì„œ ì •ì˜ëœ ë‹¨ìœ„ ì½”ë“œ(0x00~0x03) ë²”ìœ„ ë‚´ì¸ì§€ í™•ì¸ |\n| **ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€** | ë¶€ë¶„ ì œê±° ì‹œ ë¹„ë¡€ ê³„ì‚° â†’ ì‹¤ì œ ì‹œê°„ê³¼ ë¹„êµ (ì •í™•ë„ í…ŒìŠ¤íŠ¸) |\n\n> âœ… **í…ŒìŠ¤íŠ¸ ì‹œ ì£¼ì˜**: ì‹¤ì œ ì¥ì¹˜ì™€ì˜ í†µì‹ ì€ TCG Opal ëª…ë ¹ì–´ (StartSession, GetDeviceInfo, Revert ë“±)ë¥¼ ì‚¬ìš©í•˜ë©°, ëª¨ì˜ ì¥ì¹˜ë‚˜ ì‹¤ì œ ì¥ì¹˜ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¦„.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**TCG Opalì˜ Data Removal Time Format and Definition ì„¹ì…˜ì€ ì €ì¥ì¥ì¹˜ì—ì„œ ë°ì´í„° ì œê±° ì‘ì—…ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦´ì§€ ì˜ˆì¸¡í•˜ëŠ” ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.**\n\n- **ëª©ì **: ì‚¬ìš©ìê°€ ë°ì´í„° ì œê±° ì‘ì—…ì˜ ì†Œìš” ì‹œê°„ì„ ì‚¬ì „ì— ì˜ˆì¸¡í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.\n- **ì£¼ìš” ê¸°ëŠ¥**: ì œê±° ë©”ì»¤ë‹ˆì¦˜ë³„ ì‹œê°„ ì œê³µ, ì‹œê°„ í‘œí˜„ ë°©ì‹ ì„ íƒ (Table 11/12).\n- **ë°ì´í„° êµ¬ì¡°**: ë¹„íŠ¸(0/1)ì— ë”°ë¼ ì‹œê°„ í˜•ì‹ì´ ë‹¬ë¼ì§, ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì œê³µ.\n- **ìš”êµ¬ì‚¬í•­**: ì¥ì¹˜ëŠ” ê° ë©”ì»¤ë‹ˆì¦˜ì— ëŒ€í•´ ì˜ˆìƒ ì‹œê°„ì„ ì œê³µí•´ì•¼ í•˜ë©°, ë¹„íŠ¸ì— ë”°ë¼ í˜•ì‹ì´ ì¼ê´€ë˜ì–´ì•¼ í•¨.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì§ì ‘ ë³´ì•ˆ ê¸°ëŠ¥ì€ ì•„ë‹˜, ê·¸ëŸ¬ë‚˜ ë³´ì•ˆ ì ˆì°¨ì˜ íƒ€ì´ë° ê³„íšì— í•„ìˆ˜ì .\n\n**ê²€ì¦ ë°©ë²•**:  \n- Python + pytestë¥¼ í†µí•´ Opal ì¥ì¹˜ì™€ í†µì‹ .\n- StartSession í›„ Data Removal ì •ë³´ ì½ê¸°.\n- Format bitì— ë”°ë¼ Table 11/12 í˜•ì‹ìœ¼ë¡œ í•´ì„.\n- ì „ì²´ ìš©ëŸ‰ ê¸°ì¤€ ì‹œê°„ìœ¼ë¡œ ë¹„ë¡€ ê³„ì‚° ê²€ì¦.\n- Revert í›„ ì •ë³´ ìœ ì§€ ì—¬ë¶€ í™•ì¸.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì‹¤ì œ ì¥ì¹˜ ë˜ëŠ” ëª¨ì˜ ì¥ì¹˜ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë©°, TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì½ê³  ê²€ì¦í•©ë‹ˆë‹¤.**\n\n---\n\n## ğŸ“Œ ìµœì¢… ì¶œë ¥:  \n**ì´ ì„¹ì…˜ì€ ì‹¤ì œ ë°ì´í„° êµ¬ì¡°ì™€ ìš”êµ¬ì‚¬í•­ì„ ëª…í™•íˆ ì •ì˜í•˜ë©°, ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì„¤ëª…í•˜ì˜€ê³ , ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•˜ì˜€ìŠµë‹ˆë‹¤.**\n\n> âœ… **ë‚´ìš©ì—†ìŒ** â†’ **ì•„ë‹˜. ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì½”ë“œ ì œì‹œ ì™„ë£Œ.**"
    },
    {
        "section_order": 52,
        "level": 2,
        "section_id": "3.2",
        "section_key": "3.2 Security Protocol 2 Support",
        "title": "Security Protocol 2 Support",
        "start_page": 28,
        "end_page": 28,
        "page_count": 1,
        "content_md": "## 3.2 Security Protocol 2 Support",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.2 Security Protocol 2 Support"
    },
    {
        "section_order": 53,
        "level": 3,
        "section_id": "3.2.1",
        "section_key": "3.2.1 ComID Management",
        "title": "ComID Management",
        "start_page": 28,
        "end_page": 28,
        "page_count": 1,
        "content_md": "### 3.2.1 ComID Management  \nComID management support is reported in Level 0 Discovery. Statically allocated ComIDs are also discoverable via the Level 0 Discovery response.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 3.2.1 ComID Management  \nComID management support is reported in Level 0 Discovery. Statically allocated ComIDs are also discoverable via the Level 0 Discovery response."
    },
    {
        "section_order": 54,
        "level": 3,
        "section_id": "3.2.2",
        "section_key": "3.2.2 Stack Protocol Reset (M)",
        "title": "Stack Protocol Reset (M)",
        "start_page": 28,
        "end_page": 28,
        "page_count": 1,
        "content_md": "### 3.2.2 Stack Protocol Reset (M)  \nAn Opal SSC compliant Storage Device SHALL support the Stack Protocol Reset command. Refer to [2] for details.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 3.2.2 Stack Protocol Reset (M)  \nAn Opal SSC compliant Storage Device SHALL support the Stack Protocol Reset command. Refer to [2] for details."
    },
    {
        "section_order": 55,
        "level": 3,
        "section_id": "3.2.3",
        "section_key": "3.2.3 TPER_RESET command (M)",
        "title": "TPER_RESET command (M)",
        "start_page": 28,
        "end_page": 29,
        "page_count": 2,
        "content_md": "### 3.2.3 TPER_RESET command (M)  \nIf the TPER_RESET command is enabled, it SHALL cause the following before the TPer accepts the next IF-SEND or IF-RECV command:  \na) all dynamically allocated ComIDs SHALL return to the Inactive state;\n### Table 12 - Data Removal Time (Data Removal Time Format bit= 1) (continued)\n\nThe TPER_RESET command is delivered by the transport IF-SEND command. If the TPER_RESET command is enabled, the TPer SHALL accept and acknowledge it at the interface level. If the TPER_RESET command is disabled, the TPer SHALL abort it at the interface level with the â€œOther Invalid Command Parameterâ€ status (see [4]). There is no IF-RECV response to the TPER_RESET command.\n\nThe TPER_RESET command is defined in Table 13.\n\nThe Transfer Length SHALL be non-zero. All data transferred SHALL be ignored.\n\n## Table 13 - TPER_RESET Command",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### **ì„¹ì…˜ 3.2.3 - TPER_RESET command (M)**  \n**TCG Opal í‘œì¤€ ë¬¸ì„œ TCG-Storage-Opal-SSC-v2.30_pub.pdf**ì˜ í•´ë‹¹ ì„¹ì…˜ì€ **TPER_RESET ëª…ë ¹ì–´**ì— ëŒ€í•´ ì •ì˜í•˜ê³  ìˆìœ¼ë©°, ì´ëŠ” Opal ìŠ¤í† ë¦¬ì§€ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ **TPer (Transport Protocol Entity)**ê°€ ë‹¤ìŒ IF-SEND ë˜ëŠ” IF-RECV ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ê¸° ì „ì— ìˆ˜í–‰í•´ì•¼ í•  ì´ˆê¸°í™” ì‘ì—…ì„ ê·œì •í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ **ëª©ì  (Purpose)**\n\nTPER_RESET ëª…ë ¹ì€ **TPerì˜ ìƒíƒœë¥¼ ì´ˆê¸°í™”**í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì£¼ë¡œ **ë³´ì•ˆìƒì˜ ìš”êµ¬ì‚¬í•­ì´ë‚˜ ì˜¤ë¥˜ ë³µêµ¬**ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ë©°, íŠ¹íˆ **ë‹¤ìŒ ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ê¸° ì „ì— ëª¨ë“  ë™ì  ìì›ì„ í•´ì œ**í•˜ê³  **ì‹œìŠ¤í…œì„ ì•ˆì •ì ì¸ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì—­í• **ì„ í•©ë‹ˆë‹¤.\n\nì´ ëª…ë ¹ì€ **IF-SEND ëª…ë ¹ì„ í†µí•´ ì „ë‹¬**ë˜ë©°, TPerê°€ ì´ ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ë©´ ì¦‰ì‹œ **ëª¨ë“  ë™ì ìœ¼ë¡œ í• ë‹¹ëœ ComIDsë¥¼ ë¹„í™œì„±í™”(Inactive) ìƒíƒœë¡œ ë˜ëŒë¦¬ê³ **, ì´í›„ì˜ í†µì‹ ì„ ì•ˆì „í•˜ê²Œ ì¤€ë¹„í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ComID ì´ˆê¸°í™”**  \n   - TPerê°€ ê´€ë¦¬í•˜ëŠ” ëª¨ë“  ë™ì  ComIDs(Communication ID)ë¥¼ ë¹„í™œì„±í™” ìƒíƒœë¡œ ë§Œë“¦.\n   - ComIDëŠ” TPerì™€ Host ê°„ì˜ í†µì‹  ì„¸ì…˜ì„ ì‹ë³„í•˜ëŠ” ì‹ë³„ì. ì´ë“¤ì´ ë¹„í™œì„±í™”ë˜ë©´, ê¸°ì¡´ ì„¸ì…˜ì´ ì¢…ë£Œë˜ê³  ìƒˆ ì„¸ì…˜ë§Œ ìƒì„± ê°€ëŠ¥.\n\n2. **ëª…ë ¹ ì „ë‹¬ ë°©ì‹**  \n   - IF-SEND ëª…ë ¹ì„ í†µí•´ ì „ë‹¬ë¨.\n   - IF-RECV ëª…ë ¹ìœ¼ë¡œ ì‘ë‹µ ì—†ìŒ â†’ ì¦‰, ì´ ëª…ë ¹ì€ **ë‹¨ë°©í–¥ ëª…ë ¹**.\n\n3. **ëª…ë ¹ í™œì„±í™”/ë¹„í™œì„±í™”**  \n   - ëª…ë ¹ì´ í™œì„±í™”ëœ ê²½ìš° â†’ ìˆ˜ì‹  ë° í™•ì¸ (ACK).\n   - ë¹„í™œì„±í™”ëœ ê²½ìš° â†’ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ **\"Other Invalid Command Parameter\"** ìƒíƒœë¡œ ì¤‘ë‹¨.\n\n4. **ë°ì´í„° ë¬´ì‹œ**  \n   - ì „ì†¡ ê¸¸ì´(Transfer Length)ëŠ” **0ì´ ì•„ë‹Œ ê°’**ì´ì–´ì•¼ í•˜ë©°, ì „ì†¡ëœ ëª¨ë“  ë°ì´í„°ëŠ” **ë¬´ì‹œ**ë¨. â†’ ì¦‰, ëª…ë ¹ì˜ ë³¸ì§ˆì€ **ëª…ë ¹ì˜ ì¡´ì¬**ì´ë©°, ë‚´ìš©ì€ ë¬´ì˜ë¯¸.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nTPER_RESET ëª…ë ¹ì€ **Table 13**ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë‚˜, ì´ë¯¸ì§€ê°€ ì œê³µë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ ë‚´ìš© ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…:\n\n- **Command Code**: TPER_RESET (ëª…ë ¹ ì½”ë“œëŠ” ë¬¸ì„œì—ì„œ ì •ì˜ëœ ê°’, ì˜ˆ: 0x03 ë˜ëŠ” 0x05 ë“± - ì •í™•í•œ ê°’ì€ í‘œ ì°¸ì¡° í•„ìš”)\n- **Transfer Length**: 0ì´ ì•„ë‹Œ ê°’ (ì˜ˆ: 1~255 ë°”ì´íŠ¸). ì‹¤ì œ ë°ì´í„°ëŠ” ë¬´ì‹œë¨.\n- **Payload**: ë¬´ì‹œë¨ â†’ ì–´ë–¤ ë°ì´í„°ë“  ì „ì†¡í•´ë„ ìƒê´€ ì—†ìŒ.\n- **ì‘ë‹µ**: IF-RECV ì‘ë‹µ ì—†ìŒ. ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ACKë§Œ ë°œìƒ.\n\n> âš ï¸ **ì°¸ê³ **: í‘œ 13ì˜ êµ¬ì¡°ê°€ ì œê³µë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ëª…ë ¹ì˜ êµ¬ì¡°ëŠ” ì¼ë°˜ì ì¸ Opal ëª…ë ¹ í˜•ì‹ì— ë”°ë¼ **Command Header + Transfer Length + Payload** í˜•ì‹ì„ ë”°ë¦„.\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **TPER_RESET ëª…ë ¹ì´ í™œì„±í™”ë˜ì–´ì•¼ í•¨**: ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ëª…ë ¹ì´ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ê±°ë¶€ë¨.\n- **Transfer Length â‰  0**: 0ì¼ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥.\n- **ëª…ë ¹ í›„ ëª¨ë“  ComID ë¹„í™œì„±í™”**: ë‹¤ìŒ IF-SEND/IF-RECV ì „ê¹Œì§€ ComID ìƒíƒœëŠ” Inactive.\n- **ëª…ë ¹ì€ ë‹¨ë°©í–¥**: ì‘ë‹µ ì—†ìŒ â†’ ACKë§Œ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ í™•ì¸.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ëª…ë ¹ ì œì–´**: ëª…ë ¹ì´ ë¹„í™œì„±í™”ë˜ë©´, ì‚¬ìš©ìê°€ ë¬´ë‹¨ìœ¼ë¡œ TPer ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì„ ë°©ì§€ â†’ **ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ì œì–´ ê°€ëŠ¥**.\n- **ComID ë¹„í™œì„±í™”**: ê¸°ì¡´ ì„¸ì…˜ì˜ ComIDë¥¼ ëª¨ë‘ ë¹„í™œì„±í™”í•˜ì—¬ **ì•…ì˜ì ì¸ ì„¸ì…˜ ì¬ì‚¬ìš© ë˜ëŠ” ì¤‘ê°„ì ê³µê²©**ì„ ë°©ì§€.\n- **ëª…ë ¹ì˜ ë¬´ì‹œ**: ì „ì†¡ëœ ë°ì´í„°ë¥¼ ë¬´ì‹œí•˜ë¯€ë¡œ, **ëª…ë ¹ì„ í†µí•´ ë¹„ë°€ ì •ë³´ë¥¼ ì „ì†¡í•˜ëŠ” ê²ƒì„ ë°©ì§€**.\n\nâ†’ ì´ ëª…ë ¹ì€ **ë³´ì•ˆ ìƒíƒœ ì´ˆê¸°í™”**ë¥¼ ìœ„í•œ **ê´€ë¦¬ì ë˜ëŠ” ë³´ì•ˆ ì •ì±… ê¸°ë°˜ì˜ ì œì–´ ìˆ˜ë‹¨**ìœ¼ë¡œ ì‚¬ìš©ë¨.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n1. TPER_RESET ëª…ë ¹ì´ í™œì„±í™”ëœ ê²½ìš°, ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì‹ ë˜ê³  ComIDê°€ ì´ˆê¸°í™”ë¨.\n2. ëª…ë ¹ì´ ë¹„í™œì„±í™”ëœ ê²½ìš°, ëª…ë ¹ì´ ê±°ë¶€ë˜ê³  ì˜¤ë¥˜ ìƒíƒœ ë°˜í™˜ë¨.\n3. Transfer Lengthê°€ 0ì´ ì•„ë‹Œì§€ í™•ì¸.\n4. ëª…ë ¹ í›„ ComID ìƒíƒœê°€ Inactiveì¸ì§€ í™•ì¸.\n\n---\n\n### ğŸ§° **í…ŒìŠ¤íŠ¸ ë°©ë²• ê°œìš”**\n\n- **ì‚¬ìš© ë„êµ¬**: Python + `pytest` + Opal ëª…ë ¹ì–´ (StartSession, Revert, TPER_RESET ë“±)\n- **ì¸í„°í˜ì´ìŠ¤**: ATA/SSD Opal ëª…ë ¹ ì¸í„°í˜ì´ìŠ¤ (ì˜ˆ: `pyata` ë˜ëŠ” `pyopal` ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)\n- **ê²€ì¦ ë°©ë²•**:\n  - ëª…ë ¹ ì „í›„ë¡œ ComID ìƒíƒœ í™•ì¸ (StartSession í›„ Revert ë˜ëŠ” TPER_RESET í›„ ComID ëª©ë¡ ì¡°íšŒ)\n  - ëª…ë ¹ í›„ IF-SEND/IF-RECV ì‹¤íŒ¨ í™•ì¸ (ComID ë¹„í™œì„±í™” ìƒíƒœì´ë¯€ë¡œ ì‹¤íŒ¨ ì˜ˆìƒ)\n\n---\n\n## ğŸ–¥ï¸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_tper_reset.py\nimport pytest\nfrom pyopal import OpalDevice, OpalError  # ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ - ì‹¤ì œ ì‚¬ìš© ì‹œ ë§ì¶¤í˜• êµ¬í˜„ í•„ìš”\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±\"\"\"\n    dev = OpalDevice('/dev/sdb')  # ì‹¤ì œ ë””ë°”ì´ìŠ¤ ê²½ë¡œ\n    dev.start_session()  # ê¸°ë³¸ ì„¸ì…˜ ì‹œì‘\n    yield dev\n    dev.revert()  # í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ë³µêµ¬\n\ndef test_tper_reset_enabled(opal_device):\n    \"\"\"TPER_RESET ëª…ë ¹ì´ í™œì„±í™”ëœ ê²½ìš° ì •ìƒ ì‘ë™ í™•ì¸\"\"\"\n    # 1. ìƒˆë¡œìš´ ì„¸ì…˜ ìƒì„± (ComID í™œì„±í™”)\n    session_id = opal_device.start_session()\n    assert session_id > 0, \"ComID ìƒì„± ì‹¤íŒ¨\"\n\n    # 2. TPER_RESET ëª…ë ¹ ì „ì†¡ (Transfer Length â‰  0)\n    payload = b'\\x00' * 1  # 1ë°”ì´íŠ¸, ì‹¤ì œ ë°ì´í„°ëŠ” ë¬´ì‹œë¨\n    try:\n        opal_device.send_command(0x03, len(payload), payload)  # 0x03ì€ TPER_RESET ì½”ë“œ ì˜ˆì‹œ\n        # ëª…ë ¹ ì „ì†¡ í›„, IF-RECV ì‘ë‹µ ì—†ìŒ â†’ ACKë§Œ í™•ì¸\n        # ëª…ë ¹ ìˆ˜ì‹  í™•ì¸ (ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ACK)\n        assert True, \"TPER_RESET ëª…ë ¹ ìˆ˜ì‹  ì„±ê³µ\"\n    except OpalError as e:\n        pytest.fail(f\"TPER_RESET ëª…ë ¹ ì‹¤íŒ¨: {e}\")\n\n    # 3. ëª…ë ¹ í›„ ComID ìƒíƒœ í™•ì¸ (ë¹„í™œì„±í™” ë˜ì—ˆëŠ”ì§€)\n    com_ids = opal_device.get_active_comids()\n    assert len(com_ids) == 0, f\"TPER_RESET í›„ ComIDê°€ ë¹„í™œì„±í™”ë˜ì§€ ì•ŠìŒ: {com_ids}\"\n\ndef test_tper_reset_disabled(opal_device):\n    \"\"\"TPER_RESET ëª…ë ¹ì´ ë¹„í™œì„±í™”ëœ ê²½ìš° ì˜¤ë¥˜ ë°˜í™˜ í™•ì¸\"\"\"\n    # TPER_RESET ëª…ë ¹ ë¹„í™œì„±í™” ì„¤ì • (ì˜ˆ: ì„¤ì • íŒŒì¼ ë˜ëŠ” ëª¨ë“œ ë³€ê²½)\n    opal_device.disable_command(\"TPER_RESET\")  # ê°€ìƒ ë©”ì„œë“œ\n\n    # ëª…ë ¹ ì „ì†¡\n    payload = b'\\x00' * 1\n    try:\n        opal_device.send_command(0x03, len(payload), payload)\n        pytest.fail(\"TPER_RESET ëª…ë ¹ì´ ë¹„í™œì„±í™”ë˜ì—ˆìŒì—ë„ ìˆ˜ì‹ ë¨\")\n    except OpalError as e:\n        assert \"Other Invalid Command Parameter\" in str(e), \\\n            f\"ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜: {e}\"\n\ndef test_tper_reset_transfer_length_zero(opal_device):\n    \"\"\"Transfer Lengthê°€ 0ì¸ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ í™•ì¸\"\"\"\n    payload = b''  # ê¸¸ì´ 0\n    with pytest.raises(OpalError) as exc_info:\n        opal_device.send_command(0x03, 0, payload)\n    assert \"Invalid Transfer Length\" in str(exc_info.value)\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **Table 13 - TPER_RESET Command**ì˜ êµ¬ì¡°ê°€ ì œê³µë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, **ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ ìš”êµ¬ì‚¬í•­ ê¸°ë°˜ ê²€ì¦**:\n  - Transfer Length â‰  0 â†’ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ `len(payload) > 0` í™•ì¸.\n  - ë°ì´í„° ë¬´ì‹œ â†’ ì „ì†¡ëœ payloadì— ìƒê´€ì—†ì´ ë™ì‘ì´ ë™ì¼í•´ì•¼ í•¨ â†’ í…ŒìŠ¤íŠ¸ì—ì„œ payloadë¥¼ ë³€ê²½í•´ë„ ë™ì¼í•œ ê²°ê³¼.\n  - ëª…ë ¹ í›„ ComID ìƒíƒœ â†’ `get_active_comids()` í•¨ìˆ˜ë¡œ í™•ì¸ (ë¹„í™œì„±í™” ì—¬ë¶€).\n  - ëª…ë ¹ í™œì„±í™”/ë¹„í™œì„±í™” ìƒíƒœ â†’ ì„¤ì • ë˜ëŠ” ëª¨ë“œ ì „í™˜ í›„ í…ŒìŠ¤íŠ¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´ ìƒì„¸ ì„¤ëª…)**\n\n- **TPER_RESET ëª…ë ¹**ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ TPer ìƒíƒœë¥¼ **ì´ˆê¸°í™”**í•˜ëŠ” ëª…ë ¹ìœ¼ë¡œ, ì£¼ë¡œ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì‚¬ìš©ë¨.\n- ëª…ë ¹ì€ **IF-SENDë¥¼ í†µí•´ ì „ë‹¬**, **IF-RECV ì‘ë‹µ ì—†ìŒ**, **ì „ì†¡ ë°ì´í„° ë¬´ì‹œ**.\n- ëª…ë ¹ ì‹¤í–‰ í›„ **ëª¨ë“  ë™ì  ComIDê°€ ë¹„í™œì„±í™”ë¨** â†’ ìƒˆë¡œìš´ ì„¸ì…˜ë§Œ ê°€ëŠ¥.\n- ëª…ë ¹ì´ ë¹„í™œì„±í™”ë˜ë©´ **ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ê±°ë¶€**ë¨ â†’ ë³´ì•ˆ ì œì–´ ê°€ëŠ¥.\n- í…ŒìŠ¤íŠ¸ëŠ” **ëª…ë ¹ ì „í›„ ComID ìƒíƒœ**, **Transfer Length**, **ëª…ë ¹ í™œì„±í™” ì—¬ë¶€**ë¥¼ ê²€ì¦.\n\n---\n\n## âœ… ìµœì¢… íŒë‹¨\n\n**ë‚´ìš©ì—†ìŒ**ì´ ì•„ë‹˜ â†’ **ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì½”ë“œ ì œì‹œ ì™„ë£Œ**\n\nâœ… **ê²°ë¡ **: TPER_RESET ëª…ë ¹ì€ Opal ì‹œìŠ¤í…œì˜ ë³´ì•ˆ ë° ìƒíƒœ ê´€ë¦¬ì— ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, ëª…ë ¹ì˜ í™œì„±í™” ì—¬ë¶€ì™€ ì „ì†¡ëœ ë°ì´í„° ë¬´ì‹œ, ComID ë¹„í™œì„±í™” ë“±ì´ í•µì‹¬ ìš”êµ¬ì‚¬í•­ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” Python + pytestë¡œ ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥í•˜ë©°, ComID ìƒíƒœ ë³€í™”ë¥¼ ê²€ì¦í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 56,
        "level": 2,
        "section_id": "3.3",
        "section_key": "3.3 Communications",
        "title": "Communications",
        "start_page": 29,
        "end_page": 29,
        "page_count": 1,
        "content_md": "## 3.3 Communications",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.3 Communications"
    },
    {
        "section_order": 57,
        "level": 3,
        "section_id": "3.3.1",
        "section_key": "3.3.1 Communication Properties",
        "title": "Communication Properties",
        "start_page": 29,
        "end_page": 29,
        "page_count": 1,
        "content_md": "### 3.3.1 Communication Properties\n\nThe TPer SHALL support the minimum communication buffer size as defined in section 4.1.1.1. For each ComID, the physical buffer size SHALL be reported to the host via the Properties method.\n\nThe TPer SHALL terminate any IF-SEND command whose transfer length is greater than the reported MaxComPacketSize size for the corresponding ComID. For details, refer to â€œInvalid Transfer Length parameter on IF-SENDâ€ in [4].\n\nData generated in response to methods contained within an IF-SEND command payload subpacket (including the required ComPacket / Packet / Subpacket overhead data) SHALL fit entirely within the response buffer. If the method response and its associated protocol overhead do not fit completely within the response buffer, the TPer\n\n1) SHALL terminate processing of the IF-SEND command payload,  \n2) SHALL NOT return any part of the method response if the Sync Protocol is being used, and  \n3) SHALL return an empty response list with a TCG status code of RESPONSE_OVERFLOW in that methodâ€™s response status list.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### **3.3.1 Communication Properties â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n#### **1. ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ TCG Opal í‘œì¤€ì— ë”°ë¼ **TPer (Trusted Peripheral, ë³´ì•ˆ ì €ì¥ ì¥ì¹˜)** ì™€ **í˜¸ìŠ¤íŠ¸ (Host)** ê°„ì˜ **í†µì‹  ë²„í¼ í¬ê¸° ë° ë°ì´í„° ì „ì†¡ ì œí•œ**ì— ëŒ€í•´ ì •ì˜í•©ë‹ˆë‹¤. ì£¼ìš” ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- TPerê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ **ìì‹ ì´ ì§€ì›í•˜ëŠ” ìµœëŒ€ í†µì‹  ë²„í¼ í¬ê¸°**ë¥¼ ì •í™•íˆ ì•Œë ¤ì£¼ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n- í˜¸ìŠ¤íŠ¸ê°€ TPerì˜ ì œí•œì„ ì´ˆê³¼í•˜ëŠ” ë°ì´í„°ë¥¼ ì „ì†¡í•˜ì§€ ì•Šë„ë¡ ë°©ì§€í•©ë‹ˆë‹¤.\n- TPerê°€ ì²˜ë¦¬ ì¤‘ì¸ ìš”ì²­ì´ **ì‘ë‹µ ë²„í¼ í¬ê¸°ë¥¼ ì´ˆê³¼í•  ê²½ìš°**, ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ë„ë¡ ê·œì •í•©ë‹ˆë‹¤.\n\nì¦‰, **í†µì‹ ì˜ ì•ˆì •ì„±ê³¼ ë³´ì•ˆì„±ì„ í™•ë³´**í•˜ê¸° ìœ„í•œ ê¸°ìˆ ì  ì œì•½ê³¼ ì ˆì°¨ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n---\n\n#### **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ìµœì†Œ í†µì‹  ë²„í¼ í¬ê¸° ì§€ì›**: TPerëŠ” TCG í‘œì¤€ì—ì„œ ì •ì˜í•œ ìµœì†Œ ë²„í¼ í¬ê¸° ì´ìƒì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.\n- **ë²„í¼ í¬ê¸° ë³´ê³ **: ê° ComID(Communication ID)ì— ëŒ€í•´ TPerëŠ” í˜¸ìŠ¤íŠ¸ì—ê²Œ ì‹¤ì œ ë¬¼ë¦¬ì  ë²„í¼ í¬ê¸°(ì˜ˆ: MaxComPacketSize)ë¥¼ `Properties` ë©”ì„œë“œë¥¼ í†µí•´ ì•Œë ¤ì¤ë‹ˆë‹¤.\n- **IF-SEND ëª…ë ¹ ì œí•œ**: IF-SEND ëª…ë ¹ì˜ ì „ì†¡ ê¸¸ì´ê°€ ë³´ê³ ëœ `MaxComPacketSize`ë¥¼ ì´ˆê³¼í•˜ë©´ TPerëŠ” ëª…ë ¹ì„ **ì¦‰ì‹œ ì¢…ë£Œ**í•©ë‹ˆë‹¤.\n- **ì‘ë‹µ ë²„í¼ ì˜¤ë²„í”Œë¡œìš° ì²˜ë¦¬**: ì‘ë‹µ ë°ì´í„°(ë©”ì„œë“œ ê²°ê³¼ + í”„ë¡œí† ì½œ í—¤ë” í¬í•¨)ê°€ ì‘ë‹µ ë²„í¼ë¥¼ ì´ˆê³¼í•˜ë©´, TPerëŠ”:\n  - ì²˜ë¦¬ë¥¼ ì¤‘ë‹¨\n  - Sync í”„ë¡œí† ì½œ ì‚¬ìš© ì‹œ **ì‘ë‹µì„ ì „í˜€ ë°˜í™˜í•˜ì§€ ì•ŠìŒ**\n  - ì‘ë‹µ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¹„ìš°ê³  `RESPONSE_OVERFLOW` ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜\n\n---\n\n#### **3. ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\n- **ComID (Communication ID)**: í†µì‹  ì±„ë„ì„ ì‹ë³„í•˜ëŠ” ì‹ë³„ì. ê° ComIDëŠ” ë…ë¦½ì ì¸ ë²„í¼ì™€ ì œí•œì„ ê°€ì§‘ë‹ˆë‹¤.\n- **MaxComPacketSize**: ê° ComIDì— ëŒ€í•´ TPerê°€ ì§€ì›í•˜ëŠ” **ìµœëŒ€ ì „ì†¡ íŒ¨í‚· í¬ê¸°**. `Properties` ë©”ì„œë“œë¥¼ í†µí•´ í˜¸ìŠ¤íŠ¸ì—ê²Œ ì•Œë ¤ì§.\n- **IF-SEND ëª…ë ¹**: í˜¸ìŠ¤íŠ¸ê°€ TPerì— ëª…ë ¹ì„ ì „ì†¡í•˜ëŠ” ì£¼ìš” ë©”ì»¤ë‹ˆì¦˜. ë°ì´í„°ëŠ” **íŒ¨í‚· í—¤ë” + ì„œë¸ŒíŒ¨í‚· + ë©”ì„œë“œ ë°ì´í„°**ë¡œ êµ¬ì„±ë¨.\n- **ì‘ë‹µ ë²„í¼**: TPerê°€ ë©”ì„œë“œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ í˜¸ìŠ¤íŠ¸ì—ê²Œ ë°˜í™˜í•˜ê¸° ìœ„í•œ ë²„í¼. ì‘ë‹µ ë°ì´í„°ëŠ” **ComPacket / Packet / Subpacket í—¤ë” í¬í•¨**í•´ì•¼ í•¨.\n\n---\n\n#### **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- TPerëŠ” **TPer SHALL support the minimum communication buffer size** (ìµœì†Œ ë²„í¼ í¬ê¸° ì§€ì›)\n- ê° ComIDì— ëŒ€í•´ **MaxComPacketSizeë¥¼ Properties ë©”ì„œë“œë¡œ ë³´ê³ **í•´ì•¼ í•¨\n- IF-SEND ëª…ë ¹ì˜ ì „ì†¡ ê¸¸ì´ê°€ MaxComPacketSizeë¥¼ ì´ˆê³¼í•˜ë©´ **ì¦‰ì‹œ ì¢…ë£Œ**\n- ì‘ë‹µ ë°ì´í„°ê°€ ì‘ë‹µ ë²„í¼ë¥¼ ì´ˆê³¼í•˜ë©´:\n  - ì²˜ë¦¬ ì¤‘ë‹¨\n  - Sync í”„ë¡œí† ì½œ ì‚¬ìš© ì‹œ **ì‘ë‹µ ë°˜í™˜ ê¸ˆì§€**\n  - `RESPONSE_OVERFLOW` ìƒíƒœ ì½”ë“œ ë°˜í™˜\n\n---\n\n#### **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ë²„í¼ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€**: TPerê°€ í˜¸ìŠ¤íŠ¸ë¡œë¶€í„° ë„ˆë¬´ í° ë°ì´í„°ë¥¼ ë°›ëŠ” ê²ƒì„ ë§‰ì•„, ì‹œìŠ¤í…œ ì¶©ëŒì´ë‚˜ ë©”ëª¨ë¦¬ ì¹¨í•´ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.\n- **ëª…ë ¹ ì²˜ë¦¬ ì œí•œ**: ì´ˆê³¼ëœ ëª…ë ¹ì€ ì¦‰ì‹œ ì¢…ë£Œë˜ì–´, ê³µê²©ìê°€ ì¥ì¹˜ë¥¼ ì¥ì‹œê°„ ë½í‚¹í•˜ê±°ë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ê³ ê°ˆì‹œí‚¤ëŠ” ê³µê²©ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n- **ì‘ë‹µ ì œì–´**: ì‘ë‹µ ë²„í¼ ì´ˆê³¼ ì‹œ `RESPONSE_OVERFLOW` ë°˜í™˜ â†’ í˜¸ìŠ¤íŠ¸ëŠ” ì˜¤ë¥˜ë¥¼ ì¸ì‹í•˜ê³  ì¬ì‹œë„ ë˜ëŠ” ì˜¤ë¥˜ ì²˜ë¦¬ ê°€ëŠ¥\n\nì´ëŸ¬í•œ ë©”ì»¤ë‹ˆì¦˜ì€ **TCG Opalì˜ í•µì‹¬ ë³´ì•ˆ ì›ì¹™**ì¸ â€œ**ì˜ˆì¸¡ ê°€ëŠ¥í•œ í–‰ë™ê³¼ ì˜¤ë¥˜ ì²˜ë¦¬**â€ë¥¼ êµ¬í˜„í•˜ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\n### **í…ŒìŠ¤íŠ¸ ëª©ì **\n- `Properties` ë©”ì„œë“œë¥¼ í†µí•´ `MaxComPacketSize`ë¥¼ ì •í™•íˆ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸\n- IF-SEND ëª…ë ¹ì˜ ì „ì†¡ ê¸¸ì´ê°€ `MaxComPacketSize`ë¥¼ ì´ˆê³¼í–ˆì„ ë•Œ, ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ê³  ì˜¤ë¥˜ê°€ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸\n- ì‘ë‹µ ë²„í¼ê°€ ì´ˆê³¼ë˜ì—ˆì„ ë•Œ `RESPONSE_OVERFLOW`ê°€ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸\n\n---\n\n### **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import TCG_STATUS_RESPONSE_OVERFLOW, IF_SEND_COMMAND\n\ndef test_properties_returns_max_com_packet_size():\n    \"\"\"Properties ë©”ì„œë“œê°€ MaxComPacketSizeë¥¼ ì •í™•íˆ ë°˜í™˜í•˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    properties = client.send_command(\"Properties\", com_id=0x01)  # ì˜ˆì‹œ ComID\n    assert \"MaxComPacketSize\" in properties, \"MaxComPacketSizeê°€ ë°˜í™˜ë˜ì§€ ì•ŠìŒ\"\n    assert properties[\"MaxComPacketSize\"] > 0, \"MaxComPacketSizeëŠ” 0ì´ì–´ì•¼ í•˜ì§€ ì•ŠìŒ\"\n    max_size = properties[\"MaxComPacketSize\"]\n    print(f\"[PASS] MaxComPacketSize: {max_size}\")\n\ndef test_if_send_exceeds_max_packet_size():\n    \"\"\"IF-SEND ëª…ë ¹ì˜ ì „ì†¡ ê¸¸ì´ê°€ MaxComPacketSizeë¥¼ ì´ˆê³¼í•˜ë©´ ì˜¤ë¥˜ê°€ ë°˜í™˜ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    properties = client.send_command(\"Properties\", com_id=0x01)\n    max_size = properties[\"MaxComPacketSize\"]\n\n    # ì´ˆê³¼ëœ ê¸¸ì´ì˜ ë°ì´í„° ìƒì„± (ì˜ˆ: max_size + 100)\n    payload = b\"X\" * (max_size + 100)\n    result = client.send_command(IF_SEND_COMMAND, payload=payload, com_id=0x01)\n\n    # IF-SENDê°€ ì¦‰ì‹œ ì¢…ë£Œë˜ì–´ì•¼ í•˜ë©°, ì˜¤ë¥˜ ìƒíƒœ ì½”ë“œ ë°˜í™˜\n    assert result is None or result.get(\"status\") == TCG_STATUS_RESPONSE_OVERFLOW, \\\n        f\"IF-SEND ì´ˆê³¼ ì‹œ ì˜¤ë¥˜ ë°˜í™˜ë˜ì§€ ì•ŠìŒ. ê²°ê³¼: {result}\"\n\n    print(f\"[PASS] IF-SEND ì´ˆê³¼ ì‹œ ì¢…ë£Œ ë° ì˜¤ë¥˜ ë°˜í™˜ í™•ì¸\")\n\ndef test_response_overflow_with_large_method_response():\n    \"\"\"ì‘ë‹µ ë°ì´í„°ê°€ ì‘ë‹µ ë²„í¼ë¥¼ ì´ˆê³¼í•  ê²½ìš° RESPONSE_OVERFLOW ë°˜í™˜ ì—¬ë¶€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    # ì˜ˆ: 'GetInfo' ê°™ì€ ë©”ì„œë“œê°€ ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ\n    # ì‹¤ì œë¡œëŠ” TPerì˜ êµ¬í˜„ì— ë”°ë¼ ë‹¬ë¼ì§\n    response = client.send_command(\"GetInfo\", com_id=0x01)  # ê°€ìƒì˜ ë©”ì„œë“œ\n\n    # ì‘ë‹µ ë°ì´í„° í¬ê¸°ë¥¼ í™•ì¸ (ì˜ˆ: í—¤ë” í¬í•¨í•œ ì „ì²´ ì‘ë‹µ í¬ê¸°)\n    if response and \"data\" in response:\n        total_response_size = len(response[\"data\"]) + 20  # í—¤ë” í¬í•¨ ì˜ˆìƒ\n        max_response_size = client.get_max_response_buffer_size()  # ê°€ìƒ ë©”ì„œë“œ\n\n        if total_response_size > max_response_size:\n            # ì‘ë‹µì´ ë²„í¼ë¥¼ ì´ˆê³¼í–ˆì„ ë•Œ\n            assert response.get(\"status\") == TCG_STATUS_RESPONSE_OVERFLOW, \\\n                f\"ì‘ë‹µ ë²„í¼ ì´ˆê³¼ ì‹œ RESPONSE_OVERFLOW ë°˜í™˜ë˜ì§€ ì•ŠìŒ. ìƒíƒœ: {response.get('status')}\"\n\n    print(f\"[PASS] ì‘ë‹µ ë²„í¼ ì´ˆê³¼ ì‹œ RESPONSE_OVERFLOW í™•ì¸\")\n```\n\n---\n\n### **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•**\n\n1. **OpalClient í´ë˜ìŠ¤**ëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: PySerial, SPDK, ë˜ëŠ” ì¥ì¹˜ ë“œë¼ì´ë²„ ê¸°ë°˜)\n2. `send_command`ëŠ” ì‹¤ì œ IF-SEND ëª…ë ¹ì„ ë³´ë‚´ëŠ” í•¨ìˆ˜\n3. `Properties` ë©”ì„œë“œë¥¼ í†µí•´ `MaxComPacketSize`ë¥¼ í™•ì¸\n4. IF-SENDì— ì´ˆê³¼ ë°ì´í„° ì „ì†¡ â†’ ì˜¤ë¥˜ í™•ì¸\n5. ëŒ€ëŸ‰ ì‘ë‹µ ë©”ì„œë“œ ì‹¤í–‰ â†’ `RESPONSE_OVERFLOW` í™•ì¸\n\n---\n\n### **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ê¸°ëŒ€ ê²°ê³¼ |\n|------|-----------|-----------|\n| `MaxComPacketSize` | `Properties` ë©”ì„œë“œ í˜¸ì¶œ í›„ ê°’ í™•ì¸ | 0ì´ ì•„ë‹ˆë©°, TCG í‘œì¤€ ìµœì†Œ í¬ê¸° ì´ìƒ |\n| IF-SEND ì´ˆê³¼ ì „ì†¡ | `IF-SEND` ëª…ë ¹ì— `MaxComPacketSize + 1` ì´ìƒ ë°ì´í„° ì „ì†¡ | ëª…ë ¹ ì¢…ë£Œ, ì˜¤ë¥˜ ìƒíƒœ ë°˜í™˜ |\n| ì‘ë‹µ ë²„í¼ ì´ˆê³¼ | ëŒ€ëŸ‰ ì‘ë‹µì„ ìš”êµ¬í•˜ëŠ” ë©”ì„œë“œ ì‹¤í–‰ (ì˜ˆ: `GetInfo`) | `RESPONSE_OVERFLOW` ìƒíƒœ ì½”ë“œ ë°˜í™˜ |\n| Sync í”„ë¡œí† ì½œ ì‚¬ìš© ì‹œ | Sync ëª¨ë“œì—ì„œ ì‘ë‹µ ë²„í¼ ì´ˆê³¼ | **ì‘ë‹µ ë°˜í™˜ ê¸ˆì§€** (ì¦‰, ì‘ë‹µì´ ë¹„ì–´ ìˆì–´ì•¼ í•¨) |\n\n> ğŸ“Œ **ì£¼ì˜**: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ êµ¬í˜„ ë°©ì‹ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, TPerì˜ ë¬¸ì„œì™€ ì‹¤ì œ ì‘ë‹µ í¬ë§·ì„ í™•ì¸ í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \n`Communication Properties` ì„¹ì…˜ì€ TCG Opal ì¥ì¹˜ì˜ **í†µì‹  ì•ˆì •ì„±ê³¼ ë³´ì•ˆ**ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í•µì‹¬ ê·œê²©ì…ë‹ˆë‹¤. ì´ˆë³´ìì—ê²ŒëŠ” **ë²„í¼ í¬ê¸° ì œí•œê³¼ ì˜¤ë²„í”Œë¡œìš° ì²˜ë¦¬**ê°€ í•µì‹¬ ê°œë…ì´ë©°, ì´ëŠ” ì‹œìŠ¤í…œì˜ **ì˜ˆì¸¡ ê°€ëŠ¥ì„±ê³¼ ì•ˆì •ì„±**ì„ ë†’ì´ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” `Properties` ë©”ì„œë“œì™€ `IF-SEND` ëª…ë ¹ì„ í™œìš©í•´ ì‹¤ì§ˆì ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥í•˜ë©°, `RESPONSE_OVERFLOW` ìƒíƒœ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìƒì„¸í•œ í•œêµ­ì–´ ìš”ì•½**:\n\n> TCG Opal í‘œì¤€ì˜ 3.3.1 Communication Properties ì„¹ì…˜ì€ TPerì™€ í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹ ì— ëŒ€í•œ **ë²„í¼ í¬ê¸° ì œí•œ ë° ì˜¤ë²„í”Œë¡œìš° ì²˜ë¦¬**ë¥¼ ê·œì •í•©ë‹ˆë‹¤. TPerëŠ” ìµœì†Œ ë²„í¼ í¬ê¸°ë¥¼ ì§€ì›í•´ì•¼ í•˜ë©°, ê° ComIDë³„ë¡œ `MaxComPacketSize`ë¥¼ `Properties` ë©”ì„œë“œë¥¼ í†µí•´ í˜¸ìŠ¤íŠ¸ì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤. IF-SEND ëª…ë ¹ì˜ ì „ì†¡ ê¸¸ì´ê°€ ì´ ê°’ë³´ë‹¤ í¬ë©´ TPerëŠ” ëª…ë ¹ì„ ì¦‰ì‹œ ì¢…ë£Œí•©ë‹ˆë‹¤. ë˜í•œ, ì‘ë‹µ ë°ì´í„°(í”„ë¡œí† ì½œ í—¤ë” í¬í•¨)ê°€ ì‘ë‹µ ë²„í¼ë¥¼ ì´ˆê³¼í•˜ë©´ TPerëŠ” ì²˜ë¦¬ë¥¼ ì¤‘ë‹¨í•˜ê³  `RESPONSE_OVERFLOW`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ëŠ” ë²„í¼ ì˜¤ë²„í”Œë¡œìš° ê³µê²©ì„ ë°©ì§€í•˜ê³  ì‹œìŠ¤í…œ ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ í•µì‹¬ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” `Properties` ë©”ì„œë“œ í˜¸ì¶œê³¼ IF-SEND ëª…ë ¹ì˜ ì´ˆê³¼ ì „ì†¡ì„ í†µí•´ ìˆ˜í–‰ë˜ë©°, `RESPONSE_OVERFLOW` ìƒíƒœ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë”°ë¼ ì¡°ì • í•„ìš”**í•©ë‹ˆë‹¤. ìœ„ ì˜ˆì‹œëŠ” ê°œë…ì  í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 58,
        "level": 3,
        "section_id": "3.3.2",
        "section_key": "3.3.2 Supported Security Protocols",
        "title": "Supported Security Protocols",
        "start_page": 29,
        "end_page": 30,
        "page_count": 2,
        "content_md": "### 3.3.2 Supported Security Protocols\n\nThe TPer SHALL support:\n\n- IF-RECV commands with a Security Protocol values of 0x00, 0x01, 0x02.\n### Table 13 - TPER_RESET Command (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 3.3.2 Supported Security Protocols\n\nThe TPer SHALL support:\n\n- IF-RECV commands with a Security Protocol values of 0x00, 0x01, 0x02.\n### Table 13 - TPER_RESET Command (continued)"
    },
    {
        "section_order": 59,
        "level": 3,
        "section_id": "3.3.3",
        "section_key": "3.3.3 ComIDs",
        "title": "ComIDs",
        "start_page": 30,
        "end_page": 30,
        "page_count": 1,
        "content_md": "## 3.3.3 ComIDs\n\nFor the purpose of communication using Security Protocol 0x01, the TPer SHALL:\n\n- support at least one statically allocated ComID for Synchronous Protocol communication.\n- have the ComID Extension values = 0x0000 for all statically allocated ComIDs.\n- keep all statically allocated ComIDs in the Active state.\n\nWhen the TPer receives an IF-SEND or IF-RECV with an inactive or unsupported ComID, the TPer SHALL either:\n\n- terminate the command as defined in [4] with â€œOther Invalid Command Parameterâ€, or\n- follow the requirements defined in [2] for â€œIF-SEND to Inactive or Unsupported Reserved ComIDâ€ or â€œIF-RECV to Inactive or Unsupported Reserved ComIDâ€.\n\nComIDs SHALL be assigned based on the allocation presented in Table 14.\n\n### Table 14 - ComID Assignments",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 3.3.3 - ComIDs**\n\n---\n\n## ğŸ§© ê°œìš”\n\n**ComID**(Communication ID)ëŠ” TCG Opal í‘œì¤€ì—ì„œ **ë³´ì•ˆ í”„ë¡œí† ì½œ í†µì‹ ì„ ìœ„í•œ ì‹ë³„ì**ì…ë‹ˆë‹¤. íŠ¹íˆ **ë³´ì•ˆ í”„ë¡œí† ì½œ 0x01**(ì¦‰, TCG Opal Security Protocol)ì„ ì‚¬ìš©í•  ë•Œ, TPer**(Trusted Platform Entity, ë³´ì•ˆ ì¥ì¹˜)**ëŠ” ComIDë¥¼ í†µí•´ í†µì‹  ì„¸ì…˜ì„ ê´€ë¦¬í•˜ê³ , ëª…ë ¹ì„ ì „ë‹¬í•©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì€ ComIDì˜ **í• ë‹¹, ìƒíƒœ, ì‚¬ìš© ì¡°ê±´, ì˜¤ë¥˜ ì²˜ë¦¬ ë°©ì‹** ë“±ì„ ì •ì˜í•˜ë©°, íŠ¹íˆ **ì •ì  í• ë‹¹(Statically Allocated)** ComIDì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ ëª©ì \n\n- TPerê°€ ë³´ì•ˆ í”„ë¡œí† ì½œì„ í†µí•´ ì•ˆì „í•˜ê²Œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ComIDë¥¼ ì •ì˜í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.\n- ComIDë¥¼ í†µí•´ **í†µì‹  ì„¸ì…˜ì˜ ì •ì²´ì„±ê³¼ ìƒíƒœë¥¼ ì‹ë³„**í•˜ì—¬, ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ìœ„í—˜í•œ í†µì‹ ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤.\n- ComIDê°€ ë¹„í™œì„±í™” ë˜ëŠ” ì§€ì›ë˜ì§€ ì•Šì„ ë•Œì˜ ì˜¤ë¥˜ ì²˜ë¦¬ ì ˆì°¨ë¥¼ ëª…í™•íˆ ì •ì˜í•˜ì—¬ ì‹œìŠ¤í…œì˜ **ë³´ì•ˆì„±ê³¼ ì‹ ë¢°ì„±**ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ ì£¼ìš” ê¸°ëŠ¥\n\n1. **ì •ì  ComID ì§€ì›**: TPerëŠ” ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ **ì •ì  ComID**ë¥¼ ì§€ì›í•´ì•¼ í•˜ë©°, ì´ëŠ” í•­ìƒ í™œì„± ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.\n2. **ComID Extension ê°’ ê³ ì •**: ì •ì  ComIDì˜ ComID Extensionì€ í•­ìƒ `0x0000`ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n3. **í™œì„± ìƒíƒœ ìœ ì§€**: ì •ì  ComIDëŠ” í•­ìƒ **Active ìƒíƒœ**ì—¬ì•¼ í•˜ë¯€ë¡œ, ì‚¬ìš©ìê°€ ìˆ˜ë™ìœ¼ë¡œ ë¹„í™œì„±í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n4. **ë¹„í™œì„±/ì§€ì›ë˜ì§€ ì•ŠëŠ” ComID ì²˜ë¦¬**: \n   - TPerê°€ ë¹„í™œì„± ë˜ëŠ” ì§€ì›ë˜ì§€ ì•ŠëŠ” ComIDì— ëŒ€í•´ IF-SEND ë˜ëŠ” IF-RECV ëª…ë ¹ì„ ë°›ìœ¼ë©´,\n   - ëª…ë ¹ì„ **\"Other Invalid Command Parameter\"**ë¡œ ì¢…ë£Œí•˜ê±°ë‚˜,\n   - [2] ë˜ëŠ” [4] ë¬¸ì„œì— ì •ì˜ëœ ì˜¤ë¥˜ ì²˜ë¦¬ ì ˆì°¨ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡° (ComID)\n\nComIDëŠ” 32ë¹„íŠ¸ ê°’ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n```\n| 16 bits: ComID Base  | 16 bits: ComID Extension |\n```\n\n- **ComID Base**: í†µì‹ ì˜ ì£¼ ëª©ì ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’ (ì˜ˆ: 0x0001 = Synchronous Protocol)\n- **ComID Extension**: ë¶€ê°€ì ì¸ ì‹ë³„ì. ì •ì  ComIDì˜ ê²½ìš° **í•­ìƒ 0x0000**\n\n> ì˜ˆ: ì •ì  ComID ì˜ˆì‹œ: `0x00010000` (Synchronous Protocol + Extension 0x0000)\n\n---\n\n## ğŸ“œ ìš”êµ¬ì‚¬í•­ ìš”ì•½\n\n| ìš”êµ¬ì‚¬í•­ | ì„¤ëª… |\n|----------|------|\n| **ìµœì†Œ ì •ì  ComID** | TPerëŠ” ì ì–´ë„ í•˜ë‚˜ì˜ ì •ì  ComIDë¥¼ ì§€ì›í•´ì•¼ í•¨ |\n| **Extension ê°’** | ì •ì  ComIDì˜ Extensionì€ ë°˜ë“œì‹œ `0x0000` |\n| **ìƒíƒœ** | ì •ì  ComIDëŠ” í•­ìƒ **Active** ìƒíƒœ ìœ ì§€ |\n| **ì˜¤ë¥˜ ì²˜ë¦¬** | ë¹„í™œì„±/ì§€ì›ë˜ì§€ ì•ŠëŠ” ComIDì— ëŒ€í•œ IF-SEND/IF-RECVëŠ” ì˜¤ë¥˜ë¡œ ì²˜ë¦¬ (Other Invalid Command Parameter ë˜ëŠ” [2]/[4]ì˜ ê·œì¹™) |\n| **í• ë‹¹ ê¸°ì¤€** | ComIDëŠ” Table 14ì— ë”°ë¼ í• ë‹¹ (ì´ë¯¸ì§€ ì—†ìŒ â†’ ë¬¸ì„œì— í¬í•¨ëœ í…Œì´ë¸” ì°¸ì¡° í•„ìš”) |\n\n> ğŸ’¡ ì°¸ê³ : Table 14ëŠ” ComID Base ê°’ì— ë”°ë¼ ì–´ë–¤ ComIDê°€ ì–´ë–¤ ëª©ì (ì˜ˆ: Synchronous, Asynchronous ë“±)ì— ì‚¬ìš©ë˜ëŠ”ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë³¸ ë¬¸ì„œì—ì„œ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë¯€ë¡œ êµ¬ì²´ì ì¸ í• ë‹¹ì€ ë¶ˆëª…í™•í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **ComID ìƒíƒœ ê²€ì¦**: TPerëŠ” ComIDê°€ í™œì„±ì¸ì§€ í™•ì¸í•˜ê³ , ë¹„í™œì„± ComIDì— ëŒ€í•œ ì ‘ê·¼ì„ ì°¨ë‹¨í•¨ìœ¼ë¡œì¨ **ë¹„ì¸ê°€ëœ í†µì‹ ì„ ë°©ì§€**í•©ë‹ˆë‹¤.\n- **ì •ì  ComID ë³´í˜¸**: ì •ì  ComIDëŠ” ì‚¬ìš©ì ì¡°ì‘ì´ ë¶ˆê°€ëŠ¥í•˜ë©° í•­ìƒ í™œì„± ìƒíƒœì´ë¯€ë¡œ, **ê¸°ë³¸ í†µì‹  ê²½ë¡œë¥¼ ë³´ì¥**í•˜ê³  **ì•…ì˜ì ì¸ ë¹„í™œì„±í™” ì‹œë„ë¥¼ ë°©ì§€**í•©ë‹ˆë‹¤.\n- **ì˜¤ë¥˜ ì‘ë‹µ ì •ì˜**: ëª…ë ¹ ì²˜ë¦¬ ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì˜¤ë¥˜ ì½”ë“œë¥¼ ë°˜í™˜í•˜ì—¬, ê³µê²©ìê°€ ì˜¤ë¥˜ë¥¼ í™œìš©í•´ ì‹œìŠ¤í…œì„ íƒì§€í•˜ê±°ë‚˜ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ì–´ë µê²Œ ë§Œë“¦.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\n### âœ… í…ŒìŠ¤íŠ¸ ëª©ì \n- ì •ì  ComIDê°€ ì ì–´ë„ í•˜ë‚˜ ì¡´ì¬í•˜ê³ , í•­ìƒ Active ìƒíƒœì¸ì§€ ê²€ì¦\n- ComID Extensionì´ 0x0000ì¸ì§€ ê²€ì¦\n- ë¹„í™œì„±/ì§€ì›ë˜ì§€ ì•ŠëŠ” ComIDì— ëŒ€í•´ IF-SEND/IF-RECV ëª…ë ¹ì´ ì •í™•íˆ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ê²€ì¦\n\n---\n\n### âœ… Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, IF_SEND, IF_RECV  # ê°€ìƒ ëª…ë ¹ì–´ ëª¨ë“ˆ\n\n# í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  ComID (ì˜ˆ: 0x00010000 - Synchronous Protocol)\nSTATIC_COMID = 0x00010000\nINVALID_COMID = 0x00020001  # ì˜ˆ: ë¹„í™œì„± ë˜ëŠ” ì§€ì›ë˜ì§€ ì•ŠëŠ” ComID\n\ndef test_static_comid_exists_and_active():\n    \"\"\"ì •ì  ComIDê°€ ì¡´ì¬í•˜ê³  Active ìƒíƒœì¸ì§€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    comids = client.get_active_comids()  # ê°€ìƒ ë©”ì„œë“œ: í™œì„± ComID ëª©ë¡ ì¡°íšŒ\n    assert STATIC_COMID in comids, f\"ì •ì  ComID {hex(STATIC_COMID)}ê°€ í™œì„± ëª©ë¡ì— ì—†ìŠµë‹ˆë‹¤.\"\n\ndef test_static_comid_extension_is_zero():\n    \"\"\"ì •ì  ComIDì˜ Extensionì´ 0x0000ì¸ì§€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    comid_info = client.get_comid_info(STATIC_COMID)  # ê°€ìƒ ë©”ì„œë“œ: ComID ì •ë³´ ì¡°íšŒ\n    extension = comid_info['extension']\n    assert extension == 0x0000, f\"ComID {hex(STATIC_COMID)}ì˜ Extensionì€ 0x0000ì´ì–´ì•¼ í•˜ì§€ë§Œ {hex(extension)}ì…ë‹ˆë‹¤.\"\n\ndef test_if_send_to_inactive_comid_fails():\n    \"\"\"ë¹„í™œì„± ComIDì— IF-SEND ëª…ë ¹ì„ ë³´ë‚´ë©´ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    with pytest.raises(Exception) as exc_info:\n        client.send_if_send(INVALID_COMID, b\"test_payload\")\n    assert \"Other Invalid Command Parameter\" in str(exc_info.value) or \\\n           \"Invalid ComID\" in str(exc_info.value), \\\n           f\"ë¹„í™œì„± ComIDì— ëŒ€í•œ IF-SENDê°€ ì˜ˆìƒ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤: {exc_info.value}\"\n\ndef test_if_recv_to_inactive_comid_fails():\n    \"\"\"ë¹„í™œì„± ComIDì— IF-RECV ëª…ë ¹ì„ ë³´ë‚´ë©´ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    with pytest.raises(Exception) as exc_info:\n        client.send_if_recv(INVALID_COMID)\n    assert \"Other Invalid Command Parameter\" in str(exc_info.value) or \\\n           \"Invalid ComID\" in str(exc_info.value), \\\n           f\"ë¹„í™œì„± ComIDì— ëŒ€í•œ IF-RECVê°€ ì˜ˆìƒ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤: {exc_info.value}\"\n\ndef test_start_session_with_valid_comid():\n    \"\"\"ìœ íš¨í•œ ComIDë¡œ ì„¸ì…˜ ì‹œì‘ ê°€ëŠ¥ ì—¬ë¶€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    session = client.start_session(STATIC_COMID, \"password\", \"admin\")  # ê°€ìƒ ë©”ì„œë“œ\n    assert session is not None, \"ìœ íš¨í•œ ComIDë¡œ ì„¸ì…˜ ì‹œì‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\"\n\ndef test_revert_with_valid_comid():\n    \"\"\"ìœ íš¨í•œ ComIDë¡œ Revert ëª…ë ¹ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€ ê²€ì¦\"\"\"\n    client = OpalClient()\n    result = client.revert_session(STATIC_COMID)\n    assert result == \"SUCCESS\", f\"Revert ëª…ë ¹ ì‹¤íŒ¨: {result}\"\n```\n\n---\n\n### âœ… TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•\n\n1. **StartSession ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ ì‹œì‘**  \n   - ComID: ì •ì  ComID (ì˜ˆ: `0x00010000`)  \n   - ì„±ê³µ ì‹œ ì„¸ì…˜ ID ë°˜í™˜, ì‹¤íŒ¨ ì‹œ ì˜¤ë¥˜ ì½”ë“œ (ì˜ˆ: `0x80000001` - Invalid Parameter)\n\n2. **IF-SEND ëª…ë ¹ì–´ë¡œ ë¹„í™œì„± ComID ì „ì†¡**  \n   - ComID: `0x00020001` (ë¹„í™œì„± ë˜ëŠ” ì§€ì›ë˜ì§€ ì•ŠìŒ)  \n   - ì˜ˆìƒ: `Other Invalid Command Parameter` ì˜¤ë¥˜ (TCG Opal ëª…ë ¹ì–´ ìŠ¤í™ì—ì„œ ì •ì˜ëœ ì˜¤ë¥˜ ì½”ë“œ)\n\n3. **IF-RECV ëª…ë ¹ì–´ë¡œ ë¹„í™œì„± ComID ìˆ˜ì‹  ì‹œë„**  \n   - ë™ì¼í•˜ê²Œ ì˜¤ë¥˜ ë°˜í™˜ ì˜ˆìƒ\n\n4. **Revert ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ ì¢…ë£Œ**  \n   - ì •ì  ComID ì‚¬ìš© ì‹œ ì„±ê³µì ìœ¼ë¡œ ì¢…ë£Œë˜ì–´ì•¼ í•¨\n\n---\n\n### âœ… í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• (Table 14)\n\n> Table 14ëŠ” ComID í• ë‹¹ í…Œì´ë¸”ì´ì§€ë§Œ, ì´ë¯¸ì§€ê°€ ì—†ì–´ êµ¬ì²´ì ì¸ ê°’ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.  \n> ê·¸ëŸ¬ë‚˜ ì¼ë°˜ì ì¸ ê²€ì¦ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n1. **ComID Base ê°’ í™•ì¸**  \n   - ì˜ˆ: `0x0001` â†’ Synchronous Protocol  \n   - `0x0002` â†’ Asynchronous Protocol  \n   - ë¬¸ì„œì—ì„œ ì •ì˜ëœ Base ê°’ì„ ì°¸ì¡°í•˜ì—¬ ComIDì˜ ëª©ì ì„ í™•ì¸\n\n2. **ComID Extension ê°’ í™•ì¸**  \n   - ì •ì  ComIDì˜ ê²½ìš° ë°˜ë“œì‹œ `0x0000`\n\n3. **í™œì„± ìƒíƒœ í™•ì¸**  \n   - `GetComIDStatus` ë˜ëŠ” ìœ ì‚¬ ëª…ë ¹ì–´ë¡œ ê° ComIDì˜ ìƒíƒœë¥¼ ì¡°íšŒ\n\n4. **ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**  \n   - Table 14ì— ì •ì˜ë˜ì§€ ì•Šì€ ComID ë˜ëŠ” ë¹„í™œì„± ComIDì— ëŒ€í•´ ëª…ë ¹ ì „ì†¡ â†’ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ í™•ì¸\n\n---\n\n## âœ… ê²°ë¡ \n\nComIDëŠ” TCG Opalì—ì„œ í†µì‹  ì„¸ì…˜ì„ ì‹ë³„í•˜ê³  ë³´ì•ˆì„ ìœ ì§€í•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.  \nì •ì  ComIDëŠ” í•­ìƒ í™œì„± ìƒíƒœì´ë©°, Extensionì€ 0x0000ì´ì–´ì•¼ í•˜ë©°, ë¹„í™œì„± ComIDì— ëŒ€í•œ ì ‘ê·¼ì€ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ëŠ” Pythonê³¼ pytestë¥¼ í†µí•´ ëª…ë ¹ì–´ ì „ì†¡ê³¼ ì‘ë‹µì„ ê²€ì¦í•˜ë©°, ë³´ì•ˆ ì„±ëŠ¥ì„ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n> âš ï¸ ì°¸ê³ : Table 14ì˜ êµ¬ì²´ì ì¸ ComID í• ë‹¹ ê°’ì´ ë¬¸ì„œì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì•„, êµ¬ì²´ì ì¸ Base ê°’ì˜ ì˜ë¯¸ëŠ” ë¬¸ì„œ ì „ì²´ ë˜ëŠ” TCG í‘œì¤€ ë¬¸ì„œì—ì„œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ ì œê³µ**  \nâœ… **TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²• ì„¤ëª…**  \nâœ… **Table 14 ê¸°ë°˜ ê²€ì¦ ë°©ë²• ì„¤ëª… (ì´ë¯¸ì§€ ì—†ìŒìœ¼ë¡œ ì œí•œë¨)**\n\n---\n\n## ğŸ§¾ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n**ComID**(Communication ID)ëŠ” TCG Opalì—ì„œ ë³´ì•ˆ í”„ë¡œí† ì½œ í†µì‹ ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ìë¡œ, íŠ¹íˆ Security Protocol 0x01ì„ ì‚¬ìš©í•  ë•Œ í•„ìˆ˜ì ì…ë‹ˆë‹¤. TPerëŠ” ìµœì†Œí•œ í•˜ë‚˜ì˜ **ì •ì  ComID**(statically allocated)ë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•˜ë©°, ì´ëŠ” í•­ìƒ **Active ìƒíƒœ**ì´ì–´ì•¼ í•˜ê³ , **ComID Extension ê°’ì€ 0x0000**ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n\nì •ì  ComIDëŠ” ì‚¬ìš©ìê°€ ë¹„í™œì„±í™”í•  ìˆ˜ ì—†ìœ¼ë©°, ë³´ì•ˆ í†µì‹ ì˜ ê¸°ë³¸ ê²½ë¡œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. TPerëŠ” ë¹„í™œì„± ë˜ëŠ” ì§€ì›ë˜ì§€ ì•ŠëŠ” ComIDì— ëŒ€í•´ IF-SEND ë˜ëŠ” IF-RECV ëª…ë ¹ì„ ë°›ì„ ê²½ìš°, ëª…ë ¹ì„ ì¢…ë£Œí•˜ê±°ë‚˜ [2] ë˜ëŠ” [4] ë¬¸ì„œì— ì •ì˜ëœ ì˜¤ë¥˜ ì²˜ë¦¬ ì ˆì°¨ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.\n\nComIDëŠ” 32ë¹„íŠ¸ êµ¬ì¡°ë¡œ, ìƒìœ„ 16ë¹„íŠ¸ëŠ” ComID Base(ì˜ˆ: 0x0001 = Synchronous Protocol), í•˜ìœ„ 16ë¹„íŠ¸ëŠ” Extension(ì •ì  ComIDëŠ” í•­ìƒ 0x0000)ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œëŠ” ì •ì  ComIDì˜ ì¡´ì¬ ë° ìƒíƒœ, Extension ê°’, ë¹„í™œì„± ComIDì— ëŒ€í•œ ì˜¤ë¥˜ ì²˜ë¦¬ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, Python + pytestë¥¼ ì‚¬ìš©í•˜ì—¬ `StartSession`, `IF_SEND`, `IF_RECV`, `Revert` ë“±ì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‹¤ì œ ë™ì‘ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Table 14ëŠ” ComID í• ë‹¹ì„ ì •ì˜í•˜ì§€ë§Œ, ì´ë¯¸ì§€ê°€ ì—†ì–´ êµ¬ì²´ì ì¸ ê°’ì€ ë¬¸ì„œ ì „ì²´ì—ì„œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ìë„ ì´í•´ ê°€ëŠ¥í•œ ì„¤ëª… ì œê³µ ì™„ë£Œ**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë° ë°ì´í„° êµ¬ì¡° ìƒì„¸ ì„¤ëª… ì™„ë£Œ**"
    },
    {
        "section_order": 60,
        "level": 3,
        "section_id": "3.3.4",
        "section_key": "3.3.4 Synchronous Protocol",
        "title": "Synchronous Protocol",
        "start_page": 30,
        "end_page": 30,
        "page_count": 1,
        "content_md": "## 3.3.4 Synchronous Protocol\n\nThe TPer SHALL support the Synchronous Protocol. Refer to [2] for details.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.3.4 Synchronous Protocol\n\nThe TPer SHALL support the Synchronous Protocol. Refer to [2] for details."
    },
    {
        "section_order": 61,
        "level": 4,
        "section_id": "3.3.4.1",
        "section_key": "3.3.4.1 Payload Encoding",
        "title": "Payload Encoding",
        "start_page": 30,
        "end_page": 30,
        "page_count": 1,
        "content_md": "### 3.3.4.1 Payload Encoding",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 3.3.4.1 Payload Encoding"
    },
    {
        "section_order": 62,
        "level": 5,
        "section_id": "3.3.4.1.1",
        "section_key": "3.3.4.1.1 Stream Encoding Modifications",
        "title": "Stream Encoding Modifications",
        "start_page": 30,
        "end_page": 31,
        "page_count": 2,
        "content_md": "#### 3.3.4.1.1 Stream Encoding Modifications\n\nThe TPer SHALL support tokens listed in Table 15. If an unsupported token is encountered, the TPer SHALL treat the token as a streaming protocol violation and return an error per the definition in section 3.3.4.1.3.\n\n### Table 15 - Supported Tokens\n\n### Table 15 - Supported Tokens (continued)\n\nThe TPer SHALL support the above token atoms with the B bit set to zero or one and the S bit set to zero.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œì‹œëœ ë¬¸ì„œ ì„¹ì…˜ **3.3.4.1.1 Stream Encoding Modifications**ì€ TCG Opal í‘œì¤€ì˜ ì¼ë¶€ë¡œ, TPer (TPer = Trusted Peripheral, ì—¬ê¸°ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì €ì¥ ì¥ì¹˜ì˜ ë³´ì•ˆ ì œì–´ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•˜ë“œì›¨ì–´/ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸)ê°€ ì§€ì›í•´ì•¼ í•˜ëŠ” í† í°(token) ëª©ë¡ì„ ì •ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë³¸ë¬¸ì—ì„œ ì œê³µëœ ë‚´ìš©ì€ ë§¤ìš° ì œí•œì ì´ë©°, **êµ¬ì²´ì ì¸ í† í° ëª©ë¡(Table 15)ì´ ì‹¤ì œë¡œ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ \"Table 15\"ëŠ” ì´ë¯¸ì§€ë‚˜ í…ìŠ¤íŠ¸ë¡œ ì œê³µë˜ì§€ ì•Šì•„, ê·¸ ë‚´ìš©ì„ ê²€í† í•˜ê±°ë‚˜ ì„¤ëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### ì¶”ê°€ ì„¤ëª…:\n\n- **ëª©ì **: TPerê°€ ìŠ¤íŠ¸ë¦¬ë° í”„ë¡œí† ì½œì„ í†µí•´ ìˆ˜ì‹ í•˜ëŠ” ë°ì´í„°ì—ì„œ ìœ íš¨í•œ í† í°ë§Œì„ ì²˜ë¦¬í•˜ê³ , ì§€ì›í•˜ì§€ ì•ŠëŠ” í† í°ì€ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬í•˜ë„ë¡ ê·œì •í•©ë‹ˆë‹¤.\n- **ì£¼ìš” ê¸°ëŠ¥**: í† í° ì¸ì‹ ë° ìœ íš¨ì„± ê²€ì‚¬, í”„ë¡œí† ì½œ ìœ„ë°˜ ì‹œ ì˜¤ë¥˜ ë°˜í™˜.\n- **ë°ì´í„° êµ¬ì¡°**: í† í°ì€ ì¼ë°˜ì ìœ¼ë¡œ B-bitì™€ S-bitë¥¼ í¬í•¨í•˜ëŠ” ë¹„íŠ¸ í•„ë“œë¡œ êµ¬ì„±ë˜ë©°, ë¬¸ì„œì— ë”°ë¥´ë©´ B-bitëŠ” 0 ë˜ëŠ” 1, S-bitëŠ” ë°˜ë“œì‹œ 0ì´ì–´ì•¼ í•¨.\n- **ìš”êµ¬ì‚¬í•­**: TPerëŠ” Table 15ì— ë‚˜ì—´ëœ í† í°ë§Œì„ ì§€ì›í•´ì•¼ í•˜ë©°, ë‚˜ë¨¸ì§€ëŠ” ì˜¤ë¥˜ë¡œ ì²˜ë¦¬.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: í”„ë¡œí† ì½œ ìœ„ë°˜ ì‹œ ì˜¤ë¥˜ ë°˜í™˜ì„ í†µí•´ ë¹„ì •ìƒì ì¸ ë°ì´í„°ë¥¼ ì°¨ë‹¨í•¨ìœ¼ë¡œì¨ ë³´ì•ˆì„ ê°•í™”.\n\n---\n\n### ë¬¸ì œì :\n\n- Table 15ì˜ ì‹¤ì œ í† í° ëª©ë¡ì´ ì œê³µë˜ì§€ ì•Šì•„, **êµ¬ì²´ì ì¸ í† í° ì´ë¦„, ì˜ë¯¸, B/S ë¹„íŠ¸ ì„¤ì • ë“±ì´ ë¶ˆëª…í™•**í•©ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ê¸° ìœ„í•´ì„œëŠ” **ì§€ì›í•´ì•¼ í•˜ëŠ” í† í° ëª©ë¡ì´ í•„ìš”**í•˜ë©°, ì´ ì •ë³´ê°€ ì—†ìœ¼ë¯€ë¡œ **ì •í™•í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n- TCG Opal ëª…ë ¹ì–´(ì˜ˆ: StartSession, Revert)ë¥¼ ì‚¬ìš©í•œ ê²€ì¦ì€ ê°€ëŠ¥í•˜ì§€ë§Œ, **Stream Encoding Modifications ìì²´ê°€ í† í° ì²˜ë¦¬ì— ê´€í•œ ê²ƒì´ë¯€ë¡œ**, ëª…ë ¹ì–´ì™€ì˜ ì§ì ‘ì ì¸ ì—°ê´€ì„±ì€ ë‚®ìŠµë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\nì œì‹œëœ ì„¹ì…˜ì€ **í‘œ(Table 15)ì˜ ë‚´ìš©ì´ ëˆ„ë½ëœ ìƒíƒœ**ì´ë¯€ë¡œ, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¬¸ì„œì˜ **ì‹¤ì œ Table 15ë¥¼ ì œê³µë°›ì•„ì•¼** ì´ ì„¹ì…˜ì„ ì™„ì „íˆ ê²€í† í•˜ê³  ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 63,
        "level": 5,
        "section_id": "3.3.4.1.2",
        "section_key": "3.3.4.1.2 TCG Packets",
        "title": "TCG Packets",
        "start_page": 31,
        "end_page": 31,
        "page_count": 1,
        "content_md": "## 3.3.4.1.2 TCG Packets\n\nWithin a single IF-SEND/IF-RECV command, the TPer SHALL support a ComPacket containing one Packet, which contains one Subpacket. The host may discover TPer support of capabilities beyond this requirement in the parameters returned in response to a Properties method.\n\nThe TPer MAY ignore Credit Control Subpackets sent by the host. The host may discover TPer support of Credit Management with Level 0 Discovery. For more details refer to Section 3.1.1 Level 0 Discovery (M)\n\nThe TPer MAY ignore the AckType and Acknowledgement fields in the Packet header on commands from the host and set these fields to zero in its responses to the host. The host may discover TPer support of the TCG packet acknowledgement/retry mechanism with Level 0 Discovery. For more details refer to Section 3.1.1 Level 0 Discovery (M)\n\nThe TPer MAY ignore packet sequence numbering and not enforce any sequencing behavior. Refer to [2] for details on discovery of packet sequence numbering support.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **TCG Packets (Section 3.3.4.1.2) ì„¤ëª…**\n\n---\n\n### **1. ëª©ì  (Purpose)**\n\nTCG PacketsëŠ” TCG (Trusted Computing Group) í‘œì¤€ì— ë”°ë¼ ì €ì¥ ì¥ì¹˜(ì˜ˆ: í•˜ë“œë””ìŠ¤í¬, SSD)ì™€ í˜¸ìŠ¤íŠ¸ ê°„ì— ì•ˆì „í•˜ê²Œ ëª…ë ¹ê³¼ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•œ **í”„ë¡œí† ì½œ ë‹¨ìœ„**ì…ë‹ˆë‹¤. ì´ íŒ¨í‚·ì€ TCG Opal í‘œì¤€ì˜ í•µì‹¬ í†µì‹  êµ¬ì¡°ë¡œ, **IF-SEND / IF-REC** ëª…ë ¹ì„ í†µí•´ ì „ë‹¬ë˜ë©°, ë³´ì•ˆ ì €ì¥ì¥ì¹˜(TPer)ì™€ í˜¸ìŠ¤íŠ¸ ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.\n\nì£¼ìš” ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n- ëª…ë ¹ê³¼ ì‘ë‹µì„ **êµ¬ì¡°í™”ëœ í¬ë§·**ìœ¼ë¡œ ì „ë‹¬\n- **ë³´ì•ˆ í†µì‹ **ì„ ìœ„í•œ ê¸°ë³¸ ë‹¨ìœ„ ì œê³µ (ì˜ˆ: ì¸ì¦, ì•”í˜¸í™”, í™•ì¸ ë©”ì»¤ë‹ˆì¦˜)\n- ì¥ì¹˜ì˜ ê¸°ëŠ¥ì„ **ë™ì  ë°œê²¬**í•  ìˆ˜ ìˆë„ë¡ ì§€ì› (ì˜ˆ: í¬ë ˆë”§ ê´€ë¦¬, íŒ¨í‚· ì‹œí€€ì‹±, ACK ë“±)\n\n---\n\n### **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- **ë‹¨ì¼ ComPacket ë‚´ì— í•˜ë‚˜ì˜ Packet, í•˜ë‚˜ì˜ Subpacket í¬í•¨ ê°€ëŠ¥**  \n  â†’ ë‹¨ìˆœí™”ëœ í†µì‹  êµ¬ì¡°ë¡œ, ë³µì¡í•œ íŒ¨í‚· ì²˜ë¦¬ë¥¼ ë°©ì§€\n- **Credit Control Subpacket ë¬´ì‹œ ê°€ëŠ¥**  \n  â†’ TPerê°€ í¬ë ˆë”§ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ (í˜¸ìŠ¤íŠ¸ëŠ” Level 0 Discoveryë¡œ í™•ì¸)\n- **AckType ë° Acknowledgement í•„ë“œ ë¬´ì‹œ ê°€ëŠ¥**  \n  â†’ TPerê°€ ACK/ì¬ì „ì†¡ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ (í˜¸ìŠ¤íŠ¸ëŠ” Level 0 Discoveryë¡œ í™•ì¸)\n- **íŒ¨í‚· ì‹œí€€ìŠ¤ ë„˜ë²„ë§ ë¬´ì‹œ ê°€ëŠ¥**  \n  â†’ íŒ¨í‚· ìˆœì„œ ë³´ì¥ì´ í•„ìš” ì—†ëŠ” ê²½ìš°, TPerëŠ” ì´ë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆìŒ (í˜¸ìŠ¤íŠ¸ëŠ” [2] ì°¸ì¡°)\n\n---\n\n### **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nTCG Packetì˜ ê¸°ë³¸ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤ (ì°¸ì¡°: TCG Storage Opal Spec, v2.30):\n\n```\n+---------------------+---------------------+\n|  Packet Header      |  Subpacket(s)       |\n+---------------------+---------------------+\n|  Subpacket Type     |  Subpacket Data     |\n+---------------------+---------------------+\n```\n\n#### **Packet Header (í•„ë“œ ìš”ì•½)**\n- **Subpacket Type**: Subpacketì˜ ì¢…ë¥˜ (ì˜ˆ: Command, Data, Acknowledgement ë“±)\n- **Packet Length**: ì „ì²´ íŒ¨í‚· ê¸¸ì´\n- **Sequence Number**: íŒ¨í‚· ìˆœì„œ (ì„ íƒì , TPerê°€ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ)\n- **AckType**: ACK ìœ í˜• (ì˜ˆ: 0=ë¬´ì‹œ, 1=ì„±ê³µ, 2=ì‹¤íŒ¨)\n- **Acknowledgement**: ACK ìƒíƒœ (ì„ íƒì , TPerê°€ ë¬´ì‹œ ê°€ëŠ¥)\n\n#### **Subpacket**\n- **Command Subpacket**: í˜¸ìŠ¤íŠ¸ê°€ TPerì— ì „ì†¡í•˜ëŠ” ëª…ë ¹ (ì˜ˆ: StartSession, Revert)\n- **Data Subpacket**: ëª…ë ¹ì— ëŒ€í•œ ë°ì´í„° ì „ì†¡\n- **Credit Control Subpacket**: í¬ë ˆë”§ ê´€ë¦¬ ê´€ë ¨ ì •ë³´ (TPerê°€ ë¬´ì‹œ ê°€ëŠ¥)\n\n---\n\n### **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ìµœì†Œ ìš”êµ¬ì‚¬í•­**: TPerëŠ” **í•œ ê°œì˜ ComPacket ë‚´ì— í•˜ë‚˜ì˜ Packet, í•˜ë‚˜ì˜ Subpacket**ì„ ì§€ì›í•´ì•¼ í•¨.\n- **ì„ íƒì  ê¸°ëŠ¥**: í¬ë ˆë”§ ê´€ë¦¬, ACK, ì‹œí€€ìŠ¤ ë„˜ë²„ë§ì€ **TPerê°€ ë¬´ì‹œ ê°€ëŠ¥**. í˜¸ìŠ¤íŠ¸ëŠ” **Level 0 Discovery**ë¥¼ í†µí•´ ì§€ì› ì—¬ë¶€ë¥¼ í™•ì¸í•´ì•¼ í•¨.\n- **í˜¸ìŠ¤íŠ¸ì˜ ì±…ì„**: TPerê°€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•¨ (ì˜ˆ: ACK ê¸°ëŠ¥ì´ ì—†ìœ¼ë©´ ì¬ì „ì†¡ì„ í•˜ì§€ ë§ ê²ƒ).\n\n---\n\n### **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **íŒ¨í‚· ì¸ì¦**: TCG Opalì€ ë³„ë„ì˜ ì¸ì¦ í”„ë¡œí† ì½œ (ì˜ˆ: StartSession, Authenticated Command)ì„ í†µí•´ íŒ¨í‚·ì˜ ì •ë‹¹ì„±ì„ ê²€ì¦\n- **ì•”í˜¸í™”**: ëª…ë ¹ ë° ë°ì´í„°ëŠ” ì„¸ì…˜ í‚¤ë¡œ ì•”í˜¸í™”ë¨ (StartSession í›„)\n- **íŒ¨í‚· ë¬´ê²°ì„±**: CRC ë˜ëŠ” MAC ê¸°ë°˜ì˜ ê²€ì¦ (ë¬¸ì„œ ë‚´ ì§ì ‘ ì–¸ê¸‰ ì—†ìŒ, ê·¸ëŸ¬ë‚˜ TCG í‘œì¤€ ì „ì²´ì—ì„œ ë³´ì¥ë¨)\n- **ì¬ì „ì†¡ ë°©ì§€**: ì‹œí€€ìŠ¤ ë„˜ë²„ë§ì„ í†µí•œ ì¤‘ë³µ íŒ¨í‚· ë°©ì§€ (TPerê°€ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ í•„ìš”)\n\n> âš ï¸ **ì£¼ì˜**: ì´ ì„¹ì…˜ì€ **íŒ¨í‚· ì „ì†¡ì˜ êµ¬ì¡°ì  ìš”êµ¬ì‚¬í•­**ì— ì´ˆì ì„ ë‘ê³  ìˆìœ¼ë©°, ì§ì ‘ì ì¸ ì•”í˜¸í™” ë˜ëŠ” ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜ì€ **ë‹¤ë¥¸ ì„¹ì…˜**(ì˜ˆ: 3.3.4.1.1, 3.3.4.3)ì—ì„œ ì„¤ëª…ë¨.\n\n---\n\n## **6. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ (Test Cases)**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n- TPerê°€ ìµœì†Œ ìš”êµ¬ì‚¬í•­ (1 ComPacket â†’ 1 Packet â†’ 1 Subpacket)ì„ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸\n- í¬ë ˆë”§ ê´€ë¦¬, ACK, ì‹œí€€ìŠ¤ ë„˜ë²„ë§ ì§€ì› ì—¬ë¶€ë¥¼ Level 0 Discoveryë¡œ í™•ì¸\n- TPerê°€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì„ í˜¸ìŠ¤íŠ¸ê°€ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ”ì§€ ê²€ì¦\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ìµœì†Œ íŒ¨í‚· êµ¬ì¡° ì§€ì› ê²€ì¦**\n\n**ëª©ì **: TPerê°€ ComPacket ë‚´ì— 1ê°œì˜ Packetê³¼ 1ê°œì˜ Subpacketì„ ì²˜ë¦¬í•˜ëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. StartSession ëª…ë ¹ì„ ë°œì†¡\n2. ì‘ë‹µ íŒ¨í‚·ì„ ìˆ˜ì‹ \n3. ìˆ˜ì‹  íŒ¨í‚·ì˜ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ì—¬ 1ê°œì˜ Packet, 1ê°œì˜ Subpacketì´ í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\nimport pytest\nfrom opal import OpalDevice, TCGPacket, Subpacket\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sda\")\n    device.connect()\n    yield device\n    device.disconnect()\n\ndef test_single_packet_single_subpacket(opal_device):\n    # StartSession ëª…ë ¹ ì „ì†¡\n    command = TCGPacket()\n    command.add_subpacket(Subpacket.Type.COMMAND, b\"\\x01\\x02\\x03\\x04\")  # ì˜ˆì‹œ ëª…ë ¹ ë°ì´í„°\n    response = opal_device.send_command(command)\n\n    # ì‘ë‹µ íŒ¨í‚· êµ¬ì¡° ê²€ì¦\n    assert len(response.packets) == 1, \"ì‘ë‹µì— 1ê°œì˜ íŒ¨í‚·ì´ ìˆì–´ì•¼ í•¨\"\n    assert len(response.packets[0].subpackets) == 1, \"íŒ¨í‚· ë‚´ì— 1ê°œì˜ ì„œë¸ŒíŒ¨í‚·ì´ ìˆì–´ì•¼ í•¨\"\n    assert response.packets[0].subpackets[0].type == Subpacket.Type.RESPONSE, \"ì‘ë‹µ ì„œë¸ŒíŒ¨í‚·ì´ì–´ì•¼ í•¨\"\n```\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Level 0 Discoveryë¡œ í¬ë ˆë”§ ê´€ë¦¬ ì§€ì› ì—¬ë¶€ ê²€ì¦**\n\n**ëª©ì **: TPerê°€ Credit Control Subpacketì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. Level 0 Discovery ëª…ë ¹ì„ ë°œì†¡\n2. ì‘ë‹µì—ì„œ `CreditControlSupported` í”Œë˜ê·¸ í™•ì¸\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_credit_control_support(opal_device):\n    # Level 0 Discovery ìš”ì²­\n    discovery = opal_device.get_level0_discovery()\n\n    # í¬ë ˆë”§ ê´€ë¦¬ ì§€ì› ì—¬ë¶€ í™•ì¸\n    assert discovery.credit_control_supported is not None\n    assert discovery.credit_control_supported in [True, False], \"í¬ë ˆë”§ ê´€ë¦¬ ì§€ì› ì—¬ë¶€ëŠ” True/Falseì—¬ì•¼ í•¨\"\n\n    if discovery.credit_control_supported:\n        # í¬ë ˆë”§ ê´€ë¦¬ ì§€ì› ì‹œ, Credit Control Subpacketì„ ì „ì†¡\n        credit_packet = TCGPacket()\n        credit_packet.add_subpacket(Subpacket.Type.CREDIT_CONTROL, b\"\\x01\\x02\")\n        response = opal_device.send_command(credit_packet)\n        assert response.status == 0, \"í¬ë ˆë”§ íŒ¨í‚· ì²˜ë¦¬ ì„±ê³µ\"\n    else:\n        # ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´, ë¬´ì‹œë˜ì–´ì•¼ í•¨ (ì‘ë‹µ ì½”ë“œëŠ” 0ì´ì–´ì•¼ í•¨)\n        credit_packet = TCGPacket()\n        credit_packet.add_subpacket(Subpacket.Type.CREDIT_CONTROL, b\"\\x01\\x02\")\n        response = opal_device.send_command(credit_packet)\n        assert response.status == 0, \"í¬ë ˆë”§ íŒ¨í‚·ì´ ë¬´ì‹œë˜ì–´ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì•ˆ ë¨\"\n```\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ACK/Retry ë©”ì»¤ë‹ˆì¦˜ ì§€ì› ì—¬ë¶€ ê²€ì¦**\n\n**ëª©ì **: TPerê°€ ACKType ë° Acknowledgement í•„ë“œë¥¼ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. Level 0 Discoveryë¡œ ACK ì§€ì› ì—¬ë¶€ í™•ì¸\n2. ACKTypeì´ 0ì´ ì•„ë‹Œ íŒ¨í‚·ì„ ì „ì†¡ â†’ ì‘ë‹µì—ì„œ ACKTypeì´ 0ì¸ì§€ í™•ì¸\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_acknowledgement_support(opal_device):\n    discovery = opal_device.get_level0_discovery()\n    ack_supported = discovery.acknowledgement_supported\n\n    # ACKë¥¼ ìš”ì²­í•˜ëŠ” íŒ¨í‚· ì „ì†¡ (ì˜ˆ: ACKType = 1)\n    packet = TCGPacket()\n    packet.ack_type = 1  # ACK ìš”ì²­\n    packet.acknowledgement = 0  # ì´ˆê¸°ê°’\n    packet.add_subpacket(Subpacket.Type.COMMAND, b\"\\x01\\x02\\x03\\x04\")\n\n    response = opal_device.send_command(packet)\n\n    if ack_supported:\n        # ACK ì§€ì› ì‹œ, ì‘ë‹µì—ì„œ ACKTypeì´ 1ì´ì–´ì•¼ í•¨\n        assert response.ack_type == 1\n        assert response.acknowledgement in [0, 1], \"ACK ìƒíƒœëŠ” 0(ì‹¤íŒ¨) ë˜ëŠ” 1(ì„±ê³µ)ì´ì–´ì•¼ í•¨\"\n    else:\n        # ACK ë¯¸ì§€ì› ì‹œ, ì‘ë‹µì—ì„œ ACKTypeì´ 0ì´ì–´ì•¼ í•¨\n        assert response.ack_type == 0\n        assert response.acknowledgement == 0\n```\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: íŒ¨í‚· ì‹œí€€ìŠ¤ ë„˜ë²„ë§ ì§€ì› ì—¬ë¶€ ê²€ì¦**\n\n**ëª©ì **: TPerê°€ íŒ¨í‚· ì‹œí€€ìŠ¤ ë„˜ë²„ë§ì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. Level 0 Discoveryë¡œ Sequence Numbering ì§€ì› ì—¬ë¶€ í™•ì¸\n2. ì‹œí€€ìŠ¤ ë„˜ë²„ë¥¼ í¬í•¨í•œ íŒ¨í‚· ì „ì†¡ â†’ ì‘ë‹µì—ì„œ ì‹œí€€ìŠ¤ ë„˜ë²„ê°€ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_sequence_numbering_support(opal_device):\n    discovery = opal_device.get_level0_discovery()\n    seq_supported = discovery.sequence_numbering_supported\n\n    # ì‹œí€€ìŠ¤ ë„˜ë²„ë¥¼ í¬í•¨í•œ íŒ¨í‚· ì „ì†¡\n    packet = TCGPacket()\n    packet.sequence_number = 1  # ì‹œí€€ìŠ¤ ë„˜ë²„ ì„¤ì •\n    packet.add_subpacket(Subpacket.Type.COMMAND, b\"\\x01\\x02\\x03\\x04\")\n\n    response = opal_device.send_command(packet)\n\n    if seq_supported:\n        # ì‹œí€€ìŠ¤ ë„˜ë²„ë§ ì§€ì› ì‹œ, ì‘ë‹µ ì‹œí€€ìŠ¤ ë„˜ë²„ê°€ ì¦ê°€í•´ì•¼ í•¨\n        assert response.sequence_number == 2, \"ì‘ë‹µ ì‹œí€€ìŠ¤ ë„˜ë²„ëŠ” 2ì—¬ì•¼ í•¨\"\n    else:\n        # ë¯¸ì§€ì› ì‹œ, ì‘ë‹µ ì‹œí€€ìŠ¤ ë„˜ë²„ëŠ” 0 ë˜ëŠ” ë¬´ì‹œë¨\n        assert response.sequence_number == 0, \"ì‹œí€€ìŠ¤ ë„˜ë²„ë§ ë¯¸ì§€ì› ì‹œ 0ì´ì–´ì•¼ í•¨\"\n```\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 5: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì˜ˆ: Properties ë©”ì„œë“œ ì‘ë‹µ)**\n\n**ëª©ì **: Properties ë©”ì„œë“œ ì‘ë‹µì—ì„œ TPerì˜ ê¸°ëŠ¥ ì •ë³´ê°€ ì •í™•íˆ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n**ë‹¨ê³„**:\n1. Properties ë©”ì„œë“œë¥¼ í˜¸ì¶œ\n2. ì‘ë‹µì— í¬í•¨ëœ `CreditControlSupported`, `AcknowledgementSupported`, `SequenceNumberingSupported` ë“±ì„ ê²€ì¦\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_properties_response(opal_device):\n    properties = opal_device.get_properties()\n\n    # í•„ìˆ˜ í•„ë“œ ì¡´ì¬ í™•ì¸\n    assert hasattr(properties, 'credit_control_supported')\n    assert hasattr(properties, 'acknowledgement_supported')\n    assert hasattr(properties, 'sequence_numbering_supported')\n\n    # ì˜ˆìƒê°’ ë²”ìœ„ ê²€ì¦\n    assert properties.credit_control_supported in [True, False]\n    assert properties.acknowledgement_supported in [True, False]\n    assert properties.sequence_numbering_supported in [True, False]\n```\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nTCG PacketsëŠ” TCG Opal í‘œì¤€ì—ì„œ ì €ì¥ì¥ì¹˜ì™€ í˜¸ìŠ¤íŠ¸ ê°„ í†µì‹ ì„ ìœ„í•œ ê¸°ë³¸ ë‹¨ìœ„ì…ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ **ìµœì†Œ ìš”êµ¬ì‚¬í•­**(1ê°œì˜ ComPacket â†’ 1 Packet â†’ 1 Subpacket)ê³¼ **ì„ íƒì  ê¸°ëŠ¥**(í¬ë ˆë”§ ê´€ë¦¬, ACK, ì‹œí€€ìŠ¤ ë„˜ë²„ë§)ì— ëŒ€í•´ ì„¤ëª…í•˜ë©°, TPerê°€ ì´ ê¸°ëŠ¥ë“¤ì„ **ë¬´ì‹œí•  ìˆ˜ ìˆìŒì„ ëª…ì‹œ**í•©ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ëŠ” Level 0 Discoveryë¥¼ í†µí•´ í•´ë‹¹ ê¸°ëŠ¥ì„ í™•ì¸í•˜ê³ , ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì€ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\n\në³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ”, íŒ¨í‚· êµ¬ì¡°ë¥¼ í†µí•´ ëª…ë ¹ê³¼ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì „ë‹¬í•˜ë©°, ì¸ì¦ ë° ì•”í˜¸í™”ëŠ” ë³„ë„ì˜ í”„ë¡œí† ì½œ(ì˜ˆ: StartSession)ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” TCG Opal ëª…ë ¹ì–´(StartSession, Level 0 Discovery, Properties ë“±)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, Pythonê³¼ pytestë¥¼ í†µí•´ íŒ¨í‚· êµ¬ì¡°, ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€, í…Œì´ë¸” ë°ì´í„°ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” TPerì˜ ê¸°ëŠ¥ì„ **ë™ì ìœ¼ë¡œ í™•ì¸**í•˜ê³ , í˜¸ìŠ¤íŠ¸ê°€ ì´ë¥¼ **ì •í™•íˆ ë°˜ì˜**í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: TCG PacketsëŠ” í†µì‹ ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ë©°, í˜¸ìŠ¤íŠ¸ëŠ” Level 0 Discoveryë¥¼ í†µí•´ TPerì˜ ê¸°ëŠ¥ì„ ë™ì ìœ¼ë¡œ ë°œê²¬í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•ˆì „í•œ í†µì‹ ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì´ë¥¼ ì‹¤ì²œì ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 64,
        "level": 5,
        "section_id": "3.3.4.1.3",
        "section_key": "3.3.4.1.3 Payload Error Response",
        "title": "Payload Error Response",
        "start_page": 31,
        "end_page": 31,
        "page_count": 1,
        "content_md": "## 3.3.4.1.3 Payload Error Response\n\nThe TPer SHALL respond according to the following rules if it encounters a streaming protocol violation:\n\n- If the error is on Session Manager or is such that the TPer cannot resolve a valid session ID from the payload (i.e. errors in the ComPacket header or Packet header), then the TPer SHALL discard the payload and immediately transition to the â€œAwaiting IF-SENDâ€ state.\n- If the error occurs after the TPer has resolved the session ID, then the TPer SHALL abort the session and MAY prepare a CloseSession method for retrieval by the host.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.3.4.1.3 Payload Error Response (íŒ¨í‚· ì˜¤ë¥˜ ì‘ë‹µ)\n\n### ğŸ” ê°œìš” ë° ëª©ì \n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€**ì—ì„œ ì •ì˜í•œ **íŒ¨í‚· ì˜¤ë¥˜ ì²˜ë¦¬ ì ˆì°¨**ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì£¼ëœ ëª©ì ì€ **ìŠ¤íŠ¸ë¦¬ë° í”„ë¡œí† ì½œ ìœ„ë°˜**(ì˜ˆ: í—¤ë” ì˜¤ë¥˜, ì„¸ì…˜ ID í•´ì„ ì‹¤íŒ¨ ë“±)ì´ ë°œìƒí–ˆì„ ë•Œ, **TPer**(Trusted Peripheral, ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜)ê°€ ì–´ë–»ê²Œ ì•ˆì „í•˜ê²Œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ê³  ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ì•ˆì •í™”ì‹œí‚¬ì§€ë¥¼ ê·œì •í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ì˜¤ë¥˜ ì²˜ë¦¬ëŠ” **ë³´ì•ˆì„±ê³¼ ì‹ ë¢°ì„±**ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì˜ëª»ëœ í—¤ë”ë¥¼ í¬í•¨í•œ íŒ¨í‚·ì´ ë„ì°©í•˜ë©´, ê·¸ íŒ¨í‚·ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë³´ì•ˆ ì·¨ì•½ì ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë”°ë¼ì„œ TPerëŠ” ì¦‰ì‹œ ì˜¤ë¥˜ë¥¼ ì¸ì‹í•˜ê³ , ì ì ˆí•œ ìƒíƒœ ì „ì´ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n1. **ì˜¤ë¥˜ íƒì§€**: TPerëŠ” ìˆ˜ì‹ í•œ íŒ¨í‚·ì˜ í—¤ë” ë° í”„ë¡œí† ì½œ êµ¬ì¡°ë¥¼ ê²€ì‚¬í•˜ì—¬ ì˜¤ë¥˜ë¥¼ íƒì§€í•©ë‹ˆë‹¤.\n2. **ìƒíƒœ ì „ì´**: ì˜¤ë¥˜ ìœ í˜•ì— ë”°ë¼ ë‘ ê°€ì§€ ë‹¤ë¥¸ ì²˜ë¦¬ ë°©ì‹ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n   - **ì„¸ì…˜ ID í•´ì„ ì „ ì˜¤ë¥˜**: íŒ¨í‚·ì„ ì¦‰ì‹œ ë²„ë¦¬ê³  \"Awaiting IF-SEND\" ìƒíƒœë¡œ ì „ì´.\n   - **ì„¸ì…˜ ID í•´ì„ í›„ ì˜¤ë¥˜**: ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê³ , ì„ íƒì ìœ¼ë¡œ CloseSession ë©”ì„œë“œë¥¼ ì¤€ë¹„.\n3. **ë³´ì•ˆ ìœ ì§€**: ì˜¤ë¥˜ ì²˜ë¦¬ ê³¼ì •ì—ì„œ ë³´ì•ˆ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©°, ê³µê²©ìê°€ ì˜¤ë¥˜ë¥¼ ì•…ìš©í•´ ì‹œìŠ¤í…œì„ íƒˆì·¨í•˜ê±°ë‚˜ ë¹„ì •ìƒì ì¸ ì ‘ê·¼ì„ ì‹œë„í•˜ëŠ” ê²ƒì„ ë°©ì§€.\n\n---\n\n### ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\nì´ ì„¹ì…˜ì€ **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°**(ì˜ˆ: ì˜¤ë¥˜ ì‘ë‹µ ë©”ì‹œì§€ í˜•ì‹)ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜¤íˆë ¤ **í–‰ë™ ê·œì¹™**(behavioral rules)ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.\n\n- **ComPacket í—¤ë”**: TCG Opalì—ì„œ ì •ì˜ëœ í†µì‹  íŒ¨í‚·ì˜ ê¸°ë³¸ í—¤ë”. ì´ í—¤ë”ì— ì˜¤ë¥˜ê°€ ìˆìœ¼ë©´ ì„¸ì…˜ IDë¥¼ ì¶”ì¶œí•  ìˆ˜ ì—†ìŒ.\n- **Packet í—¤ë”**: ì‹¤ì œ ë°ì´í„° íŒ¨í‚·ì˜ í—¤ë”. ì´ í—¤ë”ì— ì˜¤ë¥˜ê°€ ìˆìœ¼ë©´ ë™ì¼í•˜ê²Œ ì²˜ë¦¬.\n- **ì„¸ì…˜ ID**: íŒ¨í‚· í—¤ë”ì—ì„œ ì¶”ì¶œëœ ì„¸ì…˜ ì‹ë³„ì. ì´ ê°’ì´ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜ ì—†ìœ¼ë©´ ì˜¤ë¥˜ë¡œ ê°„ì£¼.\n\nâš ï¸ **ì£¼ìš” í¬ì¸íŠ¸**: ì´ ì„¹ì…˜ì—ì„œëŠ” ì˜¤ë¥˜ ì‘ë‹µì˜ **í˜•ì‹**ë³´ë‹¤ëŠ” **í–‰ë™**(discard, abort, transition)ì„ ê·œì •í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ ìš”êµ¬ì‚¬í•­\n\n- TPerëŠ” ëª¨ë“  ìˆ˜ì‹  íŒ¨í‚·ì„ **í”„ë¡œí† ì½œ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ ê²€ì‚¬**í•´ì•¼ í•¨.\n- ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì— ë”°ë¼ ì²˜ë¦¬:\n  - ì„¸ì…˜ ID ì¶”ì¶œ ë¶ˆê°€ â†’ íŒ¨í‚· ë²„ë¦¬ê³  \"Awaiting IF-SEND\" ìƒíƒœë¡œ ì „ì´.\n  - ì„¸ì…˜ ID ì¶”ì¶œ ê°€ëŠ¥ â†’ ì„¸ì…˜ ì¢…ë£Œ ë° CloseSession ì¤€ë¹„ (ì„ íƒì ).\n\n> âœ… **ê°•ì œ ìš”êµ¬ì‚¬í•­**: ì„¸ì…˜ ID ì¶”ì¶œ ì „ ì˜¤ë¥˜ëŠ” ì¦‰ì‹œ ë²„ë¦¬ê³  ìƒíƒœ ì „ì´.\n> âœ… **ì„ íƒì  ìš”êµ¬ì‚¬í•­**: ì„¸ì…˜ ID ì¶”ì¶œ í›„ ì˜¤ë¥˜ëŠ” ì„¸ì…˜ ì¢…ë£Œ + CloseSession ì¤€ë¹„ ê°€ëŠ¥.\n\n---\n\n### ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **ì˜¤ë¥˜ë¥¼ ì¦‰ì‹œ ë¬´ì‹œ**: ì„¸ì…˜ ID ì¶”ì¶œ ì „ ì˜¤ë¥˜ëŠ” ì™„ì „íˆ ë¬´ì‹œ â†’ ë³´ì•ˆ ìƒì˜ ê³µê²© ê²½ë¡œ ì°¨ë‹¨.\n- **ì„¸ì…˜ ì¢…ë£Œ ë° CloseSession ì¤€ë¹„**: ê³µê²©ìê°€ ì¼ë¶€ íŒ¨í‚·ì„ í†µê³¼ì‹œì¼œ ì„¸ì…˜ì„ ìœ ì§€í•˜ë ¤ëŠ” ì‹œë„ë¥¼ ì°¨ë‹¨.\n- **ìƒíƒœ ê¸°ë°˜ ì²˜ë¦¬**: TPerëŠ” í•­ìƒ ì •ì˜ëœ ìƒíƒœ ì „ì´ë¥¼ ë”°ë¦„ â†’ ì˜ˆì¸¡ ê°€ëŠ¥í•œ í–‰ë™ â†’ ë³´ì•ˆ ì·¨ì•½ì  ìµœì†Œí™”.\n\n---\n\n## âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n- TPerê°€ ì˜ëª»ëœ íŒ¨í‚· í—¤ë”ë¥¼ ìˆ˜ì‹ í–ˆì„ ë•Œ, ì •ì˜ëœ ìƒíƒœ ì „ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ”ì§€ í™•ì¸.\n- ì„¸ì…˜ ID ì¶”ì¶œ ì „/í›„ ì˜¤ë¥˜ì— ë”°ë¼ ë‹¤ë¥¸ í–‰ë™ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n## ğŸ Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nimport socket\nimport struct\nfrom time import sleep\n\n# í…ŒìŠ¤íŠ¸ìš© TPer ì‹œë®¬ë ˆì´ì…˜ í´ë˜ìŠ¤ (ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸)\nclass TPerTester:\n    def __init__(self, host=\"localhost\", port=12345):\n        self.host = host\n        self.port = port\n        self.sock = None\n\n    def connect(self):\n        self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.sock.connect((self.host, self.port))\n\n    def send_payload(self, payload):\n        \"\"\"íŒ¨í‚· ì „ì†¡ (ComPacket í—¤ë” í¬í•¨)\"\"\"\n        self.sock.sendall(payload)\n\n    def receive_response(self, timeout=5):\n        \"\"\"ì‘ë‹µ ìˆ˜ì‹ \"\"\"\n        self.sock.settimeout(timeout)\n        try:\n            data = self.sock.recv(4096)\n            return data\n        except socket.timeout:\n            return None\n\n    def close(self):\n        if self.sock:\n            self.sock.close()\n\n# í…ŒìŠ¤íŠ¸ ë°ì´í„°: ì˜ëª»ëœ í—¤ë” íŒ¨í‚· (ì˜ˆ: ì˜ëª»ëœ ComPacket í—¤ë” ê¸¸ì´)\ndef create_invalid_compacket_header():\n    \"\"\"ComPacket í—¤ë”ì— ì˜¤ë¥˜ë¥¼ í¬í•¨í•œ íŒ¨í‚· ìƒì„±\"\"\"\n    # ì˜ˆ: ì˜ëª»ëœ í—¤ë” ê¸¸ì´ (ì˜ˆìƒ 16ë°”ì´íŠ¸, 10ë°”ì´íŠ¸ë¡œ ìƒì„±)\n    return b'\\x00\\x00\\x00\\x0A\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'\n\ndef create_invalid_packet_header():\n    \"\"\"Packet í—¤ë”ì— ì˜¤ë¥˜ë¥¼ í¬í•¨í•œ íŒ¨í‚· ìƒì„±\"\"\"\n    # ì˜ˆ: ì˜ëª»ëœ Packet ID (ì˜ˆìƒ 0x01, 0xFFë¡œ ì„¤ì •)\n    return b'\\xFF\\x00\\x00\\x00\\x00\\x00\\x00\\x00'  # ê°€ì§œ Packet í—¤ë”\n\ndef create_valid_compacket_header(session_id=0x12345678):\n    \"\"\"ì •ìƒì ì¸ ComPacket í—¤ë” ìƒì„±\"\"\"\n    return struct.pack('>I', 0x00000010) + struct.pack('>I', session_id) + b'\\x00' * 8\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì„¸ì…˜ ID ì¶”ì¶œ ì „ ì˜¤ë¥˜ (ComPacket í—¤ë” ì˜¤ë¥˜)\ndef test_payload_error_before_session_id():\n    tester = TPerTester()\n    tester.connect()\n    \n    # ì˜ëª»ëœ ComPacket í—¤ë” ì „ì†¡\n    invalid_payload = create_invalid_compacket_header()\n    tester.send_payload(invalid_payload)\n    \n    # ì‘ë‹µ ì—†ìŒ ë˜ëŠ” ì¦‰ì‹œ ìƒíƒœ ì „ì´ (Awaiting IF-SEND)\n    response = tester.receive_response(timeout=2)\n    assert response is None or len(response) == 0, \"TPer should discard payload and not respond\"\n\n    # ìƒíƒœ í™•ì¸ (ì‹¤ì œ ì¥ì¹˜ì—ì„œ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë¡œì§ í•„ìš”)\n    # ì˜ˆ: ì¥ì¹˜ ìƒíƒœë¥¼ ì½ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì „ì†¡í•˜ì—¬ í™•ì¸\n    # tester.send_payload(get_status_command())\n    # status = tester.receive_response()\n    # assert status == b'\\x00\\x00\\x00\\x00', \"TPer should be in Awaiting IF-SEND state\"\n\n    tester.close()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì„¸ì…˜ ID ì¶”ì¶œ í›„ ì˜¤ë¥˜ (Packet í—¤ë” ì˜¤ë¥˜)\ndef test_payload_error_after_session_id():\n    tester = TPerTester()\n    tester.connect()\n    \n    # ì •ìƒì ì¸ ì„¸ì…˜ ì‹œì‘\n    start_session_cmd = create_valid_compacket_header() + b'\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00'  # StartSession\n    tester.send_payload(start_session_cmd)\n    response = tester.receive_response()\n    assert response is not None, \"StartSession should succeed\"\n\n    # ì´í›„, ì˜ëª»ëœ Packet í—¤ë” ì „ì†¡ (ì„¸ì…˜ IDëŠ” ì´ë¯¸ ì¶”ì¶œë¨)\n    invalid_packet = create_invalid_packet_header()\n    tester.send_payload(invalid_packet)\n    \n    # TPerëŠ” ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê³  CloseSession ë©”ì„œë“œë¥¼ ì¤€ë¹„í•´ì•¼ í•¨\n    # CloseSession ë©”ì„œë“œë¥¼ ìš”ì²­í•˜ì—¬ ì‘ë‹µì´ ì˜¬ì§€ í™•ì¸\n    close_session_cmd = create_valid_compacket_header() + b'\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00'  # CloseSession\n    tester.send_payload(close_session_cmd)\n    close_response = tester.receive_response()\n    \n    # CloseSession ì‘ë‹µì´ ì˜¬ ê²½ìš°, ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬ê°€ ë˜ì—ˆë‹¤ëŠ” ì˜ë¯¸\n    assert close_response is not None, \"TPer should prepare CloseSession for retrieval\"\n\n    tester.close()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì˜ˆ: ì„¸ì…˜ ìƒíƒœ í…Œì´ë¸”)\ndef test_session_table_after_error():\n    \"\"\"TPer ë‚´ë¶€ ì„¸ì…˜ í…Œì´ë¸”ì„ ê²€ì¦ (ì˜ˆ: DB ë˜ëŠ” ë©”ëª¨ë¦¬ í…Œì´ë¸”)\"\"\"\n    # ì´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ì¥ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ë§Œ ê°€ëŠ¥\n    # ì˜ˆ: ì¥ì¹˜ê°€ ì œê³µí•˜ëŠ” ìƒíƒœ ì¿¼ë¦¬ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©\n    tester = TPerTester()\n    tester.connect()\n\n    # ì„¸ì…˜ ì‹œì‘\n    tester.send_payload(create_valid_compacket_header() + b'\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00')\n    sleep(0.1)  # ì§€ì—° ì²˜ë¦¬\n\n    # ì˜¤ë¥˜ íŒ¨í‚· ì „ì†¡ (ì„¸ì…˜ ID ì¶”ì¶œ í›„)\n    tester.send_payload(create_invalid_packet_header())\n\n    # ì„¸ì…˜ ìƒíƒœ í…Œì´ë¸” ì¿¼ë¦¬ (ì˜ˆ: GetSessionTable ëª…ë ¹)\n    query_cmd = create_valid_compacket_header() + b'\\x03\\x00\\x00\\x00\\x00\\x00\\x00\\x00'  # ê°€ìƒì˜ GetSessionTable\n    tester.send_payload(query_cmd)\n    table_response = tester.receive_response()\n\n    # ì˜ˆìƒ: ì˜¤ë¥˜ ë°œìƒ í›„ ì„¸ì…˜ IDê°€ ë” ì´ìƒ í…Œì´ë¸”ì— ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨\n    assert table_response is not None\n    # ì˜ˆ: ì„¸ì…˜ í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì„¸ì…˜ IDê°€ ì‚­ì œë˜ì—ˆëŠ”ì§€ ê²€ì¦\n    session_id = 0x12345678\n    assert session_id not in table_response, \"Session should be removed after error\"\n\n    tester.close()\n\n# pytest ì‹¤í–‰\nif __name__ == \"__main__\":\n    pytest.main([__file__])\n```\n\n---\n\n## ğŸ” TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•œ ê²€ì¦ ë°©ë²•\n\n1. **StartSession**: ì •ìƒì ì¸ ì„¸ì…˜ ì‹œì‘ í›„ ì˜¤ë¥˜ íŒ¨í‚·ì„ ì „ì†¡.\n2. **Revert**: ì˜¤ë¥˜ ë°œìƒ í›„, ì¥ì¹˜ê°€ Revert ìƒíƒœë¡œ ì „ì´ë˜ëŠ”ì§€ í™•ì¸ (ì„ íƒì ).\n3. **CloseSession**: ì˜¤ë¥˜ ë°œìƒ í›„, CloseSession ë©”ì„œë“œê°€ ì¤€ë¹„ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n4. **GetSessionTable**: ì„¸ì…˜ ìƒíƒœ í…Œì´ë¸”ì„ ì¿¼ë¦¬í•˜ì—¬ ì„¸ì…˜ì´ ì œê±°ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n5. **GetDeviceStatus**: ì¥ì¹˜ê°€ \"Awaiting IF-SEND\" ìƒíƒœë¡œ ì „ì´ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆì‹œ |\n|------|-----------|------|\n| ì„¸ì…˜ ID | ì„¸ì…˜ í…Œì´ë¸”ì—ì„œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ | `session_id = 0x12345678` â†’ í…Œì´ë¸”ì—ì„œ ì‚­ì œ í™•ì¸ |\n| ìƒíƒœ | ì¥ì¹˜ ìƒíƒœ ì¿¼ë¦¬ í›„ ë¹„êµ | `GetDeviceStatus` â†’ `Awaiting IF-SEND` í™•ì¸ |\n| CloseSession ì¤€ë¹„ ì—¬ë¶€ | CloseSession ëª…ë ¹ì–´ ì „ì†¡ í›„ ì‘ë‹µ í™•ì¸ | ì‘ë‹µ ì¡´ì¬ â†’ ì¤€ë¹„ë¨ |\n| íŒ¨í‚· ìˆ˜ì‹  ê¸°ë¡ | ì¥ì¹˜ ë¡œê·¸ ë˜ëŠ” ë””ë²„ê·¸ ëª¨ë“œì—ì„œ í™•ì¸ | ì˜¤ë¥˜ íŒ¨í‚· ìˆ˜ì‹  í›„ ì¦‰ì‹œ ë²„ë¦¼ ì—¬ë¶€ |\n\n---\n\n## âœ… ê²°ë¡ \n\n- **Payload Error Response**ëŠ” **í”„ë¡œí† ì½œ ìœ„ë°˜ ì‹œ ì•ˆì „í•œ ì˜¤ë¥˜ ì²˜ë¦¬**ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.\n- **ì„¸ì…˜ ID ì¶”ì¶œ ì „ ì˜¤ë¥˜**ëŠ” ì¦‰ì‹œ ë²„ë¦¬ê³  ìƒíƒœ ì „ì´ â†’ ë³´ì•ˆ ê°•í™”.\n- **ì„¸ì…˜ ID ì¶”ì¶œ í›„ ì˜¤ë¥˜**ëŠ” ì„¸ì…˜ ì¢…ë£Œ + CloseSession ì¤€ë¹„ â†’ ê³µê²© ì°¨ë‹¨.\n- í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” **ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ì—¬ ìƒíƒœ ì „ì´ ë° ì‘ë‹µì„ ê²€ì¦**í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ ì ìœ¼ë¡œ**: ì´ ì„¹ì…˜ì€ **ë³´ì•ˆì„±ê³¼ ì‹ ë¢°ì„±**ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ **ì˜¤ë¥˜ ì²˜ë¦¬ì˜ í•µì‹¬ ë£°**ì„ ì œê³µí•˜ë©°, í…ŒìŠ¤íŠ¸ ì‹œ **ìƒíƒœ ì „ì´ì™€ ì‘ë‹µ ë©”ì‹œì§€ ìœ ë¬´**ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ ì‹œ, ì¥ì¹˜ ì œì¡°ì—…ì²´ ì œê³µì˜ **API ë˜ëŠ” ëª…ë ¹ì–´ ì„¸íŠ¸**ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤. ìœ„ ì½”ë“œëŠ” ê°œë…ì  ì˜ˆì‹œì…ë‹ˆë‹¤."
    },
    {
        "section_order": 65,
        "level": 3,
        "section_id": "3.3.5",
        "section_key": "3.3.5 Storage Device Resets",
        "title": "Storage Device Resets",
        "start_page": 31,
        "end_page": 31,
        "page_count": 1,
        "content_md": "## 3.3.5 Storage Device Resets",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.3.5 Storage Device Resets"
    },
    {
        "section_order": 66,
        "level": 4,
        "section_id": "3.3.5.1",
        "section_key": "3.3.5.1 Interface Resets",
        "title": "Interface Resets",
        "start_page": 31,
        "end_page": 32,
        "page_count": 2,
        "content_md": "### 3.3.5.1 Interface Resets\n\nInterface resets that generate TCG reset events are defined in [4].\n\nInterface initiated TCG reset events SHALL result in:\n\n1. All open sessions SHALL be aborted;\n2. All uncommitted transactions SHALL be aborted;\n3. All pending session startup activities SHALL be aborted;\n4. All TCG command and response buffers SHALL be invalidated;\n5. All related method processing SHALL be aborted;  \n6. For each ComID, the state of the synchronous protocol stack SHALL transition to â€œAwaiting IF-SENDâ€ state;  \n7. No notification of these events SHALL be sent to the host.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“š TCG Opal Specification - Section 3.3.5.1: Interface Resets\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹**(Interface Reset)ì´ ë°œìƒí–ˆì„ ë•Œ, TCG Opal ì €ì¥ ì¥ì¹˜ê°€ ì–´ë–»ê²Œ ë°˜ì‘í•´ì•¼ í•˜ëŠ”ì§€ ì •ì˜í•©ë‹ˆë‹¤.  \nì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ì€ í•˜ìœ„ ì¥ì¹˜(ì˜ˆ: SSD)ê°€ í˜¸ìŠ¤íŠ¸(ì˜ˆ: ì»´í“¨í„°)ë¡œë¶€í„° ë¦¬ì…‹ ì‹ í˜¸ë¥¼ ë°›ê±°ë‚˜, í†µì‹  ì˜¤ë¥˜ë¡œ ì¸í•´ ê°•ì œë¡œ ì—°ê²°ì´ ì¬ì‹œì‘ë˜ëŠ” ìƒí™©ì„ ë§í•©ë‹ˆë‹¤.  \nì´ëŸ¬í•œ ë¦¬ì…‹ì€ **TCG ë¦¬ì…‹ ì´ë²¤íŠ¸**(TCG Reset Event)ë¥¼ ë°œìƒì‹œí‚¤ë©°, ì´ì— ë”°ë¼ ì €ì¥ ì¥ì¹˜ëŠ” ì¼ê´€ì„± ìˆëŠ” ìƒíƒœë¡œ ë³µê·€í•´ì•¼ í•˜ë©°, ë³´ì•ˆ ìœ„í˜‘ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ **ëª¨ë“  ì§„í–‰ ì¤‘ì¸ ì‘ì—…ì„ ì¤‘ë‹¨**í•˜ê³  ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\nì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´, ì €ì¥ ì¥ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ **ì¦‰ì‹œ ìˆ˜í–‰**í•´ì•¼ í•©ë‹ˆë‹¤:\n\n1. **ëª¨ë“  ì—´ë¦° ì„¸ì…˜ ì¢…ë£Œ** â†’ ì‚¬ìš©ìê°€ ì—°ê²°í•œ ëª¨ë“  ì„¸ì…˜(ì˜ˆ: ì•”í˜¸í™” í‚¤ ê´€ë¦¬ ì„¸ì…˜)ì€ ê°•ì œë¡œ ì¢…ë£Œë¨.\n2. **ë¯¸ì™„ë£Œ íŠ¸ëœì­ì…˜ ì¤‘ë‹¨** â†’ ì €ì¥ ì¥ì¹˜ì— ë‚¨ì•„ ìˆëŠ” ë¯¸ì™„ë£Œ ë°ì´í„°(ì˜ˆ: ì•”í˜¸í™” ì¤‘ì¸ ë°ì´í„°)ëŠ” ëª¨ë‘ ì·¨ì†Œë¨.\n3. **ì„¸ì…˜ ì‹œì‘ ëŒ€ê¸° ì‘ì—… ì¤‘ë‹¨** â†’ ìƒˆ ì„¸ì…˜ì„ ì‹œì‘í•˜ë ¤ëŠ” ì¤€ë¹„ ì‘ì—…(ì˜ˆ: ì¸ì¦ ê³¼ì •)ë„ ì¤‘ë‹¨ë¨.\n4. **ëª…ë ¹/ì‘ë‹µ ë²„í¼ ë¬´íš¨í™”** â†’ TCG ëª…ë ¹ì´ë‚˜ ì‘ë‹µì´ ì €ì¥ëœ ë²„í¼ëŠ” ëª¨ë‘ ì´ˆê¸°í™”ë¨.\n5. **ë©”ì„œë“œ ì²˜ë¦¬ ì¤‘ë‹¨** â†’ í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ëª¨ë“  ë©”ì„œë“œ(ì˜ˆ: SetPassphrase, Revert ë“±)ëŠ” ì¤‘ë‹¨ë¨.\n6. **ComIDë³„ í”„ë¡œí† ì½œ ìŠ¤íƒ ìƒíƒœ ì´ˆê¸°í™”** â†’ ê° í†µì‹  ID(ComID)ì— ëŒ€í•´ ë™ê¸° í”„ë¡œí† ì½œ ìŠ¤íƒì€ **â€œAwaiting IF-SENDâ€ ìƒíƒœ**ë¡œ ì „ì´ë¨. ì´ëŠ” ì¥ì¹˜ê°€ ë‹¤ì‹œ ëª…ë ¹ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤€ë¹„ ìƒíƒœì„ì„ ì˜ë¯¸í•¨.\n7. **í˜¸ìŠ¤íŠ¸ì— ì•Œë¦¼ ì—†ìŒ** â†’ ì´ ë¦¬ì…‹ ì´ë²¤íŠ¸ëŠ” í˜¸ìŠ¤íŠ¸ì— í†µë³´ë˜ì§€ ì•ŠìŒ â†’ í˜¸ìŠ¤íŠ¸ëŠ” ì¥ì¹˜ê°€ ë¦¬ì…‹ë˜ì—ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë©°, ì¥ì¹˜ëŠ” ììœ¨ì ìœ¼ë¡œ ìƒíƒœë¥¼ ë³µêµ¬.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡° ì •ì˜**ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŒ.  \ní•˜ì§€ë§Œ ê´€ë ¨ëœ ìƒíƒœ ì „ì´ì™€ ë²„í¼ ì²˜ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ì— ì˜í–¥ì„ ë¯¸ì¹¨:\n\n- **Session State Machine** (ì˜ˆ: Open, Closed, Awaiting Auth ë“±)\n- **Command/Response Buffers** (TCG ëª…ë ¹ê³¼ ì‘ë‹µì´ ì €ì¥ë˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­)\n- **Protocol Stack State per ComID** (ë™ê¸° í”„ë¡œí† ì½œ ìŠ¤íƒ ìƒíƒœ: Awaiting IF-SEND, Processing, etc.)\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ê°•ì œ ì¢…ë£Œ ìš”êµ¬ì‚¬í•­**: ë¦¬ì…‹ ì‹œ ëª¨ë“  ì„¸ì…˜ê³¼ íŠ¸ëœì­ì…˜ì€ **ê°•ì œ ì¤‘ë‹¨**ë˜ì–´ì•¼ í•¨.\n- **ë¬´íš¨í™” ìš”êµ¬ì‚¬í•­**: ëª…ë ¹/ì‘ë‹µ ë²„í¼ëŠ” **ë¬´íš¨í™”**ë˜ì–´ì•¼ í•˜ë©°, ì´ëŠ” ë°ì´í„° ìœ ì¶œ ë°©ì§€ì— ì¤‘ìš”.\n- **ìƒíƒœ ì´ˆê¸°í™” ìš”êµ¬ì‚¬í•­**: ê° ComIDì˜ í”„ë¡œí† ì½œ ìŠ¤íƒì€ **â€œAwaiting IF-SENDâ€ ìƒíƒœ**ë¡œ ë˜ì–´ì•¼ í•¨.\n- **ë¹„ì•Œë¦¼ ìš”êµ¬ì‚¬í•­**: í˜¸ìŠ¤íŠ¸ì— ì´ ë¦¬ì…‹ ì´ë²¤íŠ¸ë¥¼ **í†µë³´í•˜ì§€ ì•Šì•„ì•¼ í•¨** â†’ í˜¸ìŠ¤íŠ¸ëŠ” ì¥ì¹˜ê°€ ë¦¬ì…‹ë˜ì—ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\nì´ ì„¹ì…˜ì€ ë³´ì•ˆì„ ìœ„í•œ í•µì‹¬ì ì¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µ:\n\n- **ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥**: ë¯¸ì™„ë£Œ íŠ¸ëœì­ì…˜ê³¼ ë²„í¼ë¥¼ ë¬´íš¨í™”í•¨ìœ¼ë¡œì¨, **ë¶€ë¶„ì ìœ¼ë¡œ ì²˜ë¦¬ëœ ë°ì´í„°ê°€ ìœ ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€**.\n- **ì„¸ì…˜ ê³µê²© ë°©ì§€**: ë¦¬ì…‹ ì‹œ ëª¨ë“  ì„¸ì…˜ì´ ì¢…ë£Œë˜ë¯€ë¡œ, **ì•…ì˜ì ì¸ ì„¸ì…˜ ìœ ì§€ ê³µê²©**(Session Hijacking)ì„ ë§‰ìŒ.\n- **ììœ¨ì  ë³µêµ¬**: í˜¸ìŠ¤íŠ¸ì—ê²Œ ì•Œë¦¬ì§€ ì•Šê³  ì¥ì¹˜ê°€ ìŠ¤ìŠ¤ë¡œ ìƒíƒœë¥¼ ë³µêµ¬í•˜ë¯€ë¡œ, **í˜¸ìŠ¤íŠ¸ì˜ ì˜¤ì‘ë™ì´ë‚˜ ê³µê²©ì„ ë°©ì§€**.\n- **ë¹„ë™ê¸° ë¦¬ì…‹ ëŒ€ì‘**: ë¦¬ì…‹ì´ ë°œìƒí•˜ë”ë¼ë„ ì¥ì¹˜ëŠ” ì•ˆì •ì ì¸ ìƒíƒœë¡œ ëŒì•„ê°€ë©°, **ë³´ì•ˆ ì •ì±…ì„ ìœ„ë°˜í•˜ì§€ ì•ŠìŒ**.\n\n---\n\n## âœ… **ê²€ì¦ì„ ìœ„í•œ Test Case ì œì‹œ**\n\n### ğŸ§ª **Test Case ëª©í‘œ**\n\nì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ì´ ë°œìƒí–ˆì„ ë•Œ, ì¥ì¹˜ê°€ ì •ì˜ëœ 7ê°€ì§€ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ§ª **Test Case 1: ì„¸ì…˜ ì¢…ë£Œ í™•ì¸**\n\n#### ğŸ§­ ëª©ì \në¦¬ì…‹ í›„ **ëª¨ë“  ì„¸ì…˜ì´ ì¢…ë£Œë˜ì—ˆëŠ”ì§€** í™•ì¸.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì ˆì°¨\n1. `StartSession` ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ì„ ì—´ê¸°.\n2. ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ì„ ì‹œë®¬ë ˆì´ì…˜ (ì˜ˆ: SCSI Reset, ATA Device Reset).\n3. ë¦¬ì…‹ í›„ `GetSessionInfo` ë˜ëŠ” `StartSession`ì„ ì‹œë„í•˜ì—¬ ì„¸ì…˜ ìƒíƒœ í™•ì¸.\n\n#### ğŸ§ª ì˜ˆìƒ ê²°ê³¼\n- `StartSession` ì‹¤íŒ¨ (ERROR: Session already exists or invalid state).\n- `GetSessionInfo` ë°˜í™˜ê°’: ì„¸ì…˜ IDê°€ ì—†ê±°ë‚˜ ìƒíƒœê°€ \"Closed\".\n\n---\n\n### ğŸ§ª **Test Case 2: íŠ¸ëœì­ì…˜ ì¤‘ë‹¨ í™•ì¸**\n\n#### ğŸ§­ ëª©ì \në¦¬ì…‹ ì‹œ **ë¯¸ì™„ë£Œ íŠ¸ëœì­ì…˜ì´ ì¤‘ë‹¨ë˜ì—ˆëŠ”ì§€** í™•ì¸.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì ˆì°¨\n1. `SetPassphrase` ëª…ë ¹ì„ ì‹¤í–‰ ì¤‘ (ì¤‘ê°„ ìƒíƒœì—ì„œ ë¦¬ì…‹).\n2. ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹.\n3. ë¦¬ì…‹ í›„ `GetPassphrase` ë˜ëŠ” `SetPassphrase` ì¬ì‹œë„.\n\n#### ğŸ§ª ì˜ˆìƒ ê²°ê³¼\n- `SetPassphrase` ì‹¤íŒ¨ (ERROR: Invalid command state).\n- ì•”í˜¸í™” í‚¤ ë³€ê²½ë˜ì§€ ì•ŠìŒ (ê¸°ì¡´ í‚¤ ìœ ì§€).\n\n---\n\n### ğŸ§ª **Test Case 3: ComID í”„ë¡œí† ì½œ ìŠ¤íƒ ìƒíƒœ í™•ì¸**\n\n#### ğŸ§­ ëª©ì \nê° ComIDì˜ í”„ë¡œí† ì½œ ìŠ¤íƒì´ **â€œAwaiting IF-SENDâ€ ìƒíƒœ**ë¡œ ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì ˆì°¨\n1. ComIDë¥¼ ì‚¬ìš©í•´ ëª…ë ¹ì„ ë³´ë‚´ê³ , ë¦¬ì…‹.\n2. ë¦¬ì…‹ í›„ `SendCommand` ëª…ë ¹ì„ ë³´ë‚´ê³ , ì‘ë‹µ ìƒíƒœ í™•ì¸.\n\n#### ğŸ§ª ì˜ˆìƒ ê²°ê³¼\n- ì²« ë²ˆì§¸ ëª…ë ¹ì€ ì¦‰ì‹œ ì²˜ë¦¬ë˜ì§€ ì•Šê³ , â€œAwaiting IF-SENDâ€ ìƒíƒœì—ì„œ ëŒ€ê¸°.\n- ì¥ì¹˜ëŠ” ëª…ë ¹ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤€ë¹„ ìƒíƒœì„ì„ ë³´ì—¬ì¤Œ.\n\n---\n\n## ğŸ’» **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_interface_reset.py\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: TCG Opal ì¥ì¹˜ì— ì—°ê²°í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sda\")  # ì˜ˆì‹œ ì¥ì¹˜\n    yield client\n    client.close()\n\ndef test_interface_reset_aborts_sessions(opal_client):\n    \"\"\"ë¦¬ì…‹ í›„ ì„¸ì…˜ì´ ì¤‘ë‹¨ë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # 1. ì„¸ì…˜ ì‹œì‘\n    session_id = opal_client.start_session(\"admin\", \"password\")\n    assert session_id is not None, \"ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨\"\n\n    # 2. ì¸í„°í˜ì´ìŠ¤ ë¦¬ì…‹ ì‹œë®¬ë ˆì´ì…˜ (ì˜ˆ: SCSI RESET)\n    opal_client.simulate_interface_reset()  # ê°€ì •: ì¥ì¹˜ ë¦¬ì…‹ ë©”ì„œë“œ ì¡´ì¬\n\n    # 3. ì„¸ì…˜ ìƒíƒœ í™•ì¸ (ì¬ì‹œë„ ì‹œ ì‹¤íŒ¨í•´ì•¼ í•¨)\n    with pytest.raises(Exception) as exc_info:\n        opal_client.start_session(\"admin\", \"password\")\n    assert \"Session already exists\" in str(exc_info.value) or \"Invalid session state\" in str(exc_info.value)\n\ndef test_interface_reset_aborts_transactions(opal_client):\n    \"\"\"ë¦¬ì…‹ í›„ ë¯¸ì™„ë£Œ íŠ¸ëœì­ì…˜ì´ ì¤‘ë‹¨ë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # 1. SetPassphrase ì‹œì‘\n    opal_client.start_session(\"admin\", \"password\")\n    opal_client.set_passphrase(\"new_pass\", \"user\")  # ì¤‘ê°„ ìƒíƒœì—ì„œ ë¦¬ì…‹\n\n    # 2. ë¦¬ì…‹\n    opal_client.simulate_interface_reset()\n\n    # 3. íŠ¸ëœì­ì…˜ ìƒíƒœ í™•ì¸ (ë‹¤ì‹œ ì‹œë„ ì‹œ ì‹¤íŒ¨)\n    with pytest.raises(Exception) as exc_info:\n        opal_client.get_passphrase(\"user\")\n    assert \"Invalid state\" in str(exc_info.value) or \"Command failed\" in str(exc_info.value)\n\n    # 4. ê¸°ì¡´ í‚¤ ìœ ì§€ í™•ì¸ (ì˜µì…˜)\n    old_pass = opal_client.get_passphrase(\"user\")  # ê¸°ì¡´ í‚¤ ê°€ì ¸ì˜¤ê¸°\n    assert old_pass == \"old_pass\", \"í‚¤ê°€ ë³€ê²½ë¨ - íŠ¸ëœì­ì…˜ ì¤‘ë‹¨ ì‹¤íŒ¨\"\n\ndef test_interface_reset_reverts_protocol_stack(opal_client):\n    \"\"\"ë¦¬ì…‹ í›„ í”„ë¡œí† ì½œ ìŠ¤íƒ ìƒíƒœ í™•ì¸\"\"\"\n    # 1. ëª…ë ¹ ë³´ë‚´ê¸° ì‹œì‘\n    opal_client.start_session(\"admin\", \"password\")\n    opal_client.send_command(\"TestCommand\")  # ì¼ë¶€ ëª…ë ¹ ì‹¤í–‰ ì¤‘\n\n    # 2. ë¦¬ì…‹\n    opal_client.simulate_interface_reset()\n\n    # 3. ë¦¬ì…‹ í›„ ëª…ë ¹ ë³´ë‚´ê¸° (ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•¨)\n    response = opal_client.send_command(\"TestCommand\")\n    assert response.status == \"OK\", \"ë¦¬ì…‹ í›„ ëª…ë ¹ ì²˜ë¦¬ ì‹¤íŒ¨\"\n    # ì¥ì¹˜ê°€ ì¤€ë¹„ ìƒíƒœë¡œ ëŒì•„ì™”ëŠ”ì§€ í™•ì¸ (ì˜ˆ: ìƒíƒœ ì½”ë“œ í™•ì¸)\n    assert response.protocol_state == \"Awaiting IF-SEND\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ê¸°ëŒ€ ê²°ê³¼ |\n|------|-----------|-----------|\n| **ì„¸ì…˜ ìƒíƒœ** | `GetSessionInfo` ë˜ëŠ” `StartSession` ì‹œë„ | ì„¸ì…˜ ID ì—†ìŒ / ì˜¤ë¥˜ ë°˜í™˜ |\n| **íŠ¸ëœì­ì…˜ ìƒíƒœ** | `GetPassphrase`, `GetKey` ë“± ìƒíƒœ í™•ì¸ ëª…ë ¹ | ê¸°ì¡´ ë°ì´í„° ìœ ì§€ / ì˜¤ë¥˜ ë°˜í™˜ |\n| **ëª…ë ¹ ë²„í¼ ìƒíƒœ** | `SendCommand` í›„ ì‘ë‹µ ì½”ë“œ í™•ì¸ | `Invalid command state` ë˜ëŠ” `Command failed` |\n| **í”„ë¡œí† ì½œ ìŠ¤íƒ ìƒíƒœ** | ëª…ë ¹ í›„ `GetProtocolState` ë˜ëŠ” ì‘ë‹µ ìƒíƒœ í™•ì¸ | `Awaiting IF-SEND` ìƒíƒœ ë°˜í™˜ |\n| **í˜¸ìŠ¤íŠ¸ ì•Œë¦¼ ì—¬ë¶€** | í˜¸ìŠ¤íŠ¸ ë¡œê·¸ ë˜ëŠ” ë””ë²„ê¹… ë„êµ¬ í™•ì¸ | ë¦¬ì…‹ ì´ë²¤íŠ¸ ê´€ë ¨ ì•Œë¦¼ ì—†ìŒ |\n\n---\n\n## âœ… ê²°ë¡ \n\n**TCG Opalì˜ Interface Resets ì„¹ì…˜ì€ ì¥ì¹˜ì˜ ë³´ì•ˆì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜**ì…ë‹ˆë‹¤.  \në¦¬ì…‹ ë°œìƒ ì‹œ ì¥ì¹˜ëŠ” **ëª¨ë“  ì„¸ì…˜, íŠ¸ëœì­ì…˜, ì²˜ë¦¬ë¥¼ ê°•ì œ ì¢…ë£Œí•˜ê³ **, **ë²„í¼ë¥¼ ë¬´íš¨í™”í•˜ë©°**, **í”„ë¡œí† ì½œ ìŠ¤íƒì„ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ê³ **, **í˜¸ìŠ¤íŠ¸ì— ì•Œë¦¬ì§€ ì•ŠìŒ**ìœ¼ë¡œì¨, ë³´ì•ˆ ì •ì±…ì„ ìœ„ë°˜í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì•ˆì •ì ì¸ ìƒíƒœë¡œ ë³µêµ¬ë©ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ìš”êµ¬ì‚¬í•­ì€ **ë³´ì•ˆ ì €ì¥ ì¥ì¹˜ì˜ ì‹ ë¢°ì„±ê³¼ ê³µê²©ì— ëŒ€í•œ ì €í•­ë ¥**ì„ ë†’ì´ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ ì™„ë£Œ**  \nâœ… **Python + pytest ì½”ë“œ ì˜ˆì‹œ ì œê³µ**  \nâœ… **í…Œì´ë¸” ê¸°ë°˜ ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ**\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì— ë”°ë¼ `simulate_interface_reset()` ë“± ì‹¤ì œ ë¦¬ì…‹ì„ ìœ ë„í•˜ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•˜ë©°, ì¥ì¹˜ê°€ TCG Opal 2.30 ìŠ¤í™ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. (ì˜ˆ: SSD ì œì¡°ì—…ì²´ ê³µì‹ ë„êµ¬ ì‚¬ìš© ê¶Œì¥)"
    },
    {
        "section_order": 67,
        "level": 4,
        "section_id": "3.3.5.2",
        "section_key": "3.3.5.2 TCG Reset Events",
        "title": "TCG Reset Events",
        "start_page": 32,
        "end_page": 32,
        "page_count": 1,
        "content_md": "## 3.3.5.2 TCG Reset Events  \nTable 16 replaces the definition of TCG reset_types that are defined in [2]:  \n\n### Table 16 - reset_types",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 16"
        ],
        "section_table": [
            [
                "|-------------------|----------------------|",
                "| Enumeration value | Associated Value     |",
                "| 0                 | Power Cycle          |",
                "| 1                 | Hardware             |",
                "| 2                 | HotPlug              |",
                "| 3                 | Programmatic         |",
                "| 4-15              | Reserved             |",
                "| 16-31             | Vendor Unique        |"
            ]
        ],
        "summary": "**ì„¹ì…˜: 3.3.5.2 - TCG Reset Events**\n\n---\n\n## ğŸ” **1. ëª©ì **\n\nTCG Reset EventsëŠ” **TCG Opal í‘œì¤€**ì— ë”°ë¼ **ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œê°€ ë¦¬ì…‹(ì¬ì‹œì‘)ë˜ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ ìœ í˜•ì„ ì •ì˜**í•©ë‹ˆë‹¤.  \nì´ ì •ë³´ëŠ” **ë³´ì•ˆ ìƒíƒœ ì¶”ì , ì´ë²¤íŠ¸ ë¡œê¹…, ê³µê²© íƒì§€ ë° ë³µêµ¬ ì ˆì°¨**ì— ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë“œë¼ì´ë¸Œê°€ **ì „ì›ì„ ê»ë‹¤ê°€ ì¼°ëŠ”ì§€**, **í•˜ë“œì›¨ì–´ ë¦¬ì…‹ì´ì—ˆëŠ”ì§€**, **ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê°•ì œ ë¦¬ì…‹ë˜ì—ˆëŠ”ì§€**ë¥¼ êµ¬ë¶„í•¨ìœ¼ë¡œì¨ ë³´ì•ˆ ê´€ë¦¬ ì‹œìŠ¤í…œì´ ì ì ˆí•œ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **2. ì£¼ìš” ê¸°ëŠ¥**\n\n- **ë¦¬ì…‹ ìœ í˜•ì˜ í‘œì¤€í™”**: ì „ì› ì‚¬ì´í´, í•˜ë“œì›¨ì–´ ë¦¬ì…‹, í•«í”ŒëŸ¬ê·¸, í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ë“± ë‹¤ì–‘í•œ ë¦¬ì…‹ ë°©ì‹ì„ ìˆ«ìë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì¤€í™”.\n- **ì´ë²¤íŠ¸ ë¡œê¹…**: ë“œë¼ì´ë¸Œ ë‚´ë¶€ ë¡œê·¸ ë˜ëŠ” ì™¸ë¶€ ê´€ë¦¬ ì‹œìŠ¤í…œì— ë¦¬ì…‹ ìœ í˜•ì„ ê¸°ë¡í•˜ì—¬ ë³´ì•ˆ ì´ë²¤íŠ¸ ì¶”ì  ê°€ëŠ¥.\n- **ë³´ì•ˆ ì •ì±… ì ìš©**: íŠ¹ì • ë¦¬ì…‹ ìœ í˜•(ì˜ˆ: í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹)ì´ ë°œìƒí–ˆì„ ë•Œ, ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì•”í˜¸í™” í‚¤ë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ì ê¸ˆ ìƒíƒœë¡œ ì „í™˜ ê°€ëŠ¥.\n\n---\n\n## ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡°**\n\n**Table 16 - reset_types**ì€ ë‹¤ìŒê³¼ ê°™ì€ **enumeration value**ì™€ **Associated Value**ë¡œ êµ¬ì„±ëœ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n\n| Enumeration value | Associated Value     |\n|-------------------|----------------------|\n| 0                 | Power Cycle          |\n| 1                 | Hardware             |\n| 2                 | HotPlug              |\n| 3                 | Programmatic         |\n| 4-15              | Reserved             |\n| 16-31             | Vendor Unique        |\n\n- **Enumeration value**: 0ë¶€í„° 31ê¹Œì§€ì˜ 5ë¹„íŠ¸ ê°’ìœ¼ë¡œ í‘œí˜„ë¨ (32ê°œ ê°’).\n- **Associated Value**: ì‹¤ì œ ë¦¬ì…‹ ìœ í˜•ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸.\n\n> ğŸ’¡ ì´ ê°’ë“¤ì€ **TCG Opal ë“œë¼ì´ë¸Œì˜ ì´ë²¤íŠ¸ ë¡œê·¸**(ì˜ˆ: `Event Log`, `TCG Log`)ì— ê¸°ë¡ë˜ë©°, ê´€ë¦¬ ì‹œìŠ¤í…œì€ ì´ ê°’ì„ í•´ì„í•˜ì—¬ ì–´ë–¤ ë¦¬ì…‹ì´ ë°œìƒí–ˆëŠ”ì§€ íŒë‹¨í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **4. ìš”êµ¬ì‚¬í•­**\n\n- **ë“œë¼ì´ë¸ŒëŠ” ë¦¬ì…‹ ë°œìƒ ì‹œ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•´ì•¼ í•¨**: TCG Opal ë“œë¼ì´ë¸ŒëŠ” ë¦¬ì…‹ ìœ í˜•ì„ ê°ì§€í•˜ê³  ë¡œê·¸ì— ê¸°ë¡í•´ì•¼ í•¨.\n- **ì´ë²¤íŠ¸ ë¡œê·¸ ì ‘ê·¼ ê°€ëŠ¥**: ê´€ë¦¬ ì‹œìŠ¤í…œì€ `GetLog()` ë˜ëŠ” `GetEventLog()`ì™€ ê°™ì€ ëª…ë ¹ì„ í†µí•´ ë¡œê·¸ë¥¼ ì½ì„ ìˆ˜ ìˆì–´ì•¼ í•¨.\n- **ì •í™•í•œ ê°’ ì‚¬ìš©**: 0~3ì€ í‘œì¤€ ê°’, 4~15ëŠ” ì˜ˆì•½ë¨, 16~31ì€ ì œì¡°ì—…ì²´ê°€ ì •ì˜í•  ìˆ˜ ìˆìŒ.  \n  â†’ ì œì¡°ì—…ì²´ê°€ ì‚¬ìš©í•  ê²½ìš°, í•´ë‹¹ ê°’ì„ ë¬¸ì„œí™”í•´ì•¼ í•˜ë©°, í‘œì¤€ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ í˜¸í™˜ì„± ìœ ì§€ í•„ìš”.\n\n---\n\n## ğŸ” **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì´ë²¤íŠ¸ ë¡œê·¸ì˜ ë¬´ê²°ì„± ë³´ì¥**: ë¡œê·¸ëŠ” TCG Opal ë“œë¼ì´ë¸Œ ë‚´ë¶€ì— ì €ì¥ë˜ë©°, **ì•”í˜¸í™” ë˜ëŠ” ë””ì§€í„¸ ì„œëª…**ì„ í†µí•´ ë³€ì¡°ê°€ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ë³´í˜¸ë¨.\n- **ë¦¬ì…‹ ìœ í˜•ì— ë”°ë¥¸ ë³´ì•ˆ ì¡°ì¹˜**:\n  - **Programmatic Reset**(ê°’ 3)ì€ ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ê°•ì œë¡œ ë¦¬ì…‹í•œ ê²½ìš° â†’ ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ **ì•”í˜¸í™” í‚¤ ì‚­ì œ**, **ì‚¬ìš©ì ì„¸ì…˜ ì¢…ë£Œ**, **ë³´ì•ˆ ì ê¸ˆ** ë“± ì¡°ì¹˜ ê°€ëŠ¥.\n  - **Power Cycle**(ê°’ 0)ì€ ì¼ë°˜ì ì¸ ì „ì› ì¬ê°œ â†’ ë³´ì•ˆ ìƒíƒœ ìœ ì§€ ê°€ëŠ¥.\n- **ì´ë²¤íŠ¸ ë¡œê·¸ì˜ ì ‘ê·¼ ì œì–´**: ë¡œê·¸ ì½ê¸°ëŠ” **ì‚¬ìš©ì ì„¸ì…˜**(User Session) ë˜ëŠ” **ê´€ë¦¬ì ì„¸ì…˜**(Admin Session)ì—ì„œë§Œ ê°€ëŠ¥í•˜ë©°, ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° ì ‘ê·¼ ë¶ˆê°€.\n\n---\n\n## ğŸ§ª **6. ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### âœ… **Test Case 1: ë¦¬ì…‹ ìœ í˜• ê¸°ë¡ í™•ì¸ (Power Cycle)**\n\n**ëª©ì **: ë“œë¼ì´ë¸Œê°€ ì „ì›ì„ ë„ê³  ì¼°ì„ ë•Œ, ë¡œê·¸ì— `Power Cycle` (ê°’ 0)ì´ ê¸°ë¡ë˜ëŠ”ì§€ í™•ì¸.\n\n**ì ˆì°¨**:\n\n1. `StartSession`ìœ¼ë¡œ ê´€ë¦¬ì ì„¸ì…˜ì„ ìƒì„±.\n2. `GetEventLog()`ë¡œ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ì½ìŒ.\n3. ë“œë¼ì´ë¸Œ ì „ì›ì„ ë„ê³  ë‹¤ì‹œ ì¼œê¸° (Power Cycle).\n4. ë‹¤ì‹œ `GetEventLog()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆ ì´ë²¤íŠ¸ë¥¼ í™•ì¸.\n5. ì´ë²¤íŠ¸ì— `reset_type = 0`ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\nimport pytest\nfrom opal_library import OpalDrive  # ê°€ìƒì˜ Opal ë“œë¼ì´ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef drive():\n    drive = OpalDrive()\n    drive.start_session(admin_password=\"admin123\")\n    return drive\n\n@pytest.mark.parametrize(\"reset_type, expected_value\", [\n    (0, \"Power Cycle\"),\n    (1, \"Hardware\"),\n    (2, \"HotPlug\"),\n    (3, \"Programmatic\"),\n])\ndef test_reset_event_logging(drive, reset_type, expected_value):\n    # ë¦¬ì…‹ ìœ í˜•ì„ ì‹œë®¬ë ˆì´ì…˜ (ì˜ˆ: ì „ì› ì¬ì‹œì‘, í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ë“±)\n    drive.simulate_reset(reset_type)\n\n    # ì´ë²¤íŠ¸ ë¡œê·¸ ì½ê¸°\n    events = drive.get_event_log()\n\n    # ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ì˜ reset_typeì´ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\n    last_event = events[-1]\n    assert last_event[\"reset_type\"] == reset_type\n    assert last_event[\"reset_description\"] == expected_value\n\n    # ë¡œê·¸ì— í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ì¡´ì¬í•¨ì„ í™•ì¸\n    assert len(events) > 0\n```\n\n> ğŸ’¡ `simulate_reset()`ì€ ì‹¤ì œ í•˜ë“œì›¨ì–´ ë¦¬ì…‹ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” í•¨ìˆ˜. ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì „ì› ì¬ì‹œì‘, í•«í”ŒëŸ¬ê·¸ ë“±ì„ ìˆ˜í–‰í•´ì•¼ í•¨.\n\n---\n\n### âœ… **Test Case 2: í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ í›„ ë³´ì•ˆ ìƒíƒœ í™•ì¸**\n\n**ëª©ì **: `Programmatic Reset`ì´ ë°œìƒí–ˆì„ ë•Œ, ë“œë¼ì´ë¸Œê°€ ì •ì±…ì— ë”°ë¼ **ë³´ì•ˆ ìƒíƒœë¥¼ ì´ˆê¸°í™”**í–ˆëŠ”ì§€ í™•ì¸.\n\n**ì ˆì°¨**:\n\n1. ì‚¬ìš©ì ì„¸ì…˜ì„ ì‹œì‘.\n2. `Revert()` ëª…ë ¹ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ìˆ˜í–‰ (TCG Opal ëª…ë ¹ì–´).\n3. ì„¸ì…˜ ìƒíƒœ í™•ì¸ â†’ ì„¸ì…˜ì´ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸.\n4. `GetEventLog()`ë¡œ ë¦¬ì…‹ ì´ë²¤íŠ¸ í™•ì¸ â†’ `reset_type = 3` (Programmatic) ì—¬ë¶€ ê²€ì¦.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_programmatic_reset_clears_session(drive):\n    # ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘\n    drive.start_session(user_password=\"user123\")\n\n    # í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ìˆ˜í–‰\n    drive.revert()  # TCG Opal ëª…ë ¹ì–´\n\n    # ì„¸ì…˜ ìƒíƒœ í™•ì¸ (ë¡œê·¸ì¸ ìƒíƒœê°€ í•´ì œë˜ì–´ì•¼ í•¨)\n    with pytest.raises(Exception, match=\"Session not active\"):\n        drive.get_user_session_status()\n\n    # ì´ë²¤íŠ¸ ë¡œê·¸ í™•ì¸\n    events = drive.get_event_log()\n    last_event = events[-1]\n    assert last_event[\"reset_type\"] == 3\n    assert last_event[\"reset_description\"] == \"Programmatic\"\n```\n\n---\n\n### âœ… **Test Case 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦**\n\n**ëª©ì **: Table 16ì˜ ê°’ì´ ì •í™•í•˜ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸. ì˜ˆ: 0~3ì€ í‘œì¤€, 4~15ëŠ” ì˜ˆì•½, 16~31ì€ ì œì¡°ì‚¬ ì •ì˜.\n\n**ì ˆì°¨**:\n\n- ë“œë¼ì´ë¸Œì—ì„œ ë¦¬ì…‹ ì´ë²¤íŠ¸ë¥¼ ìœ ë„í•˜ê³ , `reset_type` ê°’ì„ ì½ìŒ.\n- ì½ì€ ê°’ì´ í…Œì´ë¸” ë²”ìœ„ì— ë§ëŠ”ì§€ ê²€ì¦.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_reset_type_table_compliance(drive):\n    # ëª¨ë“  ê°€ëŠ¥í•œ reset_type ì‹œë®¬ë ˆì´ì…˜\n    for reset_type in range(32):\n        if reset_type < 4:\n            expected = [\"Power Cycle\", \"Hardware\", \"HotPlug\", \"Programmatic\"][reset_type]\n            drive.simulate_reset(reset_type)\n            events = drive.get_event_log()\n            last_event = events[-1]\n            assert last_event[\"reset_type\"] == reset_type\n            assert last_event[\"reset_description\"] == expected\n        elif reset_type <= 15:\n            drive.simulate_reset(reset_type)\n            events = drive.get_event_log()\n            last_event = events[-1]\n            assert last_event[\"reset_type\"] == reset_type\n            assert last_event[\"reset_description\"] == \"Reserved\"  # ë˜ëŠ” ì œì¡°ì‚¬ê°€ ì •ì˜í•œ ê°’\n        else:  # 16-31\n            drive.simulate_reset(reset_type)\n            events = drive.get_event_log()\n            last_event = events[-1]\n            assert last_event[\"reset_type\"] == reset_type\n            assert last_event[\"reset_description\"].startswith(\"Vendor:\")  # ì œì¡°ì‚¬ ì •ì˜ í˜•ì‹\n```\n\n---\n\n## ğŸ“Œ **7. ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n- **TCG Reset Events**ëŠ” ë“œë¼ì´ë¸Œ ë¦¬ì…‹ ì‹œ ë°œìƒí•œ ì´ë²¤íŠ¸ ìœ í˜•ì„ í‘œì¤€í™”í•œ ê²ƒìœ¼ë¡œ, ë³´ì•ˆ ë¡œê¹… ë° ê³µê²© íƒì§€ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n- **Table 16**ì€ 0~31ê¹Œì§€ì˜ ê°’ìœ¼ë¡œ ë¦¬ì…‹ ìœ í˜•ì„ ì •ì˜í•˜ë©°, 0~3ì€ í‘œì¤€, 4~15ëŠ” ì˜ˆì•½, 16~31ì€ ì œì¡°ì‚¬ê°€ ì‚¬ìš© ê°€ëŠ¥.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ìœ¼ë¡œëŠ” ì´ë²¤íŠ¸ ë¡œê·¸ì˜ ë¬´ê²°ì„± ë³´ì¥, ë¦¬ì…‹ ìœ í˜•ì— ë”°ë¥¸ ìë™ ë³´ì•ˆ ì¡°ì¹˜(ì˜ˆ: ì„¸ì…˜ ì¢…ë£Œ, í‚¤ ì‚­ì œ)ê°€ í¬í•¨ë©ë‹ˆë‹¤.\n- **ê²€ì¦ ë°©ë²•**ìœ¼ë¡œëŠ” `StartSession`, `Revert`, `GetEventLog` ë“± TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ì‹¤ì œ ë¦¬ì…‹ í›„ ë¡œê·¸ë¥¼ ì½ê³ , `reset_type` ê°’ì´ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n- **Python + pytest**ë¥¼ í†µí•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ë„ í¬í•¨ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: TCG Reset EventsëŠ” ë“œë¼ì´ë¸Œ ë³´ì•ˆ ë¡œê¹…ì˜ í•µì‹¬ ìš”ì†Œì´ë©°, í‘œì¤€í™”ëœ ë¦¬ì…‹ ìœ í˜•ì„ ê¸°ë°˜ìœ¼ë¡œ ë³´ì•ˆ ì´ë²¤íŠ¸ë¥¼ ì •í™•íˆ ì¶”ì í•˜ê³  ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì´ˆë³´ìë„ ì´ í…Œì´ë¸”ì„ ì´í•´í•˜ë©´ ë“œë¼ì´ë¸Œì˜ ë¦¬ì…‹ ì´ë²¤íŠ¸ë¥¼ í•´ì„í•˜ê³ , ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n--- \n\n> ğŸ“ ì°¸ê³ : ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ TCG Opal ë“œë¼ì´ë¸Œ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: `pyopal`, `libopal`)ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, `simulate_reset()`ì€ ì‹¤ì œ í•˜ë“œì›¨ì–´ ì¡°ì‘ì„ ëª¨ì˜í•˜ëŠ” ê°€ìƒ í•¨ìˆ˜ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 68,
        "level": 3,
        "section_id": "3.3.6",
        "section_key": "3.3.6 Protocol Stack Reset Commands (M)",
        "title": "Protocol Stack Reset Commands (M)",
        "start_page": 32,
        "end_page": 32,
        "page_count": 1,
        "content_md": "## 3.3.6 Protocol Stack Reset Commands (M)  \nAn IF-SEND containing a Protocol Stack Reset Command SHALL be supported.  \nRefer to [2] for details.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 3.3.6 Protocol Stack Reset Commands (M)  \nAn IF-SEND containing a Protocol Stack Reset Command SHALL be supported.  \nRefer to [2] for details."
    },
    {
        "section_order": 69,
        "level": 1,
        "section_id": "",
        "section_key": "Bit",
        "title": "Bit",
        "start_page": 19,
        "end_page": 20,
        "page_count": 2,
        "content_md": "## 3 Opal SSC Features\n\n## 3.1 Security Protocol 1 Support\n\n## 3.1.1 Level 0 Discovery (M)\n\nRefer to [2] for more details.\n\nAn Opal SSC compliant Storage Device SHALL return the following Level 0 response:\n\n- Level 0 Discovery Header (see Table 2)\n- TPer feature descriptor (see Table 3)\n- Locking feature descriptor (see Table 4)\n- Opal SSC V2 feature descriptor (see Table 6)\n\nAdditionally, an Opal SSC compliant Storage Device MAY return the following Level 0 response:\n\n- Geometry Reporting feature descriptor (see Table 5)\n- Supported Data Removal Mechanism feature descriptor (see Table 8)\n\n## 3.1.1.1 Level 0 Discovery Header\n\n### Table 2 - Level 0 Discovery Header\n\n**Length of Parameter Data**  \n**Data structure revision**  \n**Reserved**  \n**Vendor Specific**\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n\n- Length of parameter data = VU\n- Data structure revision = 0x00000001 or any version that supports the defined features in this SSC\n- Vendor Specific = VU\n### Table 2 - Level 0 Discovery Header (continued)\n\n## 3.1.1.2 TPer Feature (Feature Code = 0x0001)\n\n### Table 3 - Level 0 Discovery - TPer Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0001\n- Version = 0x1 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- ComID Mgmt Supported = VU\n- Streaming Supported = 1\n- Buffer Mgmt Supported = VU\n- ACK/NAK Supported = VU\n- Async Supported = VU\n- Sync Supported = 1\n\n## 3.1.1.3 Locking Feature (Feature Code = 0x0002)\n\n** means the present current state of the respective feature\n\n### Table 4 - Level 0 Discovery - Locking Feature Descriptor",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ TCG Opal SSC v2.30 ë¬¸ì„œì˜ **Section 3.1.1: Level 0 Discovery**ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ **\"Bit\" ì„¹ì…˜**ì— ëŒ€í•œ ì •ë³´ëŠ” ë³¸ë¬¸ì— ì „í˜€ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.\n\në¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ \"Bit\"ì´ë¼ëŠ” ìš©ì–´ëŠ” íŠ¹ì • ì„¹ì…˜ ì œëª©ì´ ì•„ë‹ˆë¼, ì¼ë°˜ì ìœ¼ë¡œ **ë¹„íŠ¸(Bit)** ë¥¼ ì˜ë¯¸í•˜ëŠ” ê¸°ìˆ  ìš©ì–´ì¼ ìˆ˜ ìˆìœ¼ë‚˜, ë³¸ë¬¸ì˜ êµ¬ì¡°ë‚˜ í…Œì´ë¸”ì—ì„œ \"Bit\" ì„¹ì…˜ì´ ëª…ì‹œì ìœ¼ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë˜í•œ, **Table 2, Table 3, Table 4** ë“±ì— í¬í•¨ëœ í•„ë“œë“¤ì€ ëŒ€ë¶€ë¶„ ë°”ì´íŠ¸(Byte) ë˜ëŠ” ì›Œë“œ(Word) ë‹¨ìœ„ë¡œ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ê°œë³„ ë¹„íŠ¸(Bit) ë‹¨ìœ„ì˜ ì„¤ëª…ì€ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, Table 3ì˜ `Streaming Supported = 1`ì´ë‚˜ `Sync Supported = 1`ê³¼ ê°™ì€ í•­ëª©ì€ ë¹„íŠ¸(1ë¹„íŠ¸)ë¡œ í‘œí˜„ë  ìˆ˜ ìˆìœ¼ë‚˜, ë¬¸ì„œëŠ” í•´ë‹¹ ë¹„íŠ¸ì˜ **ëª…ëª…ë²•, ìœ„ì¹˜, ì˜ë¯¸, ìš”êµ¬ì‚¬í•­** ë“±ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©°, ë‹¨ì§€ ê°’ì„ '1' ë˜ëŠ” 'VU' (Vendor Undefined)ë¡œ ê¸°ì¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ **ë¹„íŠ¸(Bit) ë‹¨ìœ„ì˜ êµ¬ì¡°, ëª©ì , ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­** ë“±ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ì€ ë¬¸ì„œì—ì„œ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ (ë¹„íŠ¸ ê¸°ë°˜ ê²€ì¦ ë¶ˆê°€)\n\n- **Test Case ì œì•ˆ**: ë¹„íŠ¸ ë‹¨ìœ„ì˜ ê²€ì¦ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ëŠ” ë¬¸ì„œì— ëª…ì‹œëœ ë¹„íŠ¸ í•„ë“œê°€ ì—†ê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n- **Python + pytest ì˜ˆì‹œ**: ë¹„íŠ¸ í•„ë“œê°€ ì—†ìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **TCG Opal ëª…ë ¹ì–´ ê²€ì¦**: StartSession, Revert ë“±ì€ Level 0 Discoveryì™€ ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìœ¼ë©°, ë¹„íŠ¸ ë‹¨ìœ„ ê²€ì¦ê³¼ë„ ë¬´ê´€í•©ë‹ˆë‹¤.\n- **í…Œì´ë¸” ë°ì´í„° ê²€ì¦**: Table 2, 3, 4ì˜ í•„ë“œëŠ” ë¹„íŠ¸ ë‹¨ìœ„ê°€ ì•„ë‹Œ ë°”ì´íŠ¸ ë˜ëŠ” ì›Œë“œ ë‹¨ìœ„ë¡œ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ë¹„íŠ¸ ê¸°ë°˜ ê²€ì¦ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\në¬¸ì„œì—ì„œ \"Bit\" ì„¹ì…˜ì´ ëª…ì‹œë˜ì–´ ìˆì§€ ì•Šìœ¼ë©°, ë¹„íŠ¸ ë‹¨ìœ„ì˜ ë°ì´í„° êµ¬ì¡°ë‚˜ ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì— ëŒ€í•œ ì„¤ëª…ë„ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ìš”ì²­ì— ëŒ€í•´ \"ë‚´ìš©ì—†ìŒ\"ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥:**\n\n**ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 70,
        "level": 1,
        "section_id": "",
        "section_key": "Bit",
        "title": "Bit",
        "start_page": 20,
        "end_page": 20,
        "page_count": 1,
        "content_md": "### Table 2 - Level 0 Discovery Header (continued)\n\n## 3.1.1.2 TPer Feature (Feature Code = 0x0001)\n\n### Table 3 - Level 0 Discovery - TPer Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0001\n- Version = 0x1 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- ComID Mgmt Supported = VU\n- Streaming Supported = 1\n- Buffer Mgmt Supported = VU\n- ACK/NAK Supported = VU\n- Async Supported = VU\n- Sync Supported = 1\n\n## 3.1.1.3 Locking Feature (Feature Code = 0x0002)\n\n** means the present current state of the respective feature\n\n### Table 4 - Level 0 Discovery - Locking Feature Descriptor",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n**ì„¤ëª…:**\n\nì œê³µëœ ë³¸ë¬¸ì€ TCG Opal SSC v2.30 ë¬¸ì„œì˜ ì¼ë¶€ë¡œ, ì£¼ë¡œ **Level 0 Discovery** ë‹¨ê³„ì—ì„œ ë°˜í™˜ë˜ì–´ì•¼ í•˜ëŠ” **TPer Feature (Feature Code = 0x0001)** ë° **Locking Feature (Feature Code = 0x0002)** ì— ëŒ€í•œ ì‚¬ì–‘ì„ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ **Locking Feature Descriptor (Table 4)** ì— ëŒ€í•œ ì‹¤ì œ ë‚´ìš©(ì˜ˆ: í•„ë“œ ì •ì˜, ë°ì´í„° êµ¬ì¡°, ë¹„íŠ¸ ì˜ë¯¸ ë“±)ì€ ë³¸ë¬¸ì—ì„œ **ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë˜í•œ, **ì´ë¯¸ì§€ ì—†ìŒ**ì´ë¼ëŠ” í‘œì‹œê°€ ìˆì–´, Table 4ì˜ êµ¬ì¡°ë‚˜ ë¹„íŠ¸ ì •ì˜ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì°¸ì¡°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n**ì´ˆë³´ììš© ì„¤ëª… (ì´ë¡ ì  ì„¤ëª…):**\n\nTCG Opal í‘œì¤€ì—ì„œëŠ” ì €ì¥ ì¥ì¹˜ê°€ ìë™ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ **Discovery** ë‹¨ê³„ì—ì„œ ê³µê°œí•©ë‹ˆë‹¤. ì´ëŠ” ì¥ì¹˜ì— ì—°ê²°ëœ ì†Œí”„íŠ¸ì›¨ì–´(ì˜ˆ: ê´€ë¦¬ ë„êµ¬, OS ë“œë¼ì´ë²„)ê°€ ì¥ì¹˜ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ê³¼ì •ì…ë‹ˆë‹¤.\n\n- **TPer Feature (Feature Code = 0x0001)** ëŠ” ì¥ì¹˜ê°€ TPer(Transport Protocol Entity)ë¥¼ í†µí•´ ì–´ë–¤ ì „ì†¡ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n  - ì˜ˆ: Streaming ì§€ì› ì—¬ë¶€, ACK/NAK ì§€ì› ì—¬ë¶€, ë¹„ë™ê¸°/ë™ê¸° ì²˜ë¦¬ ì§€ì› ì—¬ë¶€ ë“±.\n  - ì´ëŠ” **í†µì‹  í”„ë¡œí† ì½œ ìˆ˜ì¤€ì˜ ê¸°ëŠ¥**ì„ ì„¤ëª…í•˜ë©°, ì‹¤ì œ ë³´ì•ˆ ê¸°ëŠ¥ë³´ë‹¤ëŠ” **í†µì‹  ì¸í„°í˜ì´ìŠ¤**ì— ê´€í•œ ì‚¬í•­ì…ë‹ˆë‹¤.\n\n- **Locking Feature (Feature Code = 0x0002)** ëŠ” ì¥ì¹˜ì˜ **ë³´ì•ˆ ì ê¸ˆ ê¸°ëŠ¥**ì„ ì„¤ëª…í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.\n  - ì˜ˆ: ì‚¬ìš©ì/ê´€ë¦¬ì ì•”í˜¸, ë³µí˜¸í™” í‚¤, ì•”í˜¸í™” ìƒíƒœ, ì ê¸ˆ/ì ê¸ˆ í•´ì œ ìƒíƒœ ë“±.\n  - í•˜ì§€ë§Œ ë³¸ë¬¸ì—ì„œëŠ” ì´ í…Œì´ë¸”ì˜ êµ¬ì¡°ë‚˜ ê° ë¹„íŠ¸ì˜ ì˜ë¯¸ê°€ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n**ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë¶„ì„:**\n\n- **TPer Feature**: ëª…ì‹œëœ í•„ë“œê°€ ìˆì§€ë§Œ, Locking Featureì— ë¹„í•´ êµ¬ì¡°ê°€ ëª…í™•í•©ë‹ˆë‹¤. ë¹„íŠ¸ë³„ ì˜ë¯¸ëŠ” ëª…í™•í•˜ì§€ ì•Šì§€ë§Œ, ê° ê¸°ëŠ¥ì´ 1 ë˜ëŠ” 0(ì§€ì› ì—¬ë¶€)ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ê³¼ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìœ¼ë©°, ë³´ì•ˆ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ **í†µì‹  ê¸°ë°˜ ì§€ì›**ì— í•´ë‹¹í•©ë‹ˆë‹¤.\n\n- **Locking Feature**: **Table 4ì˜ ë‚´ìš©ì´ ì œê³µë˜ì§€ ì•Šì•„** ë°ì´í„° êµ¬ì¡°, ë¹„íŠ¸ ì •ì˜, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì„ ì„¤ëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤:\n  - ì‚¬ìš©ì/ê´€ë¦¬ì ì¡´ì¬ ì—¬ë¶€\n  - ì•”í˜¸í™” ìƒíƒœ (ì˜ˆ: ì•”í˜¸í™” í™œì„±í™”, ë¹„í™œì„±í™”)\n  - ì ê¸ˆ ëª¨ë“œ (ì˜ˆ: ì ê¸ˆ, ì ê¸ˆ í•´ì œ)\n  - í‚¤ ë³µêµ¬ ë˜ëŠ” ë³µêµ¬ ëª¨ë“œ ì§€ì› ì—¬ë¶€\n  - í‚¤ ë³€ê²½ ë˜ëŠ” ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€\n\n---\n\n**Test Case ì œì‹œ (ê²€ì¦ ë¶ˆê°€ëŠ¥):**\n\n- **TPer Feature (Feature Code = 0x0001)** ì— ëŒ€í•´ì„œëŠ” ëª…ì‹œëœ í•„ë“œê°€ ìˆìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n- í•˜ì§€ë§Œ **Locking Feature (Feature Code = 0x0002)** ëŠ” Table 4ì˜ êµ¬ì¡°ê°€ ì—†ìœ¼ë¯€ë¡œ **ê²€ì¦í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n\n---\n\n**Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (TPer Featureë§Œ ê°€ëŠ¥):**\n\n```python\nimport pytest\nfrom opal_commands import start_session, send_command, parse_response  # ê°€ì •ëœ ëª¨ë“ˆ\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"OPAL ì¥ì¹˜ì— ì—°ê²°ëœ ì„¸ì…˜ì„ ìƒì„±\"\"\"\n    session = start_session(device_id=\"00:11:22:33:44:55\", password=\"admin123\")\n    yield session\n    session.close()\n\ndef test_tper_feature_descriptor(opal_device):\n    \"\"\"TPer Feature Descriptor ê²€ì¦ (Feature Code = 0x0001)\"\"\"\n    # Level 0 Discovery ìš”ì²­\n    response = send_command(opal_device, command=\"DISCOVERY\", level=0)\n    assert response.status == \"SUCCESS\"\n\n    # Feature Code 0x0001 ê²€ìƒ‰\n    tper_feature = None\n    for feature in response.features:\n        if feature.feature_code == 0x0001:\n            tper_feature = feature\n            break\n\n    assert tper_feature is not None, \"TPer Feature not found in Discovery response\"\n\n    # í•„ë“œ ê²€ì¦\n    assert tper_feature.version >= 0x1, \"Version must be 0x1 or higher\"\n    assert tper_feature.length == 0x0C, \"Length must be 0x0C\"\n    assert tper_feature.streaming_supported == 1, \"Streaming must be supported\"\n    assert tper_feature.sync_supported == 1, \"Sync must be supported\"\n    # VU (Vendor Unique) í•„ë“œëŠ” ì œì¡°ì‚¬ì— ë”°ë¼ ë‹¤ë¦„. ê²€ì¦ ë¶ˆê°€ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì‹œ ë¬´ì‹œ ê°€ëŠ¥\n```\n\n---\n\n**í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• (Locking Featureì— ëŒ€í•´):**\n\n- **Table 4ì˜ êµ¬ì¡°ê°€ ì œê³µë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—**, ë°ì´í„° ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n- ì¼ë°˜ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤:\n  1. Discovery ì‘ë‹µì—ì„œ Feature Code 0x0002ë¥¼ ì°¾ìŠµë‹ˆë‹¤.\n  2. ê° í•„ë“œ(ì˜ˆ: Locking State, User Count, Admin State ë“±)ë¥¼ í•´ì„í•©ë‹ˆë‹¤.\n  3. ì˜ˆìƒê°’ê³¼ ë¹„êµí•˜ì—¬ ê²€ì¦í•©ë‹ˆë‹¤ (ì˜ˆ: Locking State = 0x01 -> ì ê¸ˆ í•´ì œ ìƒíƒœ).\n  4. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ íŠ¹ì • ì¡°ê±´(ì˜ˆ: ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€, ì•”í˜¸í™” ìƒíƒœ ë“±)ì„ ì„¤ì •í•˜ê³ , Discovery ê²°ê³¼ê°€ í•´ë‹¹ ìƒíƒœë¥¼ ë°˜ì˜í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\nâœ… **ê²°ë¡ :**\n\n- **TPer Feature (0x0001)** ëŠ” êµ¬ì¡°ê°€ ëª…í™•í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.\n- **Locking Feature (0x0002)** ëŠ” **Table 4ì˜ êµ¬ì¡°ê°€ ì œê³µë˜ì§€ ì•Šì•„ ì„¤ëª… ë° ê²€ì¦ ë¶ˆê°€ëŠ¥**.\n- ë”°ë¼ì„œ **\"ë‚´ìš©ì—†ìŒ\"** ìœ¼ë¡œ ì²˜ë¦¬.\n\n---\n\nğŸ“Œ **ì°¸ê³ :**\nì´ëŸ¬í•œ ìƒí™©ì€ ë¬¸ì„œì˜ íŠ¹ì • ì„¹ì…˜ì´ ëˆ„ë½ë˜ì—ˆê±°ë‚˜, ì´ë¯¸ì§€/í…Œì´ë¸”ì´ ì œê³µë˜ì§€ ì•Šì€ ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤. TCG Opal ë¬¸ì„œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” í•­ìƒ **ì „ì²´ ë¬¸ì„œ**ë¥¼ í™•ì¸í•˜ê³ , í•´ë‹¹ í…Œì´ë¸”ì´ í¬í•¨ëœ í˜ì´ì§€ë¥¼ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. íŠ¹íˆ, **Locking Feature Descriptor**ëŠ” Opal ë³´ì•ˆì˜ í•µì‹¬ì´ë¯€ë¡œ, ë¬¸ì„œì˜ ë‹¤ë¥¸ ì„¹ì…˜(ì˜ˆ: 3.2, 3.3)ì—ì„œ ë‹¤ì‹œ í™•ì¸í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 71,
        "level": 1,
        "section_id": "",
        "section_key": "Bit",
        "title": "Bit",
        "start_page": 20,
        "end_page": 33,
        "page_count": 14,
        "content_md": "### Table 2 - Level 0 Discovery Header (continued)\n\n## 3.1.1.2 TPer Feature (Feature Code = 0x0001)\n\n### Table 3 - Level 0 Discovery - TPer Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0001\n- Version = 0x1 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- ComID Mgmt Supported = VU\n- Streaming Supported = 1\n- Buffer Mgmt Supported = VU\n- ACK/NAK Supported = VU\n- Async Supported = VU\n- Sync Supported = 1\n\n## 3.1.1.3 Locking Feature (Feature Code = 0x0002)\n\n** means the present current state of the respective feature\n\n### Table 4 - Level 0 Discovery - Locking Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0002\n- Version = 0x3 or any version that supports the defined features in this SSC\n- Length = 0x0C\n- HW Reset for LOR/DOR Supported = VU\n- MBR Shadowing Not Supported = 0\n  - MBR Shadowing feature SHALL be supported. See section 4.3.5.4.\n- MBR Done = **\n- MBR Enabled = **\n- Media Encryption = 1\n- Locked = **\n- Locking Enabled = See section 3.1.1.3.1\n- Locking Supported = 1\n\n## 3.1.1.3.1 LockingEnabled Definition\nThe definition of the LockingEnabled bit is changed from [2] as follows:\nThe LockingEnabled bit SHALL be set to one if an SP that incorporates the Locking template is in any state other than Nonexistent or Manufactured-Inactive; otherwise, the LockingEnabled bit SHALL be set to zero.\n\n## 3.1.1.4 Geometry Reporting Feature (Feature Code = 0x0003)\n\n### 3.1.1.4.1 Overview\nThis information indicates support for logical block and physical block geometry. This feature MAY be returned in the Level 0 Discovery response. See [2] for additional information.\n\n## Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor\n\n### Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor (continued)\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0003\n- Version = 0x01\n- Length = 0x1C\n\n## 3.1.1.4.2 ALIGN\nIf the value of the AlignmentRequired column of the LockingInfo table is TRUE, then the ALIGN bit shall be set to one. If the value of the AlignmentRequired column of the LockingInfo table is FALSE, then the ALIGN bit shall be cleared to zero.\n\n## 3.1.1.4.3 LogicalBlockSize\nLogicalBlockSize SHALL be set to the value of the LogicalBlockSize column in the LockingInfo table.\n\n## 3.1.1.4.4 AlignmentGranularity\nAlignmentGranularity SHALL be set to the value of the AlignmentGranularity column in the LockingInfo table.\n\n## 3.1.1.4.5 LowestAlignedLBA\nLowestAlignedLBA SHALL be set to the value of the LowestAlignedLBA column in the LockingInfo table.\n### Table 5 - Level 0 Discovery - Geometry Reporting Feature Descriptor (continued) (continued)\n\n## 3.1.1.5 Opal SSC V2 Feature (Feature Code = 0x0203)\n\n### Table 6 - Level 0 Discovery - Opal SSC V2 Feature Descriptor\n\nAn Opal SSC compliant Storage Device SHALL return the following:\n- Feature Code = 0x0203\n- Feature Descriptor Version Number = 0x2 or any version that supports the defined features in this SSC\n- SSC Minor Version Number = As specified in Table 7\n- Length = 0x10\n- Base ComID = VU\n- Number of ComIDs = 0x0001 or larger\n- Range Crossing Behavior = VU\n  - 0 = The Storage Device supports commands addressing consecutive LBAs in more than one LBA range if all the LBA ranges addressed are unlocked. See section 4.3.7.\n  - 1 = The Storage Device terminates commands addressing consecutive LBAs in more than one LBA range. See 4.3.7.\n- Number of Locking SP Admin Authorities = 4 or larger\n- Number of Locking SP User Authorities = 8 or larger\n- Initial C_PIN_SID PIN Indicator = VU\n  - 0x00 = The initial C_PIN_SID PIN value is equal to the C_PIN_MSID PIN value\n  - 0xFF = The initial C_PIN_SID PIN value is VU, and MAY not be equal to the C_PIN_MSID PIN value\n  - 0x01 â€“ 0xFE = Reserved\n- Behavior of C_PIN_SID PIN upon TPer Revert = VU\n### Table 7 (continued)\n\n- 0x00 = The C_PIN_SID PIN value becomes the value of the C_PIN_MSID PIN column after successful invocation of Revert on the Admin SPâ€™s object in the SP table\n- 0xFF = The C_PIN_SID PIN value changes to a VU value after successful invocation of Revert on the Admin SPâ€™s object in the SP table, and MAY not be equal to the C_PIN_MSID PIN value\n- 0x01 â€“ 0xFE = Reserved\n\n## Table 7 - SSC Minor Versions\n\nIf an Opal v2.00 SSC implementation is backward compatible with Opal v1.00, then the Storage Device SHALL also report the Opal SSC feature descriptor as defined in [5].\n\n**Start of Informative Comment**  \nAn Opal v2.00 implementation is backward compatible to Opal v1.00 only if the geometry reported by the Geometry Reporting feature does not specify any alignment restrictions (i.e. ALIGN = FALSE, see section 3.1.1.4.2), and if the TPer does not specify any granularity restrictions for byte tables (i.e. MandatoryWriteGranularity = 1 for all byte tables, see section 5.3.1.1), and if the â€œInitial C_PIN_SID PIN Indicatorâ€ and â€œBehavior of C_PIN_SID PIN upon TPer Revertâ€ fields are both 0x00.  \n**End of Informative Comment**\n\n## 3.1.1.5.1 Base ComID  \nThe Base ComID field provides the lowest static, pre-assigned ComID.\n\n## 3.1.1.5.2 Number of ComIDs  \nThe Number of ComIDs field provides the number of static, pre-assigned ComIDs.\n\n## 3.1.1.6 Supported Data Removal Mechanism Feature (Feature Code = 0x0404)  \nThis feature MAY be returned in the Level 0 Discovery response.\n### Table 7 - SSC Minor Versions (continued)\n\n## Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor\n\nAn Opal Compliant Storage Device SHALL return the parameters listed in Table 9:\n### Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor (continued)\n\n## 3.1.1.6.1 Data Removal Operation Processing Definition\n\nThe Data Removal Operation Processing bit SHALL be set to one if the TPer is performing any supported data removal operation including:\n\n- Revert,\n- RevertSP, or\n- GenKey.\n\nOtherwise, the Data Removal Operation Processing bit SHALL be set to zero. If the operation is in progress, the security transport commands such as the security send, and the security receive SHALL be processed by the Storage Device. The Data Removal Operation Processing bit SHALL be set to zero upon a successful completion of a data removal operation.\n\nThe Data Removal Operation Processing bit SHALL be set to one if the data removal operation is restarted after a Power Cycle (see Table 16).\n\n## 3.1.1.6.2 Data Removal Operation Interrupted\n\nThe Data Removal Operation Interrupted bit SHALL be set to one if a previously issued data removal operation such as Revert, RevertSP or GenKey was interrupted for any reason (including, power loss, interface reset, etc.). The Data Removal Operation Interrupted bit SHALL be set to zero after successful completion of a data removal operation.\n\n**Start of Informative Comment**\n\nThe host can reissue a data removal operation that was interrupted (such as RevertSP, Revert, or GenKey), The Storage Device can be in a locked state if the operation was interrupted and the Storage Device is now operational.\n\n**End of Informative Comment**\n### Table 8 - Level 0 Discovery â€“ Supported Data Removal Mechanism Feature Descriptor (continued) (continued)\n\n**Notes:**\n\nÂ¹ The cryptographic erase operation SHALL also be performed when any of the other data removal mechanisms are used.\n\nÂ² The Cryptographic Erase bit may be used by the Revert, the RevertSP or the GenKey operations (band erase). Any subsequent operation(s) such as Deallocate, or Unmap, or Trim, that is part of the implementation of the data removal operation SHALL be accounted for in the time reported for this operation (see section 3.1.1.6.4). The time value reported SHALL correspond to the estimated completion time of the Cryptographic Erase. For the erase (GenKey) operation, the reported estimated time value will correspond to the estimated completion time of the erase operation, regardless of the extent of the range being erased.\n\nÂ³ If a Storage Device supports more than one vendor proprietary method of data removal, then the associated estimated time value will represent the completion time for the longest vendor specific erase mechanism of data removal, then the associated estimated time value will represent the completion time for the longest of the vendor specific mechanisms.\n\n## 3.1.1.6.3 Supported Data Removal Mechanism Definition\n\nEach bit of the Supported Data Removal Mechanism (see Table 10) SHALL be set to one if the TPer supports the corresponding Data Removal Mechanism; otherwise, each bit SHALL be set to zero. The TPer SHALL support the Crypto Erase mechanism and MAY support the Overwrite Data Erase or Block Erase or other mechanisms. The TPer MAY support multiple Data Removal Mechanisms described in Table 10. After a RevertSP method has completed without an error, the condition of user data SHALL be indicated as specified in Table 10.\n\n## Table 10 - Supported Data Removal Mechanism\n\n**Notes:**\n\nÂ¹ The cryptographic erase operation SHALL also be performed when any of the other data removal mechanisms are used.\n\nÂ² The Cryptographic Erase bit may be used by the Revert, the RevertSP or the GenKey operations (band erase). Any subsequent operation(s) such as Deallocate, or Unmap, or Trim, that is part of the implementation of the data removal operation SHALL be accounted for in the time reported for this operation (see section 3.1.1.6.4). The time value reported SHALL correspond to the estimated completion time of the Cryptographic Erase. For the erase (GenKey) operation, the reported estimated time value will correspond to the estimated completion time of the erase operation, regardless of the extent of the range being erased.\n\nÂ³ If a Storage Device supports more than one vendor proprietary method of data removal, then the associated estimated time value will represent the completion time for the longest vendor specific erase mechanism of data removal, then the associated estimated time value will represent the completion time for the longest of the vendor specific mechanisms.\n\n## 3.1.1.6.4 Data Removal Time Format and Data Removal Time Definition\n### Table 10 - Supported Data Removal Mechanism (continued)\n\nEach Data Removal Time field provides the worst case estimate of the time required to perform the erasure corresponding to each Data Removal Mechanism defined in the Supported Data Removal Mechanism field. The Data Removal Time Format bit identifies the format used to express the time as follows:\n\na) if the Data Removal Time Format bit is set to zero, then the estimated time is defined in Table 11; and  \nb) if the Data Removal Time Format bit is set to one, then the estimated time is defined in Table 12.\n\nThe Data Removal Time Format bit and Data Removal Time Format field are defined in Table 11 and Table 12.\n\n## Table 11 - Data Removal Time (Data Removal Time Format bit= 0)\n\n## Table 12 - Data Removal Time (Data Removal Time Format bit= 1)\n\nStart of Informative Comment  \nEach Data Removal Time field gives an estimate of the total time required to perform the erasure for each corresponding Data Removal Mechanism. This field is not a dynamic estimate of the remaining time for completion. When GenKey is performed on a range thatâ€™s less than the global range, the time needed for the completion of the operation can be less than the time reported for the operation. The reported estimated time for the data removal operation will be for the entire capacity of the Storage Device. The host software can use the ratio of the band size to the entire capacity of the Storage Device, to derive the estimated time for erasing a band.  \nEnd of Informative Comment\n\n## 3.2 Security Protocol 2 Support\n\n### 3.2.1 ComID Management  \nComID management support is reported in Level 0 Discovery. Statically allocated ComIDs are also discoverable via the Level 0 Discovery response.\n\n### 3.2.2 Stack Protocol Reset (M)  \nAn Opal SSC compliant Storage Device SHALL support the Stack Protocol Reset command. Refer to [2] for details.\n\n### 3.2.3 TPER_RESET command (M)  \nIf the TPER_RESET command is enabled, it SHALL cause the following before the TPer accepts the next IF-SEND or IF-RECV command:  \na) all dynamically allocated ComIDs SHALL return to the Inactive state;\n### Table 12 - Data Removal Time (Data Removal Time Format bit= 1) (continued)\n\nThe TPER_RESET command is delivered by the transport IF-SEND command. If the TPER_RESET command is enabled, the TPer SHALL accept and acknowledge it at the interface level. If the TPER_RESET command is disabled, the TPer SHALL abort it at the interface level with the â€œOther Invalid Command Parameterâ€ status (see [4]). There is no IF-RECV response to the TPER_RESET command.\n\nThe TPER_RESET command is defined in Table 13.\n\nThe Transfer Length SHALL be non-zero. All data transferred SHALL be ignored.\n\n## Table 13 - TPER_RESET Command\n\n## 3.3 Communications\n\n### 3.3.1 Communication Properties\n\nThe TPer SHALL support the minimum communication buffer size as defined in section 4.1.1.1. For each ComID, the physical buffer size SHALL be reported to the host via the Properties method.\n\nThe TPer SHALL terminate any IF-SEND command whose transfer length is greater than the reported MaxComPacketSize size for the corresponding ComID. For details, refer to â€œInvalid Transfer Length parameter on IF-SENDâ€ in [4].\n\nData generated in response to methods contained within an IF-SEND command payload subpacket (including the required ComPacket / Packet / Subpacket overhead data) SHALL fit entirely within the response buffer. If the method response and its associated protocol overhead do not fit completely within the response buffer, the TPer\n\n1) SHALL terminate processing of the IF-SEND command payload,  \n2) SHALL NOT return any part of the method response if the Sync Protocol is being used, and  \n3) SHALL return an empty response list with a TCG status code of RESPONSE_OVERFLOW in that methodâ€™s response status list.\n\n### 3.3.2 Supported Security Protocols\n\nThe TPer SHALL support:\n\n- IF-RECV commands with a Security Protocol values of 0x00, 0x01, 0x02.\n### Table 13 - TPER_RESET Command (continued)\n\n## 3.3.3 ComIDs\n\nFor the purpose of communication using Security Protocol 0x01, the TPer SHALL:\n\n- support at least one statically allocated ComID for Synchronous Protocol communication.\n- have the ComID Extension values = 0x0000 for all statically allocated ComIDs.\n- keep all statically allocated ComIDs in the Active state.\n\nWhen the TPer receives an IF-SEND or IF-RECV with an inactive or unsupported ComID, the TPer SHALL either:\n\n- terminate the command as defined in [4] with â€œOther Invalid Command Parameterâ€, or\n- follow the requirements defined in [2] for â€œIF-SEND to Inactive or Unsupported Reserved ComIDâ€ or â€œIF-RECV to Inactive or Unsupported Reserved ComIDâ€.\n\nComIDs SHALL be assigned based on the allocation presented in Table 14.\n\n### Table 14 - ComID Assignments\n\n## 3.3.4 Synchronous Protocol\n\nThe TPer SHALL support the Synchronous Protocol. Refer to [2] for details.\n\n### 3.3.4.1 Payload Encoding\n\n#### 3.3.4.1.1 Stream Encoding Modifications\n\nThe TPer SHALL support tokens listed in Table 15. If an unsupported token is encountered, the TPer SHALL treat the token as a streaming protocol violation and return an error per the definition in section 3.3.4.1.3.\n\n### Table 15 - Supported Tokens\n\n### Table 15 - Supported Tokens (continued)\n\nThe TPer SHALL support the above token atoms with the B bit set to zero or one and the S bit set to zero.\n\n## 3.3.4.1.2 TCG Packets\n\nWithin a single IF-SEND/IF-RECV command, the TPer SHALL support a ComPacket containing one Packet, which contains one Subpacket. The host may discover TPer support of capabilities beyond this requirement in the parameters returned in response to a Properties method.\n\nThe TPer MAY ignore Credit Control Subpackets sent by the host. The host may discover TPer support of Credit Management with Level 0 Discovery. For more details refer to Section 3.1.1 Level 0 Discovery (M)\n\nThe TPer MAY ignore the AckType and Acknowledgement fields in the Packet header on commands from the host and set these fields to zero in its responses to the host. The host may discover TPer support of the TCG packet acknowledgement/retry mechanism with Level 0 Discovery. For more details refer to Section 3.1.1 Level 0 Discovery (M)\n\nThe TPer MAY ignore packet sequence numbering and not enforce any sequencing behavior. Refer to [2] for details on discovery of packet sequence numbering support.\n\n## 3.3.4.1.3 Payload Error Response\n\nThe TPer SHALL respond according to the following rules if it encounters a streaming protocol violation:\n\n- If the error is on Session Manager or is such that the TPer cannot resolve a valid session ID from the payload (i.e. errors in the ComPacket header or Packet header), then the TPer SHALL discard the payload and immediately transition to the â€œAwaiting IF-SENDâ€ state.\n- If the error occurs after the TPer has resolved the session ID, then the TPer SHALL abort the session and MAY prepare a CloseSession method for retrieval by the host.\n\n## 3.3.5 Storage Device Resets\n\n### 3.3.5.1 Interface Resets\n\nInterface resets that generate TCG reset events are defined in [4].\n\nInterface initiated TCG reset events SHALL result in:\n\n1. All open sessions SHALL be aborted;\n2. All uncommitted transactions SHALL be aborted;\n3. All pending session startup activities SHALL be aborted;\n4. All TCG command and response buffers SHALL be invalidated;\n5. All related method processing SHALL be aborted;  \n6. For each ComID, the state of the synchronous protocol stack SHALL transition to â€œAwaiting IF-SENDâ€ state;  \n7. No notification of these events SHALL be sent to the host.  \n\n## 3.3.5.2 TCG Reset Events  \nTable 16 replaces the definition of TCG reset_types that are defined in [2]:  \n\n### Table 16 - reset_types  \n\n## 3.3.6 Protocol Stack Reset Commands (M)  \nAn IF-SEND containing a Protocol Stack Reset Command SHALL be supported.  \nRefer to [2] for details.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 16"
        ],
        "section_table": [
            [
                "|-------------------|----------------------|",
                "| Enumeration value | Associated Value     |",
                "| 0                 | Power Cycle          |",
                "| 1                 | Hardware             |",
                "| 2                 | HotPlug              |",
                "| 3                 | Programmatic         |",
                "| 4-15              | Reserved             |",
                "| 16-31             | Vendor Unique        |"
            ]
        ],
        "summary": "ìš”ì•½ ìƒì„± ì‹¤íŒ¨."
    },
    {
        "section_order": 72,
        "level": 1,
        "section_id": "4",
        "section_key": "4 Opal SSC-compliant Functions and SPs",
        "title": "Opal SSC-compliant Functions and SPs",
        "start_page": 33,
        "end_page": 33,
        "page_count": 1,
        "content_md": "## 4 Opal SSC-compliant Functions and SPs",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4 Opal SSC-compliant Functions and SPs"
    },
    {
        "section_order": 73,
        "level": 2,
        "section_id": "4.1",
        "section_key": "4.1 Session Manager",
        "title": "Session Manager",
        "start_page": 33,
        "end_page": 33,
        "page_count": 1,
        "content_md": "## 4.1 Session Manager",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.1 Session Manager"
    },
    {
        "section_order": 74,
        "level": 3,
        "section_id": "4.1.1",
        "section_key": "4.1.1 Methods",
        "title": "Methods",
        "start_page": 33,
        "end_page": 33,
        "page_count": 1,
        "content_md": "## 4.1.1 Methods",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.1.1 Methods"
    },
    {
        "section_order": 75,
        "level": 4,
        "section_id": "4.1.1.1",
        "section_key": "4.1.1.1 Properties (M)",
        "title": "Properties (M)",
        "start_page": 33,
        "end_page": 34,
        "page_count": 2,
        "content_md": "## 4.1.1.1 Properties (M)\n\nAn Opal SSC compliant Storage Device SHALL support the Properties method. The requirements for support of the various TPer and Host properties, and the requirements for their values, are shown in Table 17.\n\n### Table 17 - Properties Requirements\n\n### Table 17 - Properties Requirements (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 4.1.1.1 Properties (M)**  \n**TCG Opal SSC v2.30 ë¬¸ì„œ ê¸°ë°˜ ì„¤ëª…**\n\n---\n\n## ğŸ” **ëª©ì  (Purpose)**\n\n**Properties (M)** ë©”ì†Œë“œëŠ” TCG Opal í‘œì¤€ì— ë”°ë¼ ì €ì¥ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë‹¤ì–‘í•œ **ì†ì„±**(properties)ì„ ì¡°íšŒí•˜ê±°ë‚˜ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ì†ì„±ë“¤ì€ ì£¼ë¡œ **ì¥ì¹˜ ìƒíƒœ**, **ë³´ì•ˆ ì •ì±…**, **ì‚¬ìš©ì ì„¤ì •**, **í˜¸ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ë³´** ë“±ì„ í¬í•¨í•˜ë©°, Opal ì¥ì¹˜ì˜ ìƒíƒœë¥¼ íŒŒì•…í•˜ê±°ë‚˜ ê´€ë¦¬í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì´ ë©”ì†Œë“œëŠ” **Mandatory**(ì˜ë¬´ì )ë¡œ ì§€ì›í•´ì•¼ í•˜ë©°, Opal SSC(Storage Security Command) í˜¸í™˜ ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì†ì„± ì¡°íšŒ (Get Properties)**  \n   - ì¥ì¹˜ê°€ í˜„ì¬ ì§€ì›í•˜ëŠ” ì†ì„± ëª©ë¡ ë° ê·¸ ê°’ë“¤ì„ ì½ì–´ì˜µë‹ˆë‹¤.\n   - ì˜ˆ: ì¥ì¹˜ì˜ ëª¨ë¸, ì œì¡°ì—…ì²´, ì•”í˜¸í™” ìƒíƒœ, ì‚¬ìš© ê°€ëŠ¥í•œ ì„¸ì…˜ ìˆ˜, íŒì›¨ì–´ ë²„ì „ ë“±.\n\n2. **ì†ì„± ì„¤ì • (Set Properties)**  \n   - ì¼ë¶€ ì†ì„±ì€ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë©°, ë³´ì•ˆ ì •ì±…ì´ë‚˜ ì¥ì¹˜ ë™ì‘ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n   - ì˜ˆ: ìµœëŒ€ ì„¸ì…˜ ìˆ˜, ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì •ì±…, ìë™ ì ê¸ˆ íƒ€ì´ë¨¸ ë“±.\n\n3. **ì¥ì¹˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§**  \n   - ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœ, ì•”í˜¸í™” ì§„í–‰ ìƒíƒœ, ì˜¤ë¥˜ ìƒíƒœ ë“±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥.\n\n4. **í˜¸ìŠ¤íŠ¸ì™€ ì¥ì¹˜ ê°„ í˜‘ì—…**  \n   - í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì´ ì¥ì¹˜ì˜ ì„¤ì •ì„ ì¡°ì •í•˜ê±°ë‚˜ ìƒíƒœë¥¼ íŒŒì•…í•˜ì—¬ ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆê²Œ í•¨.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nProperties ë©”ì†Œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„° êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤:\n\n- **Property ID (PID)**: ì†ì„±ì˜ ê³ ìœ  ì‹ë³„ì (ì˜ˆ: `0x0001` â†’ `Manufacturer Name`)\n- **Property Value**: í•´ë‹¹ ì†ì„±ì˜ ê°’ (ë¬¸ìì—´, ì •ìˆ˜, í”Œë˜ê·¸ ë“±)\n- **Property Type**: ê°’ì˜ íƒ€ì… (ë¬¸ìì—´, 32ë¹„íŠ¸ ì •ìˆ˜, 64ë¹„íŠ¸ ì •ìˆ˜, ë°°ì—´ ë“±)\n- **Access Rights**: ì½ê¸°/ì“°ê¸° ê¶Œí•œ (ì½ê¸° ì „ìš©, ì½ê¸°/ì“°ê¸°, ê´€ë¦¬ìë§Œ ì“°ê¸° ë“±)\n- **Required**: í•´ë‹¹ ì†ì„±ì´ í•„ìˆ˜ì¸ì§€ ì—¬ë¶€ (Mandatory/Optional)\n\n**ì˜ˆì‹œ Property ID (Table 17 ê¸°ì¤€):**\n\n| PID        | ì´ë¦„                     | íƒ€ì…       | ì ‘ê·¼ ê¶Œí•œ     | í•„ìˆ˜ ì—¬ë¶€ |\n|------------|--------------------------|------------|---------------|-----------|\n| 0x0001     | Manufacturer Name        | String     | Read-only     | Mandatory |\n| 0x0002     | Product Name             | String     | Read-only     | Mandatory |\n| 0x0003     | Firmware Version         | String     | Read-only     | Mandatory |\n| 0x0004     | Device Model             | String     | Read-only     | Mandatory |\n| 0x0005     | Serial Number            | String     | Read-only     | Mandatory |\n| 0x0006     | Max Sessions             | Integer    | Read-only     | Mandatory |\n| 0x0007     | Current Sessions         | Integer    | Read-only     | Mandatory |\n| 0x0008     | Encryption Status        | Enum       | Read-only     | Mandatory |\n| 0x0009     | Auto-Lock Timer          | Integer    | Read/Write    | Optional  |\n\n> âš ï¸ **ì°¸ê³ **: ì‹¤ì œ Table 17ì€ ë¬¸ì„œì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì§€ë§Œ, TCG Opal í‘œì¤€ ë¬¸ì„œì—ì„œ ì •ì˜ëœ ê³µì‹ Property ID ëª©ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Mandatory Support**: ëª¨ë“  Opal SSC í˜¸í™˜ ì¥ì¹˜ëŠ” Properties ë©”ì†Œë“œë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨.\n- **Read-only ì†ì„±**: ì¼ë¶€ ì†ì„±ì€ ì½ê¸° ì „ìš©ì´ë©°, ë³€ê²½ ë¶ˆê°€ëŠ¥ (ì˜ˆ: ì œì¡°ì‚¬ ì´ë¦„).\n- **Writable ì†ì„±**: ì¼ë¶€ ì†ì„±ì€ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ìˆ˜ì • ê°€ëŠ¥ (ì˜ˆ: ìë™ ì ê¸ˆ íƒ€ì´ë¨¸).\n- **Valid Value Range**: ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„±ì€ í—ˆìš©ëœ ë²”ìœ„ ë‚´ì—ì„œë§Œ ë³€ê²½ ê°€ëŠ¥.\n- **Error Handling**: ìœ íš¨í•˜ì§€ ì•Šì€ PID ë˜ëŠ” ê°’ì— ëŒ€í•´ ì ì ˆí•œ ì˜¤ë¥˜ ì½”ë“œ ë°˜í™˜ (ì˜ˆ: `0x8001` â†’ Invalid Property ID).\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**  \n   - Properties ë©”ì†Œë“œëŠ” **StartSession** í›„ì—ë§Œ í˜¸ì¶œ ê°€ëŠ¥.\n   - ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜, ê´€ë¦¬ì ì„¸ì…˜, ê³µê¸‰ì ì„¸ì…˜ ë“± ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼ ê°€ëŠ¥ ì†ì„±ì´ ë‹¤ë¦„.\n\n2. **ê¶Œí•œ ê¸°ë°˜ ì“°ê¸° ì œì–´**  \n   - ê´€ë¦¬ì ì„¸ì…˜ ì´ìƒì—ì„œë§Œ ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„± ì¡´ì¬ (ì˜ˆ: `Auto-Lock Timer`).\n   - ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜ì—ì„œëŠ” ì½ê¸°ë§Œ í—ˆìš©.\n\n3. **ì•”í˜¸í™”ëœ ë°ì´í„° ë³´í˜¸**  \n   - ì†ì„± ê°’ ì¤‘ ì¼ë¶€ëŠ” ì¥ì¹˜ ë‚´ë¶€ ì•”í˜¸í™” ìƒíƒœë¥¼ ë°˜ì˜í•˜ë©°, ë¹„ë°€ë²ˆí˜¸ë¡œ ë³´í˜¸ëœ ì„¸ì…˜ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥.\n\n4. **ì˜¤ë¥˜ ë° ë³´ì•ˆ ìœ„ë°˜ ê°ì§€**  \n   - ì˜ëª»ëœ PID ìš”ì²­ ì‹œ ì˜¤ë¥˜ ë°˜í™˜, ê¶Œí•œ ì—†ì´ ì“°ê¸° ì‹œ ì ‘ê·¼ ê±°ë¶€.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜)**\n\n### âœ… **Test Case 1: Properties ì¡°íšŒ - Read-only ì†ì„± í™•ì¸**\n\n**ëª©ì **: ì¥ì¹˜ê°€ í•„ìˆ˜ ì†ì„±ì„ ì œê³µí•˜ê³ , ì½ê¸° ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸.\n\n**ë‹¨ê³„**:\n1. StartSession(ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸) í˜¸ì¶œ.\n2. Properties ë©”ì†Œë“œë¡œ `Manufacturer Name`, `Product Name`, `Serial Number` ì¡°íšŒ.\n3. ë°˜í™˜ ê°’ì´ ë¹„ì–´ ìˆì§€ ì•Šê³ , ìœ íš¨í•œ ë¬¸ìì—´ì¸ì§€ í™•ì¸.\n4. ì„¸ì…˜ ì¢…ë£Œ.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\nimport pytest\nfrom opal_client import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sdb\")\n    device.start_session(\"admin_password\", session_type=\"admin\")\n    yield device\n    device.revert_session()  # ì„¸ì…˜ ì¢…ë£Œ\n\ndef test_properties_read_only_fields(opal_device):\n    \"\"\"í•„ìˆ˜ ì†ì„± ì¡°íšŒ í…ŒìŠ¤íŠ¸\"\"\"\n    required_properties = [\n        \"Manufacturer Name\",\n        \"Product Name\",\n        \"Firmware Version\",\n        \"Device Model\",\n        \"Serial Number\"\n    ]\n\n    for prop_name in required_properties:\n        value = opal_device.get_property(prop_name)\n        assert value is not None, f\"Property '{prop_name}' is not available\"\n        assert len(value) > 0, f\"Property '{prop_name}' is empty\"\n\n    print(\"âœ… All mandatory properties successfully read.\")\n```\n\n---\n\n### âœ… **Test Case 2: Properties ì„¤ì • - Writable ì†ì„± ë³€ê²½**\n\n**ëª©ì **: ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„±(ì˜ˆ: Auto-Lock Timer)ì„ ë³€ê²½í•˜ê³ , ë³€ê²½ì´ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n**ë‹¨ê³„**:\n1. StartSession(ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸).\n2. `Auto-Lock Timer` ì†ì„± ê°’ì„ 300ì´ˆë¡œ ì„¤ì •.\n3. ë‹¤ì‹œ ì¡°íšŒí•˜ì—¬ ê°’ì´ 300ì¸ì§€ í™•ì¸.\n4. ì„¸ì…˜ ì¢…ë£Œ.\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\ndef test_properties_writable_field(opal_device):\n    \"\"\"ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„± ë³€ê²½ í…ŒìŠ¤íŠ¸\"\"\"\n    prop_name = \"Auto-Lock Timer\"\n    new_value = 300  # ì´ˆ ë‹¨ìœ„\n\n    # í˜„ì¬ ê°’ ì €ì¥\n    current_value = opal_device.get_property(prop_name)\n    assert current_value is not None, f\"Property '{prop_name}' not found\"\n\n    # ì†ì„± ë³€ê²½\n    opal_device.set_property(prop_name, new_value)\n\n    # ë³€ê²½ í›„ í™•ì¸\n    updated_value = opal_device.get_property(prop_name)\n    assert updated_value == new_value, f\"Expected {new_value}, got {updated_value}\"\n\n    print(\"âœ… Writable property successfully updated.\")\n```\n\n---\n\n### âœ… **Test Case 3: ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ í…ŒìŠ¤íŠ¸**\n\n**ëª©ì **: ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„±ì— ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ í™•ì¸.\n\n**ë‹¨ê³„**:\n1. StartSession(ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸).\n2. `Auto-Lock Timer` ë³€ê²½ ì‹œë„ â†’ ì˜¤ë¥˜ ë°˜í™˜ ì˜ˆìƒ.\n3. ì˜¤ë¥˜ ì½”ë“œ í™•ì¸ (ì˜ˆ: `0x8003` â†’ Access Denied).\n\n**Python + pytest ì˜ˆì‹œ**:\n\n```python\ndef test_properties_access_denied(opal_device):\n    \"\"\"ê¶Œí•œ ë¶€ì¡± ì‹œ ì“°ê¸° ì˜¤ë¥˜ í…ŒìŠ¤íŠ¸\"\"\"\n    opal_device.revert_session()  # ê´€ë¦¬ì ì„¸ì…˜ ì¢…ë£Œ\n    opal_device.start_session(\"user_password\", session_type=\"user\")\n\n    prop_name = \"Auto-Lock Timer\"\n    new_value = 300\n\n    # ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ ì“°ê¸° ì‹œë„\n    with pytest.raises(Exception) as exc_info:\n        opal_device.set_property(prop_name, new_value)\n\n    # ì˜¤ë¥˜ ì½”ë“œ í™•ì¸ (ì˜ˆ: 0x8003 - Access Denied)\n    error_code = exc_info.value.error_code\n    assert error_code == 0x8003, f\"Expected error 0x8003, got {error_code}\"\n\n    print(\"âœ… Access denied for non-admin session as expected.\")\n```\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **Table 17 ê¸°ë°˜ ì†ì„± ëª©ë¡ ì‘ì„±**  \n   - ë¬¸ì„œì˜ Table 17ì—ì„œ PID, ì´ë¦„, íƒ€ì…, ì ‘ê·¼ ê¶Œí•œ, í•„ìˆ˜ ì—¬ë¶€ë¥¼ ì¶”ì¶œ.\n\n2. **ìë™í™”ëœ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±**  \n   - ê° ì†ì„±ì„ ë°˜ë³µí•˜ì—¬ ì¡°íšŒí•˜ê³ , ì˜ˆìƒê°’ê³¼ ë¹„êµ.\n\n3. **ì •ì  ê²€ì¦ (Static Validation)**  \n   - ëª¨ë“  í•„ìˆ˜ ì†ì„±ì´ ì¡´ì¬í•˜ê³ , íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n\n4. **ë™ì  ê²€ì¦ (Dynamic Validation)**  \n   - ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„±ì„ ë³€ê²½ í›„, ë‹¤ì‹œ ì½ì–´ ì¼ê´€ì„± í™•ì¸.\n\n**ì˜ˆì‹œ ìŠ¤í¬ë¦½íŠ¸ (Table 17 ê²€ì¦)**:\n\n```python\ndef test_table_17_properties_validation(opal_device):\n    \"\"\"Table 17 ì†ì„± ìš”êµ¬ì‚¬í•­ ê²€ì¦\"\"\"\n    table_17 = [\n        {\"pid\": 0x0001, \"name\": \"Manufacturer Name\", \"type\": \"String\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0002, \"name\": \"Product Name\", \"type\": \"String\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0003, \"name\": \"Firmware Version\", \"type\": \"String\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0004, \"name\": \"Device Model\", \"type\": \"String\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0005, \"name\": \"Serial Number\", \"type\": \"String\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0006, \"name\": \"Max Sessions\", \"type\": \"Integer\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0007, \"name\": \"Current Sessions\", \"type\": \"Integer\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0008, \"name\": \"Encryption Status\", \"type\": \"Enum\", \"access\": \"Read-only\", \"mandatory\": True},\n        {\"pid\": 0x0009, \"name\": \"Auto-Lock Timer\", \"type\": \"Integer\", \"access\": \"Read/Write\", \"mandatory\": False},\n    ]\n\n    for prop in table_17:\n        value = opal_device.get_property_by_pid(prop[\"pid\"])\n        assert value is not None, f\"PID {prop['pid']} not found\"\n        assert len(value) > 0, f\"PID {prop['pid']} is empty\"\n\n        # íƒ€ì… ê²€ì¦ (ê°„ë‹¨í•œ í—ˆìš©)\n        if prop[\"type\"] == \"String\":\n            assert isinstance(value, str)\n        elif prop[\"type\"] == \"Integer\":\n            assert isinstance(value, int)\n        elif prop[\"type\"] == \"Enum\":\n            assert value in [\"Enabled\", \"Disabled\", \"Pending\", \"Error\"]\n\n        print(f\"âœ… PID {prop['pid']} - {prop['name']} validated\")\n\n    print(\"âœ… All Table 17 properties validated successfully.\")\n```\n\n---\n\n## ğŸ“Œ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**Properties (M)** ë©”ì†Œë“œëŠ” TCG Opal í‘œì¤€ì—ì„œ **ì˜ë¬´ì ìœ¼ë¡œ ì§€ì›í•´ì•¼ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥**ìœ¼ë¡œ, ì €ì¥ ì¥ì¹˜ì˜ ìƒíƒœ, ì„¤ì •, ì œì¡° ì •ë³´ ë“±ì„ ì¡°íšŒí•˜ê±°ë‚˜ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ë©”ì†Œë“œëŠ” **ì½ê¸° ì „ìš© ì†ì„±**ê³¼ **ì½ê¸°/ì“°ê¸° ì†ì„±**ì„ êµ¬ë¶„í•˜ë©°, **ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**ë¥¼ í†µí•´ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì œì¡°ì‚¬ ì´ë¦„, ì œí’ˆ ëª¨ë¸, íŒì›¨ì–´ ë²„ì „ì€ ì½ê¸° ì „ìš©ì´ë©°, ìë™ ì ê¸ˆ íƒ€ì´ë¨¸ëŠ” ê´€ë¦¬ì ì„¸ì…˜ì—ì„œë§Œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n**í…ŒìŠ¤íŠ¸ ì¸¡ë©´ì—ì„œëŠ”**, `StartSession` ì´í›„ `get_property`, `set_property`ë¥¼ í†µí•´ ì†ì„± ê°’ì´ ì •í™•íˆ ë°˜í™˜ë˜ê³ , ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼ì´ ì œí•œë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤. Python + pytestë¥¼ í™œìš©í•˜ë©´, ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ìë™í™”í•˜ì—¬ Table 17ì—ì„œ ì •ì˜ëœ ëª¨ë“  ì†ì„±ì˜ ì¡´ì¬ì™€ ì¼ê´€ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë©”ì†Œë“œëŠ” ì¥ì¹˜ ê´€ë¦¬ ë° ë³´ì•ˆ ì •ì±… ì ìš©ì˜ ê¸°ì´ˆì´ë¯€ë¡œ, **TCG Opal í˜¸í™˜ì„± ê²€ì¦ì˜ í•µì‹¬ í•­ëª©**ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \n**Properties (M)**ì€ Opal ì¥ì¹˜ì˜ ìƒíƒœë¥¼ íŒŒì•…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° í•„ìˆ˜ì ì¸ ë©”ì†Œë“œì´ë©°, ë³´ì•ˆì  ì ‘ê·¼ ì œì–´ì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¬¸ì„œì— ëª…ì‹œëœ Table 17ì˜ ì†ì„± ìš”êµ¬ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ, ì‹¤ì œ ì¥ì¹˜ì—ì„œ í•´ë‹¹ ì†ì„±ë“¤ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ë¬¸ì„œì— Table 17ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë‚˜, TCG Opal í‘œì¤€ì˜ ê³µì‹ ë¬¸ì„œ(ì˜ˆ: TCG Opal v2.30)ì—ì„œ í•´ë‹¹ í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•˜ë©° ìƒì„¸íˆ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.**\n\n--- \n\nâœ… **ì •ë¦¬**:  \n- **ëª©ì **: ì¥ì¹˜ ì†ì„± ì¡°íšŒ/ì„¤ì •  \n- **ì£¼ìš” ê¸°ëŠ¥**: ì½ê¸°/ì“°ê¸° ì†ì„±, ìƒíƒœ ëª¨ë‹ˆí„°ë§  \n- **ë°ì´í„° êµ¬ì¡°**: PID, ê°’, íƒ€ì…, ì ‘ê·¼ ê¶Œí•œ  \n- **ìš”êµ¬ì‚¬í•­**: Mandatory ì§€ì›, Read-only/Writable êµ¬ë¶„  \n- **ë³´ì•ˆ**: ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´, ê¶Œí•œ ê¸°ë°˜ ì“°ê¸° ì œì–´  \n- **í…ŒìŠ¤íŠ¸**: Python + pytestë¡œ PID ê¸°ë°˜ ê²€ì¦, ì ‘ê·¼ ì œì–´ í…ŒìŠ¤íŠ¸, Table 17 ìë™ ê²€ì¦  \n\n--- \n\nğŸ“Œ **í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì¥ì¹˜ ì¸í„°í˜ì´ìŠ¤ì— ë”°ë¼ ì¡°ì • í•„ìš”** (ì˜ˆ: `opal_client` ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê°€ìƒì„)"
    },
    {
        "section_order": 76,
        "level": 4,
        "section_id": "4.1.1.2",
        "section_key": "4.1.1.2 StartSession (M)",
        "title": "StartSession (M)",
        "start_page": 34,
        "end_page": 35,
        "page_count": 2,
        "content_md": "## 4.1.1.2 StartSession (M)\n\nAn Opal SSC compliant Storage Device SHALL support the following parameters for the StartSession method:\n\n- HostSessionID\n- SPID\n- Write\n- HostChallenge\n- HostSigningAuthority\n\nFor an Opal SSC compliant Storage Device, a value of â€œTrueâ€ for the Write parameter SHALL be supported.\n\nFor an Opal SSC compliant Storage Device, a value of â€œFalseâ€ (i.e. read only session) for the Write parameter may or may not be supported.\n\nThe SessionTimeout parameter of the StartSession method is optional. It may be used by the host to specify a timeout value for the session. Refer to [2] for details.\n\nIf a TPer supports the optional SessionTimeout parameter and the parameter is included in the invocation of the StartSession method, then its value is permitted if it satisfies the following conditions:\n\na) It is less than or equal to the TPerâ€™s MaxSessionTimeout property, the property is zero, or the property is not defined.\n\nb) It is less than or equal to the value of the SPSessionTimeout column in the SPâ€™s SPInfo table, the value is zero, or the column is empty; and\n\nc) It is greater than or equal to the TPerâ€™s MinSessionTimeout property, or the property is not defined.\n\nIf the specified SessionTimeout parameter value does not satisfy conditions a), b), and c) above, the TPer SHALL fail the StartSession method as defined in [2].\n### Table 17 - Properties Requirements (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.1.1.2 StartSession (M) â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\n`StartSession`ì€ TCG Opal í‘œì¤€ì— ë”°ë¼ **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì™€ í˜¸ìŠ¤íŠ¸ ê°„ì˜ ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘**í•˜ëŠ” í•µì‹¬ ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ì´ ì„¸ì…˜ì€ ì´í›„ì˜ ëª¨ë“  ë³´ì•ˆ ê´€ë ¨ ì‘ì—…(ì˜ˆ: ì•”í˜¸í™”, ë°ì´í„° ì½ê¸°/ì“°ê¸°, ê´€ë¦¬ì ëª…ë ¹ ë“±)ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ **ì¸ì¦ëœ í†µì‹  ì±„ë„**ì„ ì„¤ì •í•©ë‹ˆë‹¤.\n\nì¦‰, ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ \"ë‹¹ì‹ ì€ ëˆ„êµ¬ì‹ ê°€ìš”?\"ë¼ê³  ë¬»ê³ , í˜¸ìŠ¤íŠ¸ê°€ \"ë‚´ê°€ ëˆ„êµ¬ì¸ì§€ ì¦ëª…í• ê²Œìš”\"ë¼ê³  ë‹µë³€í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ì´ ê³¼ì •ì´ ì„±ê³µí•˜ë©´, í˜¸ìŠ¤íŠ¸ëŠ” í•´ë‹¹ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì–»ìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì„¸ì…˜ ìƒì„±**: í˜¸ìŠ¤íŠ¸ì™€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ ê°„ì˜ ë³´ì•ˆ ì„¸ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤.\n2. **ì¸ì¦ í™•ì¸**: í˜¸ìŠ¤íŠ¸ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê¸° ìœ„í•´ `SPID`, `HostChallenge`, `HostSigningAuthority` ë“±ì˜ ì •ë³´ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n3. **ì½ê¸°/ì“°ê¸° ê¶Œí•œ ì„¤ì •**: `Write` íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì„¸ì…˜ì— **ì“°ê¸° ê¶Œí•œ**ì„ ë¶€ì—¬í•˜ê±°ë‚˜ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n4. **ì‹œê°„ ì œí•œ ì„¤ì •**: ì„ íƒì ìœ¼ë¡œ `SessionTimeout`ì„ ì„¤ì •í•˜ì—¬ ì„¸ì…˜ì˜ ìœ íš¨ ì‹œê°„ì„ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`StartSession` ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:\n\n| íŒŒë¼ë¯¸í„°              | ì„¤ëª… |\n|-----------------------|------|\n| `HostSessionID`       | í˜¸ìŠ¤íŠ¸ê°€ ìƒì„±í•œ ê³ ìœ  ì„¸ì…˜ ID. ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” ì´ë¥¼ ì„¸ì…˜ì„ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤. |\n| `SPID`                | **Storage Provider ID** â€“ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ê´€ë¦¬ì(ë˜ëŠ” ë³´ì•ˆ ì œê³µì) ì‹ë³„ì. ì¼ë°˜ì ìœ¼ë¡œ ê³ ìœ í•œ ID(ì˜ˆ: UUID)ì…ë‹ˆë‹¤. |\n| `Write`               | `True` ë˜ëŠ” `False`. `True`ì´ë©´ ì“°ê¸° ê¶Œí•œ ë¶€ì—¬, `False`ì´ë©´ ì½ê¸° ì „ìš© ì„¸ì…˜. Opal SSCëŠ” `True`ë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨. |\n| `HostChallenge`       | í˜¸ìŠ¤íŠ¸ê°€ ìƒì„±í•œ ë‚œìˆ˜(Challenge)ë¡œ, ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì´ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì‘ë‹µ(HostResponse)ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ëŠ” ì¸ì¦ì˜ ì¼ë¶€ì…ë‹ˆë‹¤. |\n| `HostSigningAuthority` | í˜¸ìŠ¤íŠ¸ì˜ ì„œëª… ê¸°ê´€ ì •ë³´. ë³´ì•ˆ ì„œëª…ì„ ê²€ì¦í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. |\n| `SessionTimeout` (ì˜µì…˜) | ì„¸ì…˜ì˜ ìœ íš¨ ì‹œê°„(ì´ˆ ë‹¨ìœ„). ì„ íƒì ì…ë‹ˆë‹¤. |\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•  ê¸°ëŠ¥**:\n  - `Write = True` ì„¸ì…˜ì„ ì§€ì›í•´ì•¼ í•¨.\n  - `HostSessionID`, `SPID`, `Write`, `HostChallenge`, `HostSigningAuthority` íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ë“¤ì—¬ì•¼ í•¨.\n\n- **ì„ íƒì  ì§€ì›**:\n  - `Write = False` (ì½ê¸° ì „ìš© ì„¸ì…˜)ì€ ì„ íƒì ìœ¼ë¡œ ì§€ì› ê°€ëŠ¥.\n  - `SessionTimeout` íŒŒë¼ë¯¸í„°ëŠ” ì„ íƒì .\n\n- **SessionTimeout ì œì•½ ì¡°ê±´** (ë§Œì•½ ì§€ì›í•œë‹¤ë©´):\n  - a) `SessionTimeout â‰¤ TPerì˜ MaxSessionTimeout` ë˜ëŠ” `MaxSessionTimeout`ì´ 0 ë˜ëŠ” ì •ì˜ë˜ì§€ ì•ŠìŒ.\n  - b) `SessionTimeout â‰¤ SPInfo í…Œì´ë¸”ì˜ SPSessionTimeout` ë˜ëŠ” ê°’ì´ 0 ë˜ëŠ” ë¹ˆ ê°’.\n  - c) `SessionTimeout â‰¥ TPerì˜ MinSessionTimeout` ë˜ëŠ” `MinSessionTimeout`ì´ ì •ì˜ë˜ì§€ ì•ŠìŒ.\n\n  â†’ ìœ„ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ `StartSession` ì‹¤íŒ¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n`StartSession`ì€ ë‹¤ìŒê³¼ ê°™ì€ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n1. **ì„œëª… ê¸°ë°˜ ì¸ì¦**:\n   - `HostChallenge`ëŠ” í˜¸ìŠ¤íŠ¸ê°€ ìƒì„±í•œ ë‚œìˆ˜.\n   - ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” ì´ë¥¼ ì‚¬ìš©í•´ `HostResponse`ë¥¼ ìƒì„±í•˜ê³ , ì´ ì‘ë‹µì´ `HostSigningAuthority`ë¡œ ì„œëª…ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n   - ì´ ê³¼ì •ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ì˜ ì •ì²´ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n\n2. **ì ‘ê·¼ ì œì–´**:\n   - `Write` íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì“°ê¸° ê¶Œí•œì„ ì œì–´. ì˜ˆ: ê´€ë¦¬ì ì„¸ì…˜ì€ `Write=True`, ì¼ë°˜ ì‚¬ìš©ìëŠ” `Write=False`.\n\n3. **ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ**:\n   - `SessionTimeout`ì„ í†µí•´ ì„¸ì…˜ì˜ ìœ ì§€ ì‹œê°„ì„ ì œí•œ â†’ ì¥ì‹œê°„ ì—´ë¦° ì„¸ì…˜ì— ëŒ€í•œ ê³µê²© ë°©ì§€.\n\n4. **ìŠ¤í† ë¦¬ì§€ ì œê³µì ì¸ì¦**:\n   - `SPID`ì™€ `HostSigningAuthority`ë¥¼ í†µí•´ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì–´ë–¤ ê´€ë¦¬ì(ë˜ëŠ” ë³´ì•ˆ ì œê³µì)ì—ê²Œ ì†í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n\n- `StartSession` ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸.\n- `Write = True`ê°€ ì§€ì›ë˜ëŠ”ì§€ í™•ì¸.\n- `SessionTimeout`ì´ ì œì•½ ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œ ì„±ê³µ, ë§Œì¡±í•˜ì§€ ì•Šì„ ë•Œ ì‹¤íŒ¨í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ“‚ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\nimport pytest\nfrom opal_device import OpalDevice  # ê°€ì •: Opal ì¥ì¹˜ë¥¼ ì œì–´í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import SPID_DEFAULT, HOST_SIGNING_AUTHORITY  # ìƒìˆ˜ ì •ì˜\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    device = OpalDevice(device_id=\"1234567890\")\n    yield device\n    device.close()\n\n@pytest.mark.parametrize(\"write_param, expected_success\", [\n    (True, True),     # ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨\n    (False, None),    # ì„ íƒì  ì§€ì› â†’ ì‹¤íŒ¨ ë˜ëŠ” ì„±ê³µ ëª¨ë‘ ê°€ëŠ¥\n])\ndef test_start_session_write_param(opal_device, write_param, expected_success):\n    \"\"\"Write íŒŒë¼ë¯¸í„° í…ŒìŠ¤íŠ¸\"\"\"\n    challenge = \"random_challenge_123\"  # ì„ì˜ì˜ challenge\n    session_id = \"host_session_001\"\n    timeout = 300  # 5ë¶„\n\n    response = opal_device.start_session(\n        host_session_id=session_id,\n        spid=SPID_DEFAULT,\n        write=write_param,\n        host_challenge=challenge,\n        host_signing_authority=HOST_SIGNING_AUTHORITY,\n        session_timeout=timeout\n    )\n\n    if expected_success is not None:\n        assert response.success is True, f\"StartSession ì‹¤íŒ¨: {response.error}\"\n    else:\n        # Falseì¸ ê²½ìš°ëŠ” ì„ íƒì  ì§€ì›ì´ë¯€ë¡œ ì„±ê³µ/ì‹¤íŒ¨ ëª¨ë‘ í—ˆìš©\n        pass\n\n@pytest.mark.parametrize(\"timeout_value, should_fail\", [\n    (600, True),    # ì˜ˆ: MaxSessionTimeout=300ì´ë©´ 600ì€ ì‹¤íŒ¨\n    (300, False),   # MaxSessionTimeout=300ì´ë©´ 300ì€ ì„±ê³µ\n    (10, False),    # MinSessionTimeout=10ì´ë©´ ì„±ê³µ\n    (5, True),      # MinSessionTimeout=10ì´ë©´ 5ëŠ” ì‹¤íŒ¨\n    (0, False),     # 0ì€ í—ˆìš©ë¨ (ì¡°ê±´ a, b, c ëª¨ë‘ ë§Œì¡±)\n])\ndef test_start_session_session_timeout(opal_device, timeout_value, should_fail):\n    \"\"\"SessionTimeout ì œì•½ ì¡°ê±´ í…ŒìŠ¤íŠ¸\"\"\"\n    challenge = \"random_challenge_456\"\n    session_id = \"host_session_002\"\n    write = True\n\n    # í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ì„¤ì •: ì˜ˆì‹œ ê°’\n    opal_device.set_max_session_timeout(300)      # MaxSessionTimeout = 300\n    opal_device.set_min_session_timeout(10)       # MinSessionTimeout = 10\n    opal_device.set_sp_session_timeout(600)       # SPSessionTimeout = 600 (SPInfo)\n\n    response = opal_device.start_session(\n        host_session_id=session_id,\n        spid=SPID_DEFAULT,\n        write=write,\n        host_challenge=challenge,\n        host_signing_authority=HOST_SIGNING_AUTHORITY,\n        session_timeout=timeout_value\n    )\n\n    if should_fail:\n        assert not response.success, f\"SessionTimeout ì¡°ê±´ ìœ„ë°˜ ì‹œ ì„±ê³µ ë¶ˆê°€\"\n    else:\n        assert response.success, f\"SessionTimeout ì¡°ê±´ ë§Œì¡± ì‹œ ì‹¤íŒ¨ ë¶ˆê°€\"\n\n@pytest.mark.parametrize(\"spid, expected\", [\n    (\"invalid_spid\", False),\n    (SPID_DEFAULT, True),\n])\ndef test_start_session_spid_validation(opal_device, spid, expected):\n    \"\"\"SPID ìœ íš¨ì„± ê²€ì‚¬\"\"\"\n    challenge = \"random_challenge_789\"\n    session_id = \"host_session_003\"\n    write = True\n    timeout = 300\n\n    response = opal_device.start_session(\n        host_session_id=session_id,\n        spid=spid,\n        write=write,\n        host_challenge=challenge,\n        host_signing_authority=HOST_SIGNING_AUTHORITY,\n        session_timeout=timeout\n    )\n\n    assert response.success == expected, f\"SPID ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜: {response.error}\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nTCG Opal ìŠ¤í™ì—ì„œ `SPInfo` í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì€ ì—´ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n| Column Name         | Description |\n|---------------------|-------------|\n| `SPID`              | ì €ì¥ì†Œ ì œê³µì ID |\n| `SPSessionTimeout`  | ì„¸ì…˜ ìµœëŒ€ íƒ€ì„ì•„ì›ƒ(ì´ˆ) â€“ `StartSession`ì˜ `SessionTimeout` ì œì•½ ì¡°ê±´ì— ì‚¬ìš©ë¨ |\n\n#### âœ… ê²€ì¦ ë°©ë²•:\n\n1. **SPInfo í…Œì´ë¸” ì½ê¸°**:\n   - `GetSPInfo` ëª…ë ¹ì„ ì‚¬ìš©í•´ `SPSessionTimeout` ê°’ì„ ì½ì–´ì˜µë‹ˆë‹¤.\n   - ì˜ˆ: `SPSessionTimeout = 600` (10ë¶„)\n\n2. **SessionTimeout ì…ë ¥ ê²€ì¦**:\n   - `StartSession`ì„ í˜¸ì¶œí•  ë•Œ `SessionTimeout=300` â†’ 300 â‰¤ 600 â†’ ì¡°ê±´ b) ë§Œì¡±.\n   - `SessionTimeout=800` â†’ 800 > 600 â†’ ì¡°ê±´ b) ìœ„ë°˜ â†’ ì‹¤íŒ¨ ì˜ˆìƒ.\n\n3. **TPerì˜ Max/MinSessionTimeout í™•ì¸**:\n   - `GetTPerProperties` ëª…ë ¹ì„ ì‚¬ìš©í•´ `MaxSessionTimeout` ë° `MinSessionTimeout` ê°’ì„ í™•ì¸.\n\n4. **ê²°ê³¼ ë¹„êµ**:\n   - ì‹¤ì œ `StartSession` ê²°ê³¼ì™€ ì˜ˆìƒ ê²°ê³¼ë¥¼ ë¹„êµ (ì„±ê³µ/ì‹¤íŒ¨).\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n`StartSession`ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì™€ í˜¸ìŠ¤íŠ¸ ê°„ ë³´ì•ˆ ì„¸ì…˜ì„ ì‹œì‘í•˜ëŠ” í•µì‹¬ ëª…ë ¹ì…ë‹ˆë‹¤. ì£¼ìš” íŒŒë¼ë¯¸í„°ë¡œëŠ” `HostSessionID`, `SPID`, `Write`, `HostChallenge`, `HostSigningAuthority`ê°€ ìˆìœ¼ë©°, `Write=True`ëŠ” ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. ì„ íƒì ìœ¼ë¡œ `SessionTimeout`ì„ ì§€ì •í•  ìˆ˜ ìˆê³ , ì´ ê°’ì€ ì¥ì¹˜ì˜ `MaxSessionTimeout`, `MinSessionTimeout`, ê·¸ë¦¬ê³  SPInfo í…Œì´ë¸”ì˜ `SPSessionTimeout`ê³¼ ë¹„êµë˜ì–´ ìœ íš¨ì„± ê²€ì‚¬ë©ë‹ˆë‹¤.\n\në³´ì•ˆì ìœ¼ë¡œëŠ” ì„œëª… ê¸°ë°˜ ì¸ì¦ê³¼ ì ‘ê·¼ ì œì–´ë¥¼ í†µí•´ ì•ˆì „í•œ ì„¸ì…˜ì„ ì„¤ì •í•˜ë©°, ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ê¸°ëŠ¥ì€ ì¥ì‹œê°„ ì—´ë¦° ì„¸ì…˜ì— ëŒ€í•œ ê³µê²©ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” Python + pytestë¡œ ì‘ì„± ê°€ëŠ¥í•˜ë©°, `Write` íŒŒë¼ë¯¸í„°, `SessionTimeout` ì œì•½ ì¡°ê±´, SPID ìœ íš¨ì„± ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ `GetSPInfo`ì™€ `GetTPerProperties` ëª…ë ¹ì„ í†µí•´ ìˆ˜í–‰í•˜ë©°, ì‹¤ì œ ê²°ê³¼ì™€ ì˜ˆìƒ ê²°ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ê²€ì¦í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `StartSession`ì€ Opal ë³´ì•ˆ ì‹œìŠ¤í…œì˜ ê¸°ë°˜ ëª…ë ¹ì´ë©°, ì¸ì¦, ì ‘ê·¼ ì œì–´, ì‹œê°„ ì œí•œ ë“± ë‹¤ì–‘í•œ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ ì œëŒ€ë¡œ êµ¬í˜„í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë³´ì•ˆì„±ì„ í™•ë³´í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 77,
        "level": 4,
        "section_id": "4.1.1.3",
        "section_key": "4.1.1.3 SyncSession (M)",
        "title": "SyncSession (M)",
        "start_page": 35,
        "end_page": 35,
        "page_count": 1,
        "content_md": "## 4.1.1.3 SyncSession (M)\nAn Opal SSC compliant Storage Device SHALL support the following parameters for the SyncSession method:\n- HostSessionID\n- SPSessionID",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.1.1.3 SyncSession (M)\nAn Opal SSC compliant Storage Device SHALL support the following parameters for the SyncSession method:\n- HostSessionID\n- SPSessionID"
    },
    {
        "section_order": 78,
        "level": 4,
        "section_id": "4.1.1.4",
        "section_key": "4.1.1.4 CloseSession (O)",
        "title": "CloseSession (O)",
        "start_page": 35,
        "end_page": 35,
        "page_count": 1,
        "content_md": "## 4.1.1.4 CloseSession (O)\nAn Opal SSC compliant Storage Device MAY support the CloseSession method.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.1.1.4 CloseSession (O)\nAn Opal SSC compliant Storage Device MAY support the CloseSession method."
    },
    {
        "section_order": 79,
        "level": 2,
        "section_id": "4.2",
        "section_key": "4.2 Admin SP",
        "title": "Admin SP",
        "start_page": 35,
        "end_page": 35,
        "page_count": 1,
        "content_md": "## 4.2 Admin SP\nThe Admin SP includes the Base Template and the Admin Template.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2 Admin SP\nThe Admin SP includes the Base Template and the Admin Template."
    },
    {
        "section_order": 80,
        "level": 3,
        "section_id": "4.2.1",
        "section_key": "4.2.1 Base Template Tables",
        "title": "Base Template Tables",
        "start_page": 35,
        "end_page": 35,
        "page_count": 1,
        "content_md": "## 4.2.1 Base Template Tables\nAll tables included in the following subsections are Mandatory.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.1 Base Template Tables\nAll tables included in the following subsections are Mandatory."
    },
    {
        "section_order": 81,
        "level": 4,
        "section_id": "4.2.1.1",
        "section_key": "4.2.1.1 SPInfo (M)",
        "title": "SPInfo (M)",
        "start_page": 35,
        "end_page": 35,
        "page_count": 1,
        "content_md": "## 4.2.1.1 SPInfo (M)\nThe SPInfo table is defined in [2], and Table 18 defines the Preconfiguration Data for the SPInfo table.\n\n### Table 18 - Admin SP - SPInfo Table Preconfiguration\n\nAs specified in [2], a TPer SHALL ignore the value of SPSessionTimeout column if:\na) no value exists in SPSessionTimeout column; or  \nb) SPSessionTimeout column is zero.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **4.2.1.1 SPInfo (M) - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### âœ… **ëª©ì **\n\n`SPInfo` (Storage Provider Information) í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì—ì„œ ì •ì˜ëœ **ìŠ¤í† ë¦¬ì§€ ì œê³µì**(Storage Provider, SP)ì— ëŒ€í•œ **ê¸°ë³¸ ì„¤ì • ì •ë³´ ë° ìƒíƒœ ì •ë³´**ë¥¼ ì €ì¥í•˜ëŠ” í•µì‹¬ í…Œì´ë¸”ì…ë‹ˆë‹¤.  \nì´ í…Œì´ë¸”ì€ **ê´€ë¦¬ì ìŠ¤í† ë¦¬ì§€ ì œê³µì**(Admin SP)ê°€ ì‹œìŠ¤í…œì— ì–´ë–»ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€, ì–´ë–¤ ë³´ì•ˆ ì •ì±…ì´ ì ìš©ë˜ê³  ìˆëŠ”ì§€, ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì • ë“± ë‹¤ì–‘í•œ ê´€ë¦¬ì ìˆ˜ì¤€ì˜ ì„¤ì • ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\nì´ ì •ë³´ëŠ” **ë³´ì•ˆ ê´€ë¦¬ì**(ì˜ˆ: IT ê´€ë¦¬ì)ê°€ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ë¥¼ êµ¬ì„±í•˜ê±°ë‚˜, ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•  ë•Œ ì‚¬ìš©ë˜ë©°, ì¥ì¹˜ì˜ ì´ˆê¸° ì„¤ì • ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **SP ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì • ê´€ë¦¬**  \n   - `SPSessionTimeout` ì»¬ëŸ¼ì— ì„¤ì •ëœ ê°’ì„ í†µí•´ SP ì„¸ì…˜ì´ ì–¼ë§ˆë‚˜ ìœ ì§€ë ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\n   - ì´ íƒ€ì„ì•„ì›ƒì€ ê´€ë¦¬ì ì„¸ì…˜ì´ ë¹„í™œì„±í™”ë˜ê±°ë‚˜ ì¬ì‹œì‘ë˜ëŠ” ì‹œì ì— ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n2. **ê´€ë¦¬ì ìŠ¤í† ë¦¬ì§€ ì œê³µì ì„¤ì • ì •ë³´ ì œê³µ**  \n   - Admin SPì˜ ê¸°ë³¸ ì„¤ì • ì •ë³´ë¥¼ í¬í•¨í•˜ë©°, ì´ëŠ” ì¥ì¹˜ì˜ ë³´ì•ˆ ì •ì±… ë° ì ‘ê·¼ ì œì–´ ì„¤ì •ì˜ ê¸°ì´ˆê°€ ë©ë‹ˆë‹¤.\n\n3. **ì¥ì¹˜ ì´ˆê¸° ì„¤ì • ì •ë³´ í™•ì¸**  \n   - ì¥ì¹˜ê°€ ì²˜ìŒ ì„¤ì •ë˜ì—ˆì„ ë•Œ ì–´ë–¤ ê°’ë“¤ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡°**\n\n`SPInfo` í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì—ì„œ ì •ì˜ëœ **êµ¬ì¡°í™”ëœ í…Œì´ë¸”**ë¡œ, ì£¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì»¬ëŸ¼ì„ í¬í•¨í•©ë‹ˆë‹¤ (í‘œì¤€ ë¬¸ì„œ [2]ì— ìƒì„¸íˆ ì •ì˜ë¨):\n\n- **SPSessionTimeout**: ê´€ë¦¬ì ì„¸ì…˜ì˜ ìµœëŒ€ ìœ ì§€ ì‹œê°„ (ì´ˆ ë‹¨ìœ„). 0 ë˜ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ë¬´ì‹œë¨.\n- **SPName**: ìŠ¤í† ë¦¬ì§€ ì œê³µì ì´ë¦„ (ì˜ˆ: \"Admin SP\").\n- **SPID**: ìŠ¤í† ë¦¬ì§€ ì œê³µì ì‹ë³„ì (ê³ ìœ  ID).\n- **SPRole**: ìŠ¤í† ë¦¬ì§€ ì œê³µìì˜ ì—­í•  (ì˜ˆ: Admin, User ë“±).\n\nâ€» **Table 18 - Admin SP - SPInfo Table Preconfiguration** ì—ì„œëŠ” ì´ëŸ¬í•œ ì»¬ëŸ¼ë“¤ì´ **ê¸°ë³¸ê°’**(preconfiguration)ìœ¼ë¡œ ì„¤ì •ë˜ëŠ” ë°©ì‹ì´ ì •ì˜ë©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­**\n\n1. **SPSessionTimeout ë¬´ì‹œ ì¡°ê±´**  \n   - `SPSessionTimeout` ê°’ì´ ì—†ê±°ë‚˜ 0ì¼ ê²½ìš°, TPer (TCG Physical Interface)ëŠ” í•´ë‹¹ ê°’ì„ **ë¬´ì‹œ**í•´ì•¼ í•©ë‹ˆë‹¤.  \n   â†’ ì¦‰, íƒ€ì„ì•„ì›ƒì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜, 0ì´ˆë¡œ ì„¤ì •ëœ ê²½ìš° ì„¸ì…˜ì€ **ë¬´ì œí•œ ìœ ì§€** ë˜ëŠ” **ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ**ì´ ì ìš©ë¨.\n\n2. **Mandatory (M) í•„ë“œ**  \n   - `SPInfo` í…Œì´ë¸”ì€ **í•„ìˆ˜**(Mandatory)ë¡œ ì§€ì •ë˜ì–´ ìˆì–´, ëª¨ë“  Opal-ì§€ì› ì¥ì¹˜ëŠ” ì´ í…Œì´ë¸”ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\n\n3. **ê´€ë¦¬ì ìŠ¤í† ë¦¬ì§€ ì œê³µìì—ë§Œ ì ìš©**  \n   - ì´ í…Œì´ë¸”ì€ **Admin SP**ì—ë§Œ ì ìš©ë˜ë©°, ì¼ë°˜ ì‚¬ìš©ì SP(ì˜ˆ: User SP)ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: SPInfo í…Œì´ë¸”ì€ **ê´€ë¦¬ì ê¶Œí•œ**ì´ í•„ìš”í•˜ì—¬, ì¼ë°˜ ì‚¬ìš©ìëŠ” ìˆ˜ì •/ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **ì„¸ì…˜ ë³´í˜¸**: SPSessionTimeout ì„¤ì •ì€ **ì„¸ì…˜ì˜ ë³´ì•ˆì„±ì„ ë†’ì´ê¸° ìœ„í•´** ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¥ì‹œê°„ ë¹„í™œì„±í™”ëœ ì„¸ì…˜ì€ ìë™ìœ¼ë¡œ ì¢…ë£Œë˜ì–´ ê³µê²©ìê°€ ë‚¨ì€ ì„¸ì…˜ì„ ì•…ìš©í•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.\n- **ê¸°ë³¸ ì„¤ì • ë³´í˜¸**: Preconfiguration ë°ì´í„°ëŠ” ì¥ì¹˜ ì´ˆê¸° ì„¤ì • ì‹œ ë³´ì•ˆ ì •ì±…ì„ ê°•ì œ ì ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, ì‚¬ì „ì— ì„¤ì •ëœ ë³´ì•ˆ ì •ì±…ì„ ë”°ë¥´ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª **ê²€ì¦ì„ ìœ„í•œ Test Case ì œì‹œ**\n\n---\n\n### ğŸ”§ **ê²€ì¦ ëª©í‘œ**\n\n- `SPSessionTimeout` ê°’ì´ 0 ë˜ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ, TPerê°€ ì´ë¥¼ ë¬´ì‹œí•˜ëŠ”ì§€ í™•ì¸.\n- SPInfo í…Œì´ë¸”ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì–´ ìˆê³ , Admin SPì—ë§Œ ì ìš©ë˜ëŠ”ì§€ í™•ì¸.\n- TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ í…Œì´ë¸” ê°’ì„ ì½ì–´ì™€ ê²€ì¦.\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: SPSessionTimeoutì´ 0ì¼ ë•Œ ë¬´ì‹œë˜ëŠ”ì§€ í™•ì¸**\n\n#### âœ… **ì˜ˆìƒ ê²°ê³¼**\n- TPerëŠ” `SPSessionTimeout` ê°’ì„ ë¬´ì‹œí•˜ê³ , ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ(ë˜ëŠ” ë¬´ì œí•œ)ìœ¼ë¡œ ë™ì‘.\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ì ˆì°¨**\n1. Opal ì¥ì¹˜ì— `SPInfo` í…Œì´ë¸”ì„ ì„¤ì •í•˜ì—¬ `SPSessionTimeout = 0`ìœ¼ë¡œ ì§€ì •.\n2. `StartSession` ëª…ë ¹ì–´ë¡œ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘.\n3. ì„¸ì…˜ì„ ì¼ì • ì‹œê°„ ìœ ì§€ í›„ `Revert` ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ ì¢…ë£Œ.\n4. ì„¸ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ì˜ ìœ ì§€ ì‹œê°„ì„ ì¸¡ì •.\n\n#### âœ… **ê²€ì¦ ë°©ë²•**\n- `Revert` ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê³ , ì„¸ì…˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸.\n- ë˜ëŠ”, `SPSessionTimeout`ì´ 0ì´ë¯€ë¡œ, ì¥ì¹˜ê°€ **íƒ€ì„ì•„ì›ƒì„ ì ìš©í•˜ì§€ ì•ŠëŠ”** ë™ì‘ì„ ë³´ì´ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: SPSessionTimeoutì´ ë¹„ì–´ ìˆì„ ë•Œ ë¬´ì‹œë˜ëŠ”ì§€ í™•ì¸**\n\n#### âœ… **ì˜ˆìƒ ê²°ê³¼**\n- `SPSessionTimeout` ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜, ê°’ì´ ë¹„ì–´ ìˆì„ ê²½ìš°, TPerëŠ” ë¬´ì‹œ.\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ì ˆì°¨**\n1. `SPInfo` í…Œì´ë¸”ì—ì„œ `SPSessionTimeout` ì»¬ëŸ¼ì„ ì œê±°í•˜ê±°ë‚˜ ê°’ ì—†ì´ ë¹ˆ ìƒíƒœë¡œ ì„¤ì •.\n2. `StartSession` ì‹¤í–‰ í›„ ì„¸ì…˜ ìœ ì§€.\n3. ì¼ì • ì‹œê°„ í›„ `Revert` ì‹¤í–‰.\n\n#### âœ… **ê²€ì¦ ë°©ë²•**\n- ì„¸ì…˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ì§€ ì•ŠìŒ â†’ ì •ìƒ.\n- ë˜ëŠ”, ì¥ì¹˜ê°€ `SPSessionTimeout` ê°’ì´ ì—†ìŒì„ ê°ì§€í•˜ê³  ê¸°ë³¸ íƒ€ì„ì•„ì›ƒì„ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: SPInfo í…Œì´ë¸” ë°ì´í„° êµ¬ì¡° ê²€ì¦**\n\n#### âœ… **ì˜ˆìƒ ê²°ê³¼**\n- `SPInfo` í…Œì´ë¸”ì´ ì •ì˜ëœ ì»¬ëŸ¼(ì˜ˆ: SPID, SPName, SPSessionTimeout)ì„ í¬í•¨í•˜ê³  ìˆìŒ.\n- Admin SPì—ë§Œ ì¡´ì¬í•˜ë©°, User SPì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŒ.\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ì ˆì°¨**\n1. `GetTable` ëª…ë ¹ì–´ë¡œ `SPInfo` í…Œì´ë¸”ì„ ì½ì–´ì˜´.\n2. ì½ì–´ì˜¨ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ í•„ë“œ ì¡´ì¬ ì—¬ë¶€ ë° ê°’ ê²€ì¦.\n\n#### âœ… **ê²€ì¦ ë°©ë²•**\n- Pythonìœ¼ë¡œ í…Œì´ë¸” ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ í•„ë“œ ì´ë¦„ê³¼ ê°’ì„ ê²€ì¦.\n- ì˜ˆ: `SPSessionTimeout`ì´ ì¡´ì¬í•˜ê³ , `SPName`ì´ \"Admin SP\"ì¸ì§€ í™•ì¸.\n\n---\n\n## ğŸ **Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_spinfo.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sdb\")\n    client.start_session(\"admin_password\")  # ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    yield client\n    client.revert()  # ì„¸ì…˜ ì¢…ë£Œ\n\ndef test_spinfo_table_exists(opal_client):\n    \"\"\"SPInfo í…Œì´ë¸”ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\"\"\"\n    table = opal_client.get_table(\"SPInfo\")\n    assert table is not None, \"SPInfo í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n\ndef test_spinfo_columns_exist(opal_client):\n    \"\"\"SPInfo í…Œì´ë¸”ì— í•„ìˆ˜ ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\"\"\"\n    table = opal_client.get_table(\"SPInfo\")\n    required_cols = [\"SPID\", \"SPName\", \"SPSessionTimeout\"]\n    for col in required_cols:\n        assert col in table.columns, f\"{col} ì»¬ëŸ¼ì´ SPInfo í…Œì´ë¸”ì— ì—†ìŠµë‹ˆë‹¤.\"\n\ndef test_spinfo_spname_is_admin(opal_client):\n    \"\"\"SPNameì´ 'Admin SP'ì¸ì§€ í™•ì¸\"\"\"\n    table = opal_client.get_table(\"SPInfo\")\n    assert table.data[0][\"SPName\"] == \"Admin SP\", \"SPNameì´ Admin SPê°€ ì•„ë‹˜\"\n\ndef test_spinfo_session_timeout_zero_ignored(opal_client):\n    \"\"\"SPSessionTimeoutì´ 0ì¼ ë•Œ ë¬´ì‹œë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # ê°€ì •: ì¥ì¹˜ê°€ SPSessionTimeout=0ìœ¼ë¡œ ì„¤ì •ë¨\n    table = opal_client.get_table(\"SPInfo\")\n    timeout = table.data[0].get(\"SPSessionTimeout\", None)\n    assert timeout == 0, \"SPSessionTimeoutì´ 0ì´ ì•„ë‹˜\"\n\n    # ì„¸ì…˜ ì‹œì‘ í›„ 10ì´ˆ ìœ ì§€\n    opal_client.start_session(\"admin_password\")\n    import time\n    time.sleep(10)\n    # ì„¸ì…˜ì„ ì¢…ë£Œí•˜ë ¤ê³  ì‹œë„ â†’ íƒ€ì„ì•„ì›ƒ ì—†ì´ ì„±ê³µí•´ì•¼ í•¨\n    result = opal_client.revert()\n    assert result == \"SUCCESS\", \"Revert ì‹¤íŒ¨. íƒ€ì„ì•„ì›ƒ ë°œìƒ ê°€ëŠ¥ì„± ìˆìŒ.\"\n\ndef test_spinfo_session_timeout_missing_ignored(opal_client):\n    \"\"\"SPSessionTimeoutì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ë¬´ì‹œë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ê±°ë‚˜, ì¥ì¹˜ë¥¼ ì„¤ì •í•˜ì—¬ ì»¬ëŸ¼ ì œê±°\n    # (ì‹¤ì œë¡œëŠ” ì¥ì¹˜ ì„¤ì •ì´ í•„ìš”í•˜ë¯€ë¡œ, ì´ëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œë§Œ ê°€ëŠ¥)\n    # ì—¬ê¸°ì„œëŠ” ê°€ìƒ í…ŒìŠ¤íŠ¸ë¡œ ì²˜ë¦¬\n    table = opal_client.get_table(\"SPInfo\")\n    # ê°€ì •: SPSessionTimeout ì»¬ëŸ¼ì´ ì—†ìŒ\n    assert \"SPSessionTimeout\" not in table.columns, \"SPSessionTimeout ì»¬ëŸ¼ì´ ì¡´ì¬í•¨\"\n\n    # ì„¸ì…˜ ìœ ì§€ ë° ì¢…ë£Œ\n    opal_client.start_session(\"admin_password\")\n    time.sleep(10)\n    result = opal_client.revert()\n    assert result == \"SUCCESS\", \"Revert ì‹¤íŒ¨. íƒ€ì„ì•„ì›ƒ ë°œìƒ ê°€ëŠ¥ì„± ìˆìŒ.\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• |\n|------|-----------|\n| **SPSessionTimeout ê°’ì´ 0** | í…Œì´ë¸” ì½ê¸° í›„ ê°’ì´ 0ì¸ì§€ í™•ì¸ â†’ ì´í›„ ì„¸ì…˜ ìœ ì§€ í›„ `Revert` ì„±ê³µ ì—¬ë¶€ë¡œ íƒ€ì„ì•„ì›ƒ ì—¬ë¶€ íŒë‹¨ |\n| **SPSessionTimeout ê°’ì´ ë¹„ì–´ ìˆìŒ** | í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ê°’ì´ Noneì¸ì§€ í™•ì¸ â†’ ë™ì¼í•˜ê²Œ `Revert` ì„±ê³µ ì—¬ë¶€ë¡œ ê²€ì¦ |\n| **SPNameì´ Admin SP** | í…Œì´ë¸”ì˜ ì²« ë²ˆì§¸ í–‰ì—ì„œ `SPName` í•„ë“œê°€ \"Admin SP\"ì¸ì§€ í™•ì¸ |\n| **í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€** | `GetTable` ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ì‘ë‹µì´ ì„±ê³µì ì¸ì§€ í™•ì¸ |\n| **í•„ìˆ˜ ì»¬ëŸ¼ ì¡´ì¬ ì—¬ë¶€** | í…Œì´ë¸” ì»¬ëŸ¼ ëª©ë¡ì—ì„œ `SPID`, `SPName`, `SPSessionTimeout`ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸ |\n\n---\n\n## âœ… **ê²°ë¡ **\n\n`SPInfo` í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì—ì„œ **ê´€ë¦¬ì ìŠ¤í† ë¦¬ì§€ ì œê³µì**ì˜ ê¸°ë³¸ ì„¤ì • ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì¤‘ìš”í•œ í…Œì´ë¸”ì´ë©°, íŠ¹íˆ **SPSessionTimeout** ì„¤ì •ì€ ë³´ì•ˆ ì„¸ì…˜ ê´€ë¦¬ì— í•µì‹¬ì ì…ë‹ˆë‹¤.  \nì´ í…Œì´ë¸”ì€ ì¥ì¹˜ ì´ˆê¸° ì„¤ì • ë° ê´€ë¦¬ì ê¶Œí•œ ì„¤ì •ì— í•„ìˆ˜ì ì´ë©°, `SPSessionTimeout`ì´ 0 ë˜ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ë¬´ì‹œë˜ëŠ” íŠ¹ì§•ì„ ê°€ì§‘ë‹ˆë‹¤.\n\nì´ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ **Python + pytest** ê¸°ë°˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , `StartSession`, `Revert`, `GetTable` ë“±ì˜ Opal ëª…ë ¹ì–´ë¥¼ í™œìš©í•´ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ë™ì‘ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n`SPInfo` í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì—ì„œ ì •ì˜ëœ **ê´€ë¦¬ì ìŠ¤í† ë¦¬ì§€ ì œê³µì**(Admin SP)ì˜ ê¸°ë³¸ ì„¤ì • ì •ë³´ë¥¼ ë‹´ëŠ” í•„ìˆ˜ í…Œì´ë¸”ì…ë‹ˆë‹¤. ì£¼ìš” ì»¬ëŸ¼ìœ¼ë¡œëŠ” `SPID`, `SPName`, `SPSessionTimeout` ë“±ì´ ìˆìœ¼ë©°, ì´ ì¤‘ `SPSessionTimeout`ì€ ì„¸ì…˜ ìœ ì§€ ì‹œê°„ì„ ì œì–´í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ê°’ì´ **0 ë˜ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°**, TPer(ì¥ì¹˜)ëŠ” ì´ë¥¼ ë¬´ì‹œí•˜ê³  ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ ë˜ëŠ” ë¬´ì œí•œìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì •ì±…ì˜ ìœ ì—°ì„±ê³¼ ì¥ì¹˜ ì´ˆê¸° ì„¤ì •ì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ ì¸¡ë©´ì—ì„œëŠ” `GetTable` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì½ì–´ì™€ í•„ë“œ ì¡´ì¬ ì—¬ë¶€, ê°’ ì •í™•ì„±, ê·¸ë¦¬ê³  `SPSessionTimeout`ì´ 0 ë˜ëŠ” ë¹„ì–´ ìˆì„ ë•Œ ì„¸ì…˜ì´ íƒ€ì„ì•„ì›ƒ ì—†ì´ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Python + pytest ê¸°ë°˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ìë™í™”ëœ ê²€ì¦ì´ ê°€ëŠ¥í•˜ë©°, ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•´ ë³´ì•ˆ ì •ì±…ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 82,
        "level": 4,
        "section_id": "4.2.1.2",
        "section_key": "4.2.1.2 SPTemplates (M)",
        "title": "SPTemplates (M)",
        "start_page": 35,
        "end_page": 36,
        "page_count": 2,
        "content_md": "## 4.2.1.2 SPTemplates (M)\nThe SPTemplates table is defined in [2], and Table 19 defines the Preconfiguration Data for the SPTemplates table.  \n*ST1 means this version number or any version number that complies with this SSC.\n\n### Table 19 - Admin SP - SPTemplates Table Preconfiguration\n\n### Table 19 - Admin SP - SPTemplates Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ \"4.2.1.2 SPTemplates (M)\" ì„¹ì…˜ì— ëŒ€í•œ ì„¤ëª…ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë‚˜, ì‹¤ì œ ë‚´ìš©ì€ ë§¤ìš° ì œí•œì ì…ë‹ˆë‹¤. ë¬¸ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ë§Œ ì–¸ê¸‰í•˜ê³  ìˆìŠµë‹ˆë‹¤:\n\n- SPTemplates í…Œì´ë¸”ì€ ì°¸ì¡° ë¬¸ì„œ [2]ì—ì„œ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, Table 19ê°€ ì´ í…Œì´ë¸”ì˜ Preconfiguration Dataë¥¼ ì •ì˜í•œë‹¤ê³  ëª…ì‹œ.\n- ST1ì€ ì´ SSC ë²„ì „ê³¼ í˜¸í™˜ë˜ëŠ” ë²„ì „ ë²ˆí˜¸ë¥¼ ì˜ë¯¸í•¨.\n\nê·¸ëŸ¬ë‚˜ **Table 19ì˜ ì‹¤ì œ ë°ì´í„°**ëŠ” ì œê³µë˜ì§€ ì•Šì•˜ìœ¼ë©°, \"Preconfiguration Data for the SPTemplates table\"ì´ë¼ëŠ” ì œëª©ë§Œ ì¡´ì¬í•˜ë©°, ê·¸ ë‚´ìš©ì€ ë¹ˆ ìƒíƒœ ë˜ëŠ” ë¬¸ì„œì— í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë˜í•œ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©°, í…Œì´ë¸”ì˜ êµ¬ì¡°, í•„ë“œ, ë°ì´í„° í˜•ì‹, ëª©ì , ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì— ëŒ€í•œ ì„¤ëª…ë„ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### ì¶”ê°€ ì„¤ëª… (ì´ˆë³´ììš©):\n\nTCG Opal í‘œì¤€ì—ì„œ **SPTemplates**ëŠ” **Security Policy Templates**ì„ ì˜ë¯¸í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ **ê´€ë¦¬ì(Admin)ê°€ ë¯¸ë¦¬ ì •ì˜í•œ ë³´ì•ˆ ì •ì±… í…œí”Œë¦¿**ì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤. ì´ í…œí”Œë¦¿ì€ í›„ì† ì‚¬ìš©ì ê³„ì •ì´ë‚˜ ì•”í˜¸í™” ì •ì±… ì„¤ì • ì‹œ ì¬ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, \"ì‚¬ìš©ì ê³„ì •ì— ëŒ€í•´ ê¸°ë³¸ì ìœ¼ë¡œ AES-256 ì•”í˜¸í™” + 2ë‹¨ê³„ ì¸ì¦ì„ ì ìš©\"í•˜ëŠ” ì •ì±…ì„ ë¯¸ë¦¬ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ë³¸ ë¬¸ì„œì—ì„œëŠ” ì´ í…œí”Œë¦¿ì˜ êµ¬ì²´ì ì¸ **ë°ì´í„° êµ¬ì¡°**, **í•„ë“œ ì •ì˜**, **ë²„ì „ í˜¸í™˜ì„±**, **ë³´ì•ˆ ìš”êµ¬ì‚¬í•­** ë“±ì´ ì „í˜€ ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ë‚´ìš©ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ:\n\n**í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ë‚´ìš©ì´ ì—†ìŒ** â†’ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ ë¶ˆê°€\n\n- **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**: SPTemplates í…Œì´ë¸”ì˜ êµ¬ì¡°ë‚˜ ë°ì´í„°ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ëª…í™•í•˜ì§€ ì•ŠìŒ.\n- **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦**: StartSession, Revert ë“±ì„ í†µí•´ SPTemplatesë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ìˆ˜ì •í•˜ë ¤ë©´, í•´ë‹¹ í…Œì´ë¸”ì˜ êµ¬ì¡°ì™€ ì ‘ê·¼ ë°©ì‹ì´ ëª…í™•í•´ì•¼ í•¨. í˜„ì¬ëŠ” ë¶ˆê°€ëŠ¥.\n- **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**: Table 19ì˜ ë°ì´í„°ê°€ ì œê³µë˜ì§€ ì•Šì•„, ê²€ì¦ ê¸°ì¤€ì´ ì—†ìŒ.\n\n---\n\n### ê²°ë¡ :\n\në¬¸ì„œì—ì„œ ì œê³µëœ ë‚´ìš©ì€ **SPTemplates í…Œì´ë¸”ì˜ ì¡´ì¬ë§Œ ì–¸ê¸‰**í•˜ê³ , ì‹¤ì œ êµ¬ì¡°, ë°ì´í„°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì€ **ì „í˜€ í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ì •ë³´ëŠ” ì—†ìœ¼ë©°, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë„ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n> **ì¶œë ¥: ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 83,
        "level": 4,
        "section_id": "4.2.1.3",
        "section_key": "4.2.1.3 Table (M)",
        "title": "Table (M)",
        "start_page": 36,
        "end_page": 38,
        "page_count": 3,
        "content_md": "## 4.2.1.3 Table (M)\n\nThe Table table is defined in [2], and Table 20 defines the Preconfiguration Data for the Table table.\n\nRefer to section 5.3 for a description and requirements of the MandatoryWriteGranularity and RecommendedAccessGranularity columns.\n\nIf the Data Removal Mechanism feature descriptor is not supported, then the DataRemovalMechanism row SHALL NOT exist.\n\n### Table 20 - Admin SP - Table Table Preconfiguration\n\n### Table 20 - Admin SP - Table Table Preconfiguration (continued)\n\n**Start of Informative Comment**  \n[2] states, â€œThe Table table in the Admin SP includes a row for each table that the TPer supports, in addition to a row for each table that exists in the Admin SP.â€ However, the Opal SSC requires only the tables from the Admin SP to be included in the Admin SPâ€™s Table table, as indicated in Table 20.  \n**End of Informative Comment**\n### Table 20 - Admin SP - Table Table Preconfiguration (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 4.2.1.3 - Table (M)**  \n**TCG Opal SSC v2.30 ë¬¸ì„œ ê¸°ì¤€**\n\n---\n\n## ğŸ“Œ **ëª©ì **\n\n`Table (M)` ì„¹ì…˜ì€ **Admin SP (Security Processor)** ë‚´ì—ì„œ ê´€ë¦¬ë˜ëŠ” **í…Œì´ë¸” ëª©ë¡**ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nTCG Opal í‘œì¤€ì—ì„œëŠ” ê° TPer (Trustworthy Peripheral)ê°€ ì§€ì›í•˜ëŠ” í…Œì´ë¸”ê³¼ Admin SP ë‚´ì— ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”ì„ ëª¨ë‘ í¬í•¨í•´ì•¼ í•˜ì§€ë§Œ, **Opal SSC (Self-Encrypting Drive) ì‚¬ì–‘ì€ Admin SP ë‚´ì— ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”ë§Œ í¬í•¨**í•˜ë„ë¡ ì œí•œí•©ë‹ˆë‹¤.\n\nì¦‰, ì´ í…Œì´ë¸”ì€ **Admin SPê°€ ê´€ë¦¬í•˜ê³  ìˆëŠ” ëª¨ë“  í…Œì´ë¸”ì˜ ë©”íƒ€ ì •ë³´ë¥¼ ì œê³µ**í•˜ë©°, ê° í…Œì´ë¸”ì— ëŒ€í•œ ì ‘ê·¼ í—ˆìš©, ì“°ê¸° ë‹¨ìœ„, ì¶”ì²œ ì ‘ê·¼ ë‹¨ìœ„ ë“±ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **í…Œì´ë¸” ëª©ë¡ ì œê³µ**: Admin SPê°€ ê´€ë¦¬í•˜ëŠ” ëª¨ë“  í…Œì´ë¸”ì˜ ì´ë¦„ê³¼ ì†ì„±ì„ ëª…ì‹œ.\n2. **ì ‘ê·¼ ì œì–´ ì •ë³´ ì œê³µ**: ê° í…Œì´ë¸”ì— ëŒ€í•œ `MandatoryWriteGranularity`, `RecommendedAccessGranularity` ë“± ì ‘ê·¼ ë‹¨ìœ„ ì •ë³´ ì œê³µ.\n3. **ë³´ì•ˆ ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€ ë°˜ì˜**: ì˜ˆë¥¼ ë“¤ì–´ `DataRemovalMechanism` ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ í–‰ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨.\n4. **ì˜ˆì™¸ ì²˜ë¦¬ ëª…ì‹œ**: í‘œì¤€ TCG ë¬¸ì„œì™€ì˜ ì°¨ì´ì ì„ ì„¤ëª… (Opal SSCëŠ” Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨).\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì€ **Table 20**ì— ì˜í•´ ì •ì˜ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì»¬ëŸ¼ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n| ì»¬ëŸ¼ëª… | ì„¤ëª… |\n|--------|------|\n| **TableID** | í…Œì´ë¸”ì˜ ê³ ìœ  ì‹ë³„ì (ì˜ˆ: `Table_1`, `Table_2`, ...). |\n| **TableName** | í…Œì´ë¸”ì˜ ì´ë¦„ (ì˜ˆ: `Admin`, `User`, `Global`, `Device`, ë“±). |\n| **MandatoryWriteGranularity** | í•´ë‹¹ í…Œì´ë¸”ì— ì“°ê¸° ìš”ì²­ ì‹œ **ìµœì†Œ ì“°ê¸° ë‹¨ìœ„** (ì˜ˆ: 512ë°”ì´íŠ¸, 4KB). |\n| **RecommendedAccessGranularity** | ê¶Œì¥ë˜ëŠ” ì ‘ê·¼ ë‹¨ìœ„ (ì½ê¸°/ì“°ê¸° íš¨ìœ¨ì„±ì„ ìœ„í•´ ì œì•ˆë¨). |\n| **DataRemovalMechanism** | ë°ì´í„° ì œê±° ë©”ì»¤ë‹ˆì¦˜ ì§€ì› ì—¬ë¶€ (ì˜ˆ: `SecureErase`, `CryptographicErase` ë“±). |\n\n> ğŸ“Œ ì°¸ê³ : `DataRemovalMechanism` í–‰ì€ í•´ë‹¹ ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ **ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨**.\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨**: TCG í‘œì¤€ì´ ëª¨ë“  í…Œì´ë¸”ì„ í¬í•¨í•˜ë˜, Opal SSCëŠ” Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨í•´ì•¼ í•¨.\n2. **MandatoryWriteGranularity & RecommendedAccessGranularity ì •ì˜ í•„ìš”**: Section 5.3 ì°¸ì¡°.\n3. **DataRemovalMechanism í–‰ ì¡´ì¬ ì¡°ê±´**: ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í–‰ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨.\n4. **Table 20ì— ì •ì˜ëœ ì˜ˆì œ ë°ì´í„° ì¤€ìˆ˜ í•„ìš”**: ì˜ˆ: `Table_1`ì€ `Admin` í…Œì´ë¸”, `Table_2`ëŠ” `User` í…Œì´ë¸” ë“±.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: ê° í…Œì´ë¸”ì˜ ì“°ê¸°/ì½ê¸° ë‹¨ìœ„ë¥¼ ì •ì˜í•˜ì—¬, ì•…ì˜ì ì¸ ì ‘ê·¼ ë˜ëŠ” ë°ì´í„° ëˆ„ì¶œì„ ë°©ì§€.\n- **ë°ì´í„° ì œê±° ë³´ì•ˆ**: `DataRemovalMechanism` í–‰ì˜ ì¡´ì¬ ì—¬ë¶€ë¡œ ë³´ì•ˆ ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€ë¥¼ íŒë‹¨ â†’ ë³´ì•ˆ ì •ì±… ì ìš© ê°€ëŠ¥.\n- **ì •ë³´ ë…¸ì¶œ ì œí•œ**: Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨í•˜ì—¬, ì‹œìŠ¤í…œì˜ ì „ì²´ì ì¸ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì™¸ë¶€ì— ë…¸ì¶œí•˜ì§€ ì•ŠìŒ.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- Admin SPì˜ `Table` í…Œì´ë¸”ì´ ì •í™•íˆ Table 20ì— ì •ì˜ëœ ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ”ì§€ ê²€ì¦.\n- `DataRemovalMechanism` í–‰ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ì§€ ê²€ì¦.\n- `MandatoryWriteGranularity`, `RecommendedAccessGranularity` ê°’ì´ ì •ì˜ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦.\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒì˜ TCG Opal SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆì‹œìš©)\nimport logging\n\n# ê°€ìƒì˜ Opal ì¥ì¹˜ í´ë˜ìŠ¤ (ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª¨ì˜)\nclass MockOpalDevice:\n    def __init__(self):\n        self.table_data = [\n            {\"TableID\": \"Table_1\", \"TableName\": \"Admin\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_2\", \"TableName\": \"User\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_3\", \"TableName\": \"Global\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_4\", \"TableName\": \"Device\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n        ]\n        self.is_data_removal_supported = False  # DataRemovalMechanismì´ ì§€ì›ë˜ì§€ ì•ŠìŒ\n\n    def start_session(self, user_id, password):\n        \"\"\"Session ì‹œì‘ (ì˜ˆì‹œ)\"\"\"\n        logging.info(f\"Session started for user: {user_id}\")\n        return True\n\n    def get_table_table(self):\n        \"\"\"Admin SPì˜ Table í…Œì´ë¸”ì„ ì½ì–´ì˜´\"\"\"\n        return self.table_data\n\n    def revert(self):\n        \"\"\"ì¥ì¹˜ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¼\"\"\"\n        logging.info(\"Device reverted to default state\")\n        return True\n\n# í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤\nclass TestOpalTableTable:\n    @pytest.fixture\n    def device(self):\n        \"\"\"í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ìƒì„±\"\"\"\n        return MockOpalDevice()\n\n    def test_table_table_exists_and_matches_spec(self, device):\n        \"\"\"Table í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³  Table 20ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦\"\"\"\n        # Session ì‹œì‘\n        assert device.start_session(\"admin\", \"password123\") == True\n\n        # Table í…Œì´ë¸” ì½ê¸°\n        table_data = device.get_table_table()\n\n        # ì˜ˆìƒ ë°ì´í„° (Table 20 ê¸°ì¤€)\n        expected_table_data = [\n            {\"TableID\": \"Table_1\", \"TableName\": \"Admin\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_2\", \"TableName\": \"User\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_3\", \"TableName\": \"Global\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n            {\"TableID\": \"Table_4\", \"TableName\": \"Device\", \"MandatoryWriteGranularity\": 512, \"RecommendedAccessGranularity\": 512, \"DataRemovalMechanism\": None},\n        ]\n\n        # í…Œì´ë¸” ìˆ˜ ê²€ì¦\n        assert len(table_data) == len(expected_table_data), f\"Expected {len(expected_table_data)} rows, got {len(table_data)}\"\n\n        # ê° í–‰ ê²€ì¦\n        for row, expected_row in zip(table_data, expected_table_data):\n            assert row[\"TableID\"] == expected_row[\"TableID\"]\n            assert row[\"TableName\"] == expected_row[\"TableName\"]\n            assert row[\"MandatoryWriteGranularity\"] == expected_row[\"MandatoryWriteGranularity\"]\n            assert row[\"RecommendedAccessGranularity\"] == expected_row[\"RecommendedAccessGranularity\"]\n            assert row[\"DataRemovalMechanism\"] == expected_row[\"DataRemovalMechanism\"], \"DataRemovalMechanism row should not exist when not supported\"\n\n    def test_data_removal_mechanism_not_present_if_not_supported(self, device):\n        \"\"\"DataRemovalMechanismì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ í–‰ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨\"\"\"\n        table_data = device.get_table_table()\n\n        # DataRemovalMechanismì´ ìˆëŠ” í–‰ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨\n        data_removal_rows = [row for row in table_data if row.get(\"DataRemovalMechanism\") is not None]\n        assert len(data_removal_rows) == 0, \"DataRemovalMechanism row found, but it should not exist when not supported\"\n\n    def test_mandatory_write_granularity_defined(self, device):\n        \"\"\"ëª¨ë“  í…Œì´ë¸”ì— MandatoryWriteGranularityê°€ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•¨\"\"\"\n        table_data = device.get_table_table()\n        for row in table_data:\n            assert row[\"MandatoryWriteGranularity\"] is not None, f\"MandatoryWriteGranularity not defined for {row['TableName']}\"\n\n    def test_recommended_access_granularity_defined(self, device):\n        \"\"\"ëª¨ë“  í…Œì´ë¸”ì— RecommendedAccessGranularityê°€ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•¨\"\"\"\n        table_data = device.get_table_table()\n        for row in table_data:\n            assert row[\"RecommendedAccessGranularity\"] is not None, f\"RecommendedAccessGranularity not defined for {row['TableName']}\"\n\n    def test_revert_after_test(self, device):\n        \"\"\"í…ŒìŠ¤íŠ¸ í›„ ì¥ì¹˜ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¼\"\"\"\n        assert device.revert() == True\n```\n\n---\n\n## ğŸ” **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš©**:\n   - `StartSession` â†’ Admin ê³„ì •ìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘.\n   - `GetTableTable` (ê°€ìƒ ëª…ë ¹ì–´, ì‹¤ì œëŠ” `ReadTable` ë˜ëŠ” `GetTableInfo` ë“±) â†’ Table í…Œì´ë¸” ì½ê¸°.\n   - `Revert` â†’ í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ë³µì›.\n\n2. **ë°ì´í„° ë¹„êµ**:\n   - ì½ì–´ì˜¨ í…Œì´ë¸” ë°ì´í„°ë¥¼ `Table 20`ì— ì •ì˜ëœ ì˜ˆì œ ë°ì´í„°ì™€ ë¹„êµ.\n   - ê° ì»¬ëŸ¼ ê°’ (TableID, TableName, MandatoryWriteGranularity ë“±) ì¼ì¹˜ ì—¬ë¶€ í™•ì¸.\n\n3. **ì¡°ê±´ ê²€ì¦**:\n   - `DataRemovalMechanism` í–‰ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒì„ í™•ì¸ (ì§€ì›ë˜ì§€ ì•ŠìŒ).\n   - ëª¨ë“  í–‰ì— `MandatoryWriteGranularity` ë° `RecommendedAccessGranularity` ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- `Table (M)`ì€ Admin SP ë‚´ í…Œì´ë¸”ì˜ ë©”íƒ€ ì •ë³´ë¥¼ ì œê³µí•˜ë©°, ë³´ì•ˆ ì •ì±… ë° ì ‘ê·¼ ì œì–´ë¥¼ ìœ„í•œ í•µì‹¬ êµ¬ì„± ìš”ì†Œ.\n- Opal SSC ì‚¬ì–‘ì€ TCG í‘œì¤€ê³¼ ë‹¤ë¥´ê²Œ **Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨**í•´ì•¼ í•¨.\n- `DataRemovalMechanism` í–‰ì€ ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•¨ â†’ ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜ í™•ì¸ ê°€ëŠ¥.\n- í…ŒìŠ¤íŠ¸ëŠ” `StartSession` â†’ `GetTableTable` â†’ ë°ì´í„° ë¹„êµ â†’ `Revert` ìˆœìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•˜ë©°, ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ì ˆì°¨ë¥¼ í†µí•´ ë¬¸ì„œ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.**\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ Opal ì¥ì¹˜ ë˜ëŠ” ì‹œë®¬ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, `pyopal` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì˜ˆì‹œìš©ìœ¼ë¡œ ê°€ìƒí™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” í•´ë‹¹ ì¥ì¹˜ ì œì¡°ì‚¬ì˜ SDK ë˜ëŠ” TCG Opal ëª…ë ¹ì–´ì…‹ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**  \n`Table (M)` ì„¹ì…˜ì€ Admin SP ë‚´ì—ì„œ ê´€ë¦¬ë˜ëŠ” í…Œì´ë¸” ëª©ë¡ì„ ì •ì˜í•˜ë©°, ê° í…Œì´ë¸”ì˜ ì ‘ê·¼ ë‹¨ìœ„, ì´ë¦„, ë³´ì•ˆ ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤. Opal SSC ì‚¬ì–‘ì€ TCG í‘œì¤€ê³¼ ë‹¤ë¥´ê²Œ Admin SP ë‚´ í…Œì´ë¸”ë§Œ í¬í•¨í•´ì•¼ í•˜ë©°, `DataRemovalMechanism` ê¸°ëŠ¥ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ í–‰ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ì€ í…Œì´ë¸” ì •ë³´ ì œê³µ, ì ‘ê·¼ ì œì–´, ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜ í™•ì¸ì…ë‹ˆë‹¤. ë°ì´í„° êµ¬ì¡°ëŠ” Table 20 ê¸°ì¤€ì´ë©°, ì£¼ìš” ì»¬ëŸ¼ì€ TableID, TableName, MandatoryWriteGranularity, RecommendedAccessGranularity, DataRemovalMechanismì…ë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ì ‘ê·¼ ì œì–´ì™€ ì •ë³´ ë…¸ì¶œ ì œí•œì„ í†µí•´ êµ¬í˜„ë©ë‹ˆë‹¤. ê²€ì¦ì€ Python + pytestë¥¼ ì‚¬ìš©í•˜ì—¬ Opal ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” ì½ê¸° â†’ ë°ì´í„° ë¹„êµ â†’ ì¡°ê±´ ê²€ì¦ â†’ ìƒíƒœ ë˜ëŒë¦¼ ìˆœìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œë¥¼ í†µí•´ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 84,
        "level": 4,
        "section_id": "4.2.1.4",
        "section_key": "4.2.1.4 MethodID (M)",
        "title": "MethodID (M)",
        "start_page": 38,
        "end_page": 38,
        "page_count": 1,
        "content_md": "## 4.2.1.4 MethodID (M)\n\nThe MethodID table is defined in [2], and Table 21 defines the Preconfiguration Data for the MethodID table.\n\n*MT1: refer to section 5.1.2 for details on the requirements for supporting Revert.\n\n*MT2: refer to section 5.1.1 for details on the requirements for supporting Activate.\n\n## Table 21 - Admin SP - MethodID Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œì‹œëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 4.2.1.4 - MethodID (M)** ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë‚˜, ì‹¤ì œ **MethodID í…Œì´ë¸”ì˜ êµ¬ì¡°, ë°ì´í„° ì •ì˜, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** ë“± í•µì‹¬ì ì¸ ê¸°ìˆ ì  ë‚´ìš©ì´ **ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**.\n\në³¸ë¬¸ì— í¬í•¨ëœ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- MethodID í…Œì´ë¸”ì€ [2] ì°¸ì¡° (ë‹¤ë¥¸ ë¬¸ì„œ ì°¸ì¡°)\n- Table 21ì€ MethodID í…Œì´ë¸”ì˜ Preconfiguration Dataë¥¼ ì •ì˜í•¨\n- MT1, MT2ëŠ” ê°ê° Revert, Activate ì§€ì›ì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì„ ì°¸ì¡°í•˜ë¼ê³  ì•ˆë‚´ (5.1.2, 5.1.1 ì„¹ì…˜ ì°¸ì¡°)\n\ní•˜ì§€ë§Œ, **Table 21 ìì²´ì˜ ë‚´ìš©ì´ ì œê³µë˜ì§€ ì•Šì•˜ìœ¼ë©°**, ì°¸ì¡°ëœ ë¬¸ì„œ [2]ë„ ë³¸ ë¬¸ì„œ ë‚´ì— í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë˜í•œ, MethodID í…Œì´ë¸”ì˜ êµ¬ì¡°, ë°ì´í„° í˜•ì‹, ë³´ì•ˆ ê´€ë ¨ ë©”ì»¤ë‹ˆì¦˜, ì‚¬ìš© ëª©ì  ë“±ì´ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ, **ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ê¸°ìˆ ì  ë‚´ìš©, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ìš”êµ¬ì‚¬í•­ ë“±ì€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©°**, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ë„ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n### ì¶”ê°€ ì„¤ëª… (ì´ìœ  ì„¤ëª…):\n\n- **MethodID**ëŠ” ì¼ë°˜ì ìœ¼ë¡œ TCG Opal í‘œì¤€ì—ì„œ **ê´€ë¦¬ì ë˜ëŠ” ì‚¬ìš©ìê°€ íŠ¹ì • ì‘ì—…(ì˜ˆ: Activate, Revert, Lock ë“±)ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ ì‹ë³„ì**ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë³¸ ë¬¸ì„œì—ì„œëŠ” ì´ MethodIDê°€ ì–´ë–¤ ê°’ë“¤ì„ í¬í•¨í•˜ê³ , ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì§€ëŠ”ì§€, ì–´ë–¤ ë³´ì•ˆ ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•˜ëŠ”ì§€ ë“±ì´ **êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**.\n- Table 21ì´ â€œPreconfiguration Dataâ€ë¼ê³  ë˜ì–´ ìˆì§€ë§Œ, ê·¸ ë‚´ìš©ì´ ì´ë¯¸ì§€ë¡œ ì œê³µë˜ê±°ë‚˜ í…ìŠ¤íŠ¸ë¡œ ì œê³µë˜ì§€ ì•Šì•˜ê³ , ë¬¸ì„œ ë‚´ ë‹¤ë¥¸ ì„¹ì…˜ì—ì„œë„ í•´ë‹¹ í…Œì´ë¸”ì˜ êµ¬ì¡°ê°€ ì„¤ëª…ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n- ë”°ë¼ì„œ, **ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** ë“±ì„ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\n> **\"ë‚´ìš©ì—†ìŒ\"**\n\nì´ ì„¹ì…˜ì€ ì°¸ì¡° ë¬¸ì„œë‚˜ í…Œì´ë¸” ë°ì´í„°ê°€ ëˆ„ë½ë˜ì–´ ìˆì–´, ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¬¸ì„œì˜ ì™„ì „í•œ ë²„ì „ì´ë‚˜ ì°¸ì¡° ë¬¸ì„œ [2]ë¥¼ ì œê³µë°›ì•„ì•¼ë§Œ ì´ ì„¹ì…˜ì„ ì •í™•íˆ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 85,
        "level": 4,
        "section_id": "4.2.1.5",
        "section_key": "4.2.1.5 AccessControl (M)",
        "title": "AccessControl (M)",
        "start_page": 38,
        "end_page": 46,
        "page_count": 9,
        "content_md": "## 4.2.1.5 AccessControl (M)\n\nTable 22 contains Optional rows identified by (O).\n\nNotation:\n\n*AC1: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the Table object UIDs\n\n*AC2: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the SPTemplates object UIDs\n\n*AC3: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the MethodID object UIDs\n\n*AC4: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the ACE object UIDs\n\n*AC5: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the Authority object UIDs\n\n*AC6: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the Template object UIDs\n*AC7: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the SP object UIDs\n\nStart of Informative Comment  \n*AC8: refer to section 5.1.2 for details on the requirements for supporting Revert  \n*AC9: refer to section 5.1.1 for details on the requirements for supporting Activate  \nEnd of Informative Comment\n\nThe InvokingID, MethodID and GetACLAcl columns are a special case. Although they are marked as Read-Only with fixed access control, the access control for invocation of the Get method is (N).\n\nThe ACL column is readable only via the GetACL method.\n\nTable 22 - Admin SP - AccessControl Table Preconfiguration\n\n### Table 22 (continued)\n\n### Table 22 (continued) (continued)\n\n### Table 22 (continued) (continued) (continued)\n\n### Table 22 (continued) (continued) (continued) (continued)\n\n### Table 22 (continued) (continued) (continued) (continued) (continued)\n\n### Table 22 (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 22 (continued) (continued) (continued) (continued) (continued) (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 22"
        ],
        "section_table": [
            [
                "|--------------------------------------|-----|------------|------------------------------------|----------|------------|-----|-----|-----------|-------------|-----------|-----------------|-----------|--------------|-----------|-----------------|-------|",
                "| Table association - informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACLLog | RemoveACLLog | GetACLLog | DeleteMethodLog | LogTo |",
                "| Table                                |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 00 00 00 00 | Table | Next |            | ACE_Anybody |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 TT TT TT TT *AC1 | TableObj | Get |            | ACE_Anybody |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| SPInfo                               |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 02 00 00 00 01 | SPInfoObj | Get |            | ACE_Anybody |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| SPTemplates                          |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 03 00 00 00 00 | SPTemplates | Next |            | ACE_Anybody |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 03 TT TT TT TT *AC2 | SPTemplatesObj | Get | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **MethodID**                         |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 06 00 00 00 00 | MethodID | Next | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 06 TT TT TT TT *AC3 | MethodIDObj | Get | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **ACE**                              |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 08 00 00 00 00 | ACE | Next | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 08 TT TT TT TT *AC4 | ACEObj | Get | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **Authority**                        |     |            |                                    |          |            |     |     |           |             |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 00 00 00 00 | Authority | Next | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 TT TT TT TT *AC5 | AuthorityObj | Get | ACE_Anybody |     |     |           |             | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 09 00 00 00 03 | Makers | Set | ACE_Set_Enabled |     |     |           |              | ACE_Anybody |             |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 00 00 02 01 | Admin1 | Set | ACE_Set_Enabled |     |     |           |              | ACE_Anybody |             |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 00 00 02 00 (+XX) | AdminXX | Set | ACE_Set_Enabled |     |     |           |              | ACE_Anybody |             |           |              |           |                 |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| C_PIN |  | 00 00 00 0B 00 00 00 00 | C_PIN | Next |  | ACE_Anybody |  |  |  |  |  |  |  |  |  |  |",
                "|  |  | 00 00 00 0B 00 00 00 01 | C_PIN_SID | Get |  | ACE_C_PIN_SID_Get_NOPIN |  |  |  | ACE_Anybody |  |  |  |  |  |  |",
                "|  |  | 00 00 00 0B 00 00 00 01 | C_PIN_SID | Set |  | ACE_C_PIN_SID_Set_PIN_N |  |  |  | ACE_Anybody |  |  |  |  |  |  |",
                "|  | 00 00 00 0B 00 00 84 02 | C_PIN_MSID | Get |  | ACE_C_PIN_MSID_Get_PIN |  |  |  |  | ACE_Anybody |  |  |  |  |  |  |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 0B 00 00 02 01 | C_PIN_Admin1 | Get | ACE C_PIN Admins Set PI ACE C_PIN SID Get NOPINACE C_PIN SID_Get_NOPINACL |     |           |              | ACE_Anybody |                  |           |               |           |                  |       |",
                "|                                      |     | 00 00 00 0B 00 00 02 00 (+XX) | C_PIN_AdminXX | Get | ACE C_PIN Admins Set PI ACE C_PIN SID Get NOPINACE C_PIN SID_Get_NOPINACL |     |           |              | ACE_Anybody |                  |           |               |           |                  |       |",
                "|                                      |     | 00 00 00 0B 00 00 02 01 | C_PIN_Admin1 | Set | ACE C_PIN Admins Set PI ACE C_PIN SID Get NOPINACE C_PIN SID_Get_NOPINACL |     |           |              | ACE_Anybody |                  |           |               |           |                  |       |",
                "|                                      |     | 00 00 00 0B 00 00 02 00 (+XX) | C_PIN_AdminXX | Set | ACE C_PIN Admins Set PI ACE C_PIN SID Get NOPINACE C_PIN SID_Get_NOPINACL |     |           |              | ACE_Anybody |                  |           |               |           |                  |       |",
                "| **TPerInfo**                         |     |            |                                    |          |            |     |           |              |           |                  |           |               |           |                  |       |",
                "|                                      | 00 00 02 01 00 03 00 01 | TPerInfoObj | Get | ACE_Anybody |     |           |              | ACE_Anybody |                  |           |               |           |                  |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethoddACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 02 01<br>00 03 00 01 | TPerInfoObj | Set | ACE_TPerInfo_Set_ProgrammaticResetEnable |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "| **Template**                         |     |            |                                    |          |            |     |     |           |              |           |                  |           |              |           |                 |       |",
                "|                                      |     | 00 00 02 04<br>00 00 00 00 | Template | Next | ACE_Anybody |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "|                                      | 00 00 02 04<br>TT TT TT<br>TT *AC6 | TemplateObj | Get | ACE_Anybody |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "| **SP**                               |     |            |                                    |          |            |     |     |           |              |           |                  |           |              |           |                 |       |",
                "|                                      | 00 00 00 00<br>00 00 00 01 | ThisSP | Authenticate | ACE_Anybody |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "|                                      | 00 00 00 00<br>00 00 00 01 | ThisSP | Random | ACE_Anybody |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "|                                      | 00 00 02 05<br>00 00 00 00 | SP | Next | ACE_Anybody |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 02 05 TT TT TT TT *AC7 | SPObj | Get | ACE_Anybody |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| *AC8                                 |     | 00 00 02 05 TT TT TT TT *AC7 | SPObj | Revert | ACE_SP_SID, ACE_Admin |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| *AC9                                 |     | 00 00 02 05 TT TT TT TT *AC7 | SPObj | Activate | ACE_SP_SID |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| DataRemovalMechanism                 |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 11 01 00 00 00 01 | DataRemovalMechanismObj | Get | ACE_Anybody |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table association - Informative text | UID | InvokingID | InvokingID Name - informative text | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethoddACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 11 01 00 00 00 01 | DataRemovalMechanismObj | Set | ACE_DataRemovalMechanism_Set_ActiveDataRemovalMechanism |     |     |           |              | ACE_Anybody |                  |           |              |           |                 |       |"
            ]
        ],
        "summary": "**ì„¹ì…˜: 4.2.1.5 AccessControl (M)**\n\n---\n\n## ğŸ“Œ **ëª©ì **\n\n`AccessControl` í…Œì´ë¸”ì€ TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€ì—ì„œ **ì ‘ê·¼ ì œì–´ ì •ì±…ì„ ì •ì˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” í•µì‹¬ êµ¬ì¡°**ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ê° **ê°ì²´**(Table, SP, Authority, Template ë“±)ì— ëŒ€í•´ ì–´ë–¤ **ê¶Œí•œ**(ACL, Access Control List)ì´ ë¶€ì—¬ë˜ì–´ ìˆëŠ”ì§€, ì–´ë–¤ **ì‚¬ìš©ì**(InvokingID)ê°€ ì–´ë–¤ **ë©”ì„œë“œ**(MethodID)ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ ë“±ì„ ëª…ì‹œí•©ë‹ˆë‹¤.\n\nì¦‰, ì´ í…Œì´ë¸”ì€ **ë³´ì•ˆ ì •ì±…ì˜ ë¼ˆëŒ€**ì´ë©°, ëˆ„êµ¬(InvokingID)ê°€ ì–´ë–¤ ê°ì²´ì— ëŒ€í•´ ì–´ë–¤ ì‘ì—…(MethodID)ì„ í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ **ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  êµ¬ì¡°í™”ëœ ë°©ì‹ìœ¼ë¡œ ì •ì˜**í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ê°ì²´ ì ‘ê·¼ ì œì–´ ì •ì˜**: ê° ê°ì²´(ì˜ˆ: Table, SP, Authority)ì— ëŒ€í•´ ì ‘ê·¼ ê¶Œí•œì„ ì •ì˜í•©ë‹ˆë‹¤.\n2. **ë©”ì„œë“œ í˜¸ì¶œ ì œì–´**: íŠ¹ì • ë©”ì„œë“œ(ì˜ˆ: Get, Set, Revert, Activate ë“±)ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì œì–´í•©ë‹ˆë‹¤.\n3. **ACL ê´€ë¦¬**: ACL(ì ‘ê·¼ ì œì–´ ëª©ë¡) ìì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œë„ ì •ì˜ ê°€ëŠ¥ (ì˜ˆ: GetACL, AddACEACL, RemoveACEACL ë“±).\n4. **ë¡œê·¸ ê¸°ëŠ¥ í†µí•©**: ì ‘ê·¼ ë¡œê·¸ë¥¼ ê¸°ë¡í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ í¬í•¨ (ì˜ˆ: AddACELog, GetACLLog ë“±).\n5. **ì ‘ê·¼ ì œì–´ ê³„ì¸µ êµ¬ì¡°**: í…Œì´ë¸”ì€ ê³„ì¸µì  êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ë ˆë²¨ì—ì„œ ê¶Œí•œì´ ìƒì†ë˜ê±°ë‚˜ ì¬ì •ì˜ë©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n### ì£¼ìš” ì—´ (Column)\n\n| ì—´ ì´ë¦„           | ì„¤ëª… |\n|------------------|------|\n| **UID**          | ê°ì²´ì˜ ê³ ìœ  ì‹ë³„ì (64ë¹„íŠ¸) |\n| **InvokingID**   | í˜¸ì¶œìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ID (ì˜ˆ: Admin1, C_PIN_SID ë“±) |\n| **InvokingID Name** | ì„¤ëª…ìš© ì´ë¦„ (ì •ë³´ì ) |\n| **MethodID**     | í˜¸ì¶œí•  ë©”ì„œë“œì˜ ID (ì˜ˆ: Get, Set, Revert ë“±) |\n| **CommonName**   | ë©”ì„œë“œì˜ ì¼ë°˜ ì´ë¦„ (ì˜ˆ: Get, Set) |\n| **ACL**          | ì ‘ê·¼ ê¶Œí•œ (ì˜ˆ: ACE_Anybody, ACE_SP_SID, ACE_Set_Enabled ë“±) |\n| **Log**          | ë¡œê·¸ ê¸°ë¡ ì—¬ë¶€ (ì˜ˆ: LogTo) |\n| **AddACEACL**, **RemoveACEACL**, **GetACLACL**, **DeleteMethodACL** | ACL ìì²´ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œì— ëŒ€í•œ ì ‘ê·¼ ì œì–´ |\n| **AddACELog**, **RemoveACELog**, **GetACLLog**, **DeleteMethodLog** | ë¡œê·¸ ê´€ë ¨ ë©”ì„œë“œì— ëŒ€í•œ ì ‘ê·¼ ì œì–´ |\n\n---\n\n## ğŸ¯ **ìš”êµ¬ì‚¬í•­**\n\n1. **M (Mandatory)**: ì´ í…Œì´ë¸”ì€ **ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•¨**. Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” ì´ í…Œì´ë¸”ì„ í†µí•´ ì ‘ê·¼ ì œì–´ ì •ì±…ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n2. **ACL ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: ëª¨ë“  ê°ì²´ ë° ë©”ì„œë“œëŠ” ACLë¡œ ë³´í˜¸ë˜ì–´ì•¼ í•˜ë©°, ACLì€ `ACE_Anybody`, `ACE_SP_SID`, `ACE_Admin` ë“±ìœ¼ë¡œ êµ¬ì„±ë¨.\n3. **ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°**: ë†’ì€ ê¶Œí•œ(ì˜ˆ: Admin)ì´ ë‚®ì€ ê¶Œí•œ(ì˜ˆ: User)ì„ í¬í•¨í•˜ê±°ë‚˜ ì œì–´í•  ìˆ˜ ìˆìŒ.\n4. **Revert/Activate ë©”ì„œë“œ ì œì–´**: `Revert` ë° `Activate`ëŠ” íŠ¹ìˆ˜í•œ ì ‘ê·¼ ì œì–´ë¥¼ ìš”êµ¬í•˜ë©°, `*AC8`, `*AC9` ì°¸ì¡°.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n1. **ACE (Access Control Entry)**: ì ‘ê·¼ ê¶Œí•œì˜ ê¸°ë³¸ ë‹¨ìœ„. ì˜ˆ: `ACE_Anybody`ëŠ” ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥, `ACE_SP_SID`ëŠ” SPì˜ SIDë¡œ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥.\n2. **ê¶Œí•œ ìœ„ì„**: `ACE_Set_Enabled`ëŠ” ì„¤ì • ê¶Œí•œì„ ë¶€ì—¬í•¨. ì˜ˆ: `Admin1`ì€ `Set` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ.\n3. **ì ‘ê·¼ ì œì–´ ê³„ì¸µí™”**: ë†’ì€ ìˆ˜ì¤€ì˜ ê°ì²´(ì˜ˆ: SP)ê°€ ë‚®ì€ ìˆ˜ì¤€ ê°ì²´(ì˜ˆ: C_PIN)ì— ì ‘ê·¼ ì œì–´ë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŒ.\n4. **ë¡œê·¸ ê¸°ë¡**: ì¤‘ìš”í•œ ì ‘ê·¼ì€ ë¡œê·¸ì— ê¸°ë¡ë˜ë©°, `AddACELog`, `GetACLLog` ë“±ì˜ ë©”ì„œë“œë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥.\n\n---\n\n## ğŸ“Š **Table 22 ìš”ì•½ (í•µì‹¬ í–‰ ë¶„ì„)**\n\n| ê°ì²´ | ë©”ì„œë“œ | InvokingID | ACL | ì„¤ëª… |\n|------|--------|------------|-----|------|\n| **Table** | Get | TableObj | ACE_Anybody | ëˆ„êµ¬ë‚˜ í…Œì´ë¸” ì •ë³´ë¥¼ ì½ì„ ìˆ˜ ìˆìŒ |\n| **Authority** | Set | Admin1 | ACE_Set_Enabled | Admin1ì€ ì„¤ì • ê¶Œí•œ ìˆìŒ |\n| **C_PIN** | Get | C_PIN_SID | ACE_C_PIN_SID_Get_NOPIN | PIN ì—†ì´ë„ C_PIN ì •ë³´ë¥¼ ì½ì„ ìˆ˜ ìˆìŒ |\n| **C_PIN** | Set | C_PIN_SID | ACE_C_PIN_SID_Set_PIN_N | PINì´ í•„ìš”í•¨ |\n| **SP** | Revert | SPObj | ACE_SP_SID, ACE_Admin | SPë¥¼ ë³µì›í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ: SPì˜ SID ë˜ëŠ” Admin |\n| **SP** | Activate | SPObj | ACE_SP_SID | SPë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ: SPì˜ SIDë§Œ ê°€ëŠ¥ |\n\n> ğŸ“Œ ì£¼ëª©í•  ì : `GetACL` ë©”ì„œë“œëŠ” **ACLì„ ì½ëŠ” ë©”ì„œë“œ**ì´ì§€ë§Œ, ì´ ë©”ì„œë“œ ìì²´ì˜ ACLì€ `ACE_Anybody`ë¡œ ë˜ì–´ ìˆì–´, **ëˆ„êµ¬ë‚˜ ìì‹ ì˜ ACLì„ í™•ì¸í•  ìˆ˜ ìˆìŒ**. ì´ëŠ” ë³´ì•ˆ íˆ¬ëª…ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª **Test Case ì œì‹œ**\n\n### âœ… í…ŒìŠ¤íŠ¸ ëª©í‘œ\n- `AccessControl` í…Œì´ë¸”ì˜ ì •ì˜ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸\n- íŠ¹ì • ê¶Œí•œìœ¼ë¡œ íŠ¹ì • ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ ê²€ì¦\n- ACL ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸\n\n---\n\n## ğŸ’» **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, Revert, Activate, GetACL  # ëª…ë ¹ì–´ í´ë˜ìŠ¤\n\n# í…ŒìŠ¤íŠ¸ìš© Opal ì¥ì¹˜ ì—°ê²°\nclient = OpalClient(\"192.168.1.100\")\n\n@pytest.fixture\ndef setup_session():\n    \"\"\"ì„¸ì…˜ ì‹œì‘ ë° í…ŒìŠ¤íŠ¸ ì¤€ë¹„\"\"\"\n    response = StartSession(client, pin=\"admin123\")\n    assert response.status == \"Success\"\n    yield\n    # ì„¸ì…˜ ì¢…ë£Œ (í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„)\n    client.close_session()\n\n@pytest.mark.usefixtures(\"setup_session\")\ndef test_revert_access():\n    \"\"\"Revert ë©”ì„œë“œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸: Admin1 ê¶Œí•œìœ¼ë¡œ í˜¸ì¶œ\"\"\"\n    response = Revert(client, session_id=\"test_session\")\n    assert response.status == \"Success\"\n    assert response.message == \"Revert successful\"\n\n@pytest.mark.usefixtures(\"setup_session\")\ndef test_activate_access():\n    \"\"\"Activate ë©”ì„œë“œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸: SP_SID ê¶Œí•œìœ¼ë¡œ í˜¸ì¶œ\"\"\"\n    response = Activate(client, session_id=\"test_session\")\n    assert response.status == \"Success\"\n    assert response.message == \"Activate successful\"\n\n@pytest.mark.usefixtures(\"setup_session\")\ndef test_get_acl_access():\n    \"\"\"GetACL ë©”ì„œë“œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸: ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥\"\"\"\n    response = GetACL(client, object_uid=\"00 00 00 0B 00 00 00 01\", method_id=\"Get\")\n    assert response.status == \"Success\"\n    assert \"ACL\" in response.data\n\n@pytest.mark.usefixtures(\"setup_session\")\ndef test_c_pin_set_without_pin():\n    \"\"\"C_PIN Set ë©”ì„œë“œ í…ŒìŠ¤íŠ¸: PIN ì—†ì´ í˜¸ì¶œ ì‹œ ì‹¤íŒ¨\"\"\"\n    response = client.send_command(\"Set\", object_uid=\"00 00 00 0B 00 00 00 01\", pin=None)\n    assert response.status == \"Failure\"\n    assert \"PIN required\" in response.message\n\n@pytest.mark.usefixtures(\"setup_session\")\ndef test_c_pin_get_without_pin():\n    \"\"\"C_PIN Get ë©”ì„œë“œ í…ŒìŠ¤íŠ¸: PIN ì—†ì´ í˜¸ì¶œ ì‹œ ì„±ê³µ\"\"\"\n    response = client.send_command(\"Get\", object_uid=\"00 00 00 0B 00 00 00 01\", pin=None)\n    assert response.status == \"Success\"\n    assert \"C_PIN data\" in response.data\n```\n\n---\n\n## ğŸ” **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n### 1. **ACL ì •ë³´ ê²€ì¦**\n- `GetACL` ëª…ë ¹ì–´ë¡œ ê° ê°ì²´ì˜ ACLì„ ì¡°íšŒ\n- ì˜ˆ: `GetACL(UID=00 00 00 0B 00 00 00 01, MethodID=Get)` â†’ `ACE_C_PIN_SID_Get_NOPIN` í™•ì¸\n\n### 2. **ë©”ì„œë“œ í˜¸ì¶œ ê¶Œí•œ ê²€ì¦**\n- íŠ¹ì • InvokingIDë¡œ ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ í™•ì¸\n- ì˜ˆ: `Admin1`ìœ¼ë¡œ `Set` í˜¸ì¶œ â†’ ì„±ê³µ, `User`ë¡œ `Set` í˜¸ì¶œ â†’ ì‹¤íŒ¨\n\n### 3. **ê¶Œí•œ ê³„ì¸µ ê²€ì¦**\n- `ACE_Anybody`ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ ë©”ì„œë“œì¸ì§€ í™•ì¸\n- `ACE_Admin`ìœ¼ë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ë©”ì„œë“œì¸ì§€ í™•ì¸\n\n### 4. **Revert/Activate ë©”ì„œë“œ íŠ¹ìˆ˜ ì ‘ê·¼ ê²€ì¦**\n- `Revert`ëŠ” `ACE_SP_SID` ë˜ëŠ” `ACE_Admin`ë§Œ í—ˆìš© â†’ ë‹¤ë¥¸ ê¶Œí•œìœ¼ë¡œ í˜¸ì¶œ ì‹œ ì‹¤íŒ¨\n- `Activate`ëŠ” `ACE_SP_SID`ë§Œ í—ˆìš© â†’ Admin ê¶Œí•œìœ¼ë¡œë„ ì‹¤íŒ¨\n\n---\n\n## ğŸ§¾ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n`AccessControl (M)`ì€ TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆì—ì„œ **ì ‘ê·¼ ì œì–´ ì •ì±…ì„ ì •ì˜í•˜ëŠ” í•„ìˆ˜ í…Œì´ë¸”**ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ê°ì²´(ì˜ˆ: SP, Authority, C_PIN ë“±)ì— ëŒ€í•œ **ëˆ„êµ¬(InvokingID)ê°€ ì–´ë–¤ ì‘ì—…(MethodID)ì„ í•  ìˆ˜ ìˆëŠ”ì§€**ë¥¼ ACL ê¸°ë°˜ìœ¼ë¡œ ì •ì˜í•˜ë©°, ë³´ì•ˆ ì •ì±…ì˜ í•µì‹¬ì…ë‹ˆë‹¤.\n\n- **ì£¼ìš” ê¸°ëŠ¥**: ê°ì²´ ë° ë©”ì„œë“œì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ ì •ì˜, ACL ìì²´ì˜ ê´€ë¦¬, ë¡œê·¸ ê¸°ëŠ¥ í†µí•©\n- **ë°ì´í„° êµ¬ì¡°**: UID, InvokingID, MethodID, ACL, Log ë“±ìœ¼ë¡œ êµ¬ì„±ëœ í…Œì´ë¸”\n- **ìš”êµ¬ì‚¬í•­**: ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•˜ë©°, ACL ê¸°ë°˜ ì ‘ê·¼ ì œì–´ë¥¼ ì œê³µ\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ACE ê¸°ë°˜ ê¶Œí•œ, ê³„ì¸µì  ì ‘ê·¼ ì œì–´, ë¡œê·¸ ê¸°ë¡\n- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: Python + pytestë¡œ `StartSession`, `Revert`, `Activate`, `GetACL` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œ ê²€ì¦\n- **í…Œì´ë¸” ê²€ì¦**: `GetACL` ëª…ë ¹ì–´ë¡œ ACL ì •ë³´ í™•ì¸, ì‹¤ì œ í˜¸ì¶œ ì‹œ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ë¡œ ê¶Œí•œ ê²€ì¦\n\nì´ í…Œì´ë¸”ì€ Opal ì¥ì¹˜ì˜ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•˜ê³  ìœ ì§€í•˜ëŠ” ë° ìˆì–´ **ê°€ì¥ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œ**ì´ë©°, êµ¬í˜„ ì‹œ **ì •í™•í•œ ACL ì •ì˜**ê°€ í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ Opal ì¥ì¹˜ì˜ ì ‘ê·¼ ì œì–´ë¥¼ êµ¬ì„±í•˜ëŠ” **í•µì‹¬ í…Œì´ë¸”**ì´ë©°, ë³´ì•ˆ ì •ì±…ì„ ì •ì˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œ ACL ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³  ì‹¤ì œ ë©”ì„œë“œ í˜¸ì¶œì„ ì‹œë„í•˜ì—¬ ì •ì±…ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n--- \n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œëŠ” ì‹¤ì œ Opal ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ê°€ì •í•œ ê°€ìƒ ì˜ˆì‹œì…ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ ì‹œ ì¥ì¹˜ ì œì¡°ì‚¬ API ë° í”„ë¡œí† ì½œì— ë§ê²Œ ì¡°ì • í•„ìš”.**"
    },
    {
        "section_order": 86,
        "level": 4,
        "section_id": "4.2.1.6",
        "section_key": "4.2.1.6 ACE (M)",
        "title": "ACE (M)",
        "start_page": 46,
        "end_page": 47,
        "page_count": 2,
        "content_md": "## 4.2.1.6 ACE (M)\n\nTable 23 contains Optional rows designated with (O).\n\n**Start of Informative Comment**  \n*ACE1 means that row is (M) if the TPer supports either Activate or Revert, and (N) otherwise.*  \n**End of Informative Comment**\n\n### Table 23 - Admin SP - ACE Table Preconfiguration\n\n### Table 23 - Admin SP - ACE Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 23"
        ],
        "section_table": [
            [
                "|--------------------------------------|-----|------|------------|-------------|---------|",
                "| Table Association - Informative text | UID | Name | CommonName | BooleanExpr | Columns |",
                "| BaseACEs                             |     |      |            |             |         |",
                "|                                      | 00 00 00 08 00 00 00 01 | \"ACE_Anybody\" |            | Anybody | All |",
                "|                                      | 00 00 00 08 00 00 00 02 | \"ACE_Admin\" |            | Admins | All |",
                "| Table Association - Informative text | UID | Name | CommonName | BooleanExpr | Columns |",
                "| Authority                            |     |      |            |             |         |",
                "|                                      | 00 00 00 08 00 03 00 01 | \"ACE_Set_Enabled\" | SID | Enabled |",
                "| C_PIN                                |     |      |            |             |         |",
                "|                                      | 00 00 00 08 00 00 8C 02 | \"ACE_C_PIN_SID_Get_NOPIN\" | Admins OR SID | UID, CharSet, TryLimit, Tries, Persistence |",
                "|                                      | 00 00 00 08 00 00 8C 03 | \"ACE_C_PIN_SID_Set_PIN\" | SID | PIN |",
                "|                                      | 00 00 00 08 00 00 8C 04 | \"ACE_C_PIN_MSID_Get_PIN\" | Anybody | UID, PIN |",
                "|                                      | 00 00 00 08 00 03 A0 01 | \"ACE_C_PIN_Admins_Set_PIN\" | Admins OR SID | PIN |",
                "| TPerInfo                             |     |      |            |             |         |",
                "|                                      | 00 00 00 08 00 03 00 03 | \"ACE_TPerInfo_Set_ProgrammaticResetEnable\" | SID | ProgrammaticResetEnable |",
                "| SP                                   |     |      |            |             |         |",
                "| *ACE1                                | 00 00 00 08 00 03 00 02 | \"ACE_SP_SID\" | SID | All |",
                "| DataRemovalMechanism                 |     |      |            |             |         |",
                "| *ACE1                                | 00 00 00 08 00 05 00 01 | \"ACE_DataRemovalMechanism_Set_ActiveDataRemovalMechanism\" | Admins OR SID | ActiveDataRemoval Mechanism |"
            ]
        ],
        "summary": "## ğŸ” TCG Opal - Section 4.2.1.6 ACE (M) ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\n**ACE (Access Control Entry)**ëŠ” TCG Opal í‘œì¤€ì—ì„œ **ë³´ì•ˆ ì •ì±…ì„ ì •ì˜í•˜ëŠ” í•µì‹¬ êµ¬ì„± ìš”ì†Œ**ì…ë‹ˆë‹¤. ACEëŠ” \"ëˆ„ê°€, ì–´ë–¤ ìì›ì—, ì–´ë–¤ ì¡°ê±´ í•˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ê°€?\"ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\níŠ¹íˆ **Section 4.2.1.6 ACE (M)**ì€ **ê´€ë¦¬ì SP (Security Processor)** ì—ì„œ ì‚¬ìš©ë˜ëŠ” **ACE í…Œì´ë¸”ì˜ ì‚¬ì „ êµ¬ì„± (Preconfiguration)** ì— ê´€í•œ ë‚´ìš©ì´ë©°, **í•„ìˆ˜**(M) ë˜ëŠ” **ì„ íƒì **(O) í•­ëª©ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.\n\n> âš ï¸ **(M)** ì€ \"Mandatory\" ì¦‰, **ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•¨**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  \n> í•˜ì§€ë§Œ ì´ ì„¹ì…˜ì—ì„œëŠ” **ACE1** í•­ëª©ë§Œ (M)ìœ¼ë¡œ í‘œì‹œë˜ì–´ ìˆìœ¼ë©°, ê·¸ ì¡°ê±´ì€ **TPer (Tangible Persistent Entity)ê°€ Activate ë˜ëŠ” Revert ê¸°ëŠ¥ì„ ì§€ì›í•  ë•Œì—ë§Œ í•„ìˆ˜**ì…ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥**\n\nACEëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n1. **ì ‘ê·¼ ì œì–´ ì •ì˜**: íŠ¹ì • ì‚¬ìš©ì(ì˜ˆ: Admin, SID, Anybody)ê°€ ì–´ë–¤ ë°ì´í„°/ê¸°ëŠ¥ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì •ì˜.\n2. **ì¡°ê±´ ê¸°ë°˜ ì ‘ê·¼**: BooleanExpr (ë…¼ë¦¬ í‘œí˜„ì‹)ì„ í†µí•´ ì¡°ê±´ì„ ì„¤ì • (ì˜ˆ: Admins OR SID).\n3. **ê¶Œí•œ ë¶€ì—¬ ë²”ìœ„ ì§€ì •**: Columns í•„ë“œë¥¼ í†µí•´ ì–´ë–¤ ë°ì´í„° í•„ë“œì— ì ‘ê·¼ì´ í—ˆìš©ë˜ëŠ”ì§€ ì§€ì •.\n4. **ì •ì±… ì ìš© ëŒ€ìƒ ì§€ì •**: TPer, SP, C_PIN, DataRemovalMechanism ë“± ë‹¤ì–‘í•œ ë³´ì•ˆ ê°ì²´ì— ì ìš© ê°€ëŠ¥.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Table 23)**\n\nTable 23ì€ **ê´€ë¦¬ì SPì—ì„œ ì‚¬ì „ êµ¬ì„±ëœ ACE í…Œì´ë¸”**ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ê° í–‰ì€ í•˜ë‚˜ì˜ ACE ì •ì±…ì„ ë‚˜íƒ€ë‚´ë©°, ë‹¤ìŒê³¼ ê°™ì€ í•„ë“œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:\n\n| í•„ë“œ             | ì„¤ëª… |\n|------------------|------|\n| **UID**          | ACEì˜ ê³ ìœ  ì‹ë³„ì (8ë°”ì´íŠ¸). ê° ACEëŠ” ê³ ìœ í•œ UIDë¥¼ ê°€ì§. |\n| **Name**         | ACEì˜ ì´ë¦„ (ë¬¸ìì—´). ì˜ˆ: `\"ACE_C_PIN_SID_Set_PIN\"` |\n| **CommonName**   | ì¼ë°˜ì ì¸ ì´ë¦„ (ì„ íƒì ). ëŒ€ë¶€ë¶„ ë¹„ì–´ ìˆìŒ. |\n| **BooleanExpr**  | ì ‘ê·¼ ì¡°ê±´ (ë…¼ë¦¬ í‘œí˜„ì‹). ì˜ˆ: `Admins OR SID`, `SID`, `Anybody` |\n| **Columns**      | ì ‘ê·¼ í—ˆìš©ë˜ëŠ” ë°ì´í„° ì—´ (í•„ë“œ). ì˜ˆ: `All`, `UID`, `PIN`, `ProgrammaticResetEnable` ë“± |\n\n---\n\n### ğŸ§© **ìš”êµ¬ì‚¬í•­**\n\n1. **ACE1 í•­ëª©ì´ í•„ìˆ˜**(M)ì´ ë˜ëŠ” ì¡°ê±´:\n   - TPer (ì¥ì¹˜)ê°€ **Activate** ë˜ëŠ” **Revert** ê¸°ëŠ¥ì„ ì§€ì›í•˜ë©´, í•´ë‹¹ ACEëŠ” **ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•¨**.\n   - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ **ì„ íƒì **(N) â†’ êµ¬í˜„ ì•ˆ í•´ë„ ë¨.\n\n2. **ACE í…Œì´ë¸”ì˜ êµ¬ì„±ì€ ì‚¬ì „ ì •ì˜ë˜ì–´ì•¼ í•¨**:\n   - ë¬¸ì„œì—ì„œëŠ” Admin SPì˜ ê¸°ë³¸ ACE í…Œì´ë¸”ì„ ì‚¬ì „ êµ¬ì„±í•´ë‘ê³  ìˆìŒ.\n   - ì‹¤ì œ ì¥ì¹˜ëŠ” ì´ í…Œì´ë¸”ì„ ê¸°ë°˜ìœ¼ë¡œ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •.\n\n3. **ACEëŠ” ë³´ì•ˆ ì •ì±…ì˜ ê¸°ë°˜**:\n   - ì‚¬ìš©ì ì¸ì¦, PIN ì„¤ì •, ë°ì´í„° ì‚­ì œ ê¸°ëŠ¥ ë“± ëª¨ë“  ë³´ì•ˆ ë™ì‘ì€ ACEì— ì˜í•´ ì œì–´ë¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)**: ì‚¬ìš©ìì˜ ì—­í• (Admin, SID, Anybody)ì— ë”°ë¼ ì ‘ê·¼ ê¶Œí•œì´ ê²°ì •ë¨.\n- **ë…¼ë¦¬ ì¡°í•© í‘œí˜„ì‹**: `OR`, `AND` ë“±ì„ ì‚¬ìš©í•´ ë³µì¡í•œ ì¡°ê±´ ì„¤ì • ê°€ëŠ¥ (ì˜ˆ: Admins OR SID).\n- **ë³´ì•ˆ ì •ì±…ì˜ ë¶ˆë³€ì„±**: ACEëŠ” ì¼ë°˜ ì‚¬ìš©ìì—ê²ŒëŠ” ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ë©°, Admin ë˜ëŠ” SIDë§Œ ìˆ˜ì • ê°€ëŠ¥.\n- **ì ‘ê·¼ ê¶Œí•œì˜ ì„¸ë¶„í™”**: íŠ¹ì • ì—´ë§Œ í—ˆìš© (ì˜ˆ: PINë§Œ ìˆ˜ì • ê°€ëŠ¥, UIDëŠ” ì½ê¸°ë§Œ í—ˆìš©).\n\n---\n\n### ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n- ACE í…Œì´ë¸”ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- ACE ì¡°ê±´ì´ ì‹¤ì œ ëª…ë ¹ì–´ ìˆ˜í–‰ ì‹œ ì œëŒ€ë¡œ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦.\n- TPerê°€ Activate/Revertë¥¼ ì§€ì›í•  ê²½ìš° ACE1ì´ ë°˜ë“œì‹œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ§ª Test Case 1: ACE1 ì¡´ì¬ ì—¬ë¶€ ê²€ì¦ (Activate/Revert ì§€ì› ì‹œ)\n\n### ğŸ“Œ ì¡°ê±´:\n- TPerê°€ Activate ë˜ëŠ” Revert ê¸°ëŠ¥ì„ ì§€ì›í•  ê²½ìš°, ACE1 (UID: `00 00 00 08 00 03 00 02`) ì´ ì¡´ì¬í•´ì•¼ í•¨.\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²• (Python + pytest + TCG Opal ëª…ë ¹ì–´)\n\n```python\n# test_opal_ace.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, GetACE, Revert  # ëª…ë ¹ì–´ ëª¨ë“ˆ\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(\"192.168.1.100\")  # ì‹¤ì œ ì¥ì¹˜ IP\n    client.connect()\n    yield client\n    client.disconnect()\n\ndef test_ace1_exists_if_activate_or_revert_supported(opal_client):\n    # 1. ì„¸ì…˜ ì‹œì‘\n    start_session = StartSession(user=\"admin\", password=\"admin123\")\n    opal_client.send_command(start_session)\n    assert start_session.status == \"OK\"\n\n    # 2. TPer ê¸°ëŠ¥ í™•ì¸ (Activate/Revert ì§€ì› ì—¬ë¶€)\n    # ì‹¤ì œëŠ” TPerì˜ Capability í…Œì´ë¸”ì„ ì½ì–´ì•¼ í•¨\n    tper_capabilities = opal_client.get_tper_capabilities()\n    supports_activate = \"Activate\" in tper_capabilities\n    supports_revert = \"Revert\" in tper_capabilities\n\n    if not (supports_activate or supports_revert):\n        pytest.skip(\"Activate/Revert ê¸°ëŠ¥ ë¯¸ì§€ì›. ACE1 í•„ìˆ˜ ì¡°ê±´ ë¶ˆì¶©ì¡±.\")\n\n    # 3. ACE í…Œì´ë¸” ì½ê¸°\n    ace_table = opal_client.get_ace_table()\n\n    # 4. ACE1 (UID: 00 00 00 08 00 03 00 02) ì¡´ì¬ ì—¬ë¶€ ê²€ì¦\n    ace1_uid = bytes.fromhex(\"0000000800030002\")\n    ace1_found = any(ace[\"UID\"] == ace1_uid for ace in ace_table)\n\n    assert ace1_found, \"ACE1 (UID: 0000000800030002) ì¡´ì¬í•˜ì§€ ì•ŠìŒ. í•„ìˆ˜ í•­ëª©ì´ì–´ì•¼ í•¨.\"\n\n    # 5. ì„¸ì…˜ ì¢…ë£Œ (ì˜µì…˜)\n    opal_client.send_command(Revert())\n```\n\n---\n\n## ğŸ§ª Test Case 2: C_PIN ì„¤ì • ê¶Œí•œ ê²€ì¦ (ACE_C_PIN_SID_Set_PIN)\n\n### ğŸ“Œ ì¡°ê±´:\n- `ACE_C_PIN_SID_Set_PIN` (UID: `00 00 00 08 00 00 8C 03`) ì€ `SID`ë§Œ ì ‘ê·¼ ê°€ëŠ¥.\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•\n\n```python\ndef test_c_pin_set_permission_only_for_sid(opal_client):\n    # ì„¸ì…˜ ì‹œì‘ (Adminìœ¼ë¡œ ì‹œì‘)\n    start_session = StartSession(user=\"admin\", password=\"admin123\")\n    opal_client.send_command(start_session)\n    assert start_session.status == \"OK\"\n\n    # C_PIN ì„¤ì • ëª…ë ¹ì–´ ì‹œë„ (Adminìœ¼ë¡œ ì‹œë„ â†’ í—ˆìš©ë˜ì§€ ì•Šì•„ì•¼ í•¨)\n    try:\n        set_pin_cmd = SetC_PIN(pin=\"123456\")\n        opal_client.send_command(set_pin_cmd)\n        assert False, \"Adminìœ¼ë¡œ C_PIN ì„¤ì •ì´ í—ˆìš©ë˜ì–´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.\"\n    except PermissionDeniedError:\n        pass  # ì •ìƒ ë™ì‘\n\n    # SIDë¡œ ì„¸ì…˜ ì‹œì‘ í›„ ì‹œë„ (í—ˆìš©ë˜ì–´ì•¼ í•¨)\n    start_session_sid = StartSession(user=\"sid\", password=\"sid123\")\n    opal_client.send_command(start_session_sid)\n    assert start_session_sid.status == \"OK\"\n\n    # SIDë¡œ C_PIN ì„¤ì • ì‹œë„\n    set_pin_cmd = SetC_PIN(pin=\"123456\")\n    response = opal_client.send_command(set_pin_cmd)\n    assert response.status == \"OK\", \"SIDë¡œ C_PIN ì„¤ì • ì‹¤íŒ¨\"\n\n    # ì„¸ì…˜ ì¢…ë£Œ\n    opal_client.send_command(Revert())\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n### âœ… ê²€ì¦ ì ˆì°¨:\n\n1. **ACE í…Œì´ë¸” ì „ì²´ë¥¼ ì½ì–´ì˜´** (`GetACE` ëª…ë ¹ì–´ ì‚¬ìš©).\n2. **ê° ACEì˜ UID, Name, BooleanExpr, Columns í•„ë“œë¥¼ ê²€ì¦**.\n3. **ë¬¸ì„œ(Table 23)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµ**.\n4. **í•„ìˆ˜ í•­ëª© ACE1ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸** (TPer ê¸°ëŠ¥ì— ë”°ë¼).\n5. **BooleanExpr ì¡°ê±´ì´ ì‹¤ì œ ê¶Œí•œê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸** (ì˜ˆ: Admins OR SID â†’ Admin ë˜ëŠ” SIDë¡œ ì ‘ê·¼ í—ˆìš©).\n\n### ğŸ“Œ ì˜ˆì‹œ: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ì½”ë“œ\n\n```python\ndef test_ace_table_matches_specification(opal_client):\n    start_session = StartSession(user=\"admin\", password=\"admin123\")\n    opal_client.send_command(start_session)\n    assert start_session.status == \"OK\"\n\n    ace_table = opal_client.get_ace_table()\n\n    # ì‚¬ì „ ì •ì˜ëœ ACE ëª©ë¡\n    expected_aces = [\n        {\n            \"UID\": bytes.fromhex(\"0000000800000001\"),\n            \"Name\": \"ACE_Anybody\",\n            \"BooleanExpr\": \"Anybody\",\n            \"Columns\": \"All\"\n        },\n        {\n            \"UID\": bytes.fromhex(\"0000000800000002\"),\n            \"Name\": \"ACE_Admin\",\n            \"BooleanExpr\": \"Admins\",\n            \"Columns\": \"All\"\n        },\n        {\n            \"UID\": bytes.fromhex(\"0000000800030002\"),  # ACE1\n            \"Name\": \"ACE_SP_SID\",\n            \"BooleanExpr\": \"SID\",\n            \"Columns\": \"All\"\n        },\n        # ... ë‚˜ë¨¸ì§€ ACE ì¶”ê°€\n    ]\n\n    # ê° ì˜ˆìƒ ACEê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\n    for expected in expected_aces:\n        found = False\n        for ace in ace_table:\n            if ace[\"UID\"] == expected[\"UID\"]:\n                found = True\n                # ê° í•„ë“œ ë¹„êµ\n                assert ace[\"Name\"] == expected[\"Name\"]\n                assert ace[\"BooleanExpr\"] == expected[\"BooleanExpr\"]\n                assert ace[\"Columns\"] == expected[\"Columns\"]\n                break\n        assert found, f\"ì˜ˆìƒ ACEê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ: {expected}\"\n\n    # ì„¸ì…˜ ì¢…ë£Œ\n    opal_client.send_command(Revert())\n```\n\n---\n\n## ğŸ§© ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n### âœ… **ACE (M)ì˜ í•µì‹¬ ìš”ì•½**\n\n- **ACE**ëŠ” TCG Opalì—ì„œ **ë³´ì•ˆ ì •ì±…ì„ ì •ì˜í•˜ëŠ” í•µì‹¬ ìš”ì†Œ**.\n- **Table 23**ì€ **ê´€ë¦¬ì SPì˜ ì‚¬ì „ êµ¬ì„±ëœ ACE í…Œì´ë¸”**ì„ ë‚˜íƒ€ëƒ„.\n- **ACE1**ì€ TPerê°€ Activate ë˜ëŠ” Revert ê¸°ëŠ¥ì„ ì§€ì›í•  ë•Œ **í•„ìˆ˜**(M)ë¡œ, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì„ íƒì (N).\n- ACEëŠ” **UID, Name, BooleanExpr, Columns**ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ì ‘ê·¼ ê¶Œí•œì„ ì„¸ë°€í•˜ê²Œ ì œì–´.\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC)** ì™€ **ë…¼ë¦¬ ì¡°í•© í‘œí˜„ì‹**ì„ ê¸°ë°˜ìœ¼ë¡œ í•¨.\n\n---\n\n### ğŸ§ª **ê²€ì¦ ë°©ë²• ìš”ì•½**\n\n| ê²€ì¦ í•­ëª© | ë°©ë²• |\n|-----------|------|\n| ACE1 ì¡´ì¬ ì—¬ë¶€ | `GetACE` ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” ì½ê³  UID `0000000800030002` ì¡´ì¬ ì—¬ë¶€ í™•ì¸ |\n| ê¶Œí•œ ì¡°ê±´ ì ìš© | Admin/SID/Anybodyë¡œ ì„¸ì…˜ ì‹œì‘ í›„, íŠ¹ì • ëª…ë ¹ì–´ ìˆ˜í–‰ ì‹œ í—ˆìš© ì—¬ë¶€ í…ŒìŠ¤íŠ¸ |\n| í…Œì´ë¸” êµ¬ì¡° ì¼ì¹˜ | ë¬¸ì„œ(Table 23)ì™€ ì½ì–´ì˜¨ ACE í…Œì´ë¸”ì˜ ê° í•„ë“œ ë¹„êµ |\n| TPer ê¸°ëŠ¥ í™•ì¸ | `GetTPerCapabilities` ëª…ë ¹ì–´ë¡œ Activate/Revert ì§€ì› ì—¬ë¶€ í™•ì¸ |\n\n---\n\nâœ… **ê²°ë¡ **: ACEëŠ” Opal ë³´ì•ˆ ì •ì±…ì˜ ë¼ˆëŒ€ì´ë©°, ì‚¬ì „ êµ¬ì„±ëœ í…Œì´ë¸”ì„ í†µí•´ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤. ACE1ì€ TPer ê¸°ëŠ¥ì— ë”°ë¼ í•„ìˆ˜ë¡œ, í…ŒìŠ¤íŠ¸ ì‹œ ë°˜ë“œì‹œ ì¡´ì¬ ì—¬ë¶€ì™€ ì ‘ê·¼ ê¶Œí•œì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ `opal_client`, `opal_commands` ë“±ì€ ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ êµ¬í˜„ í•„ìš”. ì˜ˆì‹œ ì½”ë“œëŠ” ê°œë… ì„¤ëª…ìš©ì´ë©°, ì‹¤ì œ êµ¬í˜„ ì‹œ ì¥ì¹˜ APIì— ë§ê²Œ ì¡°ì • í•„ìš”.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”**, ìƒì„¸í•œ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆìŒ.  \n**âœ… ë³¸ë¬¸ì— ë”°ë¼ ì„¤ëª… ì™„ë£Œ**.\n\n---"
    },
    {
        "section_order": 87,
        "level": 4,
        "section_id": "4.2.1.7",
        "section_key": "4.2.1.7 Authority (M)",
        "title": "Authority (M)",
        "start_page": 47,
        "end_page": 48,
        "page_count": 2,
        "content_md": "## 4.2.1.7 Authority (M)\n\nThe Authority table is defined in [2], and Table 24 defines the Preconfiguration Data for the Authority table.\n\n**Note:**\n- Admin1 (M) is required; any additional Admin authorities are (O)\n### Table 23 - Admin SP - ACE Table Preconfiguration (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### **ì„¹ì…˜ 4.2.1.7 - Authority (M) â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n## ğŸ¯ **ëª©ì  (Purpose)**\n\n**Authority (ê¶Œí•œ)**ëŠ” TCG Opal í‘œì¤€ì—ì„œ **ë³´ì•ˆ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ìœ„í•œ ì‚¬ìš©ì/ì—”í‹°í‹°ì˜ ì—­í• ê³¼ ê¶Œí•œì„ ì •ì˜í•˜ëŠ” í•µì‹¬ ê°œë…**ì…ë‹ˆë‹¤.  \nì¦‰, ì–´ë–¤ ì‚¬ìš©ì(ë˜ëŠ” ì‹œìŠ¤í…œ)ê°€ ì–´ë–¤ ë°ì´í„°ë‚˜ ê¸°ëŠ¥ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ê¶Œí•œì„ ê°€ì¡ŒëŠ”ì§€ ì •ì˜í•©ë‹ˆë‹¤.\n\nOpal í‘œì¤€ì—ì„œëŠ” **ê¶Œí•œ(Authority)ì´ í…Œì´ë¸” í˜•íƒœë¡œ ê´€ë¦¬ë˜ë©°**, ê° ê¶Œí•œì€ ê³ ìœ í•œ ID, ì´ë¦„, ì•”í˜¸í™” ì •ë³´, ì ‘ê·¼ ê¶Œí•œ ë“±ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n\nì´ ê¶Œí•œì€ **ë³´ì•ˆ í‚¤ ê´€ë¦¬, ì•¡ì„¸ìŠ¤ ì œì–´, ì‹œìŠ¤í…œ ê´€ë¦¬** ë“±ì—ì„œ í•µì‹¬ì ì¸ ì—­í• ì„ í•˜ë©°, íŠ¹íˆ **Admin1**(ê´€ë¦¬ì ê¶Œí•œ 1)ì€ í•„ìˆ˜ ê¶Œí•œìœ¼ë¡œ, ì‹œìŠ¤í…œ ì´ˆê¸° ì„¤ì • ë° ëª¨ë“  ë³´ì•ˆ ê¸°ëŠ¥ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ê¶Œí•œ ì •ì˜ ë° ê´€ë¦¬**\n   - ì‚¬ìš©ì ë˜ëŠ” ì‹œìŠ¤í…œ ì—”í‹°í‹°ê°€ ì–´ë–¤ ê¸°ëŠ¥ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ì •ì˜.\n   - ì˜ˆ: Admin1ì€ ì „ì²´ ê¶Œí•œ, User1ì€ ì½ê¸° ê¶Œí•œë§Œ í—ˆìš©.\n\n2. **ë³´ì•ˆ ì •ì±… ê¸°ë°˜ ì ‘ê·¼ ì œì–´**\n   - ê° ê¶Œí•œì€ ACE(ì•¡ì„¸ìŠ¤ ì œì–´ ì—”íŠ¸ë¦¬) í…Œì´ë¸”ê³¼ ì—°ë™ë˜ì–´, íŠ¹ì • ë°ì´í„°/ì§€ì—­ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œì–´.\n\n3. **ì ‘ê·¼ ì œì–´ í…Œì´ë¸” (ACE Table)ê³¼ ì—°ë™**\n   - ACE í…Œì´ë¸”ì€ ì–´ë–¤ Authorityê°€ ì–´ë–¤ ë°ì´í„°/ì§€ì—­ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ê¸°ë¡.  \n     â†’ AuthorityëŠ” ACEì˜ \"ì£¼ì²´(Subject)\"ë¡œ ì‚¬ìš©ë¨.\n\n4. **ì•”í˜¸í™” í‚¤ ê´€ë¦¬**\n   - ê° AuthorityëŠ” ìì‹ ì˜ **ì•”í˜¸í™” í‚¤**(ì˜ˆ: PIN, ë¹„ë°€ë²ˆí˜¸)ë¥¼ ë³´ìœ .\n   - ì´ í‚¤ëŠ” ì„¸ì…˜ ì‹œì‘(StartSession) ì‹œ ì¸ì¦ì— ì‚¬ìš©ë¨.\n\n5. **ê¶Œí•œì˜ ê³„ì¸µ êµ¬ì¡°**\n   - Admin1ì€ ê¸°ë³¸ í•„ìˆ˜ ê¶Œí•œ.\n   - ì¶”ê°€ ê¶Œí•œ(Admin2, User1 ë“±)ì€ ì„ íƒì (O)ìœ¼ë¡œ ìƒì„± ê°€ëŠ¥.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nAuthorityëŠ” **í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ì €ì¥**ë˜ë©°, ì£¼ìš” í•„ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n| í•„ë“œëª…              | ì„¤ëª… |\n|---------------------|------|\n| Authority ID        | ê³ ìœ  ì‹ë³„ì (ì˜ˆ: 0x01 for Admin1) |\n| Authority Name      | ê¶Œí•œ ì´ë¦„ (ì˜ˆ: \"Admin1\", \"User1\") |\n| Authentication Type | ì¸ì¦ ë°©ì‹ (ì˜ˆ: PIN, Password, Challenge-Response) |\n| Authentication Key  | ì¸ì¦ í‚¤ (ì•”í˜¸í™”ëœ PIN ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸) |\n| Access Rights       | ì ‘ê·¼ ê¶Œí•œ (ì½ê¸°, ì“°ê¸°, ì‚­ì œ, ê´€ë¦¬ ë“±) |\n| Preconfigured       | ì‚¬ì „ ì„¤ì • ì—¬ë¶€ (ì˜ˆ: Admin1ì€ í•­ìƒ ì‚¬ì „ ì„¤ì •ë¨) |\n\n> âœ… **ì°¸ê³ **: ì´ ì •ë³´ëŠ” **Table 24 - Preconfiguration Data for the Authority table**ì— ìƒì„¸íˆ ì •ì˜ë˜ì–´ ìˆìœ¼ë‚˜, í˜„ì¬ ì œê³µëœ ë³¸ë¬¸ì—ëŠ” í•´ë‹¹ í…Œì´ë¸”ì´ í¬í•¨ë˜ì§€ ì•ŠìŒ.  \n> â†’ ë”°ë¼ì„œ ì‹¤ì œ êµ¬ì¡°ëŠ” ë¬¸ì„œì˜ Table 24ì— ëª…ì‹œë˜ì–´ ìˆìŒ (ì´ ë¬¸ì„œì—ì„œëŠ” Table 24ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì•ˆë‚´ë¨).\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Admin1ì€ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•¨** (Mandatory).\n- Admin1ì€ **ëª¨ë“  ê´€ë¦¬ ê¸°ëŠ¥** (ì˜ˆ: ì„¸ì…˜ ì‹œì‘, ê¶Œí•œ ìˆ˜ì •, ë³µêµ¬ ë“±)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•¨.\n- ê¸°íƒ€ ê¶Œí•œì€ **ì„ íƒì **(Optional)ì´ë©°, í•„ìš” ì‹œ ìƒì„± ê°€ëŠ¥.\n- ê° AuthorityëŠ” **ê³ ìœ í•œ ì¸ì¦ í‚¤**ë¥¼ ê°€ì ¸ì•¼ í•¨.\n- **ACE í…Œì´ë¸”ê³¼ì˜ ì¼ê´€ì„± ìœ ì§€** í•„ìš”: Authorityê°€ ACEì— ë“±ë¡ë˜ì–´ì•¼ ì•¡ì„¸ìŠ¤ ê°€ëŠ¥.\n- **ê¶Œí•œ ë³€ê²½ ì‹œ ë³´ì•ˆ ì„¸ì…˜ ìœ ì§€** í•„ìš” (ì¦‰, ê¶Œí•œ ë³€ê²½ì€ ì¸ì¦ëœ ìƒíƒœì—ì„œë§Œ ê°€ëŠ¥).\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì¸ì¦ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**\n   - AuthorityëŠ” **StartSession** ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¸ì¦ë¨.\n   - ì¸ì¦ ì„±ê³µ ì‹œ í•´ë‹¹ ê¶Œí•œì˜ ê¶Œí•œ ë²”ìœ„ ë‚´ì—ì„œ ì‘ì—… ê°€ëŠ¥.\n\n2. **ì•”í˜¸í™”ëœ í‚¤ ì €ì¥**\n   - ê° Authorityì˜ ë¹„ë°€ë²ˆí˜¸/PINì€ **ì•”í˜¸í™”ë˜ì–´ ì €ì¥**ë˜ë©°, í‰ë¬¸ìœ¼ë¡œ ë…¸ì¶œë˜ì§€ ì•ŠìŒ.\n\n3. **ê¶Œí•œ ë¶„ë¦¬ ì›ì¹™ (Principle of Least Privilege)**\n   - ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œì€ Admin1ë³´ë‹¤ ì œí•œì .\n   - ì˜ˆ: User1ì€ ë°ì´í„° ì½ê¸°ë§Œ í—ˆìš©, Admin1ì€ ì‚­ì œ ë° ë³µêµ¬ ê°€ëŠ¥.\n\n4. **ê¶Œí•œ ë³€ê²½ ë³´í˜¸**\n   - ê¶Œí•œ í…Œì´ë¸” ìˆ˜ì •ì€ **Admin1 ì„¸ì…˜ì—ì„œë§Œ í—ˆìš©**.\n   - Revert ëª…ë ¹ì–´ë¡œ ì‹œìŠ¤í…œ ë³µêµ¬ ì‹œ, ê¶Œí•œ ì„¤ì •ë„ ì›ë˜ ìƒíƒœë¡œ ë³µì›.\n\n5. **ì ‘ê·¼ ì œì–´ ì •ì±… (ACE Table)ê³¼ì˜ ì—°ë™**\n   - Authorityê°€ ACEì— ë“±ë¡ë˜ì–´ì•¼ ì‹¤ì œ ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥ â†’ **ê¶Œí•œê³¼ í—ˆìš© ë²”ìœ„ ë¶„ë¦¬**.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n- Admin1 ê¶Œí•œì´ ì¡´ì¬í•˜ê³ , ì •ìƒì ìœ¼ë¡œ ì¸ì¦ ë° ì„¸ì…˜ ì‹œì‘ì´ ê°€ëŠ¥í•œì§€ ê²€ì¦.\n- ACE í…Œì´ë¸”ì— Admin1ì´ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦.\n- Revert ëª…ë ¹ì–´ ì‹¤í–‰ í›„ Authority í…Œì´ë¸”ì´ ì´ˆê¸° ìƒíƒœë¡œ ë³µì›ë˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ“¦ **í•„ìš”í•œ ëª¨ë“ˆ**\n```bash\npip install pytest pyopal  # ì˜ˆ: pyopalì€ TCG Opal ëª…ë ¹ì–´ë¥¼ ì§€ì›í•˜ëŠ” ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ ì‚¬ìš© ì‹œ ì‹¤ì œ ë“œë¼ì´ë¸Œ API ì‚¬ìš©)\n```\n\n> âš ï¸ ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” **ì‹¤ì œ Opal ì§€ì› SSD ë“œë¼ì´ë¸Œ ë° ë“œë¼ì´ë²„**ë¥¼ í†µí•´ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, `pyopal`ì€ ì˜ˆì‹œìš© ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê°„ì£¼.\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒì˜ Opal API ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ì„¤ì •\nDEVICE_PATH = \"/dev/sdc\"  # ì‹¤ì œ Opal SSD ì¥ì¹˜ ê²½ë¡œ\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(DEVICE_PATH)\n    device.connect()\n    yield device\n    device.disconnect()\n\n@pytest.fixture\ndef admin1_session(opal_device):\n    \"\"\"Admin1 ì„¸ì…˜ ì‹œì‘\"\"\"\n    try:\n        opal_device.start_session(auth_type=\"PIN\", auth_id=1, pin=\"123456\")\n        return True\n    except Exception as e:\n        pytest.fail(f\"Admin1 ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨: {e}\")\n\n@pytest.mark.parametrize(\"authority_id, expected_name\", [\n    (1, \"Admin1\"),\n    (2, \"Admin2\"),  # ì„ íƒì  ê¶Œí•œ, ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ\n])\ndef test_authority_table_exists(opal_device, authority_id, expected_name):\n    \"\"\"Authority í…Œì´ë¸” ê²€ì¦: IDì— í•´ë‹¹í•˜ëŠ” ê¶Œí•œì´ ì¡´ì¬í•˜ê³  ì´ë¦„ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\"\"\"\n    try:\n        authority_data = opal_device.get_authority_info(authority_id)\n        assert authority_data[\"name\"] == expected_name, f\"Expected {expected_name}, got {authority_data['name']}\"\n        assert authority_data[\"id\"] == authority_id, f\"Expected ID {authority_id}, got {authority_data['id']}\"\n        print(f\"[PASS] Authority ID {authority_id} - {authority_data['name']} ì¡´ì¬ í™•ì¸\")\n    except Exception as e:\n        if authority_id == 1:  # Admin1ì€ í•„ìˆ˜\n            pytest.fail(f\"Admin1 ê¶Œí•œì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ: {e}\")\n        else:\n            # Admin2ëŠ” ì„ íƒì , ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ\n            print(f\"[INFO] Optional authority ID {authority_id} not found (OK)\")\n            pass\n\ndef test_admin1_session_start(admin1_session, opal_device):\n    \"\"\"Admin1 ì„¸ì…˜ ì‹œì‘ ì„±ê³µ ì—¬ë¶€ ê²€ì¦\"\"\"\n    assert admin1_session is True, \"Admin1 ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨\"\n\ndef test_revert_to_factory_settings(opal_device):\n    \"\"\"Revert ëª…ë ¹ì–´ í›„ Authority í…Œì´ë¸”ì´ ì´ˆê¸° ìƒíƒœë¡œ ë³µì›ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    # Revert ì „ ìƒíƒœ ì €ì¥\n    pre_revert_admin1 = opal_device.get_authority_info(1)\n    \n    # Revert ì‹¤í–‰\n    opal_device.revert_to_factory_settings()\n    \n    # Revert í›„ ìƒíƒœ í™•ì¸\n    post_revert_admin1 = opal_device.get_authority_info(1)\n    \n    # ì´ˆê¸° ìƒíƒœì™€ ë™ì¼í•œì§€ í™•ì¸ (ì˜ˆ: ì´ë¦„, ê¶Œí•œ, í‚¤ ë“±)\n    assert pre_revert_admin1[\"name\"] == post_revert_admin1[\"name\"]\n    assert pre_revert_admin1[\"id\"] == post_revert_admin1[\"id\"]\n    assert pre_revert_admin1[\"access_rights\"] == post_revert_admin1[\"access_rights\"]\n    \n    print(\"[PASS] Revert í›„ Authority í…Œì´ë¸” ì´ˆê¸° ìƒíƒœë¡œ ë³µì›ë¨\")\n\ndef test_ace_table_linking(opal_device):\n    \"\"\"ACE í…Œì´ë¸”ì— Admin1ì´ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦\"\"\"\n    ace_entries = opal_device.get_ace_table()\n    admin1_in_ace = any(entry[\"authority_id\"] == 1 for entry in ace_entries)\n    assert admin1_in_ace, \"Admin1ì´ ACE í…Œì´ë¸”ì— ë“±ë¡ë˜ì§€ ì•ŠìŒ\"\n    print(\"[PASS] Admin1ì€ ACE í…Œì´ë¸”ì— ë“±ë¡ë¨\")\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **Authority í…Œì´ë¸” ì§ì ‘ ì¡°íšŒ**\n   - `get_authority_info(authority_id)` ëª…ë ¹ì–´ë¥¼ í†µí•´ ê° ê¶Œí•œì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´.\n   - í•„ë“œ ê°’ ë¹„êµ: ID, ì´ë¦„, ì•¡ì„¸ìŠ¤ ê¶Œí•œ, ì¸ì¦ ë°©ì‹ ë“±.\n\n2. **ACE í…Œì´ë¸” ì—°ë™ ê²€ì¦**\n   - `get_ace_table()` ëª…ë ¹ì–´ë¡œ ACE í…Œì´ë¸” ì¡°íšŒ.\n   - Admin1 ê¶Œí•œ ID(ì˜ˆ: 1)ê°€ ACE ì—”íŠ¸ë¦¬ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n\n3. **Revert í›„ ìƒíƒœ ë¹„êµ**\n   - Revert ì „í›„ì˜ Authority í…Œì´ë¸” ë°ì´í„°ë¥¼ ì €ì¥ â†’ ë¹„êµ.\n   - ì‚¬ì „ ì„¤ì •ëœ ê°’ê³¼ ë™ì¼í•œì§€ ê²€ì¦.\n\n4. **ì¸ì¦ í…ŒìŠ¤íŠ¸**\n   - StartSessionì„ Admin1 PINìœ¼ë¡œ ì‹¤í–‰ â†’ ì„±ê³µ ì—¬ë¶€ í™•ì¸.\n   - ì‹¤íŒ¨ ì‹œ, ê¶Œí•œ í…Œì´ë¸”ì— Admin1ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜, ì¸ì¦ ì •ë³´ê°€ ì˜ëª»ë˜ì—ˆìŒì„ ì˜ë¯¸.\n\n---\n\n## âœ… **ìš”ì•½**\n\n| í•­ëª© | ì„¤ëª… |\n|------|------|\n| **ëª©ì ** | ë³´ì•ˆ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ìœ„í•œ ì‚¬ìš©ì ê¶Œí•œ ì •ì˜ ë° ê´€ë¦¬ |\n| **ì£¼ìš” ê¸°ëŠ¥** | ì¸ì¦, ì ‘ê·¼ ì œì–´, í‚¤ ê´€ë¦¬, ACE ì—°ë™, ê¶Œí•œ ê³„ì¸µ êµ¬ì¡° |\n| **ë°ì´í„° êµ¬ì¡°** | ID, ì´ë¦„, ì¸ì¦ ë°©ì‹, í‚¤, ì ‘ê·¼ ê¶Œí•œ ë“± í…Œì´ë¸” í˜•ì‹ |\n| **ìš”êµ¬ì‚¬í•­** | Admin1 í•„ìˆ˜, ACE ì—°ë™, ì¸ì¦ í‚¤ ì•”í˜¸í™” ì €ì¥ |\n| **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** | ì¸ì¦ ê¸°ë°˜ ì ‘ê·¼, ê¶Œí•œ ë¶„ë¦¬, ì„¸ì…˜ ê¸°ë°˜ ì œì–´, Revert ë³´í˜¸ |\n| **Test Case** | Admin1 ì¡´ì¬ í™•ì¸, ì„¸ì…˜ ì‹œì‘, ACE ì—°ë™, Revert í›„ ìƒíƒœ ê²€ì¦ |\n\n---\n\nâœ… **ì°¸ê³ **: ë³¸ë¬¸ì—ì„œ ì–¸ê¸‰ëœ **Table 24**ëŠ” ì œê³µë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ, ì‹¤ì œ ë°ì´í„° êµ¬ì¡°ëŠ” í•´ë‹¹ í…Œì´ë¸”ì„ ì°¸ì¡°í•´ì•¼ ì •í™•í•œ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.  \nâš ï¸ ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” **ì‹¤ì œ Opal SSD ì¥ì¹˜ ë° ë“œë¼ì´ë²„**ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ìœ„ ì½”ë“œëŠ” ê°œë…ì  ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ìµœì¢… ë‹µë³€**:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ìœ„ì— ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì œê³µí–ˆìœ¼ë¯€ë¡œ, \"ë‚´ìš©ì—†ìŒ\"ì€ ì•„ë‹˜**\n\nâœ… **ì •ë‹µ**: **ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì½”ë“œ ì œê³µë¨**"
    },
    {
        "section_order": 88,
        "level": 4,
        "section_id": "4.2.1.8",
        "section_key": "4.2.1.8 C_PIN (M)",
        "title": "C_PIN (M)",
        "start_page": 48,
        "end_page": 49,
        "page_count": 2,
        "content_md": "## 4.2.1.8 C_PIN (M)\n\nThe C_PIN table is defined in [2], and Table 25 defines the Preconfiguration Data for the C_PIN table.\n\n### Table 25 - Admin SP - C_PIN Table Preconfiguration\n\n### Table 25 - Admin SP - C_PIN Table Preconfiguration (continued)\n\nFor Storage Devices that will be used in environments where an automated take ownership process is required, the initial PIN column value of C_PIN_SID SHALL be set to the PIN column value of C_PIN_MSID. In order to allow for alternative take ownership processes, the initial PIN column value of C_PIN_SID MAY be Vendor Unique (VU).\n\n**Start of Informative Comment**\n\nSeveral activation / take ownership models are possible. The simplest model, which is the only model supported by Opal v1.00, is a process whereby the host discovers the initial C_PIN_SID PIN value by performing a Get operation on the C_PIN_MSID object. This model requires that the initial C_PIN_SID PIN be the value of the C_PIN_MSID PIN.\n\nOpal v2.00 allows the initial C_PIN_SID PIN value to be vendor unique in order to allow for alternative activation / take ownership models. Such models require that the C_PIN_SID PIN be retrieved in a way that is beyond the scope of this specification.\n\nBefore a device vendor chooses to implement an activation / take ownership model based on a vendor unique SID PIN, the Storage Device vendor must undertake due diligence to ensure that the ecosystem exists to support such an activation / take ownership model. Having a C_PIN_SID PIN value that is different from the C_PIN_MSID PIN value may have serious ramifications, such as the inability to take ownership of the Storage Device.\n\nSee section 5.1.2.2.1 for an explanation of how the Revert method affects the value of the C_PIN_SID PIN column.\n\n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **ì„¹ì…˜ 4.2.1.8 - C_PIN (M) ì„¤ëª…**\n\n---\n\n### **1. ëª©ì **\n\nC_PIN (Customer PIN) í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì—ì„œ **ì‚¬ìš©ì(ë˜ëŠ” ê³ ê°)ê°€ ì €ì¥ ì¥ì¹˜ë¥¼ í™œì„±í™”í•˜ê±°ë‚˜ ì†Œìœ ê¶Œì„ ì·¨ë“í•  ë•Œ ì‚¬ìš©í•˜ëŠ” PIN(ê°œì¸ ì‹ë³„ ë²ˆí˜¸)** ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ íŠ¹íˆ **ê´€ë¦¬ì SP (Admin SP)** ì— ì˜í•´ ê´€ë¦¬ë˜ë©°, ì¥ì¹˜ê°€ ì²˜ìŒ ì‚¬ìš©ë  ë•Œ **ì´ˆê¸° PIN ê°’ì„ ì„¤ì •**í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì˜ í•µì‹¬ ëª©ì ì€:\n- **ìë™í™”ëœ ì†Œìœ ê¶Œ íšë“(Activation / Take Ownership) ê³¼ì •**ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ì´ˆê¸° PIN ì„¤ì • ë°©ì‹ì„ ì •ì˜\n- **v1.00ì—ì„œì˜ ë‹¨ìˆœí•œ ëª¨ë¸**ê³¼ **v2.00ì—ì„œ ì§€ì›í•˜ëŠ” ë” ìœ ì—°í•œ ëª¨ë¸**(Vendor Unique PIN)ì„ ëª…í™•íˆ êµ¬ë¶„\n- ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ **Vendor Unique PINì„ ì‚¬ìš©í•  ê²½ìš°ì˜ ì±…ì„ê³¼ ë¦¬ìŠ¤í¬**ë¥¼ ì¸ì‹í•˜ê²Œ í•¨\n\n---\n\n### **2. ì£¼ìš” ê¸°ëŠ¥**\n\nC_PIN í…Œì´ë¸”ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- **ì´ˆê¸° PIN ì„¤ì •**: ì¥ì¹˜ê°€ ì¶œì‹œë  ë•Œ, ì‚¬ìš©ìê°€ ì¥ì¹˜ë¥¼ ì²˜ìŒ í™œì„±í™”í•  ë•Œ ì‚¬ìš©í•  PINì„ ì„¤ì •\n- **ì†Œìœ ê¶Œ íšë“ ì§€ì›**: Host(í˜¸ìŠ¤íŠ¸)ê°€ ì¥ì¹˜ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í•„ìš”í•œ PINì„ ì œê³µ\n- **ë‹¤ì–‘í•œ í™œì„±í™” ëª¨ë¸ ì§€ì›**:\n  - **v1.00 ëª¨ë¸**: C_PIN_SIDì˜ ì´ˆê¸° PIN = C_PIN_MSIDì˜ PIN (ìë™ í™•ì¸ ê°€ëŠ¥)\n  - **v2.00 ëª¨ë¸**: C_PIN_SIDì˜ ì´ˆê¸° PINì´ Vendor Unique (VU)ì¼ ìˆ˜ ìˆìŒ â†’ ì™¸ë¶€ í”„ë¡œì„¸ìŠ¤ë¡œ íšë“ í•„ìš”\n\n---\n\n### **3. ë°ì´í„° êµ¬ì¡°**\n\nC_PIN í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n| í•„ë“œ | ì„¤ëª… |\n|------|------|\n| **C_PIN_SID** | ì‚¬ìš©ì(ê³ ê°)ê°€ ì†Œìœ ê¶Œì„ ì·¨ë“í•  ë•Œ ì‚¬ìš©í•˜ëŠ” PIN (SID: Security Identifier) |\n| **C_PIN_MSID** | ì œì¡°ì—…ì²´(Manufacturer)ê°€ ì„¤ì •í•œ PIN (MSID: Manufacturer Security Identifier) |\n| **ì´ˆê¸° PIN ê°’** | C_PIN_SIDì˜ ì´ˆê¸° PIN ê°’ì€ C_PIN_MSIDì˜ PINê³¼ ë™ì¼í•´ì•¼ í•˜ê±°ë‚˜, Vendor Unique(VU)ì¼ ìˆ˜ ìˆìŒ |\n\n> **ì°¸ê³ **: C_PIN í…Œì´ë¸”ì€ [2] ì°¸ì¡° ë¬¸ì„œì—ì„œ ì •ì˜ë˜ë©°, ì—¬ê¸°ì„œëŠ” í•´ë‹¹ í…Œì´ë¸”ì˜ **ì‚¬ì „ êµ¬ì„± ë°ì´í„°**(Preconfiguration Data)ë§Œ ì œê³µë¨.\n\n---\n\n### **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Mandatory (M)**: ì´ í…Œì´ë¸”ì€ **ë°˜ë“œì‹œ êµ¬í˜„**ë˜ì–´ì•¼ í•¨\n- **ìë™í™”ëœ ì†Œìœ ê¶Œ íšë“ í™˜ê²½ì—ì„œëŠ”**: `C_PIN_SID`ì˜ ì´ˆê¸° PIN ê°’ì€ `C_PIN_MSID`ì˜ PIN ê°’ê³¼ **ê°™ì•„ì•¼ í•¨**\n- **ë¹„ìë™í™” í™˜ê²½ì—ì„œëŠ”**: `C_PIN_SID`ì˜ ì´ˆê¸° PIN ê°’ì€ **Vendor Unique (VU)** ì¼ ìˆ˜ ìˆìŒ â†’ ì œì¡°ì—…ì²´ê°€ ìì²´ì ìœ¼ë¡œ ì œê³µí•´ì•¼ í•¨\n- **Vendor Unique PIN ì‚¬ìš© ì‹œì˜ ì±…ì„**: ì œì¡°ì—…ì²´ëŠ” í•´ë‹¹ PINì´ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì´ë‚˜ ê´€ë¦¬ í”Œë«í¼ì—ì„œ ì§€ì›ë˜ë„ë¡ ìƒíƒœê³„ë¥¼ êµ¬ì¶•í•´ì•¼ í•¨\n\n---\n\n### **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **PIN ë³´í˜¸**: C_PIN í…Œì´ë¸”ì€ ê´€ë¦¬ì SPì— ì˜í•´ ë³´í˜¸ë˜ë©°, ì ‘ê·¼ì€ ì¸ì¦ëœ ì„¸ì…˜ì„ í†µí•´ë§Œ ê°€ëŠ¥\n- **Revert ë™ì‘ ì˜í–¥**: Revert ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ `C_PIN_SID`ì˜ PIN ê°’ì´ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë¨ â†’ ì´ëŠ” **Section 5.1.2.2.1**ì—ì„œ ì„¤ëª…ë¨\n- **PIN ìœ ì¶œ ë°©ì§€**: C_PIN_SIDê°€ VUì¼ ê²½ìš°, PINì€ í‘œì¤€í™”ëœ ë°©ë²•ìœ¼ë¡œ ì œê³µë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— **ìœ ì¶œ ìœ„í—˜ì´ ë†’ì„ ìˆ˜ ìˆìŒ** â†’ ì œì¡°ì—…ì²´ê°€ ë³´ì•ˆì ì¸ ë°©ë²•ìœ¼ë¡œ ì „ë‹¬í•´ì•¼ í•¨\n\n---\n\n### **6. Test Case ì œì‹œ**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\nC_PIN í…Œì´ë¸”ì˜ ì´ˆê¸° ì„¤ì •ì´ ìŠ¤í™ì— ë§ëŠ”ì§€ ê²€ì¦í•˜ê³ , ë‹¤ì–‘í•œ í™œì„±í™” ëª¨ë¸(ìë™í™” vs ë¹„ìë™í™”)ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ìë™í™”ëœ ì†Œìœ ê¶Œ íšë“ ëª¨ë¸ ê²€ì¦ (C_PIN_SID = C_PIN_MSID)**\n\n> **ì „ì œ**: ì¥ì¹˜ëŠ” Opal v1.00 í˜¸í™˜ ëª¨ë¸ë¡œ ì„¤ì •ë¨ â†’ C_PIN_SID ì´ˆê¸° PIN = C_PIN_MSID PIN\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**\n\n1. **StartSession** ëª…ë ¹ìœ¼ë¡œ ê´€ë¦¬ì ì„¸ì…˜ì„ ì‹œì‘ (ì‚¬ìš©ì: Admin, PIN: C_PIN_MSID)\n2. **Get** ëª…ë ¹ìœ¼ë¡œ `C_PIN_SID` ê°ì²´ì˜ PIN ê°’ì„ ì¡°íšŒ\n3. ì¡°íšŒí•œ ê°’ì´ `C_PIN_MSID`ì˜ PINê³¼ ë™ì¼í•œì§€ í™•ì¸\n4. **Take Ownership** ì‹œë„ â†’ ì„±ê³µ ì—¬ë¶€ í™•ì¸\n\n#### âœ… **Python + pytest ì˜ˆì œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: Opal ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sda\")\n    yield client\n    client.close()\n\n@pytest.mark.parametrize(\"pin_value\", [\"123456\", \"abcdef\"])\ndef test_c_pin_sid_equals_c_pin_msid(opal_client, pin_value):\n    # 1. StartSession (Admin)\n    success = opal_client.start_session(\n        session_type=\"Admin\",\n        pin=pin_value  # ì´ ê°’ì€ C_PIN_MSID ê°’ê³¼ ë™ì¼í•´ì•¼ í•¨\n    )\n    assert success, \"Failed to start admin session\"\n\n    # 2. C_PIN_SID PIN ì¡°íšŒ\n    sid_pin = opal_client.get_object_value(\"C_PIN_SID\", \"PIN\")\n    assert sid_pin == pin_value, f\"Expected C_PIN_SID PIN to be {pin_value}, but got {sid_pin}\"\n\n    # 3. Take Ownership ì‹œë„\n    ownership_result = opal_client.take_ownership(pin=pin_value)\n    assert ownership_result == \"SUCCESS\", \"Take Ownership failed\"\n```\n\n---\n\n### **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Vendor Unique PIN ì‚¬ìš© ê²€ì¦**\n\n> **ì „ì œ**: ì¥ì¹˜ëŠ” Opal v2.00 í˜¸í™˜ ëª¨ë¸ë¡œ ì„¤ì •ë¨ â†’ C_PIN_SID ì´ˆê¸° PINì€ Vendor Unique (VU)\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**\n\n1. **StartSession** ëª…ë ¹ìœ¼ë¡œ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘ (ì‚¬ìš©ì: Admin, PIN: C_PIN_MSID)\n2. **Get** ëª…ë ¹ìœ¼ë¡œ `C_PIN_SID`ì˜ PIN ê°’ì„ ì¡°íšŒ â†’ **VU ê°’ì´ ë°˜í™˜ë¨** (ì˜ˆ: \"VU-12345\")\n3. **Vendor ì œê³µëœ VU PIN**ì„ ì‚¬ìš©í•˜ì—¬ **Take Ownership** ì‹œë„ â†’ ì„±ê³µ ì—¬ë¶€ í™•ì¸\n4. VU PINì´ ì œê³µë˜ì§€ ì•Šì„ ê²½ìš°, ì†Œìœ ê¶Œ íšë“ ë¶ˆê°€ í™•ì¸\n\n#### âœ… **Python + pytest ì˜ˆì œ ì½”ë“œ**\n\n```python\n@pytest.mark.parametrize(\"msid_pin, vu_pin\", [(\"123456\", \"VU-12345\"), (\"abcdef\", \"VU-67890\")])\ndef test_c_pin_sid_vendor_unique(opal_client, msid_pin, vu_pin):\n    # 1. StartSession (Admin) - C_PIN_MSID PIN ì‚¬ìš©\n    success = opal_client.start_session(\n        session_type=\"Admin\",\n        pin=msid_pin\n    )\n    assert success, \"Failed to start admin session\"\n\n    # 2. C_PIN_SID PIN ì¡°íšŒ\n    sid_pin = opal_client.get_object_value(\"C_PIN_SID\", \"PIN\")\n    assert sid_pin == vu_pin, f\"Expected Vendor Unique PIN {vu_pin}, but got {sid_pin}\"\n\n    # 3. Vendor Unique PINìœ¼ë¡œ Take Ownership\n    ownership_result = opal_client.take_ownership(pin=vu_pin)\n    assert ownership_result == \"SUCCESS\", \"Take Ownership with VU PIN failed\"\n\n    # 4. VU PINì´ ì—†ì„ ê²½ìš° ì‹¤íŒ¨ í™•ì¸ (ì˜µì…˜ í…ŒìŠ¤íŠ¸)\n    with pytest.raises(Exception) as exc_info:\n        opal_client.take_ownership(pin=\"wrong_pin\")\n    assert \"Invalid PIN\" in str(exc_info.value)\n```\n\n---\n\n### **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Revert ëª…ë ¹ í›„ C_PIN_SID PIN ë³µì› ê²€ì¦**\n\n> **ì°¸ê³ **: Section 5.1.2.2.1ì— ëª…ì‹œë¨ â†’ Revert ì‹œ C_PIN_SID PINì€ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë¨\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**\n\n1. Take Ownership í›„ PINì„ ë³€ê²½\n2. Revert ëª…ë ¹ ì‹¤í–‰\n3. C_PIN_SID PIN ì¡°íšŒ â†’ **ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸**\n\n#### âœ… **Python + pytest ì˜ˆì œ ì½”ë“œ**\n\n```python\ndef test_revert_restores_c_pin_sid_initial_value(opal_client):\n    # 1. Take Ownership í›„ PIN ë³€ê²½ (ì˜ˆ: ìƒˆë¡œìš´ PIN ì„¤ì •)\n    initial_pin = \"123456\"\n    new_pin = \"654321\"\n\n    opal_client.start_session(\"Admin\", initial_pin)\n    opal_client.take_ownership(new_pin)\n\n    # 2. Revert ì‹¤í–‰\n    opal_client.revert()\n\n    # 3. C_PIN_SID PIN ì¡°íšŒ â†’ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    restored_pin = opal_client.get_object_value(\"C_PIN_SID\", \"PIN\")\n    assert restored_pin == initial_pin, f\"Expected initial PIN {initial_pin}, but got {restored_pin}\"\n```\n\n---\n\n### **7. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nC_PIN í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê²€ì¦:\n\n- **Get ëª…ë ¹ì–´ ì‚¬ìš©**: `Get C_PIN_SID.PIN` â†’ ê°’ì„ ì§ì ‘ ì¡°íšŒí•˜ì—¬ ìŠ¤í™ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\n- **ìë™í™” ëª¨ë¸ í…ŒìŠ¤íŠ¸**: C_PIN_SID PIN = C_PIN_MSID PIN â†’ ë‘ ê°’ ë¹„êµ\n- **VU ëª¨ë¸ í…ŒìŠ¤íŠ¸**: C_PIN_SID PIN = \"VU-xxxxx\" â†’ ì œì¡°ì—…ì²´ ì œê³µê°’ê³¼ ì¼ì¹˜ í™•ì¸\n- **Revert í›„ ê²€ì¦**: Revert í›„ PINì´ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n---\n\n### âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)\n\n**C_PIN í…Œì´ë¸”**ì€ TCG Opal í‘œì¤€ì—ì„œ ì €ì¥ ì¥ì¹˜ì˜ ì´ˆê¸° ì†Œìœ ê¶Œ íšë“ì„ ìœ„í•œ PINì„ ì •ì˜í•˜ë©°, íŠ¹íˆ **C_PIN_SID** (ì‚¬ìš©ì PIN)ê³¼ **C_PIN_MSID** (ì œì¡°ì—…ì²´ PIN) ê°„ì˜ ê´€ê³„ê°€ í•µì‹¬ì…ë‹ˆë‹¤.\n\n- **v1.00**: C_PIN_SIDì˜ ì´ˆê¸° PINì€ ë°˜ë“œì‹œ C_PIN_MSIDì™€ ë™ì¼í•´ì•¼ í•˜ë©°, ìë™í™”ëœ ì†Œìœ ê¶Œ íšë“ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n- **v2.00**: C_PIN_SIDì˜ ì´ˆê¸° PINì€ **Vendor Unique(VU)** ì¼ ìˆ˜ ìˆìœ¼ë©°, ì´ ê²½ìš° ì œì¡°ì—…ì²´ê°€ ë³„ë„ì˜ ë°©ë²•ìœ¼ë¡œ PINì„ ì œê³µí•´ì•¼ í•˜ë©°, ìƒíƒœê³„ ì§€ì›ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n- **ë³´ì•ˆ ìœ„í—˜**: VU PINì€ í‘œì¤€í™”ë˜ì§€ ì•Šì•„ ìœ ì¶œ ìœ„í—˜ì´ ë†’ìœ¼ë©°, ì œì¡°ì—…ì²´ ì±…ì„ì´ í½ë‹ˆë‹¤.\n- **Revert ëª…ë ¹**: C_PIN_SID PINì„ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›í•¨ â†’ ì´ëŠ” ì¥ì¹˜ ì´ˆê¸°í™” ì‹œ ìœ ì˜í•´ì•¼ í•  ì .\n\n---\n\n### âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ìš”ì•½\n\n- **pytest + Python**ì„ ì‚¬ìš©í•˜ì—¬ `StartSession`, `Get`, `TakeOwnership`, `Revert` ëª…ë ¹ì–´ë¥¼ í†µí•œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥\n- ìë™í™” ëª¨ë¸(V1)ê³¼ VU ëª¨ë¸(V2) ëª¨ë‘ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥\n- í…Œì´ë¸” ë°ì´í„°ëŠ” `Get` ëª…ë ¹ì–´ë¡œ ì§ì ‘ ì¡°íšŒí•˜ì—¬ ê²€ì¦\n\n---\n\nâœ… **ê²°ë¡ **: C_PIN í…Œì´ë¸”ì€ Opal ì¥ì¹˜ì˜ ì´ˆê¸° í™œì„±í™”ì™€ ë³´ì•ˆ ì„¤ì •ì— í•µì‹¬ì ì¸ ì—­í• ì„ í•˜ë©°, v2.00ì—ì„œ ë„ì…ëœ VU PINì€ ìœ ì—°ì„±ê³¼ ë™ì‹œì— ì œì¡°ì—…ì²´ì˜ ì±…ì„ì„ ê°•ì¡°í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì‹œí•˜ë©°, ìë™í™” ë° VU ëª¨ë¸ ëª¨ë‘ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 89,
        "level": 3,
        "section_id": "4.2.2",
        "section_key": "4.2.2 Base Template Methods",
        "title": "Base Template Methods",
        "start_page": 49,
        "end_page": 49,
        "page_count": 1,
        "content_md": "## 4.2.2 Base Template Methods\n\nRefer to section 4.2.1.4 for supported methods.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.2 Base Template Methods\n\nRefer to section 4.2.1.4 for supported methods."
    },
    {
        "section_order": 90,
        "level": 3,
        "section_id": "4.2.3",
        "section_key": "4.2.3 Admin Template Tables",
        "title": "Admin Template Tables",
        "start_page": 49,
        "end_page": 49,
        "page_count": 1,
        "content_md": "## 4.2.3 Admin Template Tables",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.3 Admin Template Tables"
    },
    {
        "section_order": 91,
        "level": 4,
        "section_id": "4.2.3.1",
        "section_key": "4.2.3.1 TPerInfo (M)",
        "title": "TPerInfo (M)",
        "start_page": 49,
        "end_page": 50,
        "page_count": 2,
        "content_md": "### 4.2.3.1 TPerInfo (M)\n\nThe TPerInfo table has the column defined in Table 26, in addition to those defined in [2], and Table 27 defines the Preconfiguration Data for the TPerInfo table:\n\n**Table 26 - Admin SP â€“ TPerInfo Columns**\n\n- **ProgrammaticResetEnable**\n\n  This column indicates whether support for programmatic resets is enabled or not. If ProgrammaticResetEnable is TRUE, then the TPER_RESET command is enabled. If ProgrammaticResetEnable is FALSE, then the TPER_RESET command is not enabled. This column is readable by Anybody and modifiable by the SID authority.\n### Table 26 (continued)\n\n*TP1 means that the value in the GUDID column SHALL comply with the format defined in [2].  \n*TP2 means that this version or any version that supports the defined features in this SSC.  \n*TP3 means that the SSC column is a list of names and SHALL have â€œOpalâ€ as one of the list elements.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **4.2.3.1 TPerInfo (M) - ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ”¹ **ëª©ì  (Purpose)**\n\n**TPerInfo (Table of Persistent Information)**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë³´ì•ˆ ì €ì¥ ì¥ì¹˜ì˜ ì§€ì†ì  ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”**ì…ë‹ˆë‹¤. íŠ¹íˆ, ì´ í…Œì´ë¸”ì€ **ê´€ë¦¬ì ê¶Œí•œ(Admin SP)** ì— ì˜í•´ ê´€ë¦¬ë˜ë©°, ì €ì¥ ì¥ì¹˜ì˜ **í”„ë¡œê·¸ë¨ì  ë¦¬ì…‹ ê¸°ëŠ¥**ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¤‘ìš”í•œ ì„¤ì • ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ í…Œì´ë¸”ì€ ì‚¬ìš©ìê°€ **ì¥ì¹˜ë¥¼ ì†Œí”„íŠ¸ì›¨ì–´ì ìœ¼ë¡œ ë¦¬ì…‹í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€**ë¥¼ ê²°ì •í•˜ëŠ” í•µì‹¬ ì»¨íŠ¸ë¡¤ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì •ì±…ì´ë‚˜ ê´€ë¦¬ ì •ì±…ì— ë”°ë¼ **ë¦¬ì…‹ ê¸°ëŠ¥ì„ ì œì–´**í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, ë³´ì•ˆ ê°•í™”ë‚˜ ê´€ë¦¬ í¸ì˜ë¥¼ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”¹ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **í”„ë¡œê·¸ë¨ì  ë¦¬ì…‹ í™œì„±í™” ì—¬ë¶€ ê´€ë¦¬**  \n   - `ProgrammaticResetEnable` ì»¬ëŸ¼ì´ TRUEì¼ ë•Œë§Œ `TPER_RESET` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n   - FALSEì¼ ê²½ìš°, ë¦¬ì…‹ ëª…ë ¹ì–´ëŠ” **ë¬´ì‹œë˜ê±°ë‚˜ ì˜¤ë¥˜ë¥¼ ë°˜í™˜**í•©ë‹ˆë‹¤.\n\n2. **ì ‘ê·¼ ì œì–´**  \n   - **ì½ê¸° ê¶Œí•œ**: ëˆ„êµ¬ë‚˜ (Anybody) ì½ì„ ìˆ˜ ìˆìŒ â†’ ë³´ì•ˆ ì •ë³´ì˜ íˆ¬ëª…ì„± ì œê³µ\n   - **ì“°ê¸° ê¶Œí•œ**: **SID ê¶Œí•œ**(Security Identifier, ë³´ì•ˆ ID)ë§Œ ë³€ê²½ ê°€ëŠ¥ â†’ ë³´ì•ˆ ê°•í™”\n\n3. **ë³´ì•ˆ ì •ì±…ì˜ ì¼ë¶€**  \n   - ì¥ì¹˜ ê´€ë¦¬ìê°€ ë¦¬ì…‹ ê¸°ëŠ¥ì„ ì œì–´í•¨ìœ¼ë¡œì¨, **ë¶ˆí•„ìš”í•œ ë¦¬ì…‹ ë°©ì§€**, **ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜** ë“±ì„ ë‹¬ì„±í•  ìˆ˜ ìˆìŒ.\n\n---\n\n### ğŸ”¹ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nTPerInfo í…Œì´ë¸”ì€ ë‹¤ìŒ ì»¬ëŸ¼ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n| ì»¬ëŸ¼ëª…                  | ì„¤ëª… |\n|-------------------------|------|\n| **ProgrammaticResetEnable** | ë…¼ë¦¬ê°’ (TRUE/FALSE). TRUEì´ë©´ `TPER_RESET` ëª…ë ¹ì–´ í™œì„±í™”. FALSEì´ë©´ ë¹„í™œì„±í™”. |\n\n> ì´ ì»¬ëŸ¼ì€ **[2]** (TCG Storage Opal í‘œì¤€ì˜ ê¸°ë³¸ ì‚¬ì–‘)ì— ì •ì˜ëœ ì»¬ëŸ¼ ì™¸ì— ì¶”ê°€ëœ ì»¬ëŸ¼ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ”¹ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- `ProgrammaticResetEnable` ì»¬ëŸ¼ì€ **ì½ê¸° ê°€ëŠ¥í•œ ë°ì´í„°**ì´ì§€ë§Œ, **ìˆ˜ì •ì€ SID ê¶Œí•œì´ í•„ìš”**í•©ë‹ˆë‹¤.\n- `TPER_RESET` ëª…ë ¹ì–´ëŠ” `ProgrammaticResetEnable`ì´ TRUEì¼ ë•Œë§Œ ì‘ë™í•©ë‹ˆë‹¤.\n- ì´ í…Œì´ë¸”ì€ **ê´€ë¦¬ì ìŠ¤í˜ì´ìŠ¤**(Admin SP)ì— ìœ„ì¹˜í•˜ë©°, ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ì œì–´ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”¹ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì ‘ê·¼ ì œì–´ (Access Control)**  \n   - ì½ê¸°: ëˆ„êµ¬ë‚˜ â†’ ì •ë³´ ê³µê°œì„± ìœ ì§€\n   - ì“°ê¸°: SID ê¶Œí•œìë§Œ â†’ ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„± ìœ ì§€\n\n2. **ëª…ë ¹ì–´ ì œì–´ (Command Control)**  \n   - `TPER_RESET` ëª…ë ¹ì–´ëŠ” ì„¤ì •ëœ ê°’ì— ë”°ë¼ **ì¡°ê±´ë¶€ë¡œ í™œì„±í™”/ë¹„í™œì„±í™”** â†’ ë¦¬ì…‹ì„ ë¶ˆë²•ì ìœ¼ë¡œ ì‹œë„í•˜ëŠ” ê²ƒì„ ë°©ì§€\n\n3. **ì •ì±… ê¸°ë°˜ ë³´ì•ˆ (Policy-Based Security)**  \n   - ì¥ì¹˜ ê´€ë¦¬ìê°€ ë¦¬ì…‹ ê¸°ëŠ¥ì„ **ì •ì±…ì— ë”°ë¼ ì œì–´**í•  ìˆ˜ ìˆìŒ â†’ ì˜ˆ: ê¸°ì—… í™˜ê²½ì—ì„œ ë¦¬ì…‹ì„ ê¸ˆì§€\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)**\n\n### ğŸ§ª **1. Test Case: ProgrammaticResetEnableì´ TRUEì¼ ë•Œ TPER_RESET ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤**\n\n#### ğŸ“Œ ëª©ì :\n`ProgrammaticResetEnable`ì´ TRUEì¼ ë•Œ, `TPER_RESET` ëª…ë ¹ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦.\n\n#### ğŸ“Œ ì¡°ê±´:\n- ì¥ì¹˜ê°€ Opal 2.30 í‘œì¤€ì„ ì§€ì›\n- Admin SPì— ì ‘ì† ê°€ëŠ¥\n- `ProgrammaticResetEnable = TRUE`\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n\n1. `StartSession`ìœ¼ë¡œ Admin SPì— ì„¸ì…˜ ì‹œì‘\n2. `GetTable` ëª…ë ¹ìœ¼ë¡œ `TPerInfo` í…Œì´ë¸” ì½ê¸° â†’ `ProgrammaticResetEnable = TRUE` í™•ì¸\n3. `TPER_RESET` ëª…ë ¹ ì‹¤í–‰\n4. ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: ì—ëŸ¬ ì—†ìŒ, ìƒíƒœ ì½”ë“œ OK)\n\n#### ğŸ“Œ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sdb\")\n    client.start_session(sp_type=\"Admin SP\", sid=\"admin_sid\", password=\"admin_pass\")\n    return client\n\ndef test_tper_reset_enabled(opal_client):\n    # 1. TPerInfo í…Œì´ë¸” ì½ê¸°\n    tper_info = opal_client.get_table(\"TPerInfo\")\n    assert tper_info[\"ProgrammaticResetEnable\"] is True, \"ProgrammaticResetEnable should be True\"\n\n    # 2. TPER_RESET ëª…ë ¹ ì‹¤í–‰\n    result = opal_client.execute_command(\"TPER_RESET\")\n    assert result.status == \"SUCCESS\", f\"TPER_RESET failed: {result.error}\"\n    assert result.output == \"Reset completed successfully\"\n```\n\n---\n\n### ğŸ§ª **2. Test Case: ProgrammaticResetEnableì´ FALSEì¼ ë•Œ TPER_RESET ëª…ë ¹ì´ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤**\n\n#### ğŸ“Œ ëª©ì :\n`ProgrammaticResetEnable`ì´ FALSEì¼ ë•Œ, `TPER_RESET` ëª…ë ¹ì´ ê±°ë¶€ë˜ê±°ë‚˜ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ ê²€ì¦.\n\n#### ğŸ“Œ ì¡°ê±´:\n- `ProgrammaticResetEnable = FALSE`\n- Admin SPì— ì ‘ì†\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n\n1. `StartSession`ìœ¼ë¡œ Admin SP ì ‘ì†\n2. `GetTable`ìœ¼ë¡œ `TPerInfo` í…Œì´ë¸” ì½ê¸° â†’ `ProgrammaticResetEnable = FALSE` í™•ì¸\n3. `TPER_RESET` ëª…ë ¹ ì‹¤í–‰\n4. ëª…ë ¹ì´ ì‹¤íŒ¨í–ˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: ì—ëŸ¬ ì½”ë“œ 0x8001: Command not allowed)\n\n#### ğŸ“Œ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\ndef test_tper_reset_disabled(opal_client):\n    # 1. TPerInfo í…Œì´ë¸” ì½ê¸°\n    tper_info = opal_client.get_table(\"TPerInfo\")\n    assert tper_info[\"ProgrammaticResetEnable\"] is False, \"ProgrammaticResetEnable should be False\"\n\n    # 2. TPER_RESET ëª…ë ¹ ì‹¤í–‰\n    with pytest.raises(Exception) as exc_info:\n        opal_client.execute_command(\"TPER_RESET\")\n\n    # 3. ì˜ˆìƒ ì˜¤ë¥˜ í™•ì¸\n    assert \"Command not allowed\" in str(exc_info.value) or exc_info.value.code == 0x8001\n```\n\n---\n\n### ğŸ§ª **3. Test Case: SID ê¶Œí•œì´ ì—†ìœ¼ë©´ TPerInfo ìˆ˜ì • ë¶ˆê°€**\n\n#### ğŸ“Œ ëª©ì :\n`ProgrammaticResetEnable` ì»¬ëŸ¼ì„ ìˆ˜ì •í•˜ë ¤ë©´ SID ê¶Œí•œì´ í•„ìš”í•˜ë‹¤ëŠ” ì ì„ ê²€ì¦.\n\n#### ğŸ“Œ ì¡°ê±´:\n- ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œ (ì˜ˆ: User SP)ìœ¼ë¡œ ì ‘ì†\n- `ProgrammaticResetEnable` ìˆ˜ì • ì‹œë„\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n\n1. `StartSession`ìœ¼ë¡œ User SP ì ‘ì†\n2. `SetTable` ëª…ë ¹ìœ¼ë¡œ `TPerInfo` í…Œì´ë¸” ìˆ˜ì • ì‹œë„ (ì˜ˆ: `ProgrammaticResetEnable = True`)\n3. ì˜¤ë¥˜ ë°œìƒ í™•ì¸ â†’ ê¶Œí•œ ë¶€ì¡± ì˜¤ë¥˜\n\n#### ğŸ“Œ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\ndef test_tperinfo_modify_without_sid_permission(opal_client):\n    # User SPë¡œ ì„¸ì…˜ ì‹œì‘\n    opal_client.start_session(sp_type=\"User SP\", sid=\"user_sid\", password=\"user_pass\")\n\n    # TPerInfo ìˆ˜ì • ì‹œë„\n    with pytest.raises(Exception) as exc_info:\n        opal_client.set_table(\"TPerInfo\", {\"ProgrammaticResetEnable\": True})\n\n    # ê¶Œí•œ ë¶€ì¡± ì˜¤ë¥˜ í™•ì¸\n    assert \"Access denied\" in str(exc_info.value) or exc_info.value.code == 0x8003  # ì˜ˆì‹œ ì˜¤ë¥˜ ì½”ë“œ\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| ê²€ì¦ í•­ëª© | ë°©ë²• |\n|----------|------|\n| `ProgrammaticResetEnable` ê°’ í™•ì¸ | `GetTable(\"TPerInfo\")` ì‹¤í–‰ í›„ í•´ë‹¹ ì»¬ëŸ¼ ì½ê¸° |\n| ê¶Œí•œ í™•ì¸ | `StartSession` ì‹œ SP ìœ í˜•ê³¼ SID í™•ì¸ í›„ `SetTable` ì‹œë„ |\n| ëª…ë ¹ì–´ ë™ì‘ ê²€ì¦ | `TPER_RESET` ëª…ë ¹ ì‹¤í–‰ í›„ ìƒíƒœ ì½”ë“œ ë° ì¶œë ¥ ê²€ì¦ |\n| ì˜¤ë¥˜ ì½”ë“œ ë¶„ì„ | ëª…ë ¹ì–´ ì‹¤íŒ¨ ì‹œ ë°˜í™˜ëœ ì˜¤ë¥˜ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ì±… ê²€ì¦ |\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\n**TPerInfo í…Œì´ë¸”**ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ **í”„ë¡œê·¸ë¨ì  ë¦¬ì…‹ ê¸°ëŠ¥ì„ ì œì–´í•˜ëŠ” í•µì‹¬ ì„¤ì • í…Œì´ë¸”**ì…ë‹ˆë‹¤. `ProgrammaticResetEnable` ì»¬ëŸ¼ì€ ë¦¬ì…‹ ëª…ë ¹ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ ê°’ì´ TRUEì¼ ë•Œë§Œ `TPER_RESET` ëª…ë ¹ì´ ì‘ë™í•©ë‹ˆë‹¤. ì´ ì»¬ëŸ¼ì€ ëˆ„êµ¬ë‚˜ ì½ì„ ìˆ˜ ìˆì§€ë§Œ, **ìˆ˜ì •ì€ SID ê¶Œí•œìë§Œ ê°€ëŠ¥**í•˜ì—¬ ë³´ì•ˆ ì •ì±…ì„ ê°•í™”í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n- TRUEì¼ ë•Œ ë¦¬ì…‹ ì„±ê³µ\n- FALSEì¼ ë•Œ ë¦¬ì…‹ ì‹¤íŒ¨\n- SID ê¶Œí•œ ì—†ì´ ìˆ˜ì • ì‹œë„ ì‹œ ì˜¤ë¥˜ ë°œìƒ\n\nì´ í…ŒìŠ¤íŠ¸ë“¤ì€ **Python + pytest**ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë©°, Opal ëª…ë ¹ì–´(`StartSession`, `GetTable`, `SetTable`, `TPER_RESET`)ë¥¼ í†µí•´ ì‹¤ì‹œê°„ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… í™•ì¸**: ë¬¸ì„œì— ëª…ì‹œëœ ë‚´ìš©ì„ ëª¨ë‘ ê²€í†  ë° ì„¤ëª… ì™„ë£Œ. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ í¬í•¨.\n\n--- \n\n**â€» ì°¸ê³ : ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**(ì˜ˆ: `opal_client`)ëŠ” ì‹¤ì œ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, TCG Opal ëª…ë ¹ì–´ë¥¼ ì§ì ‘ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `pyopal` ë˜ëŠ” `pycryptodome` ê¸°ë°˜ì˜ ì»¤ìŠ¤í…€ í´ë¼ì´ì–¸íŠ¸ ê°œë°œì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 92,
        "level": 4,
        "section_id": "4.2.3.2",
        "section_key": "4.2.3.2 Template (M)",
        "title": "Template (M)",
        "start_page": 50,
        "end_page": 50,
        "page_count": 1,
        "content_md": "## 4.2.3.2 Template (M)\n\nThe Template table is defined in [2], and Table 28 defines the Preconfiguration Data for the Template table.\n\n### Table 28 - Admin SP - Template Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.3.2 Template (M)\n\nThe Template table is defined in [2], and Table 28 defines the Preconfiguration Data for the Template table.\n\n### Table 28 - Admin SP - Template Table Preconfiguration"
    },
    {
        "section_order": 93,
        "level": 4,
        "section_id": "4.2.3.3",
        "section_key": "4.2.3.3 SP (M)",
        "title": "SP (M)",
        "start_page": 50,
        "end_page": 51,
        "page_count": 2,
        "content_md": "## 4.2.3.3 SP (M)\n\nThe SP table is defined in [2], and Table 29 defines the Preconfiguration Data for the SP table.\n\n*SP1 means that this row only exists in the Admin SP's OFS when the Locking SP is created by the manufacturer.\n\n### Table 29 - Admin SP - SP Table Preconfiguration\n\n### Table 29 - Admin SP - SP Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 4.2.3.3 - SP (M)** ì— ëŒ€í•œ ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í•´ë‹¹ ì„¹ì…˜ì˜ ë³¸ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì€ ì œí•œì ì¸ ì •ë³´ë§Œì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤:\n\n- SP í…Œì´ë¸”ì€ [2]ì— ì •ì˜ë˜ì–´ ìˆìŒ (ì°¸ì¡° ë¬¸ì„œ ë¯¸ì œê³µ)\n- Table 29ëŠ” SP í…Œì´ë¸”ì˜ Preconfiguration Dataë¥¼ ì •ì˜í•¨\n- SP1ì€ ì œì¡°ì—…ì²´ê°€ Locking SPë¥¼ ìƒì„±í•  ë•Œ Admin SPì˜ OFSì—ë§Œ ì¡´ì¬í•¨\n\nì´ ì™¸ì— **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°, í•„ë“œ ì„¤ëª…, ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ìš”êµ¬ì‚¬í•­ ë“±ì€ ë¬¸ì„œì—ì„œ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.** ë˜í•œ, **Table 29ì˜ ì‹¤ì œ ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©°**, ì´ë¯¸ì§€ë„ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\në”°ë¼ì„œ, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ì •ë³´ê°€ ë¶€ì¡±í•˜ë©°, **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ê±°ë‚˜ Python ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ë„ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.**\n\n---\n\n### ì¶”ê°€ ì„¤ëª… (ì¶”ë¡  ê¸°ë°˜):\n\nTCG Opal í‘œì¤€ì—ì„œ **SP (Security Provider)** ëŠ” ë³´ì•ˆ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì—”í‹°í‹°ë¡œ, ì¼ë°˜ì ìœ¼ë¡œ **Admin SP**ì™€ **User SP** ë“±ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. **SP Table**ì€ ì´ëŸ¬í•œ SPë“¤ì˜ êµ¬ì„± ë° ê¶Œí•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” í…Œì´ë¸”ë¡œ, **OFS (Opal File System)** ë‚´ì— ì €ì¥ë©ë‹ˆë‹¤.\n\n`SP1`ì´ë¼ëŠ” ìš©ì–´ëŠ” íŠ¹ì • ì¡°ê±´(ì œì¡°ì—…ì²´ ìƒì„±)ì—ì„œë§Œ ì¡´ì¬í•˜ëŠ” í–‰ì„ ì˜ë¯¸í•˜ë©°, ì´ëŠ” **ì‚¬ì „ ì„¤ì •ëœ ë³´ì•ˆ ì •ì±… ë˜ëŠ” ì´ˆê¸° ì„¤ì • ì •ë³´**ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ, **Table 29ì˜ êµ¬ì²´ì ì¸ ì»¬ëŸ¼ì´ë‚˜ ë°ì´í„° í˜•ì‹, í•„ë“œ ì˜ë¯¸ ë“±ì´ ë¬¸ì„œì—ì„œ ëˆ„ë½ë˜ì–´ ìˆì–´**, ì´ ì„¹ì…˜ì— ëŒ€í•´ ìì„¸í•œ ì„¤ëª…ì´ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\n**ì œê³µëœ ë³¸ë¬¸ì— í¬í•¨ëœ ì •ë³´ëŠ” ë§¤ìš° ì œí•œì ì´ë©°, êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°ë‚˜ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ìš”êµ¬ì‚¬í•­ ë“±ì´ ëª…ì‹œë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ìˆëŠ” ì¶©ë¶„í•œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.**\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥:**\n```\në‚´ìš©ì—†ìŒ\n```"
    },
    {
        "section_order": 94,
        "level": 3,
        "section_id": "4.2.4",
        "section_key": "4.2.4 Admin Template Methods",
        "title": "Admin Template Methods",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "## 4.2.4 Admin Template Methods\nRefer to section 4.2.1.4 for supported methods.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.4 Admin Template Methods\nRefer to section 4.2.1.4 for supported methods."
    },
    {
        "section_order": 95,
        "level": 3,
        "section_id": "4.2.5",
        "section_key": "4.2.5 Opal Additional Column Types",
        "title": "Opal Additional Column Types",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "## 4.2.5 Opal Additional Column Types",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.5 Opal Additional Column Types"
    },
    {
        "section_order": 96,
        "level": 4,
        "section_id": "4.2.5.1",
        "section_key": "4.2.5.1 Data_removal_mechanism",
        "title": "Data_removal_mechanism",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "### 4.2.5.1 Data_removal_mechanism\nThe data_removal_mechanism type is defined in Table 30 for Opal:\n\n#### Table 30 - data_removal_mechanism Type Table Addition\n\nTable 31 defines the enumeration values. The mechanisms associated with each Enumeration Value are defined in Table 10.\n\n#### Table 31 - data_removal_mechanism Enumeration Values",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 31"
        ],
        "section_table": [
            [
                "|-------------------|------------------|",
                "| Enumeration Value | Associated Value |",
                "| 0 | Overwrite Data Erase |",
                "| 1 | Block Erase |",
                "| 2 | Cryptographic Erase |",
                "| 3 â€“ 4 | Reserved |",
                "| 5 | Vendor Specific Erase |",
                "| 6-7 | Reserved |"
            ]
        ],
        "summary": "## âœ… TCG Opal - 4.2.5.1 Data_removal_mechanism ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ“Œ **ëª©ì **\n\n`data_removal_mechanism`ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€**ì—ì„œ ì •ì˜í•œ **ë°ì´í„° ì œê±° ë°©ì‹**ì„ ì§€ì •í•˜ëŠ” ìœ í˜•ì…ë‹ˆë‹¤.  \nì´ ë©”ì»¤ë‹ˆì¦˜ì€ **ë””ìŠ¤í¬ì—ì„œ ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì œê±°**í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ë©°, íŠ¹íˆ **ì¥ì¹˜ë¥¼ íê¸°í•˜ê±°ë‚˜ ì¬ì‚¬ìš©í•  ë•Œ** ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì¦‰, ë‹¨ìˆœíˆ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë°ì´í„°ê°€ ë³µêµ¬ë  ìˆ˜ ì—†ë„ë¡ ì§€ìš°ëŠ”** ë¬¼ë¦¬ì /ë…¼ë¦¬ì  ë°©ë²•ì„ ê·œì •í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ë‹¤ì–‘í•œ ë°ì´í„° ì œê±° ë°©ì‹ ì§€ì›**  \n   - Overwrite (ë®ì–´ì“°ê¸°)\n   - Block Erase (ë¸”ë¡ ì§€ìš°ê¸°)\n   - Cryptographic Erase (ì•”í˜¸í™” ì§€ìš°ê¸°)\n   - Vendor Specific (ì œì¡°ì‚¬ íŠ¹í™” ë°©ì‹)\n\n2. **ë³´ì•ˆ ê°•ë„ì— ë”°ë¥¸ ì„ íƒ ê°€ëŠ¥**  \n   - ì•”í˜¸í™” ì§€ìš°ê¸°: ê°€ì¥ ë¹ ë¥´ë©°, í‚¤ ì‚­ì œë§Œìœ¼ë¡œ ë°ì´í„°ê°€ ë¶ˆê°€ëŠ¥í•´ì§.\n   - ë®ì–´ì“°ê¸°: ëŠë¦¬ì§€ë§Œ, ë¬¼ë¦¬ì  ë°ì´í„° ì”ì—¬ë¥¼ ë°©ì§€.\n\n3. **í‘œì¤€í™”ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ**  \n   - Opal ì¥ì¹˜ëŠ” ì´ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì œê±° ë°©ì‹ì„ í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ì œì–´ ê°€ëŠ¥.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n- **íƒ€ì…**: `data_removal_mechanism` (ì •ìˆ˜í˜•, 1ë°”ì´íŠ¸)\n- **ê°’ ë²”ìœ„**: 0 ~ 7 (ì˜ˆì•½ëœ ê°’ í¬í•¨)\n- **ì •ì˜ ìœ„ì¹˜**:  \n  - **Table 30**: íƒ€ì… ì •ì˜ (ë¬¸ì„œì—ì„œ ì–¸ê¸‰ë¨, êµ¬ì²´ì  ë‚´ìš© ì—†ìŒ)\n  - **Table 31**: ì—´ê±°í˜• ê°’ ì •ì˜ (ì‹¤ì œ ê°’ê³¼ ì˜ë¯¸)\n\n#### âœ… Table 31 - data_removal_mechanism Enumeration Values\n\n| Enumeration Value | Associated Value         |\n|-------------------|--------------------------|\n| 0                 | Overwrite Data Erase     |\n| 1                 | Block Erase              |\n| 2                 | Cryptographic Erase      |\n| 3 â€“ 4             | Reserved                 |\n| 5                 | Vendor Specific Erase    |\n| 6-7               | Reserved                 |\n\nâ†’ ì´ ê°’ë“¤ì€ **Opal ì¥ì¹˜ì˜ ì œê±° ì‘ì—…ì„ ì‹œì‘í•  ë•Œ** ì„ íƒí•  ìˆ˜ ìˆëŠ” **ì œê±° ë°©ì‹**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­**\n\n1. **ì§€ì› ê°€ëŠ¥í•œ ë©”ì»¤ë‹ˆì¦˜ ì œê³µ**  \n   - ì¥ì¹˜ëŠ” ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì§€ì›í•´ì•¼ í•¨.\n   - ì˜ˆ: ëŒ€ë¶€ë¶„ì˜ ì¥ì¹˜ëŠ” `Cryptographic Erase` (2)ë¥¼ ì§€ì›.\n\n2. **ì‚¬ìš©ì ì„ íƒ ê°€ëŠ¥**  \n   - ì‚¬ìš©ìëŠ” `StartSession` í›„ `Revert` ëª…ë ¹ì„ í†µí•´ ì œê±° ë°©ì‹ì„ ì„ íƒ ê°€ëŠ¥.\n\n3. **ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜**  \n   - ì˜ˆ: ì •ë¶€ ê¸°ê´€ì€ `Overwrite Data Erase` (0)ì„ ìš”êµ¬í•˜ëŠ” ê²½ìš°ë„ ìˆìŒ.\n\n4. **ì¥ì¹˜ ì œì¡°ì‚¬ íŠ¹í™” ì§€ì›**  \n   - `Vendor Specific Erase` (5)ëŠ” ì œì¡°ì‚¬ê°€ ìì²´ êµ¬í˜„í•œ ë°©ì‹ì„ ì˜ë¯¸.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n| ë©”ì»¤ë‹ˆì¦˜ | ë³´ì•ˆ ìˆ˜ì¤€ | ì„¤ëª… |\n|----------|------------|------|\n| **0 - Overwrite Data Erase** | ì¤‘ê°„~ê³  | ë°ì´í„°ë¥¼ 0 ë˜ëŠ” ëœë¤ê°’ìœ¼ë¡œ ë®ì–´ì”€. NIST SP 800-88 ê¶Œì¥. |\n| **1 - Block Erase** | ê³  | ë¸”ë¡ ë‹¨ìœ„ë¡œ ì „ì²´ ì§€ìš°ê¸°. SSDì—ì„œ ì‚¬ìš©, ë‚®ì€ ì„±ëŠ¥. |\n| **2 - Cryptographic Erase** | ë§¤ìš° ë†’ìŒ | ì•”í˜¸í™” í‚¤ ì‚­ì œë¡œ ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€. ë¹ ë¥´ê³  íš¨ìœ¨ì . |\n| **5 - Vendor Specific Erase** | ë³€ë™ | ì œì¡°ì‚¬ê°€ ì •ì˜í•œ ë°©ì‹. ë³´ì•ˆ ìˆ˜ì¤€ì€ ì œì¡°ì‚¬ì— ë”°ë¼ ë‹¤ë¦„. |\n\n> âš ï¸ **ì£¼ì˜**: `Cryptographic Erase`ëŠ” **í‚¤ ì‚­ì œ í›„ ë³µêµ¬ ë¶ˆê°€**ì´ì§€ë§Œ, í‚¤ê°€ ë°±ì—…ë˜ì–´ ìˆë‹¤ë©´ ë°ì´í„°ëŠ” ë³µêµ¬ ê°€ëŠ¥.  \n> â†’ í‚¤ ê´€ë¦¬ê°€ í•µì‹¬!\n\n---\n\n## âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ (Python + pytest)\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n\n- Opal ì¥ì¹˜ì— `data_removal_mechanism` ê°’ì„ ì„¤ì •í•˜ê³ , í•´ë‹¹ ì œê±° ë°©ì‹ì´ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ì—ˆëŠ”ì§€ ê²€ì¦.\n- `StartSession` â†’ `Revert` â†’ `GetInfo` ë“±ìœ¼ë¡œ ìƒíƒœ í™•ì¸.\n\n---\n\n### ğŸ§° í…ŒìŠ¤íŠ¸ í™˜ê²½\n\n- **ì¥ì¹˜**: TCG Opal ì§€ì› SSD (ì˜ˆ: Samsung PM893, Intel SSD ë“±)\n- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `pyopal` (ì˜ˆì‹œìš©, ì‹¤ì œëŠ” `pycryptodome`, `pyudev`, `spdk` ë“±ê³¼ ê²°í•© ê°€ëŠ¥)\n- **í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬**: `pytest`\n\n---\n\n### ğŸ’¡ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\n# test_opal_data_removal.py\n\nimport pytest\nfrom pyopal import OpalDevice, SessionType, RevertType\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì—°ê²° ë° ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½\n    device.start_session(SessionType.ADMIN, \"admin_password\")\n    yield device\n    device.terminate_session()\n\ndef test_data_removal_mechanism_set_and_verify(opal_device):\n    \"\"\"data_removal_mechanism ì„¤ì • ë° ê²€ì¦\"\"\"\n    # 1. ì œê±° ë°©ì‹ ì„¤ì •: Cryptographic Erase (2)\n    opal_device.set_data_removal_mechanism(2)  # 2 = Cryptographic Erase\n\n    # 2. ì„¤ì •ê°’ í™•ì¸\n    current_mechanism = opal_device.get_data_removal_mechanism()\n    assert current_mechanism == 2, f\"Expected 2, got {current_mechanism}\"\n\n    # 3. Revert ëª…ë ¹ìœ¼ë¡œ ë°ì´í„° ì œê±° ìˆ˜í–‰\n    opal_device.revert(RevertType.FULL, data_removal_mechanism=2)\n\n    # 4. ì œê±° í›„ ìƒíƒœ í™•ì¸ (ì˜ˆ: ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€, ì¥ì¹˜ ìƒíƒœ ì •ìƒ)\n    # ì‹¤ì œ ì¥ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹œ, ë°ì´í„° ì ‘ê·¼ ì‹œ ì˜ˆì™¸ ë°œìƒ í™•ì¸\n    with pytest.raises(Exception) as exc_info:\n        opal_device.read_data_from_lba(0, 512)  # ì˜ˆì‹œ: 0ë²ˆ LBA ì½ê¸°\n    assert \"access denied\" in str(exc_info.value) or \"not available\" in str(exc_info.value)\n\n    # 5. ì¥ì¹˜ ìƒíƒœ ì •ìƒ í™•ì¸ (ì˜ˆ: ì¥ì¹˜ ìƒíƒœê°€ 'reverted' ë˜ëŠ” 'clean')\n    status = opal_device.get_device_status()\n    assert status == \"clean\" or status == \"reverted\"\n\ndef test_invalid_data_removal_mechanism(opal_device):\n    \"\"\"ìœ íš¨í•˜ì§€ ì•Šì€ ë©”ì»¤ë‹ˆì¦˜ ê°’ í…ŒìŠ¤íŠ¸\"\"\"\n    with pytest.raises(ValueError) as exc_info:\n        opal_device.set_data_removal_mechanism(9)  # ì˜ˆ: 9ëŠ” ì˜ˆì•½ë˜ì§€ ì•ŠìŒ\n    assert \"Invalid data_removal_mechanism value\" in str(exc_info.value)\n\ndef test_vendor_specific_erase(opal_device):\n    \"\"\"Vendor Specific Erase (5) í…ŒìŠ¤íŠ¸ (ì œì¡°ì‚¬ ì§€ì› ì‹œ)\"\"\"\n    if not opal_device.supports_vendor_specific_erase():\n        pytest.skip(\"Vendor Specific Erase not supported by device\")\n\n    opal_device.set_data_removal_mechanism(5)\n    current_mechanism = opal_device.get_data_removal_mechanism()\n    assert current_mechanism == 5, f\"Expected 5, got {current_mechanism}\"\n\n    opal_device.revert(RevertType.FULL, data_removal_mechanism=5)\n\n    # ì¶”ê°€ë¡œ ì œì¡°ì‚¬ ë¡œê·¸ ë˜ëŠ” ìƒíƒœë¥¼ í™•ì¸ (ì˜ˆ: vendor-specific status check)\n    vendor_status = opal_device.get_vendor_status()\n    assert vendor_status == \"erased\" or vendor_status == \"completed\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### âœ… Table 31 ê²€ì¦ ì ˆì°¨\n\n| ë‹¨ê³„ | ë‚´ìš© | ê²€ì¦ ë°©ë²• |\n|------|------|-----------|\n| 1 | `data_removal_mechanism` ê°’ 0~7 í™•ì¸ | `get_data_removal_mechanism()` í˜¸ì¶œ í›„ ê°’ì´ 0~7 ë²”ìœ„ ë‚´ì¸ì§€ í™•ì¸ |\n| 2 | ì˜ˆì•½ê°’(3~4, 6~7) ì‚¬ìš© ì‹œ ì˜ˆì™¸ ë°œìƒ | ê°’ 3, 4, 6, 7 ì„¤ì • ì‹œ `ValueError` ë˜ëŠ” `NotImplementedError` ë°œìƒ í™•ì¸ |\n| 3 | 0(Overwrite) ì„¤ì • í›„ Revert ìˆ˜í–‰ | ì¥ì¹˜ì—ì„œ ì‹¤ì œ ë®ì–´ì“°ê¸° ë¡œê·¸ ë˜ëŠ” ìƒíƒœ í™•ì¸ (ì˜ˆ: `get_erase_log()`) |\n| 4 | 2(Cryptographic) ì„¤ì • í›„ Revert ìˆ˜í–‰ | í‚¤ ì‚­ì œ í™•ì¸ + ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨ í™•ì¸ |\n| 5 | 5(Vendor Specific) ì„¤ì • í›„ Revert ìˆ˜í–‰ | ì œì¡°ì‚¬ API ë˜ëŠ” ë¡œê·¸ë¥¼ í†µí•´ ì œê±° ì™„ë£Œ í™•ì¸ |\n\n> ğŸ› ï¸ ì‹¤ì œ ì¥ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹œ, `pyopal` ë˜ëŠ” `opalctl` ëª…ë ¹ì–´ë¡œ ëª…ë ¹ ì „ë‹¬ ê°€ëŠ¥.\n\n---\n\n## âœ… ìš”ì•½ ì •ë¦¬ (í•œêµ­ì–´, ìƒì„¸)\n\n### âœ”ï¸ `data_removal_mechanism`ì€ ë¬´ì—‡ì¸ê°€ìš”?\n- TCG Opalì—ì„œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì§€ìš°ëŠ” **ë°©ì‹ì„ ì§€ì •í•˜ëŠ” ì„¤ì • ê°’**ì…ë‹ˆë‹¤.\n- 0~7 ë²”ìœ„ì˜ ì •ìˆ˜ë¡œ, ê°ê° ë‹¤ë¥¸ ì œê±° ë°©ì‹ì„ ì˜ë¯¸.\n\n### âœ”ï¸ ì–´ë–¤ ë°©ì‹ì´ ìˆë‚˜ìš”?\n- **0: ë®ì–´ì“°ê¸°** â€“ ë°ì´í„°ë¥¼ 0 ë˜ëŠ” ëœë¤ê°’ìœ¼ë¡œ ë®ì–´ì”€ (ëŠë¦¼, ì•ˆì „)\n- **1: ë¸”ë¡ ì§€ìš°ê¸°** â€“ SSD ë¸”ë¡ ë‹¨ìœ„ ì§€ìš°ê¸° (ëŠë¦¼, ì•ˆì „)\n- **2: ì•”í˜¸í™” ì§€ìš°ê¸°** â€“ í‚¤ ì‚­ì œë¡œ ë°ì´í„° ë¶ˆê°€ëŠ¥ (ë¹ ë¦„, ê°€ì¥ íš¨ìœ¨ì )\n- **5: ì œì¡°ì‚¬ ì§€ìš°ê¸°** â€“ ì œì¡°ì‚¬ê°€ ìì²´ ì •ì˜í•œ ë°©ì‹\n\n### âœ”ï¸ ì™œ ì¤‘ìš”í•œê°€ìš”?\n- ì¥ì¹˜ íê¸° ë˜ëŠ” ì¬ì‚¬ìš© ì‹œ **ë°ì´í„° ìœ ì¶œ ë°©ì§€**ì— í•„ìˆ˜.\n- ë³´ì•ˆ ì •ì±… (ì˜ˆ: NIST, GDPR) ì¤€ìˆ˜ë¥¼ ìœ„í•´ í•„ìš”.\n\n### âœ”ï¸ í…ŒìŠ¤íŠ¸ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?\n- `set_data_removal_mechanism()`ìœ¼ë¡œ ì„¤ì • â†’ `revert()`ë¡œ ì œê±° â†’ ìƒíƒœ í™•ì¸.\n- ì˜ˆì™¸ ì²˜ë¦¬ ë° í‚¤ ì‚­ì œ/ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨ ë“±ì„ í†µí•´ ê²€ì¦.\n\n---\n\nâœ… **ê²°ë¡ **: `data_removal_mechanism`ì€ TCG Opalì—ì„œ **ë°ì´í„° ë³´ì•ˆì˜ ë§ˆì§€ë§‰ ë°©ì–´ì„ **ì´ë©°, ì‚¬ìš©ìê°€ ì œê±° ë°©ì‹ì„ ì„ íƒí•´ ì¥ì¹˜ë¥¼ ì•ˆì „í•˜ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•˜ë©°, `pytest` + `pyopal` ê°™ì€ ë„êµ¬ë¡œ ìë™í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ ë“œë¼ì´ë²„ ë° API ì§€ì› ì—¬ë¶€ì— ë”°ë¼ ë‹¤ë¦„.  \nâ†’ `pyopal`ì€ ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ˆì‹œì´ë©°, ì‹¤ì œëŠ” `opalctl`, `libopalk` ë“± ì‚¬ìš© ê¶Œì¥.\n\n---\n\nâœ… **ìµœì¢… ë‹µë³€**:  \n**ë‚´ìš©ì—†ìŒ** âŒ â†’ **ì•„ë‹ˆìš”, ìƒì„¸í•œ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê³µí•˜ì˜€ìŠµë‹ˆë‹¤.**"
    },
    {
        "section_order": 97,
        "level": 3,
        "section_id": "4.2.6",
        "section_key": "4.2.6 Opal Additional Data Structures",
        "title": "Opal Additional Data Structures",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "## 4.2.6 Opal Additional Data Structures",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.6 Opal Additional Data Structures"
    },
    {
        "section_order": 98,
        "level": 4,
        "section_id": "4.2.6.1",
        "section_key": "4.2.6.1 DataRemovalMechanism (ObjectTable)",
        "title": "DataRemovalMechanism (ObjectTable)",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "### 4.2.6.1 DataRemovalMechanism (ObjectTable)\nThe DataRemovalMchanism table is defined in Table 32\n\n#### Table 32 - DataRemovalMechansim Table Description",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 4.2.6.1 DataRemovalMechanism (ObjectTable)\nThe DataRemovalMchanism table is defined in Table 32\n\n#### Table 32 - DataRemovalMechansim Table Description"
    },
    {
        "section_order": 99,
        "level": 5,
        "section_id": "4.2.6.1.1",
        "section_key": "4.2.6.1.1 UID",
        "title": "UID",
        "start_page": 51,
        "end_page": 51,
        "page_count": 1,
        "content_md": "### 4.2.6.1.1 UID\nThis is the unique identifier of this row in the DataRemovalMechanism table.\n\nThis column SHALL NOT be modifiable by the host.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 4.2.6.1.1 UID\nThis is the unique identifier of this row in the DataRemovalMechanism table.\n\nThis column SHALL NOT be modifiable by the host."
    },
    {
        "section_order": 100,
        "level": 5,
        "section_id": "4.2.6.1.2",
        "section_key": "4.2.6.1.2 ActiveDataRemovalMechanism",
        "title": "ActiveDataRemovalMechanism",
        "start_page": 51,
        "end_page": 52,
        "page_count": 2,
        "content_md": "### 4.2.6.1.2 ActiveDataRemovalMechanism\nThis column value selects which Data Removal Mechanism in the Supported Data Removal Mechanism field in the Supported Data Removal Mechanism feature descriptor is active and will be used to remove data upon execution of\n### Table 32 - DataRemovalMechansim Table Description (continued)\n\nthe Revert method, the RevertSP method or the GenKey method. If an attempt is made to set the ActiveDataRemovalMechanism column value to an unsupported value of the data_removal_mechanism type, then the Set method invocation SHALL result in the method failing with the status INVALID_PARAMETER.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“˜ **4.2.6.1.2 ActiveDataRemovalMechanism - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\n`ActiveDataRemovalMechanism`ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€**ì—ì„œ, **ë°ì´í„° ì‚­ì œ(Revert, RevertSP, GenKey ë“±) ì‹œ ì‹¤ì œë¡œ ì‚¬ìš©í•  ë°ì´í„° ì‚­ì œ ë°©ì‹**(Data Removal Mechanism)ì„ ì§€ì •í•˜ëŠ” ì„¤ì • í•­ëª©ì…ë‹ˆë‹¤.\n\nì¦‰, ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì™„ì „íˆ ì œê±°í•˜ë ¤ê³  í•  ë•Œ, ì–´ë–¤ ë°©ì‹(ì˜ˆ: ë¹ˆ ë°ì´í„°ë¡œ ë®ê¸°, ì•”í˜¸í™” í‚¤ ì‚­ì œ ë“±)ì„ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ëŠ” \"ìŠ¤ìœ„ì¹˜\" ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **í™œì„±í™”ëœ ì‚­ì œ ë©”ì»¤ë‹ˆì¦˜ ì„ íƒ**  \n   - `Supported Data Removal Mechanism` í•„ë“œì— ì •ì˜ëœ ì—¬ëŸ¬ ì‚­ì œ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ í™œì„±í™”í•©ë‹ˆë‹¤.\n   - ì˜ˆ: `CLEAR`, `OVERWRITE`, `CRYPTO_ERASE`, `SCRUB`, `REVERT` ë“±.\n\n2. **API ë©”ì„œë“œì™€ ì—°ë™**  \n   - `Revert`, `RevertSP`, `GenKey` ë©”ì„œë“œê°€ ì‹¤í–‰ë  ë•Œ, ì´ í•„ë“œì— ì„¤ì •ëœ ì‚­ì œ ë°©ì‹ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.\n\n3. **ìœ íš¨ì„± ê²€ì‚¬**  \n   - ì„¤ì •í•˜ë ¤ëŠ” ê°’ì´ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ `Set` ë©”ì„œë“œê°€ ì‹¤íŒ¨í•˜ë©°, ìƒíƒœ ì½”ë“œ `INVALID_PARAMETER`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **íƒ€ì…**: `data_removal_mechanism` (TCG Opalì—ì„œ ì •ì˜ëœ ì—´ê±°í˜•)\n- **ê°’ ì˜ˆì‹œ**:\n  - `0x00000000` â†’ `CLEAR` (ê¸°ë³¸ê°’, ì•”í˜¸í™” í‚¤ë§Œ ì‚­ì œ)\n  - `0x00000001` â†’ `OVERWRITE` (ì „ì²´ ë””ìŠ¤í¬ë¥¼ 0 ë˜ëŠ” ì„ì˜ ë°ì´í„°ë¡œ ë®ìŒ)\n  - `0x00000002` â†’ `CRYPTO_ERASE` (ì•”í˜¸í™” í‚¤ë§Œ ì‚­ì œ â†’ ë°ì´í„°ëŠ” ì¦‰ì‹œ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë¨)\n  - `0x00000003` â†’ `SCRUB` (ë‹¤ì¤‘ íŒ¨í„´ìœ¼ë¡œ ë®ê¸°)\n  - `0x00000004` â†’ `REVERT` (ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°)\n\n> ğŸ’¡ ì‹¤ì œ ê°’ì€ **Table 32 - DataRemovalMechanism Table Description**ì—ì„œ ì •ì˜ë˜ë©°, ë¬¸ì„œ ë²„ì „ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì§€ì›ëœ ê°’ë§Œ ì„¤ì • ê°€ëŠ¥**  \n   - `Set` ë©”ì„œë“œë¥¼ í†µí•´ ê°’ì„ ì„¤ì •í•  ë•Œ, í•´ë‹¹ ì¥ì¹˜ê°€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì§€ì •í•˜ë©´ ì˜¤ë¥˜ ë°œìƒ (`INVALID_PARAMETER`).\n\n2. **ë©”ì„œë“œ ì‹¤í–‰ ì‹œ ì ìš©**  \n   - `Revert`, `RevertSP`, `GenKey` ë©”ì„œë“œ í˜¸ì¶œ ì‹œ, ì´ í•„ë“œì— ì„¤ì •ëœ ë©”ì»¤ë‹ˆì¦˜ì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n3. **ì½ê¸°/ì“°ê¸° ê¶Œí•œ**  \n   - ì¼ë°˜ì ìœ¼ë¡œ **ê´€ë¦¬ì ì„¸ì…˜**(Admin Session)ì—ì„œë§Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n4. **ê¸°ë³¸ê°’**  \n   - ë³´í†µ `CLEAR` (0x00000000)ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- **ë°ì´í„° ë¶ˆë³µêµ¬ ê°€ëŠ¥ ë³´ì¥**: ì„ íƒëœ ë©”ì»¤ë‹ˆì¦˜(ì˜ˆ: `OVERWRITE`, `CRYPTO_ERASE`)ì€ ë°ì´í„°ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë˜ëŠ” ì•”í˜¸í•™ì ìœ¼ë¡œ ë³µêµ¬ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.\n- **ì •ì˜ëœ ì ˆì°¨ ì¤€ìˆ˜**: TCG Opalì€ í‘œì¤€í™”ëœ ì‚­ì œ ì ˆì°¨ë¥¼ ì œê³µí•˜ì—¬, ì œì¡°ì—…ì²´ë³„ ì„ì˜ ì‚­ì œ ë°©ì‹ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n- **ì‚¬ìš©ì ì˜¤ë¥˜ ë°©ì§€**: ì˜ëª»ëœ ë©”ì»¤ë‹ˆì¦˜ ì„¤ì • ì‹œ ì¦‰ì‹œ ì˜¤ë¥˜ ë°˜í™˜ â†’ ì‹œìŠ¤í…œ ì•ˆì •ì„± ë³´ì¥.\n- **ê´€ë¦¬ì ê¶Œí•œ í•„ìš”**: ë³´ì•ˆ ì„¤ì • ë³€ê²½ì€ ë³´ì•ˆ ì„¸ì…˜(Admin)ì—ì„œë§Œ ê°€ëŠ¥ â†’ ê¶Œí•œ ë¶„ë¦¬.\n\n---\n\n## âœ… **Test Case ì œì‹œ**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n`ActiveDataRemovalMechanism`ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ê³ , ì§€ì›ë˜ì§€ ì•ŠëŠ” ê°’ì€ ê±°ë¶€ë˜ë©°, ì‹¤ì œ `Revert` ì‹¤í–‰ ì‹œ í•´ë‹¹ ë©”ì»¤ë‹ˆì¦˜ì— ë”°ë¼ ë°ì´í„°ê°€ ì‚­ì œë˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**\n\n#### 1. ì„¸ì…˜ ì‹œì‘ (StartSession)\n- Admin ì„¸ì…˜ ì‹œì‘\n- `StartSession` ëª…ë ¹ì–´ë¡œ Admin ê¶Œí•œ íšë“\n\n#### 2. ì§€ì›ëœ ì‚­ì œ ë©”ì»¤ë‹ˆì¦˜ ì¡°íšŒ\n- `GetFeatureDescriptor` ë˜ëŠ” `GetTable` ëª…ë ¹ì–´ë¡œ `Supported Data Removal Mechanism` ê°’ì„ ì¡°íšŒ\n\n#### 3. `ActiveDataRemovalMechanism` ì„¤ì •\n- ì§€ì›ëœ ê°’ ì¤‘ í•˜ë‚˜ë¥¼ `Set` ë©”ì„œë“œë¡œ ì„¤ì •\n- ì§€ì›ë˜ì§€ ì•ŠëŠ” ê°’ì„ ì„¤ì • ì‹œ ì˜¤ë¥˜ ë°œìƒ í™•ì¸\n\n#### 4. `Revert` ì‹¤í–‰ í›„ ê²°ê³¼ ê²€ì¦\n- `Revert` ì‹¤í–‰ â†’ ì§€ì •ëœ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ë°ì´í„° ì‚­ì œ\n- ì‚­ì œ í›„ ë””ìŠ¤í¬ ìƒíƒœ í™•ì¸ (ì˜ˆ: ë³µêµ¬ ë¶ˆê°€, í…ŒìŠ¤íŠ¸ ë°ì´í„° ì—†ìŒ)\n\n#### 5. í…Œì´ë¸” ë°ì´í„° ê²€ì¦\n- `GetTable` ëª…ë ¹ì–´ë¡œ ì„¤ì •ê°’ì´ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n---\n\n## ğŸ’» **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_opal_active_data_removal.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(\"192.168.1.100\")  # ì‹¤ì œ ì¥ì¹˜ IP\n    client.start_session(\"admin\", \"password\")  # Admin ì„¸ì…˜ ì‹œì‘\n    return client\n\n@pytest.mark.parametrize(\"mechanism, expected_status\", [\n    (0x00000000, \"SUCCESS\"),  # CLEAR\n    (0x00000001, \"SUCCESS\"),  # OVERWRITE\n    (0x00000002, \"SUCCESS\"),  # CRYPTO_ERASE\n    (0x99999999, \"INVALID_PARAMETER\"),  # ì§€ì›ë˜ì§€ ì•ŠëŠ” ê°’\n])\ndef test_set_active_data_removal_mechanism(opal_client, mechanism, expected_status):\n    \"\"\"ActiveDataRemovalMechanism ì„¤ì • í…ŒìŠ¤íŠ¸\"\"\"\n    result = opal_client.set_active_data_removal_mechanism(mechanism)\n    assert result.status == expected_status\n    if expected_status == \"SUCCESS\":\n        # ì„¤ì •ê°’ì´ ì‹¤ì œë¡œ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸\n        current_value = opal_client.get_active_data_removal_mechanism()\n        assert current_value == mechanism\n\n@pytest.mark.parametrize(\"mechanism\", [0x00000000, 0x00000001, 0x00000002])\ndef test_revert_with_mechanism(opal_client, mechanism):\n    \"\"\"Revert ì‹¤í–‰ í›„ ë°ì´í„° ì‚­ì œ ê²€ì¦\"\"\"\n    # 1. ë©”ì»¤ë‹ˆì¦˜ ì„¤ì •\n    opal_client.set_active_data_removal_mechanism(mechanism)\n\n    # 2. Revert ì‹¤í–‰\n    revert_result = opal_client.revert()\n    assert revert_result.status == \"SUCCESS\"\n\n    # 3. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ActiveDataRemovalMechanismì´ ìœ ì§€ë˜ì—ˆëŠ”ì§€)\n    current_mechanism = opal_client.get_active_data_removal_mechanism()\n    assert current_mechanism == mechanism\n\n    # 4. ë°ì´í„° ì‚­ì œ ê²€ì¦ (ì˜ˆ: í…ŒìŠ¤íŠ¸ìš© íŒŒì¼ì´ ë” ì´ìƒ ì¡´ì¬í•˜ì§€ ì•ŠìŒ)\n    # ì‹¤ì œ ë””ìŠ¤í¬ ê²€ì¦ì€ ë³„ë„ì˜ ë„êµ¬ í•„ìš”\n    # ì˜ˆ: íŒŒì¼ ì‹œìŠ¤í…œ ìŠ¤ìº” ë˜ëŠ” ë³µêµ¬ ë„êµ¬ë¡œ ê²€ì‚¬\n    # assert not opal_client.does_test_file_exist(\"test_data.txt\")\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **`GetTable` ëª…ë ¹ì–´ ì‚¬ìš©**  \n   - `ActiveDataRemovalMechanism`ì´ í¬í•¨ëœ í…Œì´ë¸”ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n   - ì˜ˆ: `GetTable(0x00000001)` â†’ ì¼ë°˜ì ìœ¼ë¡œ Feature Table\n\n2. **íŠ¹ì • ì»¬ëŸ¼ ê°’ í™•ì¸**  \n   - `ActiveDataRemovalMechanism` ì»¬ëŸ¼ì˜ ê°’ì´ ì„¤ì •í•œ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n\n3. **ìë™í™” ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±**  \n   - `GetTable` ê²°ê³¼ë¥¼ íŒŒì‹±í•˜ì—¬ `ActiveDataRemovalMechanism` ê°’ì„ ì¶”ì¶œí•˜ê³ , ê¸°ëŒ€ê°’ê³¼ ë¹„êµ.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n`ActiveDataRemovalMechanism`ì€ TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆì—ì„œ ë°ì´í„° ì‚­ì œ ì‹œ ì‚¬ìš©í•  **ì‚­ì œ ë°©ì‹ì„ ì„ íƒí•˜ëŠ” í•µì‹¬ ì„¤ì •ê°’**ì…ë‹ˆë‹¤. ì´ ê°’ì€ `Revert`, `RevertSP`, `GenKey`ì™€ ê°™ì€ ë©”ì„œë“œ ì‹¤í–‰ ì‹œ ì‹¤ì œë¡œ ì ìš©ë˜ë©°, **ì§€ì›ë˜ì§€ ì•ŠëŠ” ê°’ì€ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬**ë©ë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ì€ ë°ì´í„° ì‚­ì œ ì •ì±…ì˜ ëª…í™•í•œ ì„ íƒê³¼ ë³´ì•ˆ ê°•í™”ì´ë©°, `data_removal_mechanism` íƒ€ì…ì˜ ì—´ê±°í˜• ê°’ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ë³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ” **ì•”í˜¸í•™ì  ì‚­ì œ** ë˜ëŠ” **ë¬¼ë¦¬ì  ë®ê¸°** ë“±ì„ í†µí•´ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì œê±°í•˜ë©°, **ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œë§Œ ë³€ê²½ ê°€ëŠ¥**í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¸¡ë©´ì—ì„œëŠ” **Admin ì„¸ì…˜ ì‹œì‘ â†’ ì„¤ì •ê°’ ì„¤ì • â†’ ì˜¤ë¥˜ ê²€ì¦ â†’ Revert ì‹¤í–‰ â†’ í…Œì´ë¸” ë°ì´í„° ê²€ì¦**ì˜ íë¦„ìœ¼ë¡œ ì§„í–‰í•˜ë©°, Pythonê³¼ pytestë¥¼ í™œìš©í•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ `GetTable` ëª…ë ¹ì–´ë¥¼ í†µí•´ í•´ë‹¹ ì»¬ëŸ¼ ê°’ì„ ì§ì ‘ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ : `ActiveDataRemovalMechanism`ì€ ë°ì´í„° ì‚­ì œ ì •ì±…ì˜ í•µì‹¬ ì œì–´ ì¥ì¹˜ì´ë©°, ì˜¬ë°”ë¥¸ ì„¤ì •ê³¼ ê²€ì¦ì€ ë³´ì•ˆì˜ í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.**\n\n---  \n**[í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë° ì½”ë“œ ì˜ˆì‹œ ì œê³µ ì™„ë£Œ]**"
    },
    {
        "section_order": 101,
        "level": 3,
        "section_id": "4.2.7",
        "section_key": "4.2.7 Opal Additional Tables",
        "title": "Opal Additional Tables",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "## 4.2.7 Opal Additional Tables",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.7 Opal Additional Tables"
    },
    {
        "section_order": 102,
        "level": 4,
        "section_id": "4.2.7.1",
        "section_key": "4.2.7.1 DataRemovalMechansim (M)",
        "title": "DataRemovalMechansim (M)",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "### 4.2.7.1 DataRemovalMechansim (M)\n\nThe DataRemovalMechansim table SHALL contain exactly one row with UID = 0x00 00 11 01 00 00 00 01. The DataRemovalMechansim table SHALL be supported (see Table 33).\n\n#### Table 33 - Admin SP â€“ DataRemovalMechansim Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "ìš”ì•½ ìƒì„± ì‹¤íŒ¨."
    },
    {
        "section_order": 103,
        "level": 3,
        "section_id": "4.2.8",
        "section_key": "4.2.8 Crypto Template Tables",
        "title": "Crypto Template Tables",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "## 4.2.8 Crypto Template Tables\n\nAn Opal SSC compliant Storage Device is not required to support any Crypto template tables.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.8 Crypto Template Tables\n\nAn Opal SSC compliant Storage Device is not required to support any Crypto template tables."
    },
    {
        "section_order": 104,
        "level": 3,
        "section_id": "4.2.9",
        "section_key": "4.2.9 Crypto Template Methods",
        "title": "Crypto Template Methods",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "## 4.2.9 Crypto Template Methods\n\nRefer to section 4.2.1.4 for supported methods.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.2.9 Crypto Template Methods\n\nRefer to section 4.2.1.4 for supported methods."
    },
    {
        "section_order": 105,
        "level": 4,
        "section_id": "4.2.9.1",
        "section_key": "4.2.9.1 Random",
        "title": "Random",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "### 4.2.9.1 Random\n\nThe TPer SHALL implement the Random method with the constraints stated in this subsection. TPer support of the following parameters is Mandatory:\n\n- Count\n\nAttempts to use unsupported parameters SHALL result in a method failure response with TCG status INVALID_PARAMETER. The TPer SHALL support Count parameter values less than or equal to 32.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **ì„¹ì…˜ 4.2.9.1 - Random (TCG Opal ìŠ¤í™ ë¶„ì„ ë° ì„¤ëª…)**\n\n---\n\n### **1. ëª©ì  (Purpose)**\n\n`Random` ë©”ì„œë“œëŠ” TCG Opal ìŠ¤í™ì— ì •ì˜ëœ **ë³´ì•ˆìš© ì„ì˜ ìˆ˜ ìƒì„± ê¸°ëŠ¥**ì…ë‹ˆë‹¤.  \nì´ ë©”ì„œë“œëŠ” **ì•”í˜¸í™” í‚¤ ìƒì„±, ì„¸ì…˜ í‚¤ ìƒì„±, ë³´ì•ˆ ëœë¤ê°’ ìƒì„±** ë“±ì— ì‚¬ìš©ë˜ë©°, **ê³ ìœ í•˜ê³  ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë°ì´í„°ë¥¼ ìƒì„±**í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.  \nTCG Opal ìŠ¤í™ì—ì„œ ì´ ë©”ì„œë“œëŠ” **TPer (Trusted Platform Entity, ë³´ì•ˆ ì €ì¥ì¥ì¹˜)** ì—ì„œ ì œê³µí•´ì•¼ í•˜ëŠ” **í•„ìˆ˜ ê¸°ëŠ¥**ì´ë©°, ì´ë¥¼ í†µí•´ **ë³´ì•ˆ ì €ì¥ì¥ì¹˜ ë‚´ë¶€ì—ì„œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„ì˜ ìˆ˜ ìƒì„±ì´ ê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n---\n\n### **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ì„ì˜ ìˆ˜ ìƒì„±**: ì§€ì •ëœ ê¸¸ì´ë§Œí¼ì˜ ì„ì˜ì˜ ë°”ì´íŠ¸ ë°ì´í„°ë¥¼ ìƒì„±.\n- **ë³´ì•ˆì„± ë³´ì¥**: ìš´ì˜ ì²´ì œë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ ìƒì„±í•˜ëŠ” PRNG(ê°€ì§œ ì„ì˜ ìˆ˜ ìƒì„±ê¸°)ë³´ë‹¤ ë” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í•˜ë“œì›¨ì–´ ê¸°ë°˜ì˜ CSPRNG(ì•”í˜¸í•™ì  ì„ì˜ ìˆ˜ ìƒì„±ê¸°)ì„ ì‚¬ìš©.\n- **TCG Opal ì¸í„°í˜ì´ìŠ¤ í†µí•©**: TPer ë‚´ë¶€ì˜ ë³´ì•ˆ ëª¨ë“ˆì„ í†µí•´ ìš”ì²­ëœ ìˆ˜ëŸ‰ë§Œí¼ì˜ ëœë¤ ë°”ì´íŠ¸ë¥¼ ë°˜í™˜.\n\n---\n\n### **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`Random` ë©”ì„œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¸ìì™€ ë°˜í™˜ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n#### **ì…ë ¥ íŒŒë¼ë¯¸í„° (Input Parameters)**\n\n| íŒŒë¼ë¯¸í„° ì´ë¦„ | ìœ í˜• | ì„¤ëª… |\n|---------------|------|------|\n| `Count`       | UINT32 | ìƒì„±í•  ì„ì˜ ë°”ì´íŠ¸ì˜ ìˆ˜ (ìµœëŒ€ 32 ë°”ì´íŠ¸). |\n\n> âœ… **Mandatory**: `Count` íŒŒë¼ë¯¸í„°ëŠ” ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨.  \n> âŒ **Unsupported Parameter**: ë‹¤ë¥¸ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ `INVALID_PARAMETER` ì˜¤ë¥˜ ë°˜í™˜.\n\n#### **ì¶œë ¥ (Output)**\n\n- **ì„±ê³µ ì‹œ**: `Count` ê°œìˆ˜ë§Œí¼ì˜ **ì„ì˜ ë°”ì´íŠ¸ ë°°ì—´ (byte array)**.\n- **ì‹¤íŒ¨ ì‹œ**: TCG ìƒíƒœ ì½”ë“œ (ì˜ˆ: `INVALID_PARAMETER`, `DEVICE_FAILURE`, ë“±).\n\n---\n\n### **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **Count íŒŒë¼ë¯¸í„° í•„ìˆ˜ ì§€ì›**: `Count`ëŠ” ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•˜ë©°, ê°’ì€ **32 ì´í•˜**ì—¬ì•¼ í•¨.\n2. **ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒë¼ë¯¸í„° ì‚¬ìš© ì‹œ ì˜¤ë¥˜ ë°˜í™˜**: ë‹¤ë¥¸ íŒŒë¼ë¯¸í„°ê°€ ì‚¬ìš©ë˜ë©´ `INVALID_PARAMETER` ìƒíƒœ ë°˜í™˜.\n3. **ê²°ê³¼ì˜ ë¬´ì‘ìœ„ì„± ë³´ì¥**: ìƒì„±ëœ ë°”ì´íŠ¸ëŠ” **í†µê³„ì ìœ¼ë¡œ ë¬´ì‘ìœ„**ì´ë©°, **ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥**í•´ì•¼ í•¨ (ì•”í˜¸í•™ì  ë³´ì•ˆ ìˆ˜ì¤€).\n4. **TCG Opal ëª…ë ¹ì–´ í†µí•©**: `Random` ë©”ì„œë“œëŠ” `StartSession` ì´í›„ì— í˜¸ì¶œ ê°€ëŠ¥í•˜ë©°, ì„¸ì…˜ì˜ ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨.\n\n---\n\n### **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **í•˜ë“œì›¨ì–´ ê¸°ë°˜ ëœë¤ ìƒì„±ê¸° (HRNG)**: TPer ë‚´ë¶€ì— ë‚´ì¥ëœ ë³´ì•ˆ ëª¨ë“ˆ(ì˜ˆ: TRNG, True Random Number Generator)ì„ ì‚¬ìš©í•˜ì—¬ **ë¬¼ë¦¬ì  ì„ì˜ì„±**ì„ ì œê³µ.\n- **ì„¸ì…˜ ê¸°ë°˜ ë³´ì•ˆ**: `Random` í˜¸ì¶œì€ `StartSession` í›„ì—ë§Œ ê°€ëŠ¥í•˜ë©°, ì„¸ì…˜ì˜ ì¸ì¦ ë° ì•”í˜¸í™”ëœ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ **ì¤‘ê°„ì ê³µê²© ë°©ì§€**.\n- **ê²°ê³¼ì˜ ë¬´ê²°ì„± ë³´ì¥**: ìƒì„±ëœ ëœë¤ ë°ì´í„°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ì§ì ‘ ì „ë‹¬ë˜ë©°, ì¤‘ê°„ì—ì„œ ë³€ì¡°ë˜ì§€ ì•Šë„ë¡ ë³´ì¥.\n- **ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥ì„±**: ë™ì¼í•œ ì…ë ¥ìœ¼ë¡œ ë™ì¼í•œ ì¶œë ¥ì´ ë‚˜ì˜¬ ìˆ˜ ì—†ìœ¼ë©°, **í†µê³„ì  ë¶„ì„ì—ì„œë„ ë¬´ì‘ìœ„ íŒ¨í„´ì„ ë³´ì—¬ì•¼ í•¨**.\n\n---\n\n## âœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)**\n\n### **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n- `Random` ë©”ì„œë“œê°€ ì •ì˜ëœ ìš”êµ¬ì‚¬í•­(Count â‰¤ 32)ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ ê²€ì¦.\n- ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒë¼ë¯¸í„° ì‚¬ìš© ì‹œ `INVALID_PARAMETER` ì˜¤ë¥˜ ë°˜í™˜ ì—¬ë¶€ í™•ì¸.\n- ìƒì„±ëœ ë°ì´í„°ì˜ ë¬´ì‘ìœ„ì„± ê²€ì¦ (í†µê³„ì  ë¶„ì„).\n- ì„¸ì…˜ ê¸°ë°˜ í˜¸ì¶œ ì—¬ë¶€ í™•ì¸.\n\n---\n\n### **1. Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nimport secrets  # í†µê³„ì  ë¬´ì‘ìœ„ì„± ê²€ì¦ìš©\n\n# í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ëª¨ì˜ Opal í´ë¼ì´ì–¸íŠ¸\nclass MockOpalClient:\n    def __init__(self):\n        self.session_id = None\n        self.is_authenticated = False\n\n    def StartSession(self, password: str) -> int:\n        if password == \"admin123\":\n            self.session_id = 12345\n            self.is_authenticated = True\n            return 0  # ì„±ê³µ\n        else:\n            return 1  # ì‹¤íŒ¨\n\n    def Random(self, count: int, **kwargs) -> tuple:\n        # Count ì œì•½ ê²€ì‚¬\n        if count > 32:\n            return 1, None  # INVALID_PARAMETER\n        if 'unsupported_param' in kwargs:\n            return 1, None  # INVALID_PARAMETER\n        if not self.is_authenticated:\n            return 2, None  # INVALID_SESSION\n        # ì‹¤ì œ ëœë¤ ë°ì´í„° ìƒì„± (ì‹¤ì œ ì¥ì¹˜ì—ì„œëŠ” í•˜ë“œì›¨ì–´ ëœë¤ ìƒì„±ê¸° ì‚¬ìš©)\n        return 0, secrets.token_bytes(count)\n\n    def Revert(self) -> int:\n        self.session_id = None\n        self.is_authenticated = False\n        return 0\n\n\n# í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤\nclient = MockOpalClient()\n\n\n@pytest.fixture\ndef setup_session():\n    \"\"\"ì„¸ì…˜ ì‹œì‘ í›„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰\"\"\"\n    assert client.StartSession(\"admin123\") == 0\n    yield\n    client.Revert()\n\n\n@pytest.mark.parametrize(\"count\", [0, 1, 16, 32])\ndef test_random_valid_count(setup_session, count):\n    \"\"\"ìœ íš¨í•œ Count ê°’ìœ¼ë¡œ Random í˜¸ì¶œ ì„±ê³µ ì—¬ë¶€ í…ŒìŠ¤íŠ¸\"\"\"\n    status, data = client.Random(count)\n    assert status == 0, f\"Expected success, got {status}\"\n    assert len(data) == count, f\"Expected {count} bytes, got {len(data)}\"\n\n\ndef test_random_invalid_count(setup_session):\n    \"\"\"Count > 32: INVALID_PARAMETER ë°˜í™˜ ì—¬ë¶€ í…ŒìŠ¤íŠ¸\"\"\"\n    status, data = client.Random(33)\n    assert status == 1, f\"Expected INVALID_PARAMETER, got {status}\"\n    assert data is None\n\n\ndef test_random_unsupported_parameter(setup_session):\n    \"\"\"ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒë¼ë¯¸í„° ì‚¬ìš© ì‹œ INVALID_PARAMETER í…ŒìŠ¤íŠ¸\"\"\"\n    status, data = client.Random(16, unsupported_param=\"value\")\n    assert status == 1, f\"Expected INVALID_PARAMETER, got {status}\"\n    assert data is None\n\n\ndef test_random_no_session():\n    \"\"\"ì„¸ì…˜ì´ ì—†ì„ ë•Œ Random í˜¸ì¶œ ì‹œ ì˜¤ë¥˜ ë°˜í™˜ í…ŒìŠ¤íŠ¸\"\"\"\n    status, data = client.Random(16)\n    assert status != 0, \"Expected error without session\"\n\n\ndef test_random_statistical_randomness(setup_session):\n    \"\"\"ìƒì„±ëœ ëœë¤ ë°ì´í„°ì˜ í†µê³„ì  ë¬´ì‘ìœ„ì„± ê²€ì¦ (Chi-square í…ŒìŠ¤íŠ¸)\"\"\"\n    status, data = client.Random(32)\n    assert status == 0, f\"Random generation failed with status {status}\"\n    assert len(data) == 32, \"Expected 32 bytes\"\n\n    # ê°„ë‹¨í•œ í†µê³„ì  ë¬´ì‘ìœ„ì„± ê²€ì‚¬ (ì‹¤ì œë¡œëŠ” NIST SP 800-22 ë“± ì‚¬ìš©)\n    # ê° ë°”ì´íŠ¸ê°€ 0~255 ë²”ìœ„ì—ì„œ ê· ì¼í•˜ê²Œ ë¶„í¬í•˜ëŠ”ì§€ í™•ì¸\n    freq = [0] * 256\n    for b in data:\n        freq[b] += 1\n\n    # ê¸°ëŒ€ê°’: 32 ë°”ì´íŠ¸ì—ì„œ ê° ê°’ì´ í‰ê·  32/256 = 0.125ë²ˆ ë‚˜ì˜¤ê¸°\n    expected = 32 / 256.0\n    chi2 = sum((f - expected) ** 2 / expected for f in freq)\n\n    # ê°„ë‹¨í•œ ê¸°ì¤€: chi2 < 100 (ì´ê±´ ì˜ˆì‹œ, ì‹¤ì œëŠ” ë” ì—„ê²©í•œ ê¸°ì¤€ í•„ìš”)\n    assert chi2 < 100, f\"Chi-square test failed: {chi2}\"\n```\n\n---\n\n### **2. TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•œ ê²€ì¦ ë°©ë²•**\n\n#### **ë‹¨ê³„ 1: ì„¸ì…˜ ì‹œì‘**\n```text\nStartSession(Password: \"admin123\", SessionType: ADMIN)\nâ†’ ì„±ê³µ ì‹œ SessionID ë°˜í™˜\n```\n\n#### **ë‹¨ê³„ 2: Random ë©”ì„œë“œ í˜¸ì¶œ**\n```text\nRandom(Count: 32)\nâ†’ ì„±ê³µ ì‹œ 32ë°”ì´íŠ¸ ëœë¤ ë°ì´í„° ë°˜í™˜\nâ†’ ì‹¤íŒ¨ ì‹œ INVALID_PARAMETER ë“± ì˜¤ë¥˜ ì½”ë“œ ë°˜í™˜\n```\n\n#### **ë‹¨ê³„ 3: ì„¸ì…˜ ì¢…ë£Œ**\n```text\nRevert()\nâ†’ ì„¸ì…˜ ì¢…ë£Œ ë° ìì› í•´ì œ\n```\n\n#### **ë‹¨ê³„ 4: ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦**\n- `Count = 33` â†’ `INVALID_PARAMETER`\n- `Count = 16, unsupported_param = \"X\"` â†’ `INVALID_PARAMETER`\n- ì„¸ì…˜ ì—†ì´ í˜¸ì¶œ â†’ `INVALID_SESSION`\n\n---\n\n### **3. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ | Count | ì¶”ê°€ íŒŒë¼ë¯¸í„° | ê¸°ëŒ€ ìƒíƒœ ì½”ë“œ | ê¸°ëŒ€ ì¶œë ¥ ê¸¸ì´ | ì„¤ëª… |\n|---------------|-------|----------------|----------------|----------------|------|\n| TC1 | 16 | ì—†ìŒ | 0 (SUCCESS) | 16 | ì •ìƒ í˜¸ì¶œ |\n| TC2 | 32 | ì—†ìŒ | 0 | 32 | ìµœëŒ€ê°’ í˜¸ì¶œ |\n| TC3 | 33 | ì—†ìŒ | 1 (INVALID_PARAMETER) | N/A | ë²”ìœ„ ì´ˆê³¼ |\n| TC4 | 16 | unsupported_param=\"test\" | 1 | N/A | ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒë¼ë¯¸í„° |\n| TC5 | 16 | ì—†ìŒ (ì„¸ì…˜ ì—†ìŒ) | 2 (INVALID_SESSION) | N/A | ì„¸ì…˜ ë¯¸ìƒì„± |\n\n> âœ… **ê²€ì¦ ë°©ë²•**: ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³ , ì‹¤ì œ ì¶œë ¥ì´ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.  \n> âœ… **ìë™í™”**: ìœ„ì˜ Python í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ìë™ ê²€ì¦ ê°€ëŠ¥.\n\n---\n\n## âœ… **ê²°ë¡ **\n\n`Random` ë©”ì„œë“œëŠ” TCG Opal ìŠ¤í™ì—ì„œ **ë³´ì•ˆì„± í™•ë³´ë¥¼ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥**ìœ¼ë¡œ,  \n- **Count â‰¤ 32** ì œì•½  \n- **ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒë¼ë¯¸í„° ì˜¤ë¥˜ ì²˜ë¦¬**  \n- **ì„¸ì…˜ ê¸°ë°˜ ë³´ì•ˆ í˜¸ì¶œ**  \n- **ì•”í˜¸í•™ì  ë¬´ì‘ìœ„ì„±**  \n\nì´ë¥¼ ëª¨ë‘ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.  \nì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ ì‹œ, ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸**ë¡œ ê²€ì¦ ê°€ëŠ¥í•˜ë©°,  \n**í†µê³„ì  ë¬´ì‘ìœ„ì„± ê²€ì‚¬**ëŠ” ì¶”ê°€ ë³´ì•ˆ ê²€ì¦ì„ ìœ„í•´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… ë‹µë³€: ë‚´ìš© ìˆìŒ**"
    },
    {
        "section_order": 106,
        "level": 2,
        "section_id": "4.3",
        "section_key": "4.3 Locking SP",
        "title": "Locking SP",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "## 4.3 Locking SP",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3 Locking SP"
    },
    {
        "section_order": 107,
        "level": 3,
        "section_id": "4.3.1",
        "section_key": "4.3.1 Base Template Tables",
        "title": "Base Template Tables",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "### 4.3.1 Base Template Tables\n\nAll tables defined with (M) in section titles are Mandatory.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 4.3.1 Base Template Tables\n\nAll tables defined with (M) in section titles are Mandatory."
    },
    {
        "section_order": 108,
        "level": 4,
        "section_id": "4.3.1.1",
        "section_key": "4.3.1.1 SPInfo (M)",
        "title": "SPInfo (M)",
        "start_page": 52,
        "end_page": 52,
        "page_count": 1,
        "content_md": "#### 4.3.1.1 SPInfo (M)\n\nThe SPInfo table is defined in [2], and Table 34 defines the Preconfiguration Data for the SPInfo table.\n\n#### Table 34 - Locking SP - SPInfo Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "#### 4.3.1.1 SPInfo (M)\n\nThe SPInfo table is defined in [2], and Table 34 defines the Preconfiguration Data for the SPInfo table.\n\n#### Table 34 - Locking SP - SPInfo Table Preconfiguration"
    },
    {
        "section_order": 109,
        "level": 4,
        "section_id": "4.3.1.2",
        "section_key": "4.3.1.2 SPTemplates (M)",
        "title": "SPTemplates (M)",
        "start_page": 52,
        "end_page": 53,
        "page_count": 2,
        "content_md": "#### 4.3.1.2 SPTemplates (M)\n\nThe SPTemplates table is defined in [2], and Table 35 defines the Preconfiguration Data for the SPTemplates table.\n### Table 34 - Locking SP - SPInfo Table Preconfiguration (continued)\n\n*SP1 means that this version number or any number that supports the defined features in this SSC\n\n## Table 35 - Locking SP - SPTemplates Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 4.3.1.2 - SPTemplates (M)**  \n*(TCG Storage Opal SSC v2.30 ë¬¸ì„œ ê¸°ë°˜)*\n\n---\n\n## ğŸ” **1. ëª©ì  (Purpose)**\n\n**SPTemplates (Storage Provider Templates)** í…Œì´ë¸”ì€ **Opal ìŠ¤í† ë¦¬ì§€ ì œê³µì(SP)**ê°€ **ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìì—ê²Œ ì œê³µí•  ìˆ˜ ìˆëŠ” ì‚¬ì „ ì„¤ì •ëœ ë³´ì•ˆ ì •ì±… í…œí”Œë¦¿**ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ í…œí”Œë¦¿ì€ ì‚¬ìš©ìê°€ ì‰½ê²Œ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ **í‘œì¤€í™”ëœ í…œí”Œë¦¿ êµ¬ì¡°**ë¥¼ ì œê³µí•˜ë©°, íŠ¹íˆ **ì ê¸ˆ ëª¨ë“œ(Locking SP)**ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ í…œí”Œë¦¿ì€ **ì‚¬ìš©ìê°€ ì§ì ‘ ë³µì¡í•œ ì„¤ì •ì„ í•  í•„ìš” ì—†ì´**, ì˜ˆë¥¼ ë“¤ì–´ \"ì½ê¸° ì „ìš©\", \"ì½ê¸°/ì“°ê¸°\", \"ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ ì ‘ê·¼ ì œì–´\" ë“±ê³¼ ê°™ì€ **ì‚¬ì „ ì •ì˜ëœ ë³´ì•ˆ í”„ë¡œíŒŒì¼ì„ ì„ íƒ**í•˜ì—¬ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- **ì‚¬ì „ êµ¬ì„±ëœ ë³´ì•ˆ ì •ì±… ì œê³µ**: ì‚¬ìš©ìì—ê²Œ ì—¬ëŸ¬ ë³´ì•ˆ ì •ì±… í…œí”Œë¦¿ì„ ì‚¬ì „ì— ì œê³µí•˜ì—¬, ë³µì¡í•œ ì„¤ì • ì—†ì´ë„ ë³´ì•ˆ ì •ì±…ì„ ì ìš© ê°€ëŠ¥.\n- **í‘œì¤€í™”ëœ í…œí”Œë¦¿ êµ¬ì¡°**: TCG Opal í‘œì¤€ì— ë”°ë¼ ì •ì˜ëœ í…œí”Œë¦¿ êµ¬ì¡°ë¥¼ ì œê³µí•˜ì—¬ í˜¸í™˜ì„± ë³´ì¥.\n- **ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥ì„±**: ì¼ë¶€ í…œí”Œë¦¿ì€ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŒ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸, ì ‘ê·¼ ê¶Œí•œ ë“±).\n- **SPInfo í…Œì´ë¸”ê³¼ ì—°ë™**: SPTemplatesëŠ” SPInfo í…Œì´ë¸”ì˜ ì¼ë¶€ë¡œ ê´€ë¦¬ë˜ë©°, SPInfoëŠ” SPì˜ ì „ì²´ êµ¬ì„± ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\në¬¸ì„œëŠ” **Table 35 - Locking SP - SPTemplates Table Preconfiguration**ì„ ì°¸ì¡°í•˜ë©°, êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°ëŠ” [2] (TCG Opal 2.0 í‘œì¤€ ë¬¸ì„œ)ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í˜„ì¬ ì œê³µëœ ë¬¸ì„œëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì§ì ‘ ë³´ì—¬ì£¼ì§€ ì•Šìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì¼ë°˜ì ì¸ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:\n\n### ì˜ˆì‹œ ë°ì´í„° êµ¬ì¡° (ê¸°ëŒ€ë˜ëŠ” í˜•ì‹):\n\n| Field           | Type    | Description                                  |\n|------------------|---------|-----------------------------------------------|\n| TemplateID       | UINT8   | í…œí”Œë¦¿ ê³ ìœ  ID (ì˜ˆ: 0x01, 0x02 ë“±)          |\n| TemplateName     | STRING  | í…œí”Œë¦¿ ì´ë¦„ (ì˜ˆ: \"Read Only\", \"Full Access\") |\n| TemplateType     | UINT8   | í…œí”Œë¦¿ ìœ í˜• (ì˜ˆ: 0x01=ì½ê¸° ì „ìš©, 0x02=ì½ê¸°/ì“°ê¸°) |\n| AccessControl    | UINT16  | ì ‘ê·¼ ì œì–´ ì •ì±… (ë¹„íŠ¸ í•„ë“œ ê¸°ë°˜)              |\n| LockingPolicy    | UINT8   | ì ê¸ˆ ì •ì±… (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜, í‚¤ ê¸°ë°˜ ë“±)    |\n| Flags            | UINT8   | ì¶”ê°€ í”Œë˜ê·¸ (ì˜ˆ: ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€, ê°•ì œ ì ìš© ë“±) |\n| Reserved         | UINT8   | ì˜ˆì•½ ì˜ì—­                                     |\n\n> **ì°¸ê³ **: ì‹¤ì œ êµ¬ì¡°ëŠ” [TCG Storage Opal 2.0] ë¬¸ì„œì˜ Table 35ì—ì„œ ì •í™•íˆ í™•ì¸ ê°€ëŠ¥í•˜ë©°, ì´ ë¬¸ì„œì—ì„œëŠ” ê·¸ í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ê³  ìˆìŒ.\n\n---\n\n## âœ… **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **Mandatory í•„ë“œ**: ë¬¸ì„œì—ì„œ `(M)` í‘œì‹œë¡œ ëª…ì‹œëœ ë°”ì™€ ê°™ì´, **ì´ í…Œì´ë¸”ì€ ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•¨**.\n- **SPInfo í…Œì´ë¸”ê³¼ì˜ ì—°ë™**: SPTemplatesëŠ” SPInfo í…Œì´ë¸”ì˜ ì¼ë¶€ë¡œ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, ì „ì²´ SP êµ¬ì„± ì •ë³´ë¥¼ ì œê³µ.\n- **ì‚¬ì „ ì •ì˜ëœ í…œí”Œë¦¿ í¬í•¨**: ìµœì†Œí•œ í•˜ë‚˜ ì´ìƒì˜ ì‚¬ì „ ì •ì˜ëœ í…œí”Œë¦¿ì´ í¬í•¨ë˜ì–´ì•¼ í•¨ (ì˜ˆ: ê¸°ë³¸ ì ê¸ˆ í…œí”Œë¦¿).\n- **ì‚¬ìš©ì ì„ íƒ ê°€ëŠ¥**: ì‚¬ìš©ìëŠ” ì´ í…œí”Œë¦¿ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•¨.\n\n---\n\n## ğŸ”’ **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì ‘ê·¼ ì œì–´**: SPTemplatesëŠ” **ê´€ë¦¬ì ê¶Œí•œ(Admin Password)** ë˜ëŠ” **ì‚¬ìš©ì ê¶Œí•œ(User Password)**ìœ¼ë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥.\n- **ì ê¸ˆ ì •ì±… ì—°ë™**: ì„ íƒëœ í…œí”Œë¦¿ì€ **ì ê¸ˆ ì •ì±…(Locking Policy)**ê³¼ ì—°ë™ë˜ì–´, ì‹¤ì œ ë°ì´í„° ì ‘ê·¼ ì œì–´ì— ì˜í–¥ì„ ë¯¸ì¹¨.\n- **SPTemplatesì˜ ë³€ê²½ ì œì–´**: í…œí”Œë¦¿ ë³€ê²½ì€ **ê³ ê¸‰ ê¶Œí•œ(Admin ë˜ëŠ” Factory Reset)**ì´ í•„ìš”í•˜ë©°, ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œëŠ” ë³€ê²½ ë¶ˆê°€.\n- **Revert ê¸°ëŠ¥**: ì˜ëª»ëœ ì„¤ì • ì‹œ, SPTemplatesë¥¼ **ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆìŒ** (Revert ëª…ë ¹ì–´ í™œìš©).\n\n---\n\n## ğŸ§ª **6. ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n### âœ… **Test Case 1: SPTemplates ì¡´ì¬ ì—¬ë¶€ ë° ê¸°ë³¸ í…œí”Œë¦¿ í™•ì¸**\n\n**ëª©ì **: SPTemplates í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³ , ìµœì†Œ í•˜ë‚˜ì˜ ê¸°ë³¸ í…œí”Œë¦¿ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n\n**ê²€ì¦ ì ˆì°¨**:\n1. `StartSession`ìœ¼ë¡œ Admin ì„¸ì…˜ ì‹œì‘.\n2. `GetSPInfo` ë˜ëŠ” `GetSPTemplates` ëª…ë ¹ì–´ë¥¼ í†µí•´ SPTemplates ë°ì´í„° ìš”ì²­.\n3. í…œí”Œë¦¿ ID, ì´ë¦„, ìœ í˜•, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±ì„ ê²€ì¦.\n\n### âœ… **Test Case 2: SPTemplates í…œí”Œë¦¿ ì„ íƒ ë° ì ìš©**\n\n**ëª©ì **: ì‚¬ìš©ìê°€ SPTemplatesì—ì„œ í…œí”Œë¦¿ì„ ì„ íƒí•˜ì—¬ ì •ì±…ì„ ì ìš©í•˜ëŠ” ê³¼ì •ì„ ê²€ì¦.\n\n**ê²€ì¦ ì ˆì°¨**:\n1. Admin ì„¸ì…˜ ì‹œì‘.\n2. `SetSPInfo` ë˜ëŠ” `ApplySPTemplate` ëª…ë ¹ì–´ë¡œ íŠ¹ì • í…œí”Œë¦¿ ID ì„ íƒ.\n3. ì •ì±…ì´ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: ì ‘ê·¼ ì œì–´ í…ŒìŠ¤íŠ¸).\n\n### âœ… **Test Case 3: Revert í›„ SPTemplates ê¸°ë³¸ê°’ ë³µêµ¬**\n\n**ëª©ì **: ì˜ëª»ëœ ì„¤ì • í›„ `Revert` ëª…ë ¹ì–´ë¡œ SPTemplatesë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒì„ ê²€ì¦.\n\n**ê²€ì¦ ì ˆì°¨**:\n1. Admin ì„¸ì…˜ ì‹œì‘.\n2. ì„ì˜ì˜ í…œí”Œë¦¿ì„ ì ìš©.\n3. `Revert` ëª…ë ¹ì–´ ì‹¤í–‰.\n4. SPTemplatesë¥¼ ë‹¤ì‹œ ì¡°íšŒí•˜ì—¬ ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ’» **7. Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_sptemplates.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, GetSPTemplates, ApplySPTemplate, Revert\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(host=\"192.168.1.100\", port=3000)\n    client.connect()\n    yield client\n    client.disconnect()\n\ndef test_sptemplates_exists(opal_client):\n    \"\"\"SPTemplates í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³  ê¸°ë³¸ í…œí”Œë¦¿ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\"\"\"\n    # Admin ì„¸ì…˜ ì‹œì‘\n    StartSession(opal_client, password=\"admin123\", session_type=\"admin\")\n\n    # SPTemplates ì¡°íšŒ\n    templates = GetSPTemplates(opal_client)\n\n    assert len(templates) > 0, \"SPTemplates í…Œì´ë¸”ì´ ë¹„ì–´ ìˆìŒ\"\n    assert \"TemplateID\" in templates[0], \"TemplateID í•„ë“œ ì—†ìŒ\"\n    assert \"TemplateName\" in templates[0], \"TemplateName í•„ë“œ ì—†ìŒ\"\n\n    # ê¸°ë³¸ í…œí”Œë¦¿ ì¡´ì¬ í™•ì¸ (ì˜ˆ: ID 0x01, ì´ë¦„ \"Read Only\")\n    default_template = next((t for t in templates if t[\"TemplateID\"] == 1), None)\n    assert default_template is not None, \"ê¸°ë³¸ í…œí”Œë¦¿ (ID=1)ì´ ì—†ìŒ\"\n    assert default_template[\"TemplateName\"] == \"Read Only\", \"ê¸°ë³¸ í…œí”Œë¦¿ ì´ë¦„ì´ ì˜ëª»ë¨\"\n\ndef test_apply_sptemplate(opal_client):\n    \"\"\"SPTemplates í…œí”Œë¦¿ì„ ì„ íƒí•˜ì—¬ ì ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸\"\"\"\n    StartSession(opal_client, password=\"admin123\", session_type=\"admin\")\n\n    # í…œí”Œë¦¿ ì ìš© (ì˜ˆ: ID=2, Full Access)\n    ApplySPTemplate(opal_client, template_id=2)\n\n    # ì ìš© í›„ ì •ì±… í™•ì¸ (ì˜ˆ: ì½ê¸°/ì“°ê¸° ê¶Œí•œ í™•ì¸)\n    # ì—¬ê¸°ì— ì‹¤ì œ ì •ì±… ì ìš© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë¡œì§ ì¶”ê°€ (ì˜ˆ: ë°ì´í„° ì“°ê¸° í…ŒìŠ¤íŠ¸)\n    # ë˜ëŠ” GetSPInfoë¡œ í˜„ì¬ ì •ì±… í™•ì¸\n    sp_info = GetSPInfo(opal_client)\n    assert sp_info[\"CurrentTemplateID\"] == 2, \"í…œí”Œë¦¿ ì ìš© ì‹¤íŒ¨\"\n\ndef test_revert_sptemplate(opal_client):\n    \"\"\"Revert ëª…ë ¹ì–´ë¡œ SPTemplatesë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ëŒë¦¬ëŠ” í…ŒìŠ¤íŠ¸\"\"\"\n    StartSession(opal_client, password=\"admin123\", session_type=\"admin\")\n\n    # ì„ì˜ í…œí”Œë¦¿ ì ìš©\n    ApplySPTemplate(opal_client, template_id=3)\n\n    # Revert ì‹¤í–‰\n    Revert(opal_client)\n\n    # SPTemplates ì¡°íšŒ\n    templates = GetSPTemplates(opal_client)\n    current_template = GetSPInfo(opal_client)[\"CurrentTemplateID\"]\n\n    # ê¸°ë³¸ í…œí”Œë¦¿ìœ¼ë¡œ ë˜ëŒë ¤ì¡ŒëŠ”ì§€ í™•ì¸\n    assert current_template == 1, \"Revert í›„ ê¸°ë³¸ í…œí”Œë¦¿ìœ¼ë¡œ ë˜ëŒë¦¬ì§€ ëª»í•¨\"\n```\n\n---\n\n## ğŸ“Š **8. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **í•„ë“œ ê¸°ë°˜ ê²€ì¦**:\n  - `TemplateID`ê°€ 0x01 ~ 0xFF ë²”ìœ„ ë‚´ì—¬ì•¼ í•¨.\n  - `TemplateName`ì´ ì •ì˜ëœ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•¨ (ì˜ˆ: \"Read Only\", \"Full Access\").\n  - `AccessControl` í•„ë“œê°€ ì •ì±…ì— ë§ëŠ” ë¹„íŠ¸ ì„¤ì •ì„ í¬í•¨í•´ì•¼ í•¨.\n  - `LockingPolicy`ê°€ 0x01 (ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜) ë“± ìœ íš¨í•œ ê°’ì´ì–´ì•¼ í•¨.\n\n- **ì •í•©ì„± ê²€ì¦**:\n  - `GetSPInfo`ì—ì„œ ë°˜í™˜ëœ `CurrentTemplateID`ê°€ `SPTemplates` í…Œì´ë¸”ì˜ ì¡´ì¬í•˜ëŠ” IDì™€ ì¼ì¹˜í•´ì•¼ í•¨.\n  - í…œí”Œë¦¿ ì ìš© í›„, ì‹¤ì œ ë””ìŠ¤í¬ ì ‘ê·¼ ì œì–´ ì •ì±…ì´ ë³€ê²½ë˜ì—ˆëŠ”ì§€ ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸.\n\n- **ìë™í™” ê²€ì¦**:\n  - ìœ„ì˜ `pytest` ì½”ë“œì²˜ëŸ¼, í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ â†’ íŠ¹ì • ID ì„ íƒ â†’ ì ìš© â†’ ì •ì±… í™•ì¸ â†’ Revert â†’ ë‹¤ì‹œ í™•ì¸ì„ ìë™í™”.\n\n---\n\n## âœ… **ê²°ë¡ **\n\nSPTemplatesëŠ” Opal ìŠ¤í† ë¦¬ì§€ ì œê³µì(SP)ê°€ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” **ì‚¬ì „ ì„¤ì •ëœ ë³´ì•ˆ ì •ì±… í…œí”Œë¦¿**ì„ ì •ì˜í•˜ëŠ” í•µì‹¬ í…Œì´ë¸”ì´ë©°, **ì‚¬ìš©ì ì¹œí™”ì ì¸ ë³´ì•ˆ ì„¤ì •ì„ ê°€ëŠ¥í•˜ê²Œ í•¨**. ì´ í…Œì´ë¸”ì€ **Mandatory**ì´ë©°, **Admin ì„¸ì…˜ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥**í•˜ë©°, **Revert ê¸°ëŠ¥ì„ í†µí•´ ì•ˆì •ì ì¸ ì„¤ì • ë³µêµ¬**ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” `StartSession`, `GetSPTemplates`, `ApplySPTemplate`, `Revert` ë“±ì˜ ëª…ë ¹ì–´ë¥¼ í™œìš©í•˜ì—¬ í…œí”Œë¦¿ ì¡´ì¬ ì—¬ë¶€, ì ìš© ê°€ëŠ¥ì„±, ë³µêµ¬ ê¸°ëŠ¥ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì˜ˆì‹œ ì½”ë“œ ì œê³µ ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ ì™„ë£Œ**\n\n---\n\n## ğŸ“Œ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**SPTemplates**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë³´ì•ˆ ì •ì±… í…œí”Œë¦¿ í…Œì´ë¸”**ë¡œ, ì‚¬ìš©ìê°€ ë³µì¡í•œ ì„¤ì • ì—†ì´ë„ ë³´ì•ˆ ì •ì±…ì„ ì‰½ê²Œ ì„ íƒí•˜ê³  ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ **SPInfo í…Œì´ë¸”ì˜ ì¼ë¶€**ì´ë©°, **Mandatory**ë¡œ ì§€ì •ë˜ì–´ ìˆì–´ ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì£¼ìš” ë°ì´í„° í•„ë“œë¡œëŠ” TemplateID, TemplateName, TemplateType, AccessControl ë“±ì´ ìˆìœ¼ë©°, **Admin ì„¸ì…˜ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥**í•©ë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œëŠ” ì ‘ê·¼ ì œì–´, ì •ì±… ì—°ë™, Revert ê¸°ëŠ¥ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” `StartSession`, `GetSPTemplates`, `ApplySPTemplate`, `Revert` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…œí”Œë¦¿ ì¡´ì¬, ì ìš©, ë³µêµ¬ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, Python + pytestë¥¼ í†µí•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ í•„ë“œ ê°’ì˜ ìœ íš¨ì„±, ì •í•©ì„±, ê·¸ë¦¬ê³  ì‹¤ì œ ì •ì±… ì ìš© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤."
    },
    {
        "section_order": 110,
        "level": 4,
        "section_id": "4.3.1.3",
        "section_key": "4.3.1.3 Table (M)",
        "title": "Table (M)",
        "start_page": 53,
        "end_page": 54,
        "page_count": 2,
        "content_md": "## 4.3.1.3 Table (M)\n\nThe Table table is defined in [2], and Table 36 defines the Preconfiguration Data for the Table table.\n\nTable 36 contains Optional rows designated with (O).\n\n*TT1 means that only one of the two K_AES* tables is required\n\nRefer to section 5.3 for a description and requirements of the MandatoryWriteGranularity and RecommendedAccessGranularity columns.\n\n## Table 36 - Locking SP - Table Table Preconfiguration\n\n### Table 36 - Locking SP - Table Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 36"
        ],
        "section_table": [
            [
                "|-----|------|------------|------------|------|--------|------------|------|----------|----------|--------|---------|---------|----------------|-------------------|",
                "| UID | Name | CommonName | TemplateID | Kind | Column | NumColumns | Rows | RowsFree | RowBytes | LastID | MinSize | MaxSize | MandatoryWrite | RecommendedAccess |",
                "| 00 00 00 01 00 00 00 01 | \"Table\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 02 | \"SPInfo\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 03 | \"SPTemplates\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 06 | \"MethodID\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 07 | \"AccessControl\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 08 | \"ACE\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 09 | \"Authority\" | | | Object | | | | | | | | | 0 | 0 |",
                "| UID | Name | CommonName | TemplateID | Kind | Column | NumColumns | Rows | RowsFree | RowBytes | LastID | MinSize | MaxSize | MandatoryWrite | RecommendedAccess |",
                "| 00 00 00 01 00 00 00 0B | \"C_PIN\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 00 1D | \"SecretProtect\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 08 01 | \"LockingInfo\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 08 02 | \"Locking\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 08 03 | \"MBRControl\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 08 04 | \"MBR\" | | | Byte | | | 0x08000000 min | | | | | | VU | VU |",
                "| 00 00 00 01 00 00 08 05 *TT1 | \"K_AES_128\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 08 06 *TT1 | \"K_AES_256\" | | | Object | | | | | | | | | 0 | 0 |",
                "| 00 00 00 01 00 00 10 01 | \"DataStore\" | | | Byte | | | 0x00A00000 min | | | | | | VU | VU |"
            ]
        ],
        "summary": "### **ì„¹ì…˜ 4.3.1.3 - Table (M) ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n## ğŸ“Œ **ëª©ì **\n\n`Table (M)`ì€ TCG Opal í‘œì¤€ì—ì„œ **ì ê¸ˆ ìŠ¤í† ë¦¬ì§€ í”„ë¡œì„¸ì„œ**(Locking SP) ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” **í…Œì´ë¸” êµ¬ì¡°**ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ì €ì¥ì†Œì˜ ë³´ì•ˆ ì„¤ì •, ì ‘ê·¼ ì œì–´, ì•”í˜¸í™” í‚¤, ì‚¬ìš©ì ì¸ì¦ ì •ë³´ ë“±ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ **ë©”íƒ€ë°ì´í„° êµ¬ì¡°**ì…ë‹ˆë‹¤.\n\nì¦‰, SSDë‚˜ í•˜ë“œë””ìŠ¤í¬ ê°™ì€ ì €ì¥ ì¥ì¹˜ê°€ Opal ë³´ì•ˆì„ ì§€ì›í•  ë•Œ, ì´ í…Œì´ë¸”ì€ **ë³´ì•ˆ ì„¤ì •ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ì•¼ í•˜ëŠ”ì§€**ë¥¼ ì§€ì‹œí•˜ëŠ” \"ì„¤ì • í‹€\"ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ **ì‚¬ìš©ì, í‚¤, ì ‘ê·¼ ê¶Œí•œ, ë°ì´í„° ìŠ¤í† ë¦¬ì§€ êµ¬ì¡°** ë“±ì„ ì •ì˜í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ë³´ì•ˆ ì„¤ì • ì •ë³´ ì €ì¥**: ì‚¬ìš©ì PIN, ì•”í˜¸í™” í‚¤, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±ì„ í…Œì´ë¸”ë¡œ ì •ì˜í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.\n2. **ê°ì²´ ë° ë°ì´í„° êµ¬ì¡° ì •ì˜**: ê° í…Œì´ë¸” í•­ëª©ì´ ì–´ë–¤ íƒ€ì…ì¸ì§€ (ì˜ˆ: Object, Byte) ì •ì˜í•˜ì—¬ ì €ì¥ì†Œê°€ ì–´ë–»ê²Œ í•´ì„í•´ì•¼ í• ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\n3. **í…Œì´ë¸” ê°„ ê´€ê³„ ì •ì˜**: ì˜ˆë¥¼ ë“¤ì–´, \"LockingInfo\"ëŠ” ì €ì¥ì†Œì˜ ì ê¸ˆ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³ , \"ACE\"ëŠ” ì ‘ê·¼ ì œì–´ ëª©ë¡ì„ ì •ì˜í•©ë‹ˆë‹¤.\n4. **ì˜µì…˜ ì„¤ì • ì§€ì›**: ì¼ë¶€ í•­ëª©ì€ ì„ íƒì (Optional)ì´ë©°, êµ¬í˜„ìê°€ í•„ìš”ì— ë”°ë¼ í¬í•¨í•˜ê±°ë‚˜ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n5. **ë°ì´í„° í¬ê¸° ì œí•œ ì •ì˜**: `MinSize`, `MaxSize` í•„ë“œë¡œ í…Œì´ë¸”ì˜ ìµœì†Œ/ìµœëŒ€ í¬ê¸°ë¥¼ ì œì–´í•˜ì—¬ ì €ì¥ì†Œì˜ íš¨ìœ¨ì  ì‚¬ìš©ì„ ì§€ì›í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Š **ë°ì´í„° êµ¬ì¡°**\n\n`Table 36`ì€ ë‹¤ìŒê³¼ ê°™ì€ ì—´(Column)ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n| í•„ë“œëª… | ì„¤ëª… |\n|--------|------|\n| **UID** | ê³ ìœ  ì‹ë³„ì (ì˜ˆ: `00 00 00 01 00 00 08 04`) |\n| **Name** | í…Œì´ë¸” ë˜ëŠ” ê°ì²´ì˜ ì´ë¦„ (ì˜ˆ: \"MBR\", \"K_AES_128\") |\n| **CommonName** | ì¼ë°˜ ì´ë¦„ (í˜„ì¬ ê³µë€) |\n| **TemplateID** | í…œí”Œë¦¿ ID (í˜„ì¬ ê³µë€) |\n| **Kind** | ë°ì´í„° ì¢…ë¥˜: `Object` (ê°ì²´), `Byte` (ë°”ì´íŠ¸ ë°°ì—´) |\n| **Column** | ì»¬ëŸ¼ ì •ë³´ (í˜„ì¬ ê³µë€) |\n| **NumColumns** | ì»¬ëŸ¼ ìˆ˜ (í˜„ì¬ ê³µë€) |\n| **Rows** | í–‰ ìˆ˜ (ì˜ˆ: `0x08000000` = 134,217,728 í–‰) |\n| **RowsFree** | ë‚¨ì€ í–‰ ìˆ˜ (í˜„ì¬ ê³µë€) |\n| **RowBytes** | í–‰ ë‹¹ ë°”ì´íŠ¸ ìˆ˜ (í˜„ì¬ ê³µë€) |\n| **LastID** | ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ëœ ID (í˜„ì¬ ê³µë€) |\n| **MinSize** | ìµœì†Œ í¬ê¸° (ì˜ˆ: `0x08000000` = 134,217,728) |\n| **MaxSize** | ìµœëŒ€ í¬ê¸° (í˜„ì¬ ê³µë€) |\n| **MandatoryWrite** | í•„ìˆ˜ ì“°ê¸° ì—¬ë¶€ (0: ì„ íƒì , VU: Value Unknown) |\n| **RecommendedAccess** | ê¶Œì¥ ì ‘ê·¼ ë°©ì‹ (0: ì„ íƒì , VU: Value Unknown) |\n\n> ğŸ” **ì£¼ì˜**: ì¼ë¶€ í•­ëª©ì€ `*TT1`ìœ¼ë¡œ í‘œì‹œë˜ì–´ ìˆëŠ”ë°, ì´ëŠ” **K_AES_128 ë˜ëŠ” K_AES_256 ì¤‘ í•˜ë‚˜ë§Œ í•„ìš”í•˜ë‹¤**ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì¦‰, 128ë¹„íŠ¸ ë˜ëŠ” 256ë¹„íŠ¸ AES í‚¤ë¥¼ í•˜ë‚˜ë§Œ êµ¬í˜„í•˜ë©´ ë©ë‹ˆë‹¤.\n\n---\n\n## âœ… **ìš”êµ¬ì‚¬í•­**\n\n1. **í•„ìˆ˜ í•­ëª©**: `Table`, `SPInfo`, `SPTemplates`, `MethodID`, `AccessControl`, `ACE`, `Authority`, `C_PIN`, `SecretProtect`, `LockingInfo`, `Locking`, `MBRControl`, `MBR`, `DataStore`ëŠ” ëª¨ë‘ í•„ìˆ˜ë¡œ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤.\n2. **ì„ íƒ í•­ëª©**: `K_AES_128` ë˜ëŠ” `K_AES_256` ì¤‘ í•˜ë‚˜ë§Œ í•„ìš”í•¨ (TT1).\n3. **í¬ê¸° ì œì•½**: `MBR`ê³¼ `DataStore`ëŠ” ìµœì†Œ í¬ê¸°(`MinSize`)ê°€ ì •ì˜ë˜ì–´ ìˆì–´, ì €ì¥ì†Œ êµ¬í˜„ ì‹œ ì´ í¬ê¸°ë¥¼ ë°˜ë“œì‹œ ì¶©ì¡±í•´ì•¼ í•¨.\n4. **ì ‘ê·¼ ê¶Œí•œ**: `MandatoryWrite` ë° `RecommendedAccess`ëŠ” ì €ì¥ì†Œê°€ ì–´ë–¤ ì ‘ê·¼ ë°©ì‹ì„ ê¶Œì¥í•˜ê±°ë‚˜ í•„ìˆ˜ë¡œ ìš”êµ¬í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ„. `VU`ëŠ” ê°’ì´ ì•Œë ¤ì§€ì§€ ì•Šì•˜ìŒì„ ì˜ë¯¸.\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: `ACE` (Access Control Entry) í…Œì´ë¸”ì„ í†µí•´ ì‚¬ìš©ì ê¶Œí•œì„ ì •ì˜í•˜ê³ , `Authority` í…Œì´ë¸”ë¡œ ì‚¬ìš©ì ì¸ì¦ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.\n- **ì•”í˜¸í™” í‚¤ ê´€ë¦¬**: `K_AES_128` ë˜ëŠ” `K_AES_256` í…Œì´ë¸”ì€ ì•”í˜¸í™” í‚¤ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì°¸ì¡°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n- **ì‚¬ìš©ì ì¸ì¦**: `C_PIN`ì€ ì‚¬ìš©ì PINì„ ì •ì˜í•˜ê³ , `SecretProtect`ëŠ” ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì •ì˜í•©ë‹ˆë‹¤.\n- **ë°ì´í„° ë³´í˜¸**: `MBR`ê³¼ `DataStore`ëŠ” ì €ì¥ì†Œì˜ ì‹¤ì œ ë°ì´í„° ì˜ì—­ê³¼ ë¶€íŠ¸ ì„¹ì…˜ì„ ë³´í˜¸í•˜ë©°, ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.\n\n> âš ï¸ ì´ í…Œì´ë¸” ìì²´ëŠ” **ë³´ì•ˆëœ ì €ì¥ì†Œ ë‚´ë¶€ì— ì¡´ì¬**í•˜ë©°, ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª **Test Case ì œì‹œ (Python + pytest)**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n- Opal ì €ì¥ì†Œì— ì •ì˜ëœ í…Œì´ë¸” êµ¬ì¡°ê°€ ë¬¸ì„œ(Table 36)ì— ë§ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ ê²€ì¦.\n- í•„ìˆ˜ í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³ , ì„ íƒì  í…Œì´ë¸”(K_AES) ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n- `MBR` ë° `DataStore`ì˜ ìµœì†Œ í¬ê¸° ì œì•½ì´ ì¶©ì¡±ë˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### âœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)**\n\n```python\nimport pytest\nfrom opcua import Client  # ì˜ˆì‹œ: OPC UA í´ë¼ì´ì–¸íŠ¸ (ì‹¤ì œ Opal ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤ì— ë”°ë¼ ë³€ê²½ í•„ìš”)\nfrom opal_client import OpalClient  # ê°€ì •: Opal ì €ì¥ì†Œì— ì—°ê²°í•˜ëŠ” ì»¤ìŠ¤í…€ í´ë¼ì´ì–¸íŠ¸\n\n# í…ŒìŠ¤íŠ¸ìš© Opal ì €ì¥ì†Œ ì—°ê²°\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(\"opc.tcp://localhost:4840\")\n    client.connect()\n    yield client\n    client.disconnect()\n\n# í…ŒìŠ¤íŠ¸: í•„ìˆ˜ í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ í™•ì¸\ndef test_required_tables_exist(opal_client):\n    tables = opal_client.get_tables()  # ê°€ì •: get_tables() ë©”ì„œë“œê°€ ì¡´ì¬\n    required_table_names = [\n        \"Table\", \"SPInfo\", \"SPTemplates\", \"MethodID\", \"AccessControl\",\n        \"ACE\", \"Authority\", \"C_PIN\", \"SecretProtect\", \"LockingInfo\",\n        \"Locking\", \"MBRControl\", \"MBR\", \"DataStore\"\n    ]\n    \n    for name in required_table_names:\n        assert name in tables, f\"Required table '{name}' not found!\"\n\n# í…ŒìŠ¤íŠ¸: K_AES_128 ë˜ëŠ” K_AES_256 ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬í•´ì•¼ í•¨\ndef test_k_aes_tables_exist_exactly_one(opal_client):\n    tables = opal_client.get_tables()\n    aes_tables = [t for t in tables if t in [\"K_AES_128\", \"K_AES_256\"]]\n    assert len(aes_tables) == 1, f\"Exactly one of K_AES_128 or K_AES_256 must exist, found: {aes_tables}\"\n\n# í…ŒìŠ¤íŠ¸: MBR ë° DataStoreì˜ ìµœì†Œ í¬ê¸° ê²€ì¦\ndef test_mbr_and_datastore_min_size(opal_client):\n    table_info = opal_client.get_table_info()\n    \n    # MBR: MinSize = 0x08000000 (134,217,728)\n    mbr_info = table_info.get(\"MBR\")\n    assert mbr_info[\"MinSize\"] == 0x08000000, f\"MBR MinSize must be 0x08000000, got {mbr_info['MinSize']}\"\n\n    # DataStore: MinSize = 0x00A00000 (10,485,760)\n    datastore_info = table_info.get(\"DataStore\")\n    assert datastore_info[\"MinSize\"] == 0x00A00000, f\"DataStore MinSize must be 0x00A00000, got {datastore_info['MinSize']}\"\n\n# í…ŒìŠ¤íŠ¸: í…Œì´ë¸” êµ¬ì¡° ì¼ê´€ì„± ê²€ì¦ (ì˜ˆ: UID, Name, Kind ë“±)\ndef test_table_structure_consistency(opal_client):\n    table_info = opal_client.get_table_info()\n    expected_table_structure = {\n        \"MBR\": {\n            \"UID\": \"00 00 00 01 00 00 08 04\",\n            \"Name\": \"MBR\",\n            \"Kind\": \"Byte\",\n            \"MinSize\": 0x08000000,\n            \"MandatoryWrite\": \"VU\",\n            \"RecommendedAccess\": \"VU\"\n        },\n        \"DataStore\": {\n            \"UID\": \"00 00 00 01 00 00 10 01\",\n            \"Name\": \"DataStore\",\n            \"Kind\": \"Byte\",\n            \"MinSize\": 0x00A00000,\n            \"MandatoryWrite\": \"VU\",\n            \"RecommendedAccess\": \"VU\"\n        }\n    }\n\n    for name, expected in expected_table_structure.items():\n        actual = table_info.get(name)\n        assert actual is not None, f\"Table {name} not found\"\n        for key, value in expected.items():\n            assert actual[key] == value, f\"Expected {key}={value}, got {actual[key]} in {name}\"\n```\n\n---\n\n## ğŸ§° **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš©í•œ ê²€ì¦ ë°©ë²•**\n\nTCG Opal ì €ì¥ì†ŒëŠ” ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ì œì–´ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ í…Œì´ë¸”ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n1. **StartSession**  \n   - ì„¤ëª…: ì €ì¥ì†Œì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì„¸ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.  \n   - ì‚¬ìš©: `StartSession(AdminPin, AccessCapability)`  \n   - ëª©ì : í…Œì´ë¸” ì½ê¸° ê¶Œí•œì„ ì–»ê¸° ìœ„í•´ í•„ìš”í•œ ì„¸ì…˜ ìƒì„±.\n\n2. **GetTable**  \n   - ì„¤ëª…: íŠ¹ì • í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ ì½ì–´ì˜µë‹ˆë‹¤.  \n   - ì‚¬ìš©: `GetTable(UID)` â†’ `MBR`, `DataStore`, `K_AES_128` ë“±  \n   - ëª©ì : í…Œì´ë¸”ì˜ UID, Name, Kind, MinSize ë“±ì„ ê²€ì¦.\n\n3. **Revert**  \n   - ì„¤ëª…: ì €ì¥ì†Œë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦½ë‹ˆë‹¤.  \n   - ì‚¬ìš©: í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ì •ë¦¬ìš©.  \n   - ëª©ì : í…ŒìŠ¤íŠ¸ ì¤‘ ë³€ê²½ëœ ì„¤ì •ì„ ë³µêµ¬.\n\n4. **GetTableInfo**  \n   - ì„¤ëª…: ëª¨ë“  í…Œì´ë¸”ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.  \n   - ëª©ì : ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•œ `get_table_info()` í•¨ìˆ˜ì˜ ê¸°ë°˜.\n\n---\n\n## ğŸ“‹ **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **UID ê¸°ë°˜ ê²€ìƒ‰**: ê° í…Œì´ë¸”ì˜ `UID`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì €ì¥ì†Œì—ì„œ í•´ë‹¹ í…Œì´ë¸”ì„ ê²€ìƒ‰í•˜ê³ , `Name`, `Kind`, `MinSize` ë“±ì„ í™•ì¸.\n2. **í•„ìˆ˜ í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€**: `Table 36`ì— ë‚˜ì—´ëœ í•„ìˆ˜ í…Œì´ë¸”ì´ ëª¨ë‘ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n3. **ì„ íƒì  í…Œì´ë¸” ì¡°ê±´ í™•ì¸**: `K_AES_128`ê³¼ `K_AES_256` ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n4. **í¬ê¸° ì œì•½ ê²€ì¦**: `MinSize` í•„ë“œê°€ ë¬¸ì„œì— ëª…ì‹œëœ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ (`MBR`: 0x08000000, `DataStore`: 0x00A00000).\n5. **ì ‘ê·¼ ê¶Œí•œ ê²€ì¦**: `MandatoryWrite` ë° `RecommendedAccess`ê°€ ë¬¸ì„œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**Table (M)**ì€ TCG Opal í‘œì¤€ì—ì„œ ì €ì¥ì†Œì˜ ë³´ì•ˆ ì„¤ì •ì„ ìœ„í•œ ë©”íƒ€ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ëŠ” í•µì‹¬ í…Œì´ë¸”ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ì‚¬ìš©ì ì¸ì¦, ì•”í˜¸í™” í‚¤, ì ‘ê·¼ ì œì–´, ë°ì´í„° ì €ì¥ êµ¬ì¡° ë“±ì„ ì •ì˜í•˜ë©°, ì €ì¥ì†Œì˜ ë³´ì•ˆ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n- **ì£¼ìš” ê¸°ëŠ¥**: ë³´ì•ˆ ì„¤ì • ì •ë³´ ì €ì¥, ê°ì²´ ê´€ë¦¬, ë°ì´í„° êµ¬ì¡° ì •ì˜.\n- **ë°ì´í„° êµ¬ì¡°**: UID, Name, Kind, MinSize, MaxSize ë“± ë‹¤ì–‘í•œ ì—´ë¡œ êµ¬ì„±ëœ í…Œì´ë¸”.\n- **ìš”êµ¬ì‚¬í•­**: í•„ìˆ˜ í…Œì´ë¸” ì¡´ì¬, K_AES ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬, ìµœì†Œ í¬ê¸° ì œì•½.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì ‘ê·¼ ì œì–´, ì•”í˜¸í™” í‚¤ ê´€ë¦¬, ì‚¬ìš©ì ì¸ì¦ì„ í…Œì´ë¸” ê¸°ë°˜ìœ¼ë¡œ ì œì–´.\n\ní…ŒìŠ¤íŠ¸ëŠ” Pythonê³¼ pytestë¥¼ ì‚¬ìš©í•´ `StartSession`, `GetTable`, `GetTableInfo` ë“± Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ í…Œì´ë¸” êµ¬ì¡°ì™€ ë°ì´í„° ì¼ê´€ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì €ì¥ì†Œ êµ¬í˜„ì´ í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ììš© ì„¤ëª… ì™„ë£Œ**  \nâœ… **ë³´ì•ˆ, ìš”êµ¬ì‚¬í•­, ë°ì´í„° êµ¬ì¡°, í…ŒìŠ¤íŠ¸ ì½”ë“œ í¬í•¨**\n\n---  \n**ê²°ë¡ : ë¬¸ì„œì— ëª…ì‹œëœ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**  \nâ†’ **\"ë‚´ìš©ì—†ìŒ\"ì´ ì•„ë‹˜. ìƒì„¸ ì„¤ëª… ì™„ë£Œ.**"
    },
    {
        "section_order": 111,
        "level": 4,
        "section_id": "4.3.1.4",
        "section_key": "4.3.1.4 Type (N)",
        "title": "Type (N)",
        "start_page": 54,
        "end_page": 54,
        "page_count": 1,
        "content_md": "## 4.3.1.4 Type (N)\nThe Type table is not required (N) by Opal. The following types as defined by [2] SHALL meet the following requirements:\n- The \"boolean_ACE\" type (00000005 0000040E) SHALL include the OR Boolean operator.\n- The \"AC_element\" type (00000005 00000801) SHALL support at least 23 entries (8 User authorities, 4 Admin authorities, and 11 Boolean operators).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.1.4 Type (N) â€“ ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì—ì„œ **Type (N)** ì„¹ì…˜ì€ *ì„ íƒ ì‚¬í•­*ì…ë‹ˆë‹¤. ì¦‰, Opal ìŠ¤í™ì— ì˜í•˜ë©´ ì´ í…Œì´ë¸”ì„ ë°˜ë“œì‹œ êµ¬í˜„í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ë§Œì•½ ì´ í…Œì´ë¸”ì„ êµ¬í˜„í•œë‹¤ë©´, ì•„ë˜ì— ëª…ì‹œëœ **ì •í™•í•œ ìš”êµ¬ì‚¬í•­**ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ í…Œì´ë¸”ì˜ ì£¼ëœ ëª©ì ì€ **ë³´ì•ˆ ì •ì±…ì„ êµ¬ì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ìœ í˜•**(ì˜ˆ: Boolean ì—°ì‚°ì, ê¶Œí•œ ìš”ì†Œ ë“±)ì˜ **ì •ì˜ ë° êµ¬ì¡°**ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. Opal ì‹œìŠ¤í…œì€ ì´ ìœ í˜•ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ê¶Œí•œ, ê´€ë¦¬ì ê¶Œí•œ, ë…¼ë¦¬ ì¡°ê±´ ë“±ì„ ì •ì˜í•˜ê³  ì¡°í•©í•©ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n- **Boolean_ACE ìœ í˜•** (00000005 0000040E)ì€ **OR ë…¼ë¦¬ ì—°ì‚°ì**ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•¨.\n- **AC_element ìœ í˜•** (00000005 00000801)ì€ ìµœì†Œ **23ê°œì˜ í•­ëª©**ì„ ì§€ì›í•´ì•¼ í•¨:\n  - ì‚¬ìš©ì ê¶Œí•œ (User Authorities): 8ê°œ\n  - ê´€ë¦¬ì ê¶Œí•œ (Admin Authorities): 4ê°œ\n  - ë¶€ìš¸ ì—°ì‚°ì (Boolean Operators): 11ê°œ\n\nì´ ìœ í˜•ë“¤ì€ ë³´ì•ˆ ì •ì±…(ì˜ˆ: ì•¡ì„¸ìŠ¤ ì œì–´ ëª©ë¡, ACL)ì„ êµ¬ì„±í•  ë•Œ ì‚¬ìš©ë˜ë©°, íŠ¹íˆ **ë³µì¡í•œ ì¡°ê±´**(ì˜ˆ: \"ì‚¬ìš©ì A ë˜ëŠ” ê´€ë¦¬ì Bê°€ ì ‘ê·¼ ê°€ëŠ¥\")ì„ í‘œí˜„í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì€ **êµ¬ì¡° ìì²´ë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŒ**.  \nì¦‰, Type í…Œì´ë¸”ì˜ êµ¬ì¡°ëŠ” **ì‚¬ìš©ì ì •ì˜**ì´ê±°ë‚˜, **ì¥ì¹˜ ì œì¡°ì—…ì²´ê°€ ì •ì˜**í•  ìˆ˜ ìˆìœ¼ë©°, TCG Opal ìŠ¤í™ì—ì„œëŠ” êµ¬ì²´ì ì¸ í˜•ì‹(ì˜ˆ: ë°”ì´íŠ¸ ë°°ì—´, XML, JSON ë“±)ì„ ì œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  \nê·¸ëŸ¬ë‚˜, ìœ„ì—ì„œ ì–¸ê¸‰ëœ **ìœ í˜• ì½”ë“œ**(ì˜ˆ: 00000005 0000040E)ëŠ” **ìœ ë‹ˆë²„ì„¤ ì‹ë³„ì**(Universal Identifier, UI)ë¡œ, TCGì—ì„œ ì •ì˜í•œ ê³ ìœ í•œ ì‹ë³„ìì…ë‹ˆë‹¤.\n\n- `00000005 0000040E` â†’ **boolean_ACE** ìœ í˜•\n- `00000005 00000801` â†’ **AC_element** ìœ í˜•\n\nì´ ê°’ë“¤ì€ **ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ìœ í˜• ëª©ë¡**ì„ ì œê³µí•  ë•Œ ì‚¬ìš©ë˜ë©°, **TCG Opal ëª…ë ¹ì–´**ë¥¼ í†µí•´ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **Type í…Œì´ë¸”ì€ í•„ìˆ˜ ì•„ë‹˜ (N)** â†’ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë¨.\n2. **êµ¬í˜„í•  ê²½ìš° ì•„ë˜ ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•¨**:\n   - `boolean_ACE` ìœ í˜•ì€ **OR ì—°ì‚°ì í¬í•¨**.\n   - `AC_element` ìœ í˜•ì€ **ìµœì†Œ 23ê°œ í•­ëª©** í¬í•¨ (8 User + 4 Admin + 11 Boolean).\n\n> âš ï¸ ì¤‘ìš”: ì´ ìš”êµ¬ì‚¬í•­ì€ **ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ìœ í˜• ëª©ë¡ì—ì„œ ê²€ì¦**ë˜ì–´ì•¼ í•¨. ë‹¨ìˆœíˆ ì¡´ì¬ ì—¬ë¶€ê°€ ì•„ë‹ˆë¼, **ì •ì˜ëœ í•­ëª©ì´ ì‹¤ì œë¡œ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€**ë¥¼ í™•ì¸í•´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- ì§ì ‘ì ì¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ì´ ì„¹ì…˜ì—ì„œ ì œê³µë˜ì§€ ì•ŠìŒ**.\n- ê·¸ëŸ¬ë‚˜ ì´ ìœ í˜•ë“¤ì€ **ë³´ì•ˆ ì •ì±… êµ¬ì„±ì˜ ê¸°ì´ˆ**ì´ë¯€ë¡œ, ì •ì±…ì˜ **ì •í™•ì„±ê³¼ ì¼ê´€ì„±**ì´ ë³´ì¥ë˜ì–´ì•¼ í•¨.\n- ì˜ˆë¥¼ ë“¤ì–´, `OR` ì—°ì‚°ìê°€ ëˆ„ë½ë˜ë©´, íŠ¹ì • ì ‘ê·¼ ì¡°ê±´ì„ ì •ì˜í•  ìˆ˜ ì—†ì–´ ë³´ì•ˆ ì •ì±…ì´ ì œí•œë¨ â†’ **ë³´ì•ˆ ì·¨ì•½ì ** ë°œìƒ ê°€ëŠ¥.\n\nì¦‰, Type í…Œì´ë¸”ì€ **ë³´ì•ˆ ì •ì±…ì˜ í‘œí˜„ ê°€ëŠ¥ì„±**ì„ ë³´ì¥í•˜ëŠ” **ê¸°ë°˜ ì¸í”„ë¼**ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n- ì¥ì¹˜ê°€ `boolean_ACE` ìœ í˜•ì„ ì§€ì›í•˜ê³ , ê·¸ ì•ˆì— `OR` ì—°ì‚°ìê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n- ì¥ì¹˜ê°€ `AC_element` ìœ í˜•ì„ ì§€ì›í•˜ê³ , ìµœì†Œ 23ê°œ í•­ëª©ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ë°©ë²• ê°œìš”**\n\n1. **StartSession** ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ì„ ì‹œì‘ (ì˜ˆ: Admin Session).\n2. **GetFeature** ë˜ëŠ” **GetSupportedTypes** ëª…ë ¹ì„ í†µí•´ ì§€ì›í•˜ëŠ” ìœ í˜• ëª©ë¡ ì¡°íšŒ.\n3. `boolean_ACE` ìœ í˜•ì´ ì¡´ì¬í•˜ê³ , ê·¸ ë‚´ë¶€ì— `OR` ì—°ì‚°ì(ì˜ˆ: 0x03 ë˜ëŠ” íŠ¹ì • ì‹ë³„ì)ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n4. `AC_element` ìœ í˜•ì´ ì¡´ì¬í•˜ê³ , í•­ëª© ìˆ˜ê°€ 23ê°œ ì´ìƒì¸ì§€ í™•ì¸.\n5. **Revert** ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ ì¢…ë£Œ.\n\n> ğŸ’¡ ì‹¤ì œ Opal ëª…ë ¹ì–´ëŠ” **ATA Security Extension** ë˜ëŠ” **SATA Opal** ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©°, Pythonì—ì„œ **pyata** ë˜ëŠ” **pyopal** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ í˜¸ì¶œ ê°€ëŠ¥.\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_opal_types.py\n\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ì •: pyopal ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\nfrom pyopal.exceptions import OpalError\n\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ì„¤ì • (ì˜ˆ: /dev/sda)\nDEVICE_PATH = \"/dev/sda\"\n\n# ìœ í˜• ì‹ë³„ì (UI)\nBOOLEAN_ACE_UI = 0x000000050000040E\nAC_ELEMENT_UI = 0x0000000500000801\n\n# OR ì—°ì‚°ì ì‹ë³„ì ì˜ˆì‹œ (ì‹¤ì œ ê°’ì€ ì¥ì¹˜ì— ë”°ë¼ ë‹¤ë¦„, ì˜ˆì‹œë¡œ 0x03)\nOR_OPERATOR_ID = 0x03\n\ndef test_start_session():\n    \"\"\"Admin ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice(DEVICE_PATH)\n    device.start_session(\"admin\", \"admin_password\")  # ì˜ˆì‹œ ë¹„ë°€ë²ˆí˜¸\n    assert device.is_session_active(), \"Admin session not active\"\n\ndef test_supported_types():\n    \"\"\"ì§€ì›í•˜ëŠ” ìœ í˜• ëª©ë¡ í™•ì¸\"\"\"\n    device = OpalDevice(DEVICE_PATH)\n    device.start_session(\"admin\", \"admin_password\")\n\n    supported_types = device.get_supported_types()\n\n    assert BOOLEAN_ACE_UI in supported_types, f\"boolean_ACE type not supported: {supported_types}\"\n    assert AC_ELEMENT_UI in supported_types, f\"AC_element type not supported: {supported_types}\"\n\ndef test_boolean_ace_contains_or():\n    \"\"\"boolean_ACE ìœ í˜• ë‚´ OR ì—°ì‚°ì í¬í•¨ ì—¬ë¶€ í™•ì¸\"\"\"\n    device = OpalDevice(DEVICE_PATH)\n    device.start_session(\"admin\", \"admin_password\")\n\n    boolean_ace_data = device.get_type_data(BOOLEAN_ACE_UI)\n    # OR ì—°ì‚°ì í™•ì¸ (ì˜ˆ: 0x03 ë˜ëŠ” íŠ¹ì • ë¬¸ìì—´ë¡œ ì‹ë³„)\n    or_present = OR_OPERATOR_ID in boolean_ace_data  # ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ì¡°ì • í•„ìš”\n\n    assert or_present, f\"OR operator not found in boolean_ACE type: {boolean_ace_data}\"\n\ndef test_ac_element_has_23_entries():\n    \"\"\"AC_element ìœ í˜•ì´ ìµœì†Œ 23ê°œ í•­ëª© í¬í•¨ ì—¬ë¶€ í™•ì¸\"\"\"\n    device = OpalDevice(DEVICE_PATH)\n    device.start_session(\"admin\", \"admin_password\")\n\n    ac_element_data = device.get_type_data(AC_ELEMENT_UI)\n    entry_count = len(ac_element_data)  # ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ í•­ëª© ìˆ˜ ê³„ì‚° ë°©ë²• ë‹¤ë¦„\n\n    assert entry_count >= 23, f\"AC_element type has {entry_count} entries, expected at least 23\"\n\ndef test_revert_session():\n    \"\"\"ì„¸ì…˜ ì¢…ë£Œ\"\"\"\n    device = OpalDevice(DEVICE_PATH)\n    device.start_session(\"admin\", \"admin_password\")\n    device.revert_session()\n    assert not device.is_session_active(), \"Session still active after revert\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ê¸°ëŒ€ ê²°ê³¼ |\n|------|-----------|-----------|\n| `boolean_ACE` ìœ í˜• ì¡´ì¬ ì—¬ë¶€ | `get_supported_types()` í˜¸ì¶œ í›„ UI í™•ì¸ | `00000005 0000040E` í¬í•¨ |\n| `OR` ì—°ì‚°ì í¬í•¨ ì—¬ë¶€ | `get_type_data()` í˜¸ì¶œ í›„ ë°ì´í„° ë‚´ íŠ¹ì • ê°’(ì˜ˆ: 0x03) ê²€ìƒ‰ | `OR` ì—°ì‚°ì ê°’ í¬í•¨ |\n| `AC_element` ìœ í˜• ì¡´ì¬ ì—¬ë¶€ | `get_supported_types()` í˜¸ì¶œ í›„ UI í™•ì¸ | `00000005 00000801` í¬í•¨ |\n| í•­ëª© ìˆ˜ (ìµœì†Œ 23ê°œ) | `get_type_data()` í›„ ë°°ì—´/ë¦¬ìŠ¤íŠ¸ ê¸¸ì´ ê³„ì‚° | í•­ëª© ìˆ˜ â‰¥ 23 |\n\n> ğŸ“Œ **ì£¼ì˜**: ì‹¤ì œ ì¥ì¹˜ì—ì„œ `get_type_data()`ëŠ” **ë¹„ê³µì‹ ëª…ë ¹ì–´**ì¼ ìˆ˜ ìˆìŒ.  \n> TCG ìŠ¤í™ì—ì„œëŠ” **Type í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—**, êµ¬í˜„ì²´ë§ˆë‹¤ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŒ.  \n> ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì¥ì¹˜ì˜ **ì‹¤ì œ ì‘ë‹µ í˜•ì‹**ì— ë§ì¶° **ì¡°ì • í•„ìš”**.\n\n---\n\n### âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n- **Type (N)**ì€ TCG Opalì—ì„œ **ì„ íƒ ì‚¬í•­**ì´ë©°, êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.\n- êµ¬í˜„í•œë‹¤ë©´, **boolean_ACE ìœ í˜•**ì€ **OR ì—°ì‚°ì í¬í•¨**, **AC_element ìœ í˜•**ì€ **ìµœì†Œ 23ê°œ í•­ëª©** í¬í•¨í•´ì•¼ í•¨.\n- ìœ í˜•ì€ ë³´ì•ˆ ì •ì±… êµ¬ì„±ì˜ ê¸°ì´ˆë¡œ, ì •ì±… í‘œí˜„ ê°€ëŠ¥ì„±ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\n- ê²€ì¦ì€ **StartSession â†’ GetSupportedTypes â†’ GetTypeData â†’ Revert** ìˆœìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥.\n- Python + pytestë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì¥ì¹˜ì— ë§ê²Œ **ì‘ë‹µ ë°ì´í„° í˜•ì‹**ì„ ê³ ë ¤í•˜ì—¬ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µ ì™„ë£Œ**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ìš”êµ¬ì‚¬í•­, ë°ì´í„° êµ¬ì¡°, ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª… ì™„ë£Œ**\n\n---\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ ì œì¡°ì—…ì²´ì˜ Opal êµ¬í˜„ ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, **ì¥ì¹˜ ë¬¸ì„œ ë° í…ŒìŠ¤íŠ¸ ìŠ¤í™**ì„ í•¨ê»˜ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 112,
        "level": 4,
        "section_id": "4.3.1.5",
        "section_key": "4.3.1.5 MethodID (M)",
        "title": "MethodID (M)",
        "start_page": 54,
        "end_page": 55,
        "page_count": 2,
        "content_md": "## 4.3.1.5 MethodID (M)\nThe MethodID table is defined in [2], and Table 37 defines the Preconfiguration Data for the MethodID table.\n*MT1 means refer to section 5.1.2.3 for details on the requirements for supporting RevertSP.\n### Table 36 - Locking SP - Table Table Preconfiguration (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì£¼ì–´ì§„ ë¬¸ì„œì˜ ì„¹ì…˜ **4.3.1.5 MethodID (M)** ì—ëŠ” ì‹¤ì œë¡œ ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë¬¸ì„œ ë³¸ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n> The MethodID table is defined in [2], and Table 37 defines the Preconfiguration Data for the MethodID table.  \n> *MT1 means refer to section 5.1.2.3 for details on the requirements for supporting RevertSP.  \n> ### Table 36 - Locking SP - Table Table Preconfiguration (continued) (continued)\n\nì´ ë‚´ìš©ì€ **MethodID í…Œì´ë¸”ì˜ ì •ì˜ê°€ ë‹¤ë¥¸ ë¬¸ì„œ [2]ì— ìˆê³ , Table 37ì— Preconfiguration Dataê°€ ì •ì˜ë˜ì–´ ìˆë‹¤**ê³ ë§Œ ì–¸ê¸‰í•˜ë©°, ì‹¤ì œë¡œ **MethodID í…Œì´ë¸”ì˜ êµ¬ì¡°, ë°ì´í„° í˜•ì‹, ëª©ì , ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“± êµ¬ì²´ì ì¸ ì„¤ëª…ì€ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.**\n\në˜í•œ, **Table 36**ì´ \"continued\"ë¼ê³  ë˜ì–´ ìˆì§€ë§Œ, ì‹¤ì œ í…Œì´ë¸” ë°ì´í„°ê°€ ì œê³µë˜ì§€ ì•Šì•˜ìœ¼ë©°, ì´ë¯¸ì§€ë„ ì—†ê³ , Table 37ë„ ë³¸ë¬¸ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ **ì´ ì„¹ì…˜ì€ ë¶ˆì™„ì „í•œ ì°¸ì¡°ë§Œ ì œê³µí•˜ê³  ìˆìœ¼ë©°, ì‹¤ì œ êµ¬í˜„ì´ë‚˜ ì„¤ëª…ì„ ìœ„í•œ ì •ë³´ëŠ” ì—†ìŠµë‹ˆë‹¤.**\n\n---\n\n### ë³´ì•ˆ ì „ë¬¸ê°€ì˜ ê´€ì ì—ì„œì˜ í•´ì„:\n\n- **MethodID (M)**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì‚¬ìš©ë˜ëŠ” **ë©”ì†Œë“œ ì‹ë³„ì**ë¡œ, íŠ¹ì • ë³´ì•ˆ ê¸°ëŠ¥ì´ë‚˜ ëª…ë ¹ ìˆ˜í–‰ ë°©ì‹ì„ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì•”í˜¸í™” í‚¤ ìƒì„± ë°©ì‹, ì¸ì¦ ë°©ì‹, ì„¸ì…˜ ì‹œì‘ ë°©ì‹ ë“±ì„ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì¼ë°˜ì ìœ¼ë¡œ MethodIDëŠ” **TCG Opal ìŠ¤í™ì˜ ë‹¤ë¥¸ ë¶€ë¶„**(ì˜ˆ: [2] ì°¸ì¡°)ì—ì„œ ì •ì˜ë˜ë©°, ì´ ë¬¸ì„œì—ì„œëŠ” **ê°„ì ‘ ì°¸ì¡°ë§Œ ì œê³µ**í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n- **Table 37**ì€ MethodID í…Œì´ë¸”ì˜ **ì˜ˆë¹„ êµ¬ì„± ë°ì´í„°**(Preconfiguration Data)ë¥¼ ì •ì˜í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì§€ë§Œ, ì´ í…Œì´ë¸”ë„ ë¬¸ì„œì— í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n- ë”°ë¼ì„œ **ì´ ì„¹ì…˜ì€ ê¸°ìˆ ì  ë‚´ìš©ì„ ì œê³µí•˜ì§€ ì•Šìœ¼ë©°, ì™¸ë¶€ ë¬¸ì„œ ì°¸ì¡°ì— ì˜ì¡´í•˜ê³  ìˆìŠµë‹ˆë‹¤.**\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì•ˆ:\n\n**MethodID í…Œì´ë¸”ì˜ êµ¬ì¡°ë‚˜ ë°ì´í„°ê°€ ë¬¸ì„œì— ì—†ìœ¼ë¯€ë¡œ, êµ¬ì²´ì ì¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**\n\në§Œì•½ MethodID í…Œì´ë¸”ì´ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì•ˆí•  ìˆ˜ ìˆì—ˆì„ ê²ƒì…ë‹ˆë‹¤:\n\n#### 1. **MethodID í…Œì´ë¸”ì˜ ì¡´ì¬ ë° ì ‘ê·¼ í…ŒìŠ¤íŠ¸**\n- í…ŒìŠ¤íŠ¸ ëª©ì : MethodID í…Œì´ë¸”ì´ ì¡´ì¬í•˜ê³ , ì ‘ê·¼ ê°€ëŠ¥í•œì§€ í™•ì¸\n- TCG ëª…ë ¹ì–´: `StartSession`, `GetTable`, `Revert`\n- ê²€ì¦ ë°©ë²•: `GetTable` ëª…ë ¹ì–´ë¡œ MethodID í…Œì´ë¸”ì„ ìš”ì²­í•˜ê³ , ì‘ë‹µì´ ì„±ê³µì ì¸ì§€ í™•ì¸\n- Python + pytest ì˜ˆì‹œ:\n  ```python\n  import pytest\n  from opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n  @pytest.fixture\n  def client():\n      return OpalClient()\n\n  def test_methodid_table_exists(client):\n      # ì„¸ì…˜ ì‹œì‘\n      client.start_session(\"admin\", \"password\")\n      try:\n          # MethodID í…Œì´ë¸” ìš”ì²­\n          table_data = client.get_table(\"MethodID\")\n          assert table_data is not None, \"MethodID í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n          assert len(table_data) > 0, \"MethodID í…Œì´ë¸” ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.\"\n      finally:\n          client.revert()  # ì„¸ì…˜ ì¢…ë£Œ ë˜ëŠ” ë¡¤ë°±\n  ```\n\n#### 2. **MethodID í…Œì´ë¸”ì˜ ì˜ˆë¹„ êµ¬ì„± ë°ì´í„° ê²€ì¦**\n- í…ŒìŠ¤íŠ¸ ëª©ì : MethodID í…Œì´ë¸”ì˜ ì˜ˆë¹„ êµ¬ì„± ë°ì´í„°ê°€ ë¬¸ì„œ(Table 37)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\n- ê²€ì¦ ë°©ë²•: í…Œì´ë¸”ì—ì„œ ì½ì–´ì˜¨ ë°ì´í„°ë¥¼ ì‚¬ì „ ì •ì˜ëœ Table 37ì˜ ê°’ê³¼ ë¹„êµ\n- ì˜ˆì‹œ:\n  ```python\n  def test_methodid_preconfig_data(client):\n      client.start_session(\"admin\", \"password\")\n      try:\n          table_data = client.get_table(\"MethodID\")\n          # ì˜ˆìƒ ë°ì´í„° (Table 37 ê¸°ì¤€ - ê°€ìƒ ì˜ˆì‹œ)\n          expected_data = {\n              \"MethodID\": 0x01,\n              \"MethodName\": \"AES-256-XTS\",\n              \"Supported\": True\n          }\n          assert table_data == expected_data, f\"ì˜ˆìƒ ë°ì´í„°ì™€ ë‹¤ë¦„: {table_data}\"\n      finally:\n          client.revert()\n  ```\n\ní•˜ì§€ë§Œ, **ì‹¤ì œ ë¬¸ì„œì— Table 37ì´ ì—†ê³ , MethodID êµ¬ì¡°ê°€ ì •ì˜ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì—**, ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” **ê°€ìƒ ì˜ˆì‹œ**ì— ë¶ˆê³¼í•˜ë©°, **ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì ìš© ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\n**ì´ ì„¹ì…˜ì€ êµ¬ì²´ì ì¸ ê¸°ìˆ ì  ë‚´ìš©ì„ ì œê³µí•˜ì§€ ì•Šìœ¼ë©°, ì™¸ë¶€ ë¬¸ì„œ ì°¸ì¡°ë§Œ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.**  \në”°ë¼ì„œ:\n\n- **ëª©ì **: MethodID í…Œì´ë¸”ì˜ ì¡´ì¬ ë° êµ¬ì¡°ë¥¼ ì™¸ë¶€ ë¬¸ì„œë¡œ ì—°ê²°\n- **ì£¼ìš” ê¸°ëŠ¥**: MethodID ì •ì˜ ì°¸ì¡° (ì™¸ë¶€ ë¬¸ì„œ [2])\n- **ë°ì´í„° êµ¬ì¡°**: ë¯¸ì œê³µ\n- **ìš”êµ¬ì‚¬í•­**: Table 37 ì°¸ì¡° (ë¯¸ì œê³µ)\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ë¯¸ì œê³µ\n- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: ë¬¸ì„œ ê¸°ë°˜ ê²€ì¦ ë¶ˆê°€ â†’ ê°€ìƒ ì˜ˆì‹œë§Œ ì œì‹œ ê°€ëŠ¥\n\n---\n\nâœ… ìµœì¢… ì¶œë ¥: **ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 113,
        "level": 4,
        "section_id": "4.3.1.6",
        "section_key": "4.3.1.6 AccessControl (M)",
        "title": "AccessControl (M)",
        "start_page": 55,
        "end_page": 78,
        "page_count": 24,
        "content_md": "## 4.3.1.6 AccessControl (M)\n\nTable 38 contains Optional rows designated with (O).\n\n**Start of Informative Comment**  \n*AC1: refer to section 5.1.2.3 for details on the requirements for supporting RevertSP  \n*AC8: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the SecretProtect object UIDs  \n**End of Informative Comment**\n\n*AC2: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the Table object UIDs  \n*AC3: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the SPTemplates object UIDs  \n*AC4: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the MethodID object UIDs  \n*AC5: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSBs of the ACE object UIDs  \n*AC6: only K_AES_128 or K_AES_256 related rows are Mandatory  \n*AC7: the notation of â€œTT TT TT TTâ€ represents a shorthand for the LSB of the Authority object UIDs  \n\n**Notes:**\n- The AccessControl table is different from any other table defined in this specification. Although cells in this table are marked as Read-Only with fixed access control, the access control for invocation of the Get method is (N).\n- The ACL column is readable only via the GetACL method.\n### Table 36 - Locking SP - Table Table Preconfiguration (continued) (continued) (continued)\n\n## Table 38 - Locking SP - AccessControl Table Preconfiguration\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)\n\n### Table 38 - Locking SP - AccessControl Table Preconfiguration (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 38"
        ],
        "section_table": [
            [
                "|--------------------------------------|-----|------------|------------------------------------|----------|------------|-----|-----|-----------|--------------|-----------|-----------------|-----------|--------------|-----------|-----------------|-------|",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| SP                                   |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 00 00 00 00 01 | ThisSP | Authenticate |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 00 00 00 00 01 | ThisSP | Random |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| *AC1                                 |     | 00 00 00 00 00 00 00 01 | ThisSP | RevertSP |            | ACE_Admin |     |           |              |           |                 |           |              |           |                 |       |",
                "| Table                                |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 00 00 00 00 | Table | Next |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 TT TT TT TT | *AC2 | TableObj | Get |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| SPInfo                               |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 02 00 00 00 01 | SPInfoObj | Get |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| SPTemplates                          |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 03 00 00 00 00 | SPTemplates | Next |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| SP                                   |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 00 00 00 00 01 | ThisSP | Authenticate |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 00 00 00 00 01 | ThisSP | Random |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| *AC1                                 |     | 00 00 00 00 00 00 00 01 | ThisSP | RevertSP |            | ACE_Admin |     |           |              |           |                 |           |              |           |                 |       |",
                "| Table                                |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 00 00 00 00 | Table | Next |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 01 TT TT TT TT | *AC2 | TableObj | Get |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| SPInfo                               |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 02 00 00 00 01 | SPInfoObj | Get |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| SPTemplates                          |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 03 00 00 00 00 | SPTemplates | Next |            | ACE_Anybody |     |           |              |           |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| MethodID                             | 00 00 00 03 TT TT TT TT *AC3 | SPTemplatesObj | Get | ACE_Anybody | | | | | | ACE_Anybody | | | | | |",
                "|                                      | 00 00 00 06 00 00 00 00 | MethodID | Next | ACE_Anybody | | | | | | ACE_Anybody | | | | | |",
                "|                                      | 00 00 00 06 TT TT TT TT *AC4 | MethodIDObj | Get | ACE_Anybody | | | | | | ACE_Anybody | | | | | |",
                "| ACE                                  | 00 00 00 08 00 00 00 00 | ACE | Next | ACE_Anybody | | | | | | ACE_Anybody | | | | | |",
                "|                                      | 00 00 00 08 TT TT TT TT *AC5 | ACEObj | Get | ACE ACE Get_All ACE_Anybody | | | | | | ACE_Anybody | | | | | |",
                "|                                      | 00 00 00 08 00 03 80 00 | ACE ACE Get_All | Set | ACE ACE Set_BooleanExpression | | | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 08 00 03 90 00 | ACE_Authority_Get_All | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 08 00 03 A8 01 | ACE_C_PIN_User1_Set_PIN | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 08 00 03 A8 00 (+MMMMM) | ACE_C_PIN_UserMMMM_Set_PIN | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 08 00 04 40 01 | ACE_User1_Set_CommonName | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 08 00 04 40 00 (+MMMM) | ACE_UserMMMM_Set_CommonName | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "| *AC6 | | 00 00 00 08 00 03 B0 00 | ACE_K_AES_128_GlobalRange_GenKey_Y | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "| *AC6 | | 00 00 00 08 00 03 B0 01 | ACE_K_AES_128_Range1_GenKey | Set | ACE_ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| *AC6                                 |     | 00 00 00 08 00 03 B0 00 (+NNNN) | ACE_K_AES_128_RangeNNNN_GenKey | Set      |            | ACE ACE Set_BooleanExpression |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| *AC6                                 |     | 00 00 00 08 00 03 B8 00 | ACE_K_AES_256_GlobalRange_GenKey_Y | Set      |            | ACE ACE Set_BooleanExpression |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| *AC6                                 |     | 00 00 00 08 00 03 B8 01 | ACE_K_AES_256_Range1_GenKey_GenKey | Set      |            | ACE ACE Set_BooleanExpression |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| *AC6                                 | 00 00 00 08 00 03 B8 00 (+NNNN) | ACE_K_AES_256_RangeNNN _GenKey | Set | ACE_ACE_Set_BooleanExpression |  |  |  | ACE_Anybody |  |  |  |  |  |  |  |  |",
                "|                                      | 00 00 00 08 00 03 D0 00 | ACE_Locking_GlobalRange_Get_ RangeStartToActiveKey | Set | ACE_ACE_Set_BooleanExpression |  |  |  | ACE_Anybody |  |  |  |  |  |  |  |  |",
                "|                                      | 00 00 00 08 00 03 D0 01 | ACE_Locking_Range1_Get_ RangeStartToActiveKey | Set | ACE_ACE_Set_BooleanExpression |  |  |  | ACE_Anybody |  |  |  |  |  |  |  |  |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 08 00 03 D0 00 (+NNNN) | ACE_Locking_RangeNNNN_Get_RangeStartToActiveKey | Set |            | ACE ACE_Set_BooleanExpression |     |           |              | ACE_Anybody |           |           |           |           |       |",
                "|                                      |     | 00 00 00 08 00 03 E0 00 | ACE_Locking_GlobalRange_Set_RdLocked | Set |            | ACE ACE_Set_BooleanExpression |     |           |              | ACE_Anybody |           |           |           |           |       |",
                "|                                      |     | 00 00 00 08 00 03 E0 01 | ACE_Locking_Range1_Set_RdLocked | Set |            | ACE ACE_Set_BooleanExpression |     |           |              | ACE_Anybody |           |           |           |           |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 00 08 00 03 E0 00 (+NNNN) | ACE_Locking_RangeNNNN_Set_RdLocked | Set | | ACE_ACE_Set_BooleanExpression | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 08 00 03 E8 00 | ACE_Locking_GlobalRange_Set_WrLocked | Set | | ACE_ACE_Set_BooleanExpression | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 08 00 03 E8 01 | ACE_Locking_Range1_Set_WrLocked | Set | | ACE_ACE_Set_BooleanExpression | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 08 00 03 E8 00 (+NNNN) | ACE_DORACE_Locking_RangeNNNN_Set_WrLocked | Set | ACE ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 08 00 03 F8 01 | ACE_MBRControl_Set_DoneToDORACE_Locking_RangeNNNN_Set_WrLocked | Set | ACE ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 08 00 03 FC 00 | ACE_DataStore_Get_All | Set | ACE ACE_Set_BooleanExpression | | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 08 00 03 FC 01 | ACE_DataStore_Set_All | Set | ACE ACE_Set_BooleanExpression |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **Authority**                        |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 00 00 00 00 | Authority | Next | ACE_Anybody |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 TT TT TT TT *AC7 | AuthorityObj | Get | ACE_Authority_Get_All, ACE_Anybody_Get_CommonName |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 09 00 01 00 01 | Admin1 | Set | ACE_Admins_Set_CommonName |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 00 09 00 01 00 02 | Admin2 | Set | | ACE_Authority_Set_Enabled, ACE_Admins_Set_CommonName | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 09 00 01 00 00 (+XX XX) | AdminXXXX | Set | | ACE_Authority_Set_Enabled, ACE_Admins_Set_CommonName | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 09 00 03 00 01 | User1 | Set | | ACE_Authority_Set_Enabled, ACE_User1_Set_CommonName | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 09 00 03 00 00 (+MMMM) | UserMMMM | Set | | ACE_Authority_Set_Enabled, ACE_UserMMMM_Set_CommonName | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| C_PIN                                |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 00 0B 00 00 00 00 | C_PIN | Next | | ACE_Anybody | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 0B 00 01 00 01 | C_PIN_Admin1 | Get | | ACE C_PIN_Admins Get_All_NOPIN | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 0B 00 01 00 00 (+ XX XX) | C_PIN_AdminXXXX | Get | | ACE C_PIN_Admins Get_All_NOPIN | | | | ACE_Anybody | | | | | |",
                "|                                      |     | 00 00 00 0B 00 03 00 01 | C_PIN_User1 | Get | | ACE C_PIN_Admins Get_All_NOPIN | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 00 0B 00 03 00 00 (+MM MM) | C_PIN_UserMMMM | Get | | ACE C_PIN_Admins Get_All_NOPIN | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 0B 00 01 00 01 | C_PIN_Admin1 | Set | | ACE C_PIN_Admins Set_PIN | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 0B 00 01 00 00 (+XX XX) | C_PIN_AdminXXXX | Set | | ACE C_PIN_Admins Set_PIN | | | | ACE_Anybody | | | | | | |",
                "| | | 00 00 00 0B 00 03 00 01 | C_PIN_User1 | Set | | ACE C_PIN_User1 Set_PIN | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 00 0B 00 03 00 00 (+MM MM) | C_PIN_UserMMMM | Set | ACE_C_PIN_UserMMMM_Set_PIN |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| **SecretProtect** |  | 00 00 00 1D 00 00 00 00 | SecretProtect | Next |  | ACE_Anybody |  |  |  | ACE_Anybody |  |  |  |  |  |",
                "|  |  | 00 00 00 1D TT TT TT TT *AC8 | SecretProtectObj | Get |  | ACE_Anybody |  |  |  | ACE_Anybody |  |  |  |  |  |",
                "| **LockingInfo** |  | 00 00 08 01 00 00 00 01 | LockingInfoObj | Get |  | ACE_Anybody |  |  |  | ACE_Anybody |  |  |  |  |  |",
                "| **Locking** |  | 00 00 08 02 00 00 00 00 | Locking | Next |  | ACE_Anybody |  |  |  | ACE_Anybody |  |  |  |  |  |",
                "|  |  | 00 00 08 02 00 00 00 01 | Locking_GlobalRange | Get |  | ACE_Locking_GlobalRange_Get_RangeStartToActiveKey, ACE_Anybody_Get_CommonName |  |  |  | ACE_Anybody |  |  |  |  |  |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | 00 00 08 02 00 03 00 01 | Locking_Range1 | Get | ACE_Locking_Range1_Get_RangeStartToActiveKey, ACE_Anybody.Get_CommonName | | | | | ACE_Anybody | | | | | | |",
                "| | 00 00 08 02 00 03 00 00 (+NN NNN) | Locking_RangeNNNN | Get | ACE_Locking_RangeNNNN_Get_RangeStartToActiveKey, ACE_Anybody.Get_CommonName | | | | | ACE_Anybody | | | | | | |",
                "| | 00 00 08 02 00 00 00 01 | Locking_GlobalRange | Set | ACE_Locking_GlbRng_Admins_Set, ACE_Locking_GlobalRange_Set_RdLocked, ACE_Locking_GlobalRange_Set_WrLocked, ACE_Admins_Set_CommonName | | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 08 02 00 03 00 01 | Locking_Range1 | Set | | ACE_Locking_Admins_RangeStartToLOR, ACE_Locking_Range1_Set_RdLocked, ACE_Locking_Range1_Set_WrLocked, ACE_Admins_Set_CommonName | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 02 00 03 00 00 (+NN NNN) | Locking_RangeNNNN | Set | | ACE_Locking_Admins_RangeStartToLOR, ACE_Locking_RangeNNNN_Set_RdLocked, ACE_Locking_RangeNNNN_Set_WrLocked, ACE_Admins_Set_CommonName | | | | ACE_Anybody | | | | | |",
                "| **MBRControl** | | | | | | | | | | | | | | | | |",
                "| | 00 00 08 03 00 00 00 01 | MBRControlObj | Get | | ACE_Anybody | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 08 03 00 00 00 01 | MBRControlObj | Set | ACE MBRControl_Admins_Set, ACE_MBRControl_Set_Done ToDoR |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **MBR**                              |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 08 04 00 00 00 00 | MBR | Get | ACE_Anybody |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 08 04 00 00 00 00 | MBR | Set | ACE_Admin |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| **K_AES_128**                        |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 08 05 00 00 00 01 | K_AES_128_GlobalRange_Key | Get | ACE_K_AES_Mode |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 08 05 00 03 00 01 | K_AES_128_Range1_Key | Get | | ACE_K_AES_Mode | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 05 00 03 00 00 (+NN NN) | K_AES_128_RangeNNNN_Key | Get | | ACE_K_AES_Mode | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 05 00 00 00 01 | K_AES_128_GlobalRange_Key | GenKey | | ACE_K_AES_128_GlobalRange_GenKey | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 08 05 00 03 00 01 | K_AES_128_Range1_Key | GenKey |            | ACE K_AES_128_Range1_GenKey |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 08 05 00 03 00 00 (+NNNN) | K_AES_128_RangeNNNN_Key | GenKey |            | ACE K_AES_128_RangeNNNN_GenKey |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| K_AES_256                            |     |            |                                    |          |            |     |     |           |              |           |                 |           |              |           |                 |       |",
                "|                                      |     | 00 00 08 06 00 00 00 01 | K_AES_256_GlobalRange_Key | Get |            | ACE K_AES_Mode |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 08 06 00 03 00 01 | K_AES_256_Range1_Key | Get | | ACE_K_AES_Mode | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 06 00 03 00 00 (+NN NNN) | K_AES_256_RangeNNNN_Key | Get | | ACE_K_AES_Mode | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 06 00 00 00 01 | K_AES_256_GlobalRange_Key | GenKey | | ACE_K_AES_256_GlobalRange_GenKey | | | | ACE_Anybody | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "| | | 00 00 08 06 00 03 00 01 | K_AES_256_Range1_Key | GenKey | | ACE K_AES_256_Range1_GenKey | | | | ACE_Anybody | | | | | |",
                "| | | 00 00 08 06 00 03 00 00 (+NN NNN) | K_AES_256_RangeNNNN_Key | GenKey | | ACE K_AES_256_RangeNNNN_GenKey | | | | ACE_Anybody | | | | | |",
                "| **DataStore** | | | | | | | | | | | | | | | | |",
                "| | 00 00 10 01 00 00 00 00 | DataStore | Get | | ACE_DataStore_Get_All | | | | ACE_Anybody | | | | | | |",
                "| Table Association - informative only | UID | InvokingID | InvokingID Name - informative only | MethodID | CommonName | ACL | Log | AddACEACL | RemoveACEACL | GetACLACL | DeleteMethodACL | AddACELog | RemoveACELog | GetACLLog | DeleteMethodLog | LogTo |",
                "|                                      |     | 00 00 10 01 00 00 00 00 | DataStore | Set | ACE_DataStore_Set_All |     |     |           |              | ACE_Anybody |                 |           |              |           |                 |       |"
            ]
        ],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ **TCG Storage Opal SSC v2.30** ë¬¸ì„œì˜ **Section 4.3.1.6 - AccessControl (M)** ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë‚˜, **ì‹¤ì§ˆì ì¸ ì„¤ëª…ì´ë‚˜ êµ¬ì²´ì ì¸ í…Œì´ë¸” ë°ì´í„°ê°€ ì œì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**. ë¬¸ì„œëŠ” Table 38ì˜ ì¼ë¶€ í–‰ë§Œ ë°˜ë³µì ìœ¼ë¡œ í‘œì‹œí•˜ê³  ìˆìœ¼ë©°, ëŒ€ë¶€ë¶„ì˜ í–‰ì€ \"continued\"ë¡œ ëë‚˜ê³  ì‹¤ì œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ, ì£¼ì„ê³¼ ì„¤ëª…ì€ í…Œì´ë¸” ë‚´ì˜ íŠ¹ì • í–‰ì— ëŒ€í•œ ì£¼ì„(*AC1, AC2, ..., AC6 ë“±)ì— ë¶ˆê³¼í•˜ë©°, **AccessControl í…Œì´ë¸”ì˜ ëª©ì , ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“± í•µì‹¬ ì •ë³´ëŠ” ë¬¸ì„œì—ì„œ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**.\n\në˜í•œ, **Table 38ì˜ ì „ì²´ ë°ì´í„°ê°€ ëˆ„ë½ë˜ì–´ ìˆì–´**, í…Œì´ë¸”ì˜ êµ¬ì¡°ë‚˜ ë‚´ìš©ì„ ë¶„ì„í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ê³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¬¸ì„œëŠ” í…Œì´ë¸”ì˜ ì¼ë¶€ë§Œ ë³´ì—¬ì£¼ê³  ìˆìœ¼ë©°, ì´ëŠ” **ì½ê¸° ì „ìš© (Read-Only)** ì¸ í…Œì´ë¸”ì„ì„ ì–¸ê¸‰í•˜ì§€ë§Œ, ì ‘ê·¼ ì œì–´ ì •ë³´(Access Control List, ACL)ëŠ” `GetACL` ë©”ì„œë“œë¥¼ í†µí•´ë§Œ ì½ì„ ìˆ˜ ìˆë‹¤ê³  ëª…ì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê·¸ ë©”ì„œë“œì˜ êµ¬í˜„ì´ë‚˜ í…Œì´ë¸”ì˜ ì‹¤ì œ êµ¬ì„±ì€ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n### ì¶”ê°€ ì„¤ëª…:\n\n- **ëª©ì **: AccessControl í…Œì´ë¸”ì€ Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ ë‹¤ì–‘í•œ ê°ì²´(ì˜ˆ: Table, MethodID, ACE ë“±)ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì •ì˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë³¸ë¬¸ì—ì„œëŠ” ì´ ëª©ì ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.\n- **ì£¼ìš” ê¸°ëŠ¥**: íŠ¹ì • ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ ì„¤ì •, ACL ê´€ë¦¬, ë¡œê¹… ì„¤ì • ë“±ì„ í¬í•¨í•˜ì§€ë§Œ, êµ¬ì²´ì ì¸ ê¸°ëŠ¥ì€ ë¬¸ì„œì—ì„œ ì„¤ëª…ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n- **ë°ì´í„° êµ¬ì¡°**: í…Œì´ë¸”ì€ `UID`, `InvokingID`, `MethodID`, `CommonName`, `ACL`, `Log` ë“±ì˜ ì—´ì„ í¬í•¨í•˜ì§€ë§Œ, ì‹¤ì œ ë°ì´í„°ëŠ” ì œê³µë˜ì§€ ì•Šì•„ êµ¬ì¡°ë¥¼ ì¶”ë¡ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **ìš”êµ¬ì‚¬í•­**: *AC6*ì— ë”°ë¥´ë©´ K_AES_128 ë˜ëŠ” K_AES_256 ê´€ë ¨ í–‰ë§Œ í•„ìˆ˜(Mandatory)ì´ë©°, ë‚˜ë¨¸ì§€ëŠ” ì„ íƒì (Optional)ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ í–‰ë“¤ì´ ë¬´ì—‡ì¸ì§€ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ACLì„ í†µí•´ ì ‘ê·¼ ì œì–´ë¥¼ ìˆ˜í–‰í•˜ë©°, íŠ¹ì • ê¶Œí•œ(ì˜ˆ: ACE_Admin)ì´ í•„ìš”í•œ ë©”ì„œë“œ(ì˜ˆ: RevertSP)ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ êµ¬ì²´ì ì¸ ë³´ì•ˆ ë¡œì§ì´ë‚˜ ê¶Œí•œ ê²€ì¦ ê³¼ì •ì€ ì„¤ëª…ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ:\n\ní…Œì´ë¸” ë°ì´í„°ê°€ ì œê³µë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, **êµ¬ì²´ì ì¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ê³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ë‹¤ë§Œ, ì¼ë°˜ì ì¸ ì ‘ê·¼ ì œì–´ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ë©´:\n\n#### ì˜ˆì‹œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ì´ë¡ ì ):\n\n1. **RevertSP ë©”ì„œë“œ í˜¸ì¶œ í…ŒìŠ¤íŠ¸**:\n   - ì¡°ê±´: ì‚¬ìš©ìê°€ `ACE_Admin` ê¶Œí•œì„ ê°€ì§.\n   - ì˜ˆìƒ ê²°ê³¼: RevertSP ì„±ê³µ.\n   - ì‹¤íŒ¨ ì¡°ê±´: `ACE_Anybody`ë¡œ í˜¸ì¶œ ì‹œ ì‹¤íŒ¨.\n\n2. **GetACL ë©”ì„œë“œ í˜¸ì¶œ í…ŒìŠ¤íŠ¸**:\n   - ì¡°ê±´: ì‚¬ìš©ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ê°ì²´ì— ëŒ€í•´ GetACLì„ í˜¸ì¶œ.\n   - ì˜ˆìƒ ê²°ê³¼: í•´ë‹¹ ê°ì²´ì˜ ACL ì •ë³´ ë°˜í™˜.\n\n3. **ACE ê°ì²´ ìƒì„± í…ŒìŠ¤íŠ¸**:\n   - ì¡°ê±´: `ACE_Authority_Get_All` ë˜ëŠ” `ACE_C_PIN_User1_Set_PIN` ë“±ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œ.\n   - ì˜ˆìƒ ê²°ê³¼: ê¶Œí•œì— ë”°ë¼ í—ˆìš© ë˜ëŠ” ê±°ë¶€.\n\n---\n\n### Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (ì´ë¡ ì ):\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient()\n    client.start_session(\"admin_pin\")\n    yield client\n    client.revert_session()\n\ndef test_revert_sp_with_admin(opal_client):\n    \"\"\"RevertSPëŠ” ACE_Admin ê¶Œí•œì´ í•„ìš”í•¨\"\"\"\n    result = opal_client.invoke_method(\"RevertSP\")\n    assert result.status == \"SUCCESS\"\n\ndef test_revert_sp_without_admin(opal_client):\n    \"\"\"ì¼ë°˜ ì‚¬ìš©ìëŠ” RevertSP ì‹¤íŒ¨\"\"\"\n    opal_client.start_session(\"user_pin\")  # ì¼ë°˜ ì‚¬ìš©ì ì„¸ì…˜\n    result = opal_client.invoke_method(\"RevertSP\")\n    assert result.status == \"ACCESS_DENIED\"\n\ndef test_get_acl_for_table_object(opal_client):\n    \"\"\"TableObjì˜ ACLì„ GetACLë¡œ ì¡°íšŒ\"\"\"\n    acl_data = opal_client.get_acl(\"TableObj\")\n    assert \"ACE_Anybody\" in acl_data[\"ACL\"]\n```\n\n---\n\n### ê²°ë¡ :\n\nì œê³µëœ ë¬¸ì„œì˜ **Section 4.3.1.6 - AccessControl (M)** ì—ì„œëŠ” **ì‹¤ì§ˆì ì¸ í…Œì´ë¸” ë°ì´í„°ë‚˜ ì„¤ëª…ì´ ëˆ„ë½ë˜ì–´ ìˆì–´**, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë³¸ ë¬¸ì„œ ê¸°ì¤€ìœ¼ë¡œëŠ” **ë‚´ìš©ì—†ìŒ**ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n> ğŸ’¡ **ì°¸ê³ **: ì´ ì„¹ì…˜ì˜ ì‹¤ì œ ë‚´ìš©ì€ TCG ë¬¸ì„œì˜ **Table 38 ì „ì²´**ë¥¼ í¬í•¨í•´ì•¼ í•˜ë©°, í˜„ì¬ ì œê³µëœ ë³¸ë¬¸ì€ í•´ë‹¹ í…Œì´ë¸”ì˜ ì¼ë¶€ë§Œ ë°˜ë³µì ìœ¼ë¡œ í‘œì‹œí•œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ì „ì²´ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê±°ë‚˜, Table 38ì˜ ì™„ì „í•œ ë‚´ìš©ì„ ì œê³µë°›ì•„ì•¼ ì •í™•í•œ ë¶„ì„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 114,
        "level": 4,
        "section_id": "4.3.1.7",
        "section_key": "4.3.1.7 ACE (M)",
        "title": "ACE (M)",
        "start_page": 78,
        "end_page": 82,
        "page_count": 5,
        "content_md": "## 4.3.1.7 ACE (M)\n\nTable 39 contains Optional rows designated with (O).\n\n*ACE1 means that the TPer SHALL support the values of â€œAdminsâ€ and â€œAdmins OR UserMMMMâ€ in the BooleanExpr column of each ACE_C_PIN_UserMMMM_Set_PIN ACE. The TPer SHALL fail the set method invocation with status INVALID_PARAMETER if the host attempts to set a value not supported by the TPer.\n\n### Table 39 - Locking SP - ACE Table Preconfiguration\n\n### Table 39 - Locking SP - ACE Table Preconfiguration (continued)\n\n### Table 39 - Locking SP - ACE Table Preconfiguration (continued) (continued)\n\n### Table 39 - Locking SP - ACE Table Preconfiguration (continued) (continued) (continued)\n\n### Table 39 - Locking SP - ACE Table Preconfiguration (continued) (continued) (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 39"
        ],
        "section_table": [
            [
                "|----------------------------------------|-----|------|------------|-------------|---------|",
                "| Table Association - Informative Column | UID | Name | CommonName | BooleanExpr | Columns |",
                "| **Base ACEs**                          |     |      |            |             |         |",
                "|                                        | 00 00 00 08 00 00 00 01 | \"ACE_Anybody\" |            | Anybody | All |",
                "|                                        | 00 00 00 08 00 00 00 02 | \"ACE_Admin\" |            | Admins | All |",
                "|                                        | 00 00 00 08 00 00 00 03 | \"ACE_Anybody_Get_CommonName\" |            | Anybody | UID, CommonName |",
                "|                                        | 00 00 00 08 00 00 00 04 | \"ACE_Admins_Set_CommonName\" |            | Admins | CommonName |",
                "| **ACE**                                |     |      |            |             |         |",
                "|                                        | 00 00 00 08 00 03 80 00 | \"ACE_ACE_Get_All\" |            | Admins | All |",
                "|                                        | 00 00 00 08 00 03 80 01 | \"ACE_ACE_Set_BooleanExpression\" |            | Admins | BooleanExpr |",
                "| Table Association - Informative Column | UID | Name | CommonName | BooleanExpr | Columns |",
                "| Authority | | | | | |",
                "| | 00 00 00 08 00 03 90 00 | \"ACE_Authority_Get_All\" | | Admins | All |",
                "| | 00 00 00 08 00 03 90 01 | \"ACE_Authority_Set_Enabled\" | | Admins | Enabled |",
                "| | 00 00 00 08 00 04 40 01 | \"ACE_User1_Set_CommonName\" | | Admins | CommonName |",
                "| | 00 00 00 08 00 04 40 00 (+NN NN) | \"ACE_UserMMMM_Set_CommonName\" | | Admins | CommonName |",
                "| C_PIN | | | | | |",
                "| | 00 00 00 08 00 03 A0 00 | \"ACE_C_PIN_Admins_Get_All_NOPIN\" | | Admins | UID, CharSet, TryLimit, Tries, Persistence |",
                "| | 00 00 00 08 00 03 A0 01 | \"ACE_C_PIN_Admins_Set_PIN\" | | Admins | PIN |",
                "| | 00 00 00 08 00 03 A8 01 | \"ACE_C_PIN_User1_Set_PIN\" | | Admins OR User1 *ACE1 | PIN |",
                "| (O) | 00 00 00 08 00 03 A8 00 (+MMMM) | \"ACE_C_PIN_UserMMMM_Set_PIN\" | | Admins OR UserMMMM *ACE1 | PIN |",
                "| K_AES | | | | | |",
                "| | 00 00 00 08 00 03 BF FF | \"ACE_K_AES_Mode\" | | Anybody | Mode |",
                "| K_AES_128 | | | | | |",
                "| | 00 00 00 08 00 03 B0 00 | \"ACE_K_AES_128_GlobalRange_GenKey\" | | Admins | All |",
                "| | 00 00 00 08 00 03 B0 01 | \"ACE_K_AES_128_Range1_GenKey\" | | Admins | All |",
                "| Table Association - Informative Column | UID | Name | CommonName | BooleanExpr | Columns |",
                "| (O) | 00 00 00 08 00 03 B0 00 (+NNNN) | \"ACE_K_AES_128_RangeNNNN_GenKey\" | | Admins | All |",
                "| **K_AES_256** | | | | | |",
                "| | 00 00 00 08 00 03 B8 00 | \"ACE_K_AES_256_GlobalRange_GenKey\" | | Admins | All |",
                "| | 00 00 00 08 00 03 B8 01 | \"ACE_K_AES_256_Range1_GenKey\" | | Admins | All |",
                "| | 00 00 00 08 00 03 B8 00 (+NNNN) | \"ACE_K_AES_256_RangeNNNN_GenKey\" | | Admins | All |",
                "| **Locking** | | | | | |",
                "| | 00 00 00 08 00 03 D0 00 | \"ACE_Locking_GlobalRange_Get_RangeStartToActiveKey\" | | Admins | RangeStart, RangeLength, ReadLockEnabled, WriteLockEnabled, ReadLocked, WriteLocked, LockOnReset, ActiveKey |",
                "| | 00 00 00 08 00 03 D0 01 | \"ACE_Locking_Range1_Get_RangeStartToActiveKey\" | | Admins | RangeStart, RangeLength, ReadLockEnabled, WriteLockEnabled, ReadLocked, WriteLocked, LockOnReset, ActiveKey |",
                "| | 00 00 00 08 00 03 D0 00 (+NNNN) | \"ACE_Locking_RangeNNNN_Get_RangeStartToActiveKey\" | | Admins | RangeStart, RangeLength, ReadLockEnabled, WriteLockEnabled, ReadLocked, WriteLocked, LockOnReset, ActiveKey |",
                "| Table Association - Informative Column | UID | Name | CommonName | BooleanExpr | Columns |",
                "|                                        | 00 00 00 08 00 03 E0 00 | \"ACE_Locking_GlobalRange_Set_RdLocked\" | | Admins | ReadLocked |",
                "|                                        | 00 00 00 08 00 03 E0 01 | \"ACE_Locking_Range1_Set_RdLocked\" | | Admins | ReadLocked |",
                "|                                        | 00 00 00 08 00 03 E0 00 (+NNNN) | \"ACE_Locking_RangeNNNN_Set_RdLocked\" | | Admins | ReadLocked |",
                "|                                        | 00 00 00 08 00 03 E8 00 | \"ACE_Locking_GlobalRange_Set_WrLocked\" | | Admins | WriteLocked |",
                "|                                        | 00 00 00 08 00 03 E8 01 | \"ACE_Locking_Range1_Set_WrLocked\" | | Admins | WriteLocked |",
                "|                                        | 00 00 00 08 00 03 E8 00 (+NNNN) | \"ACE_Locking_RangeNNNN_Set_WrLocked\" | | Admins | WriteLocked |",
                "|                                        | 00 00 00 08 00 03 F0 00 | \"ACE_Locking_GlblRng_Admins_Set\" | | Admins | ReadLockEnabled, WriteLockEnabled, ReadLocked, WriteLocked, LockOnReset |",
                "|                                        | 00 00 00 08 00 03 F0 01 | \"ACE_Locking_Admins_RangeStartToLOR\" | | Admins | RangeStart, RangeLength, ReadLockEnabled, WriteLockEnabled, ReadLocked, WriteLocked, LockOnReset |",
                "| **MBRControl** | | | | | |",
                "|                                        | 00 00 00 08 00 03 F8 00 | \"ACE_MBRControl_Admins_Set\" | | Admins | Enable, Done, DoneOnReset |",
                "|                                        | 00 00 00 08 00 03 F8 01 | \"ACE_MBRControl_Set_DoneToDOR\" | | Admins | Done, DoneOnReset |",
                "| **DataStore** | | | | | |",
                "| Table Association - Informative Column | UID | Name | CommonName | BooleanExpr | Columns |",
                "|                                        | 00 00 00 08 00 03 FC 00 | \"ACE_DataStore_Get_All\" |            | Admins      | All     |",
                "|                                        | 00 00 00 08 00 03 FC 01 | \"ACE_DataStore_Set_All\" |            | Admins      | All     |"
            ]
        ],
        "summary": "## **4.3.1.7 ACE (M) - ì„¤ëª… (ì´ˆë³´ì ëŒ€ìƒ)**\n\n---\n\n### âœ… **ëª©ì **\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€**ì—ì„œ ì •ì˜í•œ **ACE (Access Control Entry)** ì¤‘, **C_PIN (Common PIN) ê´€ë ¨ ACE**ì— ëŒ€í•´ ê·œì •í•˜ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ, **ACE_C_PIN_UserMMMM_Set_PIN** ì´ë¼ëŠ” ACEëŠ” ì¼ë°˜ ì‚¬ìš©ì(UserMMMM)ê°€ ìì‹ ì˜ PINì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ëŠ” ê¶Œí•œì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì´ ACEëŠ” **ì„ íƒ ì‚¬í•­**(Optional, í‘œì‹œëœ (O))ì´ì§€ë§Œ, **ACE1**ì´ë¼ëŠ” ì¡°ê±´ì´ ì¶”ê°€ë˜ì–´ ìˆì–´, ì´ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ì¥ì¹˜ëŠ” ë°˜ë“œì‹œ íŠ¹ì • ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ì‚¬ìš©ì PIN ì„¤ì • í—ˆìš©**  \n   - `ACE_C_PIN_UserMMMM_Set_PIN`ì€ ì‚¬ìš©ì(UserMMMM)ê°€ ìì‹ ì˜ PINì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.\n   - ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **ê´€ë¦¬ì(Admins)** ì™¸ì— **íŠ¹ì • ì‚¬ìš©ì**ë„ ìì‹ ì˜ PINì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\n2. **ACE1 ì¡°ê±´**  \n   - TPer(Trusted Platform Entity, ë³´ì•ˆ ì¥ì¹˜)ëŠ” `BooleanExpr` ì—´ì— `\"Admins OR UserMMMM\"` ê°’ì„ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.\n   - ì¦‰, ì´ ACEë¥¼ í†µí•´ PINì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì€ **ê´€ë¦¬ì ë˜ëŠ” í•´ë‹¹ ì‚¬ìš©ì ë³¸ì¸**ì—ê²Œë§Œ ë¶€ì—¬ë©ë‹ˆë‹¤.\n\n3. **ì˜ëª»ëœ ê°’ ì…ë ¥ ì‹œ ì˜¤ë¥˜ ì²˜ë¦¬**  \n   - í˜¸ìŠ¤íŠ¸ê°€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê°’ì„ ì„¤ì •í•˜ë ¤ê³  ì‹œë„í•˜ë©´, TPerëŠ” `INVALID_PARAMETER` ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡° (Table 39)**\n\nTable 39ëŠ” **Locking SP (Storage Provider)** ì— ëŒ€í•´ ì‚¬ì „ êµ¬ì„±ëœ ACE ëª©ë¡ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì˜ ê° í–‰ì€ ë‹¤ìŒê³¼ ê°™ì€ ì—´ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n| ì—´ ì´ë¦„          | ì„¤ëª… |\n|------------------|------|\n| **UID**          | ACEì˜ ê³ ìœ  ì‹ë³„ì (8ë°”ì´íŠ¸) |\n| **Name**         | ACE ì´ë¦„ (ë¬¸ìì—´, ì •ë³´ìš©) |\n| **CommonName**   | ì¼ë°˜ì ì¸ ì´ë¦„ (ì •ë³´ìš©) |\n| **BooleanExpr**  | ì ‘ê·¼ ê¶Œí•œ ì¡°ê±´ (ì˜ˆ: Admins, Admins OR UserMMMM) |\n| **Columns**      | í•´ë‹¹ ACEê°€ ì œì–´í•˜ëŠ” ë°ì´í„° ì—´ (ì˜ˆ: PIN, CommonName ë“±) |\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­**\n\n1. **ACE1 ì¡°ê±´**  \n   - TPerëŠ” `ACE_C_PIN_UserMMMM_Set_PIN` ACEì˜ `BooleanExpr` ê°’ìœ¼ë¡œ `\"Admins OR UserMMMM\"`ì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.\n\n2. **ì§€ì›ë˜ì§€ ì•ŠëŠ” ê°’ ì…ë ¥ ì‹œ ì˜¤ë¥˜**  \n   - í˜¸ìŠ¤íŠ¸ê°€ `\"Admins OR UserMMMM\"` ì™¸ì˜ ê°’ì„ ì„¤ì •í•˜ë ¤ê³  í•  ê²½ìš°, TPerëŠ” `INVALID_PARAMETER`ë¡œ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤.\n\n3. **ì„ íƒ ì‚¬í•­ (O)**  \n   - ì´ ACEëŠ” ì„ íƒ ì‚¬í•­ì´ë¯€ë¡œ, ëª¨ë“  ì¥ì¹˜ê°€ ì§€ì›í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì§€ì›í•œë‹¤ë©´ ACE1 ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n1. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)**  \n   - `BooleanExpr`ì„ í†µí•´ ëˆ„ê°€ ì–´ë–¤ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n   - ì˜ˆ: `\"Admins OR UserMMMM\"` â†’ ê´€ë¦¬ì ë˜ëŠ” í•´ë‹¹ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥.\n\n2. **PIN ë³´ì•ˆ ì •ì±…**  \n   - ì‚¬ìš©ìê°€ ìì‹ ì˜ PINì„ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, **ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•˜ê±°ë‚˜ ì‚¬ìš©ì ë³¸ì¸ë§Œ ê°€ëŠ¥**í•˜ë„ë¡ ì œí•œí•¨ìœ¼ë¡œì¨ ë³´ì•ˆì„ ê°•í™”.\n\n3. **ì˜ëª»ëœ ì…ë ¥ ë°©ì§€**  \n   - `INVALID_PARAMETER` ì˜¤ë¥˜ë¥¼ í†µí•´ ë¬´ë‹¨ ì ‘ê·¼ ë˜ëŠ” ì˜¤ì‘ë™ì„ ë°©ì§€.\n\n---\n\n## âœ… **Test Case ì œì‹œ**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n- `ACE_C_PIN_UserMMMM_Set_PIN` ACEê°€ `Admins OR UserMMMM` ê¶Œí•œì„ ì§€ì›í•˜ëŠ”ì§€ ê²€ì¦.\n- í˜¸ìŠ¤íŠ¸ê°€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê°’ (ì˜ˆ: `\"Anybody\"`)ì„ ì„¤ì •í•˜ë©´ `INVALID_PARAMETER` ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### âœ… **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import *  # Opal ëª…ë ¹ì–´ ë° ìƒíƒœ ì½”ë“œ ì •ì˜\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    client.start_session(session_type=SESSION_TYPE_ADMIN, password=\"admin_password\")\n    return client\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Admins OR UserMMMM ê¶Œí•œìœ¼ë¡œ PIN ì„¤ì • ì„±ê³µ\ndef test_set_pin_for_user_with_valid_auth(opal_client):\n    user_uid = \"00 00 00 08 00 03 A8 00 01\"  # User1 ì˜ˆì‹œ\n    pin = \"123456\"\n\n    # Admins OR UserMMMM ê¶Œí•œìœ¼ë¡œ PIN ì„¤ì •\n    result = opal_client.set_pin(\n        ace_uid=user_uid,\n        pin=pin,\n        auth_type=\"Admins OR UserMMMM\"  # ì‹¤ì œ ìš”ì²­ì—ì„œ ì´ ê°’ì´ ì „ë‹¬ë¨\n    )\n\n    assert result.status == STATUS_SUCCESS\n    assert result.message == \"PIN set successfully for UserMMMM\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¶Œí•œ (ì˜ˆ: Anybody)ìœ¼ë¡œ PIN ì„¤ì • â†’ INVALID_PARAMETER\ndef test_set_pin_with_invalid_auth(opal_client):\n    user_uid = \"00 00 00 08 00 03 A8 00 01\"\n    pin = \"123456\"\n\n    result = opal_client.set_pin(\n        ace_uid=user_uid,\n        pin=pin,\n        auth_type=\"Anybody\"  # ì§€ì›ë˜ì§€ ì•ŠëŠ” ê¶Œí•œ\n    )\n\n    assert result.status == STATUS_INVALID_PARAMETER\n    assert result.message == \"Invalid parameter: Auth type not supported\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Admins ê¶Œí•œìœ¼ë¡œ PIN ì„¤ì • (ì •ìƒ ì‘ë™)\ndef test_set_pin_with_admin_auth(opal_client):\n    user_uid = \"00 00 00 08 00 03 A8 00 01\"\n    pin = \"123456\"\n\n    result = opal_client.set_pin(\n        ace_uid=user_uid,\n        pin=pin,\n        auth_type=\"Admins\"\n    )\n\n    assert result.status == STATUS_SUCCESS\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ACEë¡œ ì„¤ì • ì‹œ ì˜¤ë¥˜\ndef test_set_pin_with_nonexistent_ace(opal_client):\n    user_uid = \"00 00 00 08 00 03 A8 00 99\"  # ì¡´ì¬í•˜ì§€ ì•ŠëŠ” UID\n    pin = \"123456\"\n\n    result = opal_client.set_pin(\n        ace_uid=user_uid,\n        pin=pin,\n        auth_type=\"Admins\"\n    )\n\n    assert result.status == STATUS_NOT_FOUND\n    assert result.message == \"ACE not found\"\n```\n\n---\n\n### âœ… **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦ ë°©ë²•**\n\n1. **StartSession**  \n   - ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘: `StartSession(SESSION_TYPE_ADMIN, \"admin_password\")`\n\n2. **Set_PIN**  \n   - `Set_PIN(ACE_UID, PIN, auth_type)` â†’ ACE_C_PIN_UserMMMM_Set_PINì„ í˜¸ì¶œ\n\n3. **Revert** (ì˜µì…˜)  \n   - í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœë¥¼ ì›ìƒë³µêµ¬: `Revert()` â†’ ë¹„ì •ìƒ ìƒíƒœë¥¼ ë˜ëŒë¦¬ê¸° ìœ„í•´ ì‚¬ìš©\n\n4. **Get_Status** (ì˜µì…˜)  \n   - PIN ì„¤ì • ìƒíƒœ í™•ì¸: `Get_Status(ACE_UID)` â†’ ì„¤ì • ì—¬ë¶€ í™•ì¸\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **ACE í…Œì´ë¸” ì¡°íšŒ**  \n   - `Get_ACE_Table()` ëª…ë ¹ì–´ë¡œ ì „ì²´ ACE í…Œì´ë¸”ì„ ì¡°íšŒí•˜ì—¬, `ACE_C_PIN_UserMMMM_Set_PIN`ì´ ì¡´ì¬í•˜ê³  `BooleanExpr`ì´ `\"Admins OR UserMMMM\"`ì¸ì§€ í™•ì¸.\n\n2. **UID ë° Name ì¼ì¹˜ ê²€ì¦**  \n   - Table 39ì—ì„œ ì§€ì •ëœ UIDì™€ Nameì´ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ë°˜í™˜ëœ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n\n3. **Columns ê²€ì¦**  \n   - `Columns` ì—´ì´ `PIN`ë§Œ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸ (ë‹¤ë¥¸ ì—´ì´ í¬í•¨ë˜ë©´ ì˜¤ë¥˜).\n\n4. **BooleanExpr ì§€ì› ê²€ì¦**  \n   - `Set_PIN` ëª…ë ¹ì–´ë¥¼ `Admins` ë˜ëŠ” `UserMMMM` ê¶Œí•œìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ì„±ê³µ ì—¬ë¶€ë¥¼ í™•ì¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\n- **ACE (M)** ì„¹ì…˜ì€ **ì‚¬ìš©ì PIN ì„¤ì • ê¶Œí•œ**ì„ ì •ì˜í•˜ëŠ” ACEë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.\n- ì£¼ìš” ê¸°ëŠ¥ì€ **ê´€ë¦¬ì ë˜ëŠ” í•´ë‹¹ ì‚¬ìš©ì ë³¸ì¸ë§Œ PINì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ì œí•œ**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- **ACE1 ì¡°ê±´**ì€ TPerê°€ `\"Admins OR UserMMMM\"` ê¶Œí•œì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì…ë‹ˆë‹¤.\n- **ì˜ëª»ëœ ê¶Œí•œ ì…ë ¥ ì‹œ INVALID_PARAMETER ì˜¤ë¥˜**ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ë©°, ì´ëŠ” ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ëŠ” **Python + pytest**ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë©°, **StartSession, Set_PIN, Revert ë“± Opal ëª…ë ¹ì–´**ë¥¼ ì‚¬ìš©í•´ ê²€ì¦ ê°€ëŠ¥.\n- í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ **ACE í…Œì´ë¸” ì¡°íšŒ**ë¥¼ í†µí•´ UID, Name, BooleanExpr, Columnsê°€ ë¬¸ì„œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ ì‚¬ìš©ì ì¤‘ì‹¬ì˜ PIN ê´€ë¦¬ ë³´ì•ˆì„ ìœ„í•œ í•µì‹¬ ACEë¥¼ ì •ì˜í•˜ë©°, ë³´ì•ˆ ì¥ì¹˜ê°€ ì´ë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í•˜ê³  ìˆëŠ”ì§€ ê²€ì¦í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n--- \n\n> ğŸ’¡ **ì°¸ê³ **: ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ ì‹œ, `opal_client` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‹¤ì œ Opal ì¥ì¹˜ì™€ í†µì‹ í•  ìˆ˜ ìˆëŠ” **TCG Opal í”„ë¡œí† ì½œ êµ¬í˜„ì²´**ë¥¼ í•„ìš”ë¡œ í•˜ë©°, ë³´í†µ `pyopal` ë˜ëŠ” `pycryptodome`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì—°ë™ë©ë‹ˆë‹¤.\n\n--- \n\nâœ… **ìµœì¢… ì¶œë ¥: ë‚´ìš© ì¡´ì¬**"
    },
    {
        "section_order": 115,
        "level": 4,
        "section_id": "4.3.1.8",
        "section_key": "4.3.1.8 Authority (M)",
        "title": "Authority (M)",
        "start_page": 82,
        "end_page": 83,
        "page_count": 2,
        "content_md": "## 4.3.1.8 Authority (M)\n\nTable 40 contains Optional rows designated with (O).\n\nNotes:\n\n1. Admin1 is required; Admin2 to Admin4 are required but disabled in OFS state. Any additional Admin authorities are (O).\n2. User1 through User8 SHALL be implemented.\n\n### Table 40 - Locking SP - Authority Table Preconfiguration\n\n### Table 40 - Locking SP - Authority Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 40"
        ],
        "section_table": [
            [
                "|-----|------|------------|---------|-------|---------|--------|-------------|--------------------|-----------|------------|--------------|--------------|------------|--------|-------|-----|-----|",
                "| UID | Name | CommonName | IsClass | Class | Enabled | Secure | HashAndSign | PresentCertificate | Operation | Credential | ResponseSign | ResponseExch | ClockStart | ClockEnd | Limit | Uses | Log | LogTo |",
                "| 00 00 00 09 00 00 00 01 | \"Anybody\" | \"\" | T | Null | T | None | None | T | None | Null | Null | Null | | | | | | |",
                "| 00 00 00 09 00 00 00 02 | \"Admins\" | \"\" | T | Null | T | None | None | T | None | Null | Null | Null | | | | | | |",
                "| 00 00 00 09 00 01 00 01 | \"Admin1\" | \"\" | T | Admins | T | None | None | T | Password | C_PIN_Admin2C_PIN_Admin1 | Null | Null | | | | | | |",
                "| 00 00 00 09 00 01 00 02 | \"Admin2\" | \"\" | T | Admins | F | None | None | T | Password | C_PIN_Admin2C_PIN_Admin1 | Null | Null | | | | | | |",
                "| UID | Name | CommonName | IsClass | Class | Enabled | Secure | HashAndSign | PresentCertificate | Operation | C_PIN_Admin3Credential | ResponseSign | ResponseExch | ClockStart | ClockEnd | Limit | Uses | Log | LogTo |",
                "| 00 00 00 09 00 01 00 03 | \"Admin3\" | \"\" | T | Admins | T | None | None | T | Password | C_PIN_Admin4C_PIN_Admin3 | Null | Null | | | | | | |",
                "| 00 00 00 09 00 01 00 04 | \"Admin4\" | \"\" | T | Admins | T | None | None | T | Password | C_PIN_Admin4C_PIN_Admin3 | Null | Null | | | | | | |",
                "| 00 00 00 09 00 01 00 00 (+XX XX)Â¹ (O) | \"AdminXXXX\" | \"\" | T | Admins | T | None | None | | | | | | | | | | | |",
                "| 00 00 00 09 00 03 00 00 | \"Users\" | \"\" | T | Null | T | None | None | T | None | Null | Null | Null | | | | | | |",
                "| 00 00 00 09 00 03 00 01 | \"User1\" | \"\" | F | Users | T | None | None | T | Password | C_PIN_User1 | Null | Null | | | | | | |",
                "| 00 00 00 09 00 03 00 00 (+MM MM)Â² (O) | \"UserMMMM\" | \"\" | F | Users | F | None | None | F | Password | C_PIN_UserMMMM | Null | Null | | | | | | |"
            ]
        ],
        "summary": "# TCG Opal - 4.3.1.8 Authority (M) ì„¹ì…˜ ì„¤ëª… (ì´ˆë³´ììš©)\n\n## ğŸ“Œ ê°œìš”\n\nTCG Opal í‘œì¤€ì˜ **4.3.1.8 Authority (M)** ì„¹ì…˜ì€ **ê¶Œí•œ(Authority)** ì— ê´€í•œ ì‚¬í•­ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ **ì ê¸ˆ ìŠ¤í† ë¦¬ì§€ í”„ë¡œì„¸ì„œ(Locking SP)** ì—ì„œ ì‚¬ìš©ì ë° ê´€ë¦¬ì ê³„ì •ì„ ì–´ë–»ê²Œ êµ¬ì„±í•˜ê³  ê´€ë¦¬í• ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. íŠ¹íˆ, **ê¶Œí•œì˜ êµ¬ì¡°, í™œì„±í™” ì—¬ë¶€, ì¸ì¦ ë°©ì‹, ë¡œê·¸ ê¸°ë¡ ì—¬ë¶€** ë“±ì„ ëª…í™•íˆ ê·œì •í•©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì€ **ê¶Œí•œ í…Œì´ë¸”(Table 40)** ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…ë˜ë©°, ì£¼ë¡œ **Admin ê³„ì •**(Admin1~Admin4)ê³¼ **User ê³„ì •**(User1~User8)ì˜ ì´ˆê¸° ì„¤ì •ê³¼ ìš”êµ¬ì‚¬í•­ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## âœ… ëª©ì \n\n- ì €ì¥ ì¥ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” **ê¶Œí•œ ê³„ì •**(Admin, User)ì„ ì‚¬ì „ ì •ì˜í•˜ê³  ê´€ë¦¬\n- **ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•˜ê¸° ìœ„í•œ ê¸°ë³¸ êµ¬ì¡°**ë¥¼ ì œê³µ\n- **ê¶Œí•œì˜ í™œì„±í™”/ë¹„í™œì„±í™” ìƒíƒœ**, **ì¸ì¦ ë°©ì‹**(ì˜ˆ: ë¹„ë°€ë²ˆí˜¸), **ë¡œê·¸ ê¸°ë¡ ì—¬ë¶€** ë“±ì„ ëª…í™•íˆ ì •ì˜\n- **ë³´ì•ˆ ê°•í™”ë¥¼ ìœ„í•œ ê³„ì • ê³„ì¸µ êµ¬ì¡°**(ì˜ˆ: Admins í´ë˜ìŠ¤)ë¥¼ ì œê³µ\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\n1. **ê¶Œí•œ ê³„ì •ì˜ ë“±ë¡ ë° ë¶„ë¥˜**  \n   - Admin ê³„ì •: Admin1~Admin4 (ê´€ë¦¬ì)\n   - User ê³„ì •: User1~User8 (ì¼ë°˜ ì‚¬ìš©ì)\n   - ê³„ì •ì€ **í´ë˜ìŠ¤(Class)** ì— ì†í•˜ë©°, ê³„ì¸µ êµ¬ì¡°ë¥¼ í˜•ì„±í•¨ (ì˜ˆ: Admin1~Admin4ëŠ” \"Admins\" í´ë˜ìŠ¤ì— ì†í•¨)\n\n2. **í™œì„±í™” ìƒíƒœ ê´€ë¦¬**  \n   - Admin2~Admin4ëŠ” **OFS ìƒíƒœ**(Out-of-Factory State)ì—ì„œëŠ” ë¹„í™œì„±í™”ë¨ â†’ ë³´ì•ˆ ê°•í™”\n   - Admin1ì€ í•­ìƒ í™œì„±í™”ë¨ â†’ ì´ˆê¸° ì„¤ì • ë° ê´€ë¦¬ìš©\n\n3. **ì¸ì¦ ë°©ì‹ ì§€ì •**  \n   - ëŒ€ë¶€ë¶„ì˜ ê³„ì •ì€ `Password` ì¸ì¦ ì‚¬ìš©\n   - Credential í•„ë“œì— `C_PIN_XXX` í˜•ì‹ìœ¼ë¡œ PIN ì½”ë“œ ì§€ì •ë¨ â†’ ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸ëŠ” ë³„ë„ ì €ì¥\n\n4. **ë³´ì•ˆ í™•ì¥ ê¸°ëŠ¥ ì§€ì›**  \n   - `Secure`, `HashAndSign`, `PresentCertificate` ë“± í•„ë“œë¡œ í™•ì¥ ë³´ì•ˆ ê¸°ëŠ¥(ì˜ˆ: ë””ì§€í„¸ ì„œëª…, ì¸ì¦ì„œ ê¸°ë°˜ ì¸ì¦) ì§€ì› ê°€ëŠ¥\n\n5. **ìš´ì˜ ë° ë¡œê·¸ ì„¤ì •**  \n   - `Operation`, `Log`, `LogTo` í•„ë“œë¡œ í•´ë‹¹ ê³„ì •ì˜ ë¡œê·¸ ê¸°ë¡ ì—¬ë¶€ ë° ë°©ì‹ ì§€ì •\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡° (Table 40)\n\n| í•„ë“œëª…             | ì˜ë¯¸ ë° ì„¤ëª… |\n|-------------------|-------------|\n| **UID**           | ê¶Œí•œì˜ ê³ ìœ  ì‹ë³„ì (8ë°”ì´íŠ¸, 16ì§„ìˆ˜) |\n| **Name**          | ê¶Œí•œ ì´ë¦„ (ì˜ˆ: \"Admin1\", \"User1\") |\n| **CommonName**    | ì¼ë°˜ ì´ë¦„ (í˜„ì¬ëŠ” ë¹ˆ ë¬¸ìì—´) |\n| **IsClass**       | T=í´ë˜ìŠ¤, F=ì¼ë°˜ ê¶Œí•œ (ì˜ˆ: AdminsëŠ” í´ë˜ìŠ¤) |\n| **Class**         | ì†Œì†ëœ í´ë˜ìŠ¤ (ì˜ˆ: Admin1ì€ Admins í´ë˜ìŠ¤) |\n| **Enabled**       | í™œì„±í™” ì—¬ë¶€ (T=í™œì„±í™”, F=ë¹„í™œì„±í™”) |\n| **Secure**        | ë³´ì•ˆ ê°•í™” ì—¬ë¶€ (ì˜ˆ: ì•”í˜¸í™”ëœ ì¸ì¦) |\n| **HashAndSign**   | ë””ì§€í„¸ ì„œëª… ì§€ì› ì—¬ë¶€ |\n| **PresentCertificate** | ì¸ì¦ì„œ ì œì‹œ ì—¬ë¶€ |\n| **Operation**     | í—ˆìš©ëœ ìš´ì˜ (ì˜ˆ: Password ì¸ì¦) |\n| **Credential**    | ì¸ì¦ ìê²© ì¦ëª… (ì˜ˆ: C_PIN_Admin1) |\n| **ResponseSign**  | ì‘ë‹µ ì„œëª… ì—¬ë¶€ |\n| **ResponseExch**  | ì‘ë‹µ êµí™˜ ì—¬ë¶€ |\n| **ClockStart / ClockEnd** | ì‹œê°„ ê¸°ë°˜ ì ‘ê·¼ ì œí•œ (í˜„ì¬ ë¹„ì–´ ìˆìŒ) |\n| **Limit / Uses**  | ì‚¬ìš© ì œí•œ (ì˜ˆ: íšŸìˆ˜, ì‹œê°„) |\n| **Log / LogTo**   | ë¡œê·¸ ê¸°ë¡ ì—¬ë¶€ ë° ëŒ€ìƒ |\n\n> âš ï¸ **Note**: í…Œì´ë¸”ì—ì„œ `C_PIN_Admin2C_PIN_Admin1` ê°™ì€ í˜•ì‹ì€ **PIN ì½”ë“œì˜ ìˆœì„œ ë˜ëŠ” ì¡°í•©ì„ ë‚˜íƒ€ëƒ„**. ì˜ˆ: Admin2ê°€ Admin1ì˜ PINìœ¼ë¡œ ì¸ì¦ë°›ì•„ì•¼ í•  ê²½ìš°.\n\n---\n\n## ğŸ“ ìš”êµ¬ì‚¬í•­ (Mandatory & Optional)\n\n- **Mandatory (í•„ìˆ˜)**:\n  - Admin1ì€ í•­ìƒ í™œì„±í™”ë˜ì–´ì•¼ í•¨.\n  - Admin2~Admin4ëŠ” **OFS ìƒíƒœì—ì„œëŠ” ë¹„í™œì„±í™”**ë˜ì–´ì•¼ í•¨.\n  - User1~User8ì€ ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•¨.\n  - Admin1~Admin4ëŠ” ëª¨ë‘ `Password` ì¸ì¦ ë°©ì‹ì„ ì‚¬ìš©í•´ì•¼ í•¨.\n\n- **Optional (ì„ íƒì )**:\n  - Admin5 ì´ìƒì€ ì„ íƒì ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥.\n  - User ê³„ì • ì¤‘ User2~User8ì€ ì„ íƒì ìœ¼ë¡œ í™œì„±í™” ê°€ëŠ¥ (Table 40ì— `F`ë¡œ í‘œì‹œë¨).\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n1. **ê³„ì • ê³„ì¸µ êµ¬ì¡°**  \n   - Admin1~Admin4ëŠ” \"Admins\" í´ë˜ìŠ¤ì— ì†í•´ ìˆì–´ ê´€ë¦¬ì ê¶Œí•œì„ í†µí•© ê´€ë¦¬ ê°€ëŠ¥.\n\n2. **OFS ìƒíƒœì—ì„œì˜ ë³´ì•ˆ**  \n   - Admin2~Admin4ëŠ” ì´ˆê¸° ìƒíƒœì—ì„œ ë¹„í™œì„±í™” â†’ ê³µê²©ìê°€ ì‰½ê²Œ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë°©ì–´.\n\n3. **ì¸ì¦ ë°©ì‹ ì œí•œ**  \n   - í˜„ì¬ëŠ” `Password`ë§Œ ì§€ì •, í–¥í›„ `HashAndSign`ì´ë‚˜ `Certificate`ë¡œ í™•ì¥ ê°€ëŠ¥.\n\n4. **ë¡œê·¸ ê¸°ë¡**  \n   - `Log` ë° `LogTo` í•„ë“œë¥¼ í†µí•´ ì ‘ê·¼ ë¡œê·¸ë¥¼ ê´€ë¦¬ ê°€ëŠ¥ â†’ ê°ì‚¬ ë° ì¶”ì  ê°€ëŠ¥.\n\n5. **ì‹œê°„ ê¸°ë°˜ ì ‘ê·¼ ì œí•œ (ë¯¸ì‚¬ìš©)**  \n   - `ClockStart`, `ClockEnd`ëŠ” í˜„ì¬ ë¹„ì–´ ìˆìŒ â†’ í–¥í›„ í™•ì¥ ê°€ëŠ¥.\n\n---\n\n## ğŸ§ª ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Case)\n\n### âœ… í…ŒìŠ¤íŠ¸ ëª©ì \n\n- Admin1 ê³„ì •ì´ í™œì„±í™”ë˜ì–´ ìˆê³ , ì¸ì¦ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸\n- Admin2~Admin4ê°€ OFS ìƒíƒœì—ì„œ ë¹„í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n- User ê³„ì • ì¤‘ User1ë§Œ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n- Credential ì •ë³´ê°€ ì •í™•íˆ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n---\n\n## ğŸ’¡ Python + pytestë¡œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom pyopal import OpalDevice, OpalSession  # ê°€ìƒì˜ Opal SDK ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom pyopal.commands import StartSession, Revert, GetAuthorityTable\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ë””ë°”ì´ìŠ¤ ê²½ë¡œ\n    device.connect()\n    return device\n\n@pytest.fixture\ndef session(opal_device):\n    session = OpalSession(opal_device)\n    session.start(StartSession(uid=\"00 00 00 09 00 01 00 01\", credential=\"C_PIN_Admin1\"))\n    return session\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Admin1ì€ í™œì„±í™”ë˜ì–´ì•¼ í•œë‹¤\ndef test_admin1_is_enabled(session):\n    authority_table = session.execute(GetAuthorityTable())\n    admin1 = authority_table.get_by_uid(\"00 00 00 09 00 01 00 01\")\n    assert admin1 is not None, \"Admin1 not found\"\n    assert admin1[\"Enabled\"] == \"T\", \"Admin1 should be enabled\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Admin2~Admin4ëŠ” OFS ìƒíƒœì—ì„œ ë¹„í™œì„±í™”ë˜ì–´ì•¼ í•œë‹¤\ndef test_admin2_4_are_disabled_in_ofs(session):\n    authority_table = session.execute(GetAuthorityTable())\n    admin2 = authority_table.get_by_uid(\"00 00 00 09 00 01 00 02\")\n    admin3 = authority_table.get_by_uid(\"00 00 00 09 00 01 00 03\")\n    admin4 = authority_table.get_by_uid(\"00 00 00 09 00 01 00 04\")\n    \n    assert admin2[\"Enabled\"] == \"F\", \"Admin2 should be disabled in OFS\"\n    assert admin3[\"Enabled\"] == \"T\", \"Admin3 should be enabled\"  # ì°¸ê³ : ì‹¤ì œ OFS ìƒíƒœì—ì„œ ë¹„í™œì„±í™” ì—¬ë¶€ëŠ” ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦„\n    assert admin4[\"Enabled\"] == \"T\", \"Admin4 should be enabled\"  # ì°¸ê³ : ì‹¤ì œ OFS ìƒíƒœì—ì„œ ë¹„í™œì„±í™” ì—¬ë¶€ëŠ” ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦„\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: User ê³„ì • ì¤‘ User1ë§Œ í™œì„±í™”ë˜ì–´ì•¼ í•œë‹¤\ndef test_only_user1_is_enabled(session):\n    authority_table = session.execute(GetAuthorityTable())\n    user1 = authority_table.get_by_uid(\"00 00 00 09 00 03 00 01\")\n    user2 = authority_table.get_by_uid(\"00 00 00 09 00 03 00 02\")  # ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ\n\n    assert user1[\"Enabled\"] == \"T\", \"User1 should be enabled\"\n    # User2~User8ì€ ì—†ê±°ë‚˜ ë¹„í™œì„±í™”ë˜ì–´ì•¼ í•¨\n    if user2 is not None:\n        assert user2[\"Enabled\"] == \"F\", \"User2 should be disabled\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: Credential ì •ë³´ í™•ì¸\ndef test_admin1_credential_is_correct(session):\n    authority_table = session.execute(GetAuthorityTable())\n    admin1 = authority_table.get_by_uid(\"00 00 00 09 00 01 00 01\")\n    assert admin1[\"Credential\"] == \"C_PIN_Admin2C_PIN_Admin1\", \"Admin1 credential is incorrect\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 5: Admin1 ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„¸ì…˜ ì‹œì‘\ndef test_admin1_login_success(session):\n    # StartSession í›„ ì„¸ì…˜ ìƒíƒœ í™•ì¸\n    assert session.is_active(), \"Session should be active after successful login with Admin1\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 6: Admin2 ë¡œê·¸ì¸ ì‹¤íŒ¨ (OFS ìƒíƒœ)\ndef test_admin2_login_fails_in_ofs(session):\n    with pytest.raises(Exception) as exc_info:\n        session.execute(StartSession(uid=\"00 00 00 09 00 01 00 02\", credential=\"C_PIN_Admin2\"))\n    assert \"Authentication failed\" in str(exc_info.value), \"Admin2 should not be able to login in OFS\"\n```\n\n---\n\n## ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n| ê²€ì¦ í•­ëª© | ê²€ì¦ ë°©ë²• |\n|----------|-----------|\n| **UIDê°€ ì •í™•íˆ ë§¤í•‘ë˜ëŠ”ì§€** | `GetAuthorityTable()`ì„ í†µí•´ UIDë¡œ ê²€ìƒ‰ í›„ ì´ë¦„, í´ë˜ìŠ¤ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸ |\n| **Enabled ìƒíƒœê°€ ì˜¬ë°”ë¥¸ì§€** | ê° ê³„ì •ì˜ `Enabled` í•„ë“œê°€ ë¬¸ì„œì— ëª…ì‹œëœ ìƒíƒœ(T/F)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ |\n| **Credentialì´ ì •í™•í•œì§€** | `Credential` í•„ë“œê°€ ë¬¸ì„œì— ëª…ì‹œëœ ê°’ê³¼ ë™ì¼í•œì§€ ë¹„êµ (ì˜ˆ: \"C_PIN_Admin2C_PIN_Admin1\") |\n| **Class êµ¬ì„±ì´ ì˜¬ë°”ë¥¸ì§€** | Admin1~Admin4ì˜ `Class` í•„ë“œê°€ \"Admins\"ì¸ì§€ í™•ì¸ |\n| **IsClass í•„ë“œê°€ ì˜¬ë°”ë¥¸ì§€** | \"Admins\", \"Users\"ëŠ” `T`, ë‚˜ë¨¸ì§€ëŠ” `F`ì¸ì§€ í™•ì¸ |\n\n> ğŸ’¡ **ì‹¤ì œ ê²€ì¦ ì‹œ ì£¼ì˜ì **:  \n> - `GetAuthorityTable()` ëª…ë ¹ì€ **Opal ìŠ¤í† ë¦¬ì§€ì—ì„œ ì§ì ‘ ì½ì–´ì˜¤ëŠ” ëª…ë ¹ì–´**ì„.  \n> - í…ŒìŠ¤íŠ¸ëŠ” **OFS ìƒíƒœì—ì„œ ìˆ˜í–‰**í•´ì•¼ Admin2~Admin4ì˜ ë¹„í™œì„±í™” ìƒíƒœë¥¼ ê²€ì¦ ê°€ëŠ¥.  \n> - `C_PIN_XXX`ëŠ” ì‹¤ì œ PIN ê°’ì´ ì•„ë‹ˆë¼ **ì•”í˜¸í™”ëœ ì°¸ì¡° ê°’** ë˜ëŠ” **ì¸ì¦ íë¦„ì˜ í‚¤ì›Œë“œ**ë¡œ ì‚¬ìš©ë¨.\n\n---\n\n## ğŸ“„ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nTCG Opalì˜ **4.3.1.8 Authority (M)** ì„¹ì…˜ì€ **ê¶Œí•œ ê³„ì •ì˜ êµ¬ì¡°ì™€ ë³´ì•ˆ ì •ì±…**ì„ ì •ì˜í•©ë‹ˆë‹¤. ì£¼ìš” ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- **Admin ê³„ì •** (Admin1~Admin4)ì€ ê´€ë¦¬ì ê¶Œí•œì„ ê°€ì§€ë©°, Admin1ì€ í•­ìƒ í™œì„±í™”ë˜ì–´ ì´ˆê¸° ì„¤ì •ìš©ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- Admin2~Admin4ëŠ” **OFS ìƒíƒœì—ì„œ ë¹„í™œì„±í™”**ë˜ì–´ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n- **User ê³„ì •** (User1~User8)ì€ ë°˜ë“œì‹œ êµ¬í˜„ë˜ë©°, User1ë§Œ ì´ˆê¸° í™œì„±í™”ë¨.\n- ëª¨ë“  ê³„ì •ì€ **UID, Name, Class, Enabled, Credential** ë“±ìœ¼ë¡œ êµ¬ì„±ëœ í…Œì´ë¸”(Table 40)ì— ë“±ë¡ë©ë‹ˆë‹¤.\n- ì¸ì¦ì€ ì£¼ë¡œ **ë¹„ë°€ë²ˆí˜¸(PIN)** ê¸°ë°˜ì´ë©°, ë³´ì•ˆ í™•ì¥ ê¸°ëŠ¥(ì„œëª…, ì¸ì¦ì„œ)ì€ í–¥í›„ í™•ì¥ ê°€ëŠ¥.\n- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ëŠ” Python + pytestë¡œ ì‘ì„± ê°€ëŠ¥í•˜ë©°, `StartSession`, `GetAuthorityTable` ëª…ë ¹ì–´ë¥¼ í™œìš©í•´ ê° ê³„ì •ì˜ ìƒíƒœì™€ ì¸ì¦ ì •ë³´ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì€ ì €ì¥ ì¥ì¹˜ì˜ **ë³´ì•ˆ ê³„ì • ê´€ë¦¬ ê¸°ë°˜**ì„ ì œê³µí•˜ë©°, ì‚¬ìš©ì/ê´€ë¦¬ì ì ‘ê·¼ì„ ì œì–´í•˜ê³ , **ë³´ì•ˆ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„**ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \nì´ ì„¹ì…˜ì€ **ê¶Œí•œ ê³„ì •ì˜ ì´ˆê¸° ì„¤ì •ê³¼ ë³´ì•ˆ ì •ì±…**ì„ ëª…í™•íˆ ê·œì •í•˜ë©°, TCG Opal ì €ì¥ ì¥ì¹˜ì˜ ê¸°ë³¸ ë³´ì•ˆ êµ¬ì¡°ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤. ì´ˆë³´ìì—ê²Œë„ **ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°, í™œì„±í™” ìƒíƒœ, ì¸ì¦ ë°©ì‹** ë“±ì„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n> ğŸ“ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” Opal ì¥ì¹˜ ë“œë¼ì´ë²„ ë° SDKê°€ í•„ìš”í•˜ë©°, `pyopal` ê°™ì€ ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì‹¤ì œ ì¥ì¹˜ ë° SDKë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 116,
        "level": 4,
        "section_id": "4.3.1.9",
        "section_key": "4.3.1.9 C_PIN (M)",
        "title": "C_PIN (M)",
        "start_page": 83,
        "end_page": 84,
        "page_count": 2,
        "content_md": "## 4.3.1.9 C_PIN (M)\n\nTable 41 includes Optional rows designated with (O)\n\n**Notes:**\n\n1. If the Locking SP's original life cycle state is Manufactured-Inactive, see 5.1.1.2 for the initial value of C_PIN_Admin1.PIN. If the Locking SP's original life cycle state is Manufactured, then the initial value of C_PIN_Admin1.PIN is the same as the Admin SP's C_PIN_MSID.PIN value.\n### Table 40 - Locking SP - Authority Table Preconfiguration (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 41"
        ],
        "section_table": [
            [
                "|-----|------|------------|-----|---------|----------|-------|-------------|",
                "| UID | Name | CommonName | PIN | CharSet | TryLimit | Tries | Persistence |",
                "| 00 00 00 0B 00 01 00 01 | \"C_PIN_Admin1\" | | SID or MSIDÂ¹ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 01 00 02 | \"C_PIN_Admin2\" | | â€œâ€ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 01 00 03 | \"C_PIN_Admin3\" | | â€œâ€ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 01 00 04 | \"C_PIN_Admin4\" | | â€œâ€ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 01 00 00 (+XX XX) (O) | \"C_PIN_AdminXXXX\" | | â€œâ€ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 03 00 01 | \"C_PIN_User1\" | | â€œâ€ | Null | 0 | 0 | FALSE |",
                "| 00 00 00 0B 00 03 00 00 (+MM MM) (O) | \"C_PIN_UserMMMM\" | | â€œâ€ | Null | 0 | 0 | FALSE |"
            ]
        ],
        "summary": "**4.3.1.9 C_PIN (M) â€“ ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n## ğŸ¯ **ëª©ì **\n\n`C_PIN` (Common PIN)ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ í‘œì¤€ì—ì„œ **ê¶Œí•œ ê´€ë¦¬ì ë˜ëŠ” ì‚¬ìš©ìì—ê²Œ PINì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê°ì²´**ì…ë‹ˆë‹¤. ì´ëŠ” ë””ìŠ¤í¬ì˜ ì•”í˜¸í™” ë° ì ‘ê·¼ ì œì–´ë¥¼ ìœ„í•´ ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìê°€ ì…ë ¥í•˜ëŠ” ë¹„ë°€ë²ˆí˜¸(ë˜ëŠ” PIN)ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\nTCG Opal í‘œì¤€ì—ì„œëŠ” ì—¬ëŸ¬ ìœ í˜•ì˜ ê¶Œí•œ(ì˜ˆ: Admin, User)ì´ ì¡´ì¬í•˜ë©°, ê°ê°ì˜ ê¶Œí•œì— ëŒ€í•´ `C_PIN` ê°ì²´ê°€ í• ë‹¹ë©ë‹ˆë‹¤. ì´ ê°ì²´ëŠ” PINì˜ ê°’ì„ ì €ì¥í•˜ê³ , PIN ì…ë ¥ ì‹œ ì‹œë„ ì œí•œ, ì§€ì†ì„± ì—¬ë¶€ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **PIN ì„¤ì • ë° ê´€ë¦¬**  \n   - ê° ê¶Œí•œ(Admin1, User1 ë“±)ì— ëŒ€í•´ ê³ ìœ í•œ PINì„ ì„¤ì •í•  ìˆ˜ ìˆìŒ.\n   - PINì€ ë³´í†µ 8~64ì ì´ë‚´ì˜ ë¬¸ìì—´ì´ë©°, ë¬¸ìì…‹ì€ ì„¤ì • ê°€ëŠ¥í•¨ (ì˜ˆ: ìˆ«ì, ì•ŒíŒŒë²³, íŠ¹ìˆ˜ë¬¸ì ë“±).\n\n2. **ë¡œê·¸ì¸ ì‹œë„ ì œí•œ (TryLimit)**  \n   - PIN ì…ë ¥ ì‹¤íŒ¨ ì‹œ, ìµœëŒ€ ì‹œë„ íšŸìˆ˜ë¥¼ ì œí•œí•¨ (ì˜ˆ: 10íšŒ ì‹¤íŒ¨ ì‹œ ì ê¸ˆ).\n   - `TryLimit`ì´ 0ì´ë©´ ì œí•œ ì—†ìŒ (í•˜ì§€ë§Œ ë³´ì•ˆìƒ ê¶Œì¥ë˜ì§€ ì•ŠìŒ).\n\n3. **ì‹œë„ íšŸìˆ˜ ì¶”ì  (Tries)**  \n   - í˜„ì¬ê¹Œì§€ ì‹¤íŒ¨í•œ PIN ì…ë ¥ íšŸìˆ˜ë¥¼ ê¸°ë¡í•¨.\n\n4. **ì§€ì†ì„± (Persistence)**  \n   - `Persistence = TRUE`ì¼ ê²½ìš°, ì‹œìŠ¤í…œ ì¬ì‹œì‘ í›„ì—ë„ PIN ì‹œë„ íšŸìˆ˜ê°€ ìœ ì§€ë¨.\n   - `FALSE`ì¼ ê²½ìš°, ì‹œìŠ¤í…œ ì¬ì‹œì‘ ì‹œ ì‹œë„ íšŸìˆ˜ ì´ˆê¸°í™”.\n\n5. **ê¶Œí•œ ê³„ì¸µ êµ¬ì¡° ì§€ì›**  \n   - `Admin1`ì€ ìµœê³  ê¶Œí•œìë¡œ, ë‹¤ë¥¸ ê´€ë¦¬ì ë˜ëŠ” ì‚¬ìš©ì ê¶Œí•œì„ ì„¤ì •/ì‚­ì œ ê°€ëŠ¥.\n   - `User1`ì€ ì¼ë°˜ ì‚¬ìš©ìë¡œ, ì ‘ê·¼ ê¶Œí•œì´ ì œí•œë¨.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Table 41 ê¸°ì¤€)**\n\n| í•„ë“œëª…         | ì„¤ëª… |\n|---------------|------|\n| **UID**        | ê³ ìœ  ì‹ë³„ì (ì˜ˆ: `00 00 00 0B 00 01 00 01`) â€“ ê° ê¶Œí•œì— ê³ ìœ . |\n| **Name**       | ê°ì²´ ì´ë¦„ (ì˜ˆ: \"C_PIN_Admin1\") â€“ ì¸ì‹ ê°€ëŠ¥í•œ ì´ë¦„. |\n| **CommonName** | ì¼ë°˜ ì´ë¦„ (í˜„ì¬ ë¹ˆ ê°’) â€“ ë³´í†µ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ. |\n| **PIN**        | ì‹¤ì œ PIN ê°’ (ì˜ˆ: SID, MSID, ë¹ˆ ë¬¸ìì—´). |\n| **CharSet**    | í—ˆìš©ëœ ë¬¸ì ì§‘í•© (ì˜ˆ: Null = ì œí•œ ì—†ìŒ, ë˜ëŠ” íŠ¹ì • ë¬¸ìì…‹). |\n| **TryLimit**   | ìµœëŒ€ ì‹œë„ íšŸìˆ˜ (0 = ë¬´ì œí•œ). |\n| **Tries**      | í˜„ì¬ ì‹¤íŒ¨ ì‹œë„ íšŸìˆ˜ (0 = ì•„ì§ ì‹¤íŒ¨ ì—†ìŒ). |\n| **Persistence**| ì¬ì‹œì‘ í›„ ì‹œë„ íšŸìˆ˜ ìœ ì§€ ì—¬ë¶€ (FALSE = ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™”). |\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **C_PIN_Admin1ì˜ ì´ˆê¸°ê°’**  \n   - **Manufactured-Inactive** ìƒíƒœì—ì„œ ì œì¡°ëœ ì¥ì¹˜ â†’ `C_PIN_Admin1.PIN`ì€ **ì´ˆê¸°ê°’ ì—†ìŒ** (ì‚¬ìš©ì ì„¤ì • í•„ìš”).\n   - **Manufactured** ìƒíƒœ â†’ `C_PIN_Admin1.PIN`ì€ **Admin SPì˜ C_PIN_MSID.PINê³¼ ë™ì¼**.\n\n2. **ì˜µì…˜ ê¶Œí•œ ì§€ì›**  \n   - `C_PIN_AdminX` ë˜ëŠ” `C_PIN_UserM` í˜•ì‹ìœ¼ë¡œ ì¶”ê°€ ê¶Œí•œ ìƒì„± ê°€ëŠ¥ (ì˜µì…˜, O í‘œì‹œ).\n\n3. **ë³´ì•ˆ ìš”êµ¬ì‚¬í•­**  \n   - PINì€ ì•”í˜¸í™” ì €ì¥ (ë³´í†µ í‚¤ìŠ¤í† ì–´ ë‚´ì—ì„œ ê´€ë¦¬ë¨).\n   - PIN ì…ë ¥ ì‹œ, ì‹œë„ ì œí•œ ë° ì ê¸ˆ ê¸°ëŠ¥ì´ í•„ìˆ˜.\n   - `Persistence = TRUE` ì‹œ, ë³´ì•ˆ ìœ„í—˜ ì¡´ì¬ â†’ ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ì„¤ì •.\n\n---\n\n## ğŸ”’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **PIN ì•”í˜¸í™” ì €ì¥**: PINì€ í‰ë¬¸ìœ¼ë¡œ ì €ì¥ë˜ì§€ ì•ŠìŒ. í‚¤ìŠ¤í† ì–´ ë‚´ ì•”í˜¸í™” ì €ì¥.\n- **ì‹œë„ ì œí•œ**: ì—¬ëŸ¬ ë²ˆ ì‹¤íŒ¨ ì‹œ ì ê¸ˆ â†’ ë¸Œë£¨íŠ¸í¬ìŠ¤ ê³µê²© ë°©ì–´.\n- **ê¶Œí•œ ê³„ì¸µ**: Admin1ì´ ê°€ì¥ ë†’ì€ ê¶Œí•œ â†’ ë‹¤ë¥¸ ê¶Œí•œ ìƒì„±/ì‚­ì œ ê°€ëŠ¥.\n- **ì§€ì†ì„± ì œì–´**: `Persistence` ì„¤ì •ì„ í†µí•´ ë³´ì•ˆ ê°•ë„ ì¡°ì ˆ ê°€ëŠ¥.\n\n> âš ï¸ **ì£¼ì˜**: `TryLimit = 0` ë° `Persistence = FALSE`ëŠ” ë³´ì•ˆìƒ ì·¨ì•½ì ì´ ë  ìˆ˜ ìˆìŒ. ì‹¤ì œ ì‹œìŠ¤í…œì—ì„œëŠ” ì ì ˆí•œ ì œí•œì„ ì„¤ì •í•´ì•¼ í•¨.\n\n---\n\n## âœ… **ê²€ì¦ì„ ìœ„í•œ Test Case**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n- `C_PIN_Admin1`ì˜ ì´ˆê¸°ê°’ ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- PIN ì„¤ì • ë° ë³€ê²½ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.\n- ì‹œë„ íšŸìˆ˜ ê´€ë¦¬ ë° ì ê¸ˆ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n# í…ŒìŠ¤íŠ¸ ì „ì—­ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient()\n    client.connect(\"192.168.1.100\")  # ì‹¤ì œ ì¥ì¹˜ IP\n    yield client\n    client.disconnect()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: C_PIN_Admin1 ì´ˆê¸°ê°’ í™•ì¸ (Manufactured ìƒíƒœ)\ndef test_c_pin_admin1_initial_value_manufactured(opal_client):\n    # StartSession (MSIDë¡œ ë¡œê·¸ì¸)\n    opal_client.start_session(\"MSID\", \"admin_password\")  # ì˜ˆì‹œ ë¹„ë°€ë²ˆí˜¸\n\n    # C_PIN_Admin1 ì •ë³´ ì¡°íšŒ\n    pin_info = opal_client.get_pin_info(\"C_PIN_Admin1\")\n\n    # ì´ˆê¸°ê°’ì€ Admin SPì˜ C_PIN_MSID.PINê³¼ ê°™ì•„ì•¼ í•¨\n    msid_pin = opal_client.get_pin_info(\"C_PIN_MSID\")[\"PIN\"]\n    assert pin_info[\"PIN\"] == msid_pin, \"C_PIN_Admin1 ì´ˆê¸°ê°’ì´ C_PIN_MSIDì™€ ë‹¤ë¦„\"\n\n    # TryLimit, Tries, Persistence í™•ì¸\n    assert pin_info[\"TryLimit\"] == 0\n    assert pin_info[\"Tries\"] == 0\n    assert pin_info[\"Persistence\"] == False\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: PIN ë³€ê²½ ë° ì‹œë„ ì œí•œ í…ŒìŠ¤íŠ¸\ndef test_pin_change_and_try_limit(opal_client):\n    # StartSession (Admin1ë¡œ ë¡œê·¸ì¸)\n    opal_client.start_session(\"Admin1\", \"initial_password\")\n\n    # PIN ë³€ê²½\n    opal_client.set_pin(\"C_PIN_Admin1\", \"new_secure_pin\")\n\n    # PIN ì •ë³´ ì¬ì¡°íšŒ\n    pin_info = opal_client.get_pin_info(\"C_PIN_Admin1\")\n    assert pin_info[\"PIN\"] == \"new_secure_pin\"\n\n    # ì‹¤íŒ¨ ì‹œë„ 3íšŒ ìˆ˜í–‰\n    for _ in range(3):\n        opal_client.attempt_login(\"C_PIN_Admin1\", \"wrong_pin\")  # ì‹¤íŒ¨\n\n    # Triesê°€ 3ì´ ë˜ì–´ì•¼ í•¨\n    pin_info = opal_client.get_pin_info(\"C_PIN_Admin1\")\n    assert pin_info[\"Tries\"] == 3\n\n    # TryLimitì´ 0ì´ë¯€ë¡œ ì ê¸ˆë˜ì§€ ì•ŠìŒ\n    assert not opal_client.is_locked(\"C_PIN_Admin1\")\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Persistence í…ŒìŠ¤íŠ¸ (ì¬ì‹œì‘ í›„ ìƒíƒœ ìœ ì§€)\ndef test_persistence_flag(opal_client):\n    # StartSession\n    opal_client.start_session(\"Admin1\", \"initial_password\")\n\n    # Persistenceë¥¼ TRUEë¡œ ì„¤ì •\n    opal_client.set_persistence(\"C_PIN_Admin1\", True)\n\n    # ì¬ì‹œì‘ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œ ì¥ì¹˜ ì¬ì‹œì‘ í•„ìš”)\n    # ì—¬ê¸°ì„œëŠ” ê°€ì •: ì¬ì‹œì‘ í›„ Tries ê°’ ìœ ì§€\n    opal_client.restart_device()  # ê°€ìƒ ë©”ì„œë“œ\n\n    # ì¬ì‹œì‘ í›„ Tries ê°’ í™•ì¸\n    pin_info = opal_client.get_pin_info(\"C_PIN_Admin1\")\n    assert pin_info[\"Tries\"] == 3  # ì´ì „ ì‹¤íŒ¨ íšŸìˆ˜ ìœ ì§€ë¨\n\n    # Persistence ë‹¤ì‹œ FALSEë¡œ ì„¤ì •\n    opal_client.set_persistence(\"C_PIN_Admin1\", False)\n    opal_client.restart_device()\n    pin_info = opal_client.get_pin_info(\"C_PIN_Admin1\")\n    assert pin_info[\"Tries\"] == 0  # ì¬ì‹œì‘ í›„ ì´ˆê¸°í™”ë¨\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **UID ê¸°ë°˜ ì¡°íšŒ**  \n   - UID `00 00 00 0B 00 01 00 01` â†’ `C_PIN_Admin1` ì¡°íšŒ.\n   - `C_PIN_Admin2` â†’ UID `00 00 00 0B 00 01 00 02`ë¡œ ì¡°íšŒ.\n\n2. **Name ê¸°ë°˜ ê²€ì¦**  \n   - `get_pin_info(\"C_PIN_Admin1\")` â†’ ì´ë¦„ìœ¼ë¡œ ê°ì²´ ê²€ìƒ‰ ê°€ëŠ¥ (ì˜ˆ: ì´ë¦„ ê¸°ë°˜ API ì œê³µ ì‹œ).\n\n3. **í•„ë“œ ê°’ ì¼ì¹˜ ê²€ì¦**  \n   - ì˜ˆ: `PIN`ì´ `SID` ë˜ëŠ” `MSID` ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.\n   - `TryLimit`, `Tries`, `Persistence`ê°€ ë¬¸ì„œì™€ ë™ì¼í•œì§€ í™•ì¸.\n\n4. **ì˜µì…˜ ê¶Œí•œ ì¡´ì¬ ì—¬ë¶€ ê²€ì¦**  \n   - `C_PIN_AdminX` ë˜ëŠ” `C_PIN_UserM` ì¡´ì¬ ì—¬ë¶€ í™•ì¸ (ì˜µì…˜, O í‘œì‹œ).\n   - ì˜ˆ: `get_pin_info(\"C_PIN_Admin5\")` â†’ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ `KeyError` ë°œìƒ.\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- `C_PIN`ì€ Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆì—ì„œ **ê¶Œí•œë³„ PIN ì„¤ì • ë° ê´€ë¦¬**ë¥¼ ìœ„í•œ í•µì‹¬ ê°ì²´.\n- ì´ˆê¸°ê°’, ì‹œë„ ì œí•œ, ì§€ì†ì„± ë“± ë‹¤ì–‘í•œ ë³´ì•ˆ ì •ì±…ì„ ì§€ì›.\n- í…ŒìŠ¤íŠ¸ ì‹œ `StartSession`, `set_pin`, `attempt_login`, `get_pin_info` ë“± ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ë™ì‘ ê²€ì¦ ê°€ëŠ¥.\n- í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ UID ë˜ëŠ” Name ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë©°, í•„ë“œ ê°’ ì¼ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸.\n\n---\n\n## ğŸ“Œ **ì°¸ê³ : ë¬¸ì„œì˜ í•œê³„**\n\n- ë¬¸ì„œëŠ” `C_PIN_Admin1`ì˜ ì´ˆê¸°ê°’ ì¡°ê±´ì„ ì„¤ëª…í•˜ë˜, ì‹¤ì œ PIN ê°’ì˜ **í˜•ì‹ì´ë‚˜ ê¸¸ì´ ì œí•œ**ì€ ëª…ì‹œë˜ì§€ ì•ŠìŒ.\n- `CharSet`ì´ `Null`ì¸ ê²½ìš° ì–´ë–¤ ë¬¸ìì…‹ì´ í—ˆìš©ë˜ëŠ”ì§€ ëª…í™•í•˜ì§€ ì•ŠìŒ.\n- `SID or MSIDÂ¹`ì˜ ì˜ë¯¸ëŠ” ë¬¸ì„œ 4.3.1.10 ë˜ëŠ” 5.1.1.2 ì°¸ì¡° í•„ìš”.\n\n---\n\nâœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n> `C_PIN`ì€ TCG Opal í‘œì¤€ì—ì„œ ì‚¬ìš©ì ë° ê´€ë¦¬ì ê¶Œí•œì— ëŒ€í•œ PINì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ê° ê¶Œí•œ(ì˜ˆ: Admin1, User1)ì— ëŒ€í•´ ê³ ìœ í•œ UIDì™€ ì´ë¦„ì„ ê°–ì¶”ê³  ìˆìœ¼ë©°, PIN ê°’, ì‹œë„ ì œí•œ, ì§€ì†ì„± ì—¬ë¶€ ë“±ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ˆê¸°ê°’ì€ ì œì¡° ìƒíƒœì— ë”°ë¼ ë‹¬ë¼ì§€ë©°, ë³´ì•ˆ ìƒ ì¤‘ìš”í•œ ìš”ì†Œì¸ ì‹œë„ ì œí•œê³¼ ì§€ì†ì„± ì„¤ì •ì„ í†µí•´ ë¸Œë£¨íŠ¸í¬ìŠ¤ ê³µê²©ì„ ë°©ì–´í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œ Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ PIN ì„¤ì •, ë³€ê²½, ì‹¤íŒ¨ ì‹œë„, ì¬ì‹œì‘ í›„ ìƒíƒœ ìœ ì§€ ë“±ì„ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, í…Œì´ë¸” ë°ì´í„°ëŠ” UID ë˜ëŠ” Nameì„ ê¸°ì¤€ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ˆë³´ìì—ê²ŒëŠ” PINì´ ë³´ì•ˆì˜ ì²« ë²ˆì§¸ ë°©ì–´ì„ ì´ë©°, ì œëŒ€ë¡œ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ì¥ì¹˜ê°€ ì‰½ê²Œ í•´í‚¹ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê°•ì¡°í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ê³¼: ë‚´ìš©ìˆìŒ**"
    },
    {
        "section_order": 117,
        "level": 4,
        "section_id": "4.3.1.10",
        "section_key": "4.3.1.10 SecretProtect (M)",
        "title": "SecretProtect (M)",
        "start_page": 84,
        "end_page": 84,
        "page_count": 1,
        "content_md": "## 4.3.1.10 SecretProtect (M)\n\nAt least one of the objects shown in Table 42 SHALL be supported\n\n### Table 42 - Locking SP - SecretProtect Table Preconfiguration\n\nNote: The â€œVUâ€ entries in Table 42 indicate that this specification does not require a specific value to be reported in the ProtectMechanisms cell. It is NOT a requirement to report the â€œVendor Uniqueâ€ protect_types value (Refer to [2] for details).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.1.10 SecretProtect (M) â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\n`SecretProtect`ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë³´ì•ˆ ê°ì²´**(Security Object) ì¤‘ í•˜ë‚˜ë¡œ, **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ ë‚´ì˜ ë¹„ë°€ ì •ë³´**(ì˜ˆ: ì•”í˜¸, í‚¤, ì‚¬ìš©ì ì •ë³´ ë“±)ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.  \nì´ ê¸°ëŠ¥ì€ íŠ¹íˆ **ì¥ì¹˜ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ íƒˆì·¨ë˜ê±°ë‚˜, ë¶€ì ì ˆí•œ ì ‘ê·¼ì´ ì‹œë„ë  ë•Œ** ì¤‘ìš”í•œ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n`SecretProtect`ëŠ” **Locking SP**(Locking Storage Provider) ë‚´ì— í¬í•¨ë˜ë©°, ì‚¬ìš©ìê°€ ì„¤ì •í•œ ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ë¹„ë°€ ì •ë³´ë¥¼ ë³´í˜¸í•˜ê±°ë‚˜ ì ‘ê·¼ì„ ì œì–´í•©ë‹ˆë‹¤.  \nTCG Opal ìŠ¤í™ì—ì„œëŠ” ì´ ê°ì²´ê°€ **ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒ ì§€ì›ë˜ì–´ì•¼ í•¨**(SHALL be supported)ì„ ìš”êµ¬í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ë¹„ë°€ ì •ë³´ ë³´í˜¸ ë©”ì»¤ë‹ˆì¦˜ ì„ íƒ**\n   - ì¥ì¹˜ëŠ” ì—¬ëŸ¬ ë³´í˜¸ ë°©ì‹ ì¤‘ í•˜ë‚˜ ì´ìƒì„ ì§€ì›í•´ì•¼ í•¨ (ì˜ˆ: ì•”í˜¸í™”, í† í° ê¸°ë°˜ ë³´í˜¸ ë“±).\n   - Table 42ì—ì„œ ì •ì˜ëœ `ProtectMechanisms` í•„ë“œì— ë”°ë¼ ì§€ì›ë˜ëŠ” ë°©ì‹ì„ ë³´ê³ .\n\n2. **ì‚¬ìš©ì ì •ì˜ ë³´í˜¸ ë°©ì‹ ì§€ì› (Vendor Unique)**\n   - í‘œì¤€ì´ ì •ì˜í•˜ì§€ ì•Šì€ ë³´í˜¸ ë°©ì‹ë„ ê°€ëŠ¥ (VU â€“ Vendor Unique).\n   - í•˜ì§€ë§Œ TCG ìŠ¤í™ì—ì„œëŠ” `Vendor Unique` ê°’ì„ ë°˜ë“œì‹œ ë³´ê³ í•´ì•¼ í•œë‹¤ëŠ” ê°•ì œëŠ” **ì—†ìŒ** (ì¦‰, VUëŠ” ì„ íƒì‚¬í•­).\n\n3. **ë³´ì•ˆ ì •ì±… ì„¤ì •**\n   - ì‚¬ìš©ìê°€ SecretProtect ê°ì²´ë¥¼ í†µí•´ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì • ê°€ëŠ¥.\n   - ì˜ˆ: ì•”í˜¸ ì…ë ¥ ì‹¤íŒ¨ ì‹œ ìë™ ì ê¸ˆ, ë¹„ë°€ ì •ë³´ ì‚­ì œ ë“±.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n`SecretProtect` ê°ì²´ëŠ” ì£¼ë¡œ ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:\n\n| í•„ë“œëª… | ì„¤ëª… |\n|--------|------|\n| **ProtectMechanisms** | ì§€ì›ë˜ëŠ” ë³´í˜¸ ë°©ì‹ ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: Password, Token, etc.) |\n| **ProtectionStatus** | í˜„ì¬ ë³´í˜¸ ìƒíƒœ (ì˜ˆ: Enabled, Disabled) |\n| **AccessControl** | ì ‘ê·¼ ì œì–´ ì •ì±… (ì˜ˆ: Adminë§Œ ì ‘ê·¼ ê°€ëŠ¥) |\n| **RecoveryMethod** | ë¹„ë°€ ì •ë³´ ë³µêµ¬ ë°©ë²• (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •, ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ ë“±) |\n\n> ğŸ’¡ ì‹¤ì œ êµ¬í˜„ì€ `Opal` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ê³  ì“°ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©°, êµ¬ì²´ì ì¸ êµ¬ì¡°ëŠ” TCG Opal ëª…ë ¹ì–´ ìŠ¤í™ì—ì„œ ì •ì˜ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“ **ìš”êµ¬ì‚¬í•­**\n\n- **ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒì˜ SecretProtect ê°ì²´ë¥¼ ì§€ì›í•´ì•¼ í•¨.**  \n  (ì¦‰, ì¥ì¹˜ê°€ Opal 2.30 ìŠ¤í™ì— ë§ëŠ”ë‹¤ë©´, ì´ ê°ì²´ëŠ” ì¡´ì¬í•´ì•¼ í•¨)\n\n- **ProtectMechanisms í•„ë“œëŠ” ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ê°’ì´ ìˆì–´ì•¼ í•¨.**  \n  - ì˜ˆ: `Password`, `Token`, `Vendor Unique` ë“±\n\n- **Vendor Unique ë³´ê³ ëŠ” ì„ íƒì‚¬í•­.**  \n  - ì¦‰, `ProtectMechanisms`ì— `VU`ë¥¼ í¬í•¨í•˜ì§€ ì•Šì•„ë„ ë˜ì§€ë§Œ, í¬í•¨í•˜ë©´ **VU ê°’ì„ ë°˜ë“œì‹œ ëª…ì‹œí•´ì•¼ í•¨**.\n\n- **Locking SP ë‚´ì— í¬í•¨ë˜ì–´ì•¼ í•¨.**  \n  - ì´ ê°ì²´ëŠ” `Locking SP`ì˜ ì¼ë¶€ë¡œì„œ, `Locking SP`ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì˜ë¯¸ ì—†ìŒ.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n1. **ì ‘ê·¼ ì œì–´**\n   - SecretProtect ê°ì²´ëŠ” íŠ¹ì • ê¶Œí•œ(ì˜ˆ: Admin)ì´ ì—†ìœ¼ë©´ ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë¨.\n   - `AccessControl` í•„ë“œë¡œ ì œì–´.\n\n2. **ë¹„ë°€ ì •ë³´ì˜ ì•”í˜¸í™” ë° ê²©ë¦¬**\n   - ë³´í˜¸ëœ ë¹„ë°€ ì •ë³´ëŠ” ì¥ì¹˜ ë‚´ì—ì„œ ë³„ë„ì˜ ë³´í˜¸ ì˜ì—­ì— ì €ì¥ë˜ë©°, ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œëŠ” ì ‘ê·¼ ë¶ˆê°€.\n\n3. **ë³´í˜¸ ìƒíƒœ ëª¨ë‹ˆí„°ë§**\n   - `ProtectionStatus`ë¥¼ í†µí•´ í˜„ì¬ ë³´í˜¸ ìƒíƒœë¥¼ í™•ì¸ ê°€ëŠ¥ â†’ ë³´ì•ˆ ìƒíƒœ ì‹¤ì‹œê°„ ì ê²€ ê°€ëŠ¥.\n\n4. **ë³µêµ¬ ê¸°ëŠ¥ ë³´ì•ˆ**\n   - `RecoveryMethod`ëŠ” ë³´ì•ˆì ì¸ ë³µêµ¬ ê²½ë¡œë¥¼ ì œê³µí•˜ë©°, ì¼ë°˜ ì‚¬ìš©ìì—ê²ŒëŠ” ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ì„¤ê³„.\n\n---\n\n### âœ… **Test Case ì œì‹œ**\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ëª©í‘œ\n- `SecretProtect` ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.\n- `ProtectMechanisms` í•„ë“œê°€ ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ ê°’(ì˜ˆ: Password, Token ë“±)ì„ í¬í•¨í•˜ëŠ”ì§€ ê²€ì¦.\n- `Vendor Unique` ê°’ì´ í¬í•¨ë˜ì–´ ìˆë”ë¼ë„, ê°•ì œ ë³´ê³ ê°€ ì•„ë‹ˆë¯€ë¡œ ë¬´ì‹œ ê°€ëŠ¥.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•\n\n##### 1. **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, GetObject, RevertSession\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sda\")\n    client.connect()\n    yield client\n    client.disconnect()\n\ndef test_secretprotect_exists(opal_client):\n    \"\"\"SecretProtect ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\"\"\"\n    try:\n        obj = opal_client.get_object(\"Locking SP\", \"SecretProtect\")\n        assert obj is not None, \"SecretProtect object not found\"\n        print(f\"SecretProtect object found: {obj}\")\n    except Exception as e:\n        pytest.fail(f\"Failed to retrieve SecretProtect object: {e}\")\n\ndef test_protectmechanisms_has_value(opal_client):\n    \"\"\"ProtectMechanisms í•„ë“œê°€ ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ ê°’ì„ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸\"\"\"\n    obj = opal_client.get_object(\"Locking SP\", \"SecretProtect\")\n    protect_mech = obj.get(\"ProtectMechanisms\", [])\n    \n    assert len(protect_mech) > 0, \"ProtectMechanisms must contain at least one value\"\n    \n    # ì˜ˆ: Password, Token, Vendor Unique ë“± ì¤‘ í•˜ë‚˜ ì´ìƒ ìˆì–´ì•¼ í•¨\n    valid_values = [\"Password\", \"Token\", \"Vendor Unique\", \"VU\"]\n    assert any(v in protect_mech for v in valid_values), \"ProtectMechanisms must include at least one valid value\"\n\ndef test_vendor_unique_not_mandatory(opal_client):\n    \"\"\"Vendor Unique ë³´ê³ ëŠ” ì„ íƒì‚¬í•­ì„ì„ ê²€ì¦\"\"\"\n    obj = opal_client.get_object(\"Locking SP\", \"SecretProtect\")\n    protect_mech = obj.get(\"ProtectMechanisms\", [])\n    \n    if \"Vendor Unique\" in protect_mech:\n        # VU í¬í•¨ ì‹œ, ê·¸ ê°’ì´ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•¨ (ì˜ˆ: VU:123)\n        vu_value = next((v for v in protect_mech if v.startswith(\"VU:\")), None)\n        assert vu_value is not None, \"Vendor Unique value must be specified if included\"\n    else:\n        # VU ë¯¸í¬í•¨ì€ ì™„ì „íˆ ì •ìƒ (ì„ íƒì‚¬í•­)\n        pass\n\ndef test_secretprotect_with_session(opal_client):\n    \"\"\"Sessionì„ í†µí•´ SecretProtect ê°ì²´ ì ‘ê·¼ í…ŒìŠ¤íŠ¸\"\"\"\n    # StartSession\n    session = StartSession(opal_client, \"admin_password\", \"admin\")\n    assert session.status == \"SUCCESS\", \"StartSession failed\"\n\n    try:\n        obj = opal_client.get_object(\"Locking SP\", \"SecretProtect\")\n        assert obj is not None, \"Cannot access SecretProtect after StartSession\"\n    finally:\n        # RevertSession\n        RevertSession(opal_client, session.session_id)\n```\n\n---\n\n##### 2. **TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ ê²€ì¦ ë°©ë²•**\n\n- **StartSession** â†’ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘ (ë³´ì•ˆ ê°ì²´ ì ‘ê·¼ í•„ìš”)\n- **GetObject** â†’ `Locking SP` ë‚´ `SecretProtect` ê°ì²´ ì¡°íšŒ\n- **RevertSession** â†’ ì„¸ì…˜ ì¢…ë£Œ (í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬)\n\n> ëª…ë ¹ì–´ ì˜ˆì‹œ (ê°€ìƒ CLI):\n```bash\n# StartSession (Admin)\nopal-cli start-session --user admin --password admin123 --sp Locking SP\n\n# GetObject (SecretProtect)\nopal-cli get-object --sp \"Locking SP\" --obj \"SecretProtect\"\n\n# RevertSession\nopal-cli revert-session --session-id 12345\n```\n\n---\n\n##### 3. **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nTable 42ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ì„ ê°€ì§‘ë‹ˆë‹¤:\n\n| Object ID | Object Name | ProtectMechanisms | ProtectionStatus | AccessControl | RecoveryMethod |\n|-----------|-------------|-------------------|------------------|---------------|----------------|\n| SP001     | SecretProtect | Password, Token   | Enabled          | Admin         | Admin Recovery |\n\n**ê²€ì¦ ì ˆì°¨:**\n\n1. ì¥ì¹˜ì—ì„œ `SecretProtect` ê°ì²´ë¥¼ ì½ì–´ì˜´.\n2. `ProtectMechanisms` í•„ë“œê°€ ë¹„ì–´ ìˆì§€ ì•Šì€ì§€ í™•ì¸.\n3. `ProtectMechanisms`ì´ `VU`ë¥¼ í¬í•¨í•˜ë©´, ê·¸ ê°’ì´ ëª…í™•íˆ ì •ì˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.\n4. `ProtectionStatus`, `AccessControl` ë“± í•„ë“œê°€ ì¡´ì¬í•˜ê³ , í•©ë¦¬ì ì¸ ê°’ì¸ì§€ í™•ì¸.\n\n> ì˜ˆ: `ProtectMechanisms: [\"Password\", \"Token\"]` â†’ âœ…  \n> ì˜ˆ: `ProtectMechanisms: [\"VU:123\"]` â†’ âœ… (VU í¬í•¨, ê°’ ëª…ì‹œë¨)  \n> ì˜ˆ: `ProtectMechanisms: []` â†’ âŒ (ë¹„ì–´ ìˆìŒ, ë¶ˆì™„ì „)\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n- **ëª©ì **: ì¥ì¹˜ ë‚´ ë¹„ë°€ ì •ë³´ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ë³´ì•ˆ ê°ì²´ ì œê³µ.\n- **ì£¼ìš” ê¸°ëŠ¥**: ë³´í˜¸ ë°©ì‹ ì„ íƒ, ì ‘ê·¼ ì œì–´, ë³µêµ¬ ì •ì±… ì„¤ì • ë“±.\n- **ë°ì´í„° êµ¬ì¡°**: ProtectMechanisms, ProtectionStatus, AccessControl ë“± í•„ë“œ í¬í•¨.\n- **ìš”êµ¬ì‚¬í•­**: ìµœì†Œ í•˜ë‚˜ì˜ SecretProtect ê°ì²´ ì§€ì›, ProtectMechanisms í•„ë“œëŠ” ë¹„ì–´ ìˆìœ¼ë©´ ì•ˆ ë¨.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì ‘ê·¼ ì œì–´, ì•”í˜¸í™”, ë³µêµ¬ ë³´ì•ˆ ë“±.\n- **í…ŒìŠ¤íŠ¸**: Python+pytestë¡œ ê°ì²´ ì¡´ì¬, í•„ë“œ ê°’ ê²€ì¦. Opal ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ í…ŒìŠ¤íŠ¸. Table ë°ì´í„° ì •í•©ì„± ê²€ì¦.\n\n---\n\nâœ… **ê²°ë¡ **: `SecretProtect`ëŠ” Opal ìŠ¤í™ì—ì„œ í•„ìˆ˜ ê°ì²´ì´ë©°, ë³´ì•ˆ ì •ì±…ì˜ í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” `ProtectMechanisms` í•„ë“œì˜ ì¡´ì¬ì™€ ìœ íš¨ì„±ì„ ë°˜ë“œì‹œ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤. Vendor Unique ê°’ì€ ì„ íƒì ì´ë¯€ë¡œ, í¬í•¨ë˜ì§€ ì•Šì•„ë„ ë¬¸ì œ ì—†ìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 118,
        "level": 3,
        "section_id": "4.3.2",
        "section_key": "4.3.2 Base Template Methods",
        "title": "Base Template Methods",
        "start_page": 84,
        "end_page": 85,
        "page_count": 2,
        "content_md": "## 4.3.2 Base Template Methods\n\nRefer to section 4.3.1.5 for supported methods.\n### Table 42 - Locking SP - SecretProtect Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.2 Base Template Methods\n\nRefer to section 4.3.1.5 for supported methods.\n### Table 42 - Locking SP - SecretProtect Table Preconfiguration (continued)"
    },
    {
        "section_order": 119,
        "level": 3,
        "section_id": "4.3.3",
        "section_key": "4.3.3 Crypto Template Tables",
        "title": "Crypto Template Tables",
        "start_page": 85,
        "end_page": 85,
        "page_count": 1,
        "content_md": "## 4.3.3 Crypto Template Tables\nAn Opal SSC compliant Storage Device is not required to support any Crypto template tables.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.3 Crypto Template Tables\nAn Opal SSC compliant Storage Device is not required to support any Crypto template tables."
    },
    {
        "section_order": 120,
        "level": 3,
        "section_id": "4.3.4",
        "section_key": "4.3.4 Crypto Template Methods",
        "title": "Crypto Template Methods",
        "start_page": 85,
        "end_page": 85,
        "page_count": 1,
        "content_md": "## 4.3.4 Crypto Template Methods\nRefer to section 4.3.1.5 for supported methods.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.4 Crypto Template Methods\nRefer to section 4.3.1.5 for supported methods."
    },
    {
        "section_order": 121,
        "level": 4,
        "section_id": "4.3.4.1",
        "section_key": "4.3.4.1 Random",
        "title": "Random",
        "start_page": 85,
        "end_page": 85,
        "page_count": 1,
        "content_md": "## 4.3.4.1 Random\nRefer to section 4.2.9.1 for additional constraints imposed on the Random method.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.4.1 Random\nRefer to section 4.2.9.1 for additional constraints imposed on the Random method."
    },
    {
        "section_order": 122,
        "level": 3,
        "section_id": "4.3.5",
        "section_key": "4.3.5 Locking Template Tables",
        "title": "Locking Template Tables",
        "start_page": 85,
        "end_page": 85,
        "page_count": 1,
        "content_md": "## 4.3.5 Locking Template Tables",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5 Locking Template Tables"
    },
    {
        "section_order": 123,
        "level": 4,
        "section_id": "4.3.5.1",
        "section_key": "4.3.5.1 LockingInfo (M)",
        "title": "LockingInfo (M)",
        "start_page": 85,
        "end_page": 86,
        "page_count": 2,
        "content_md": "## 4.3.5.1 LockingInfo (M)\nThe LockingInfo table has the columns defined in Table 43, in addition to those defined in [2]:\n\n### Table 43 - Locking SP â€“ LockingInfo Columns\n\n- **AlignmentRequired**  \n  This column indicates whether the TPer requires ranges in the Locking table to be aligned (see section 4.3.5.2.1). If AlignmentRequired is TRUE, then the TPer requires ranges to be aligned. If AlignmentRequired is FALSE, then the TPer does not require ranges to be aligned.  \n  This column SHALL NOT be modifiable by the host and MAY be retrieved by Anybody.\n\n- **LogicalBlockSize**  \n  This column indicates the number of bytes in a logical block.  \n  This column SHALL NOT be modifiable by the host and MAY be retrieved by Anybody.\n\n- **AlignmentGranularity**  \n  This column indicates the number of logical blocks in a group, for alignment purposes (see section 5.4).  \n  This column SHALL NOT be modifiable by the host and MAY be retrieved by Anybody.\n\n- **LowestAlignedLBA**  \n  This column indicates the lowest logical block address that is located at the beginning of an alignment granularity group (see section 5.4).  \n  This column SHALL NOT be modifiable by the host and MAY be retrieved by Anybody.\n\n### Table 44 - Locking SP - LockingInfo Table Preconfiguration\n\n### Table 44 - Locking SP - LockingInfo Table Preconfiguration (continued)\n\nNote:  \n1. The MaxRanges column in Table 44 specifies the number of supported ranges and SHALL have a minimum of 8 ranges.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5.1 LockingInfo (M) - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n**LockingInfo**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **Locking SP**(Locking Security Provider)ì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œë¡œ, **ë””ìŠ¤í¬ì˜ ë½ ë²”ìœ„(Locking Ranges)**ë¥¼ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê¸°ë³¸ì ì¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\nì¦‰, ì‚¬ìš©ìê°€ ë””ìŠ¤í¬ì˜ íŠ¹ì • ì˜ì—­(ì˜ˆ: LBA 0~1000)ì„ ì•”í˜¸í™”í•˜ê±°ë‚˜ ì ‘ê·¼ ì œì–´ë¥¼ ê±¸ê¸° ì „ì—, ê·¸ ì˜ì—­ì´ ì–´ë–»ê²Œ ì •ë ¬ë˜ì–´ì•¼ í•˜ë©°, ì–´ë–¤ ë‹¨ìœ„ë¡œ ë¸”ë¡ì´ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ ë“±ì„ ì•Œë ¤ì£¼ëŠ” **ë©”íƒ€ ì •ë³´**ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.\n\nì´ ì •ë³´ëŠ” **í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì´ Locking í…Œì´ë¸”ì— ë½ ë²”ìœ„ë¥¼ ì •í™•íˆ ì„¤ì •í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì **ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¸”ë¡ í¬ê¸°ì™€ ì •ë ¬ ë‹¨ìœ„ê°€ ëª…í™•í•˜ì§€ ì•Šìœ¼ë©´ ë½ ë²”ìœ„ê°€ ì˜ëª» ì„¤ì •ë˜ì–´ ë°ì´í„° ì ‘ê·¼ ì‹¤íŒ¨ë‚˜ ë³´ì•ˆ ìœ„í˜‘ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì •ë ¬ ìš”êµ¬ì‚¬í•­ í™•ì¸** (`AlignmentRequired`):  \n   ë””ìŠ¤í¬ê°€ ë½ ë²”ìœ„ë¥¼ ì •ë ¬(ì˜ˆ: 4KB ë‹¨ìœ„ë¡œ ì •ë ¬)í•´ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\n2. **ë…¼ë¦¬ ë¸”ë¡ í¬ê¸° ì œê³µ** (`LogicalBlockSize`):  \n   ë””ìŠ¤í¬ì˜ í•œ ë¸”ë¡ì´ ëª‡ ë°”ì´íŠ¸ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤ (ì˜ˆ: 512B, 4096B ë“±).\n\n3. **ì •ë ¬ ë‹¨ìœ„ ì§€ì •** (`AlignmentGranularity`):  \n   ì •ë ¬ì„ ìœ„í•´ ëª‡ ê°œì˜ ë…¼ë¦¬ ë¸”ë¡ì´ ë¬¶ì—¬ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤ (ì˜ˆ: 8ê°œ ë¸”ë¡ ë‹¨ìœ„).\n\n4. **ìµœì†Œ ì •ë ¬ëœ LBA ì§€ì •** (`LowestAlignedLBA`):  \n   ë””ìŠ¤í¬ ìƒì—ì„œ ì •ë ¬ ë‹¨ìœ„ì˜ ì‹œì‘ ì§€ì ì´ ì–´ë””ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤. ì´ëŠ” ë½ ë²”ìœ„ë¥¼ ì„¤ì •í•  ë•Œ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì •í™•íˆ ê³„ì‚°í•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`LockingInfo` í…Œì´ë¸”ì€ ì•„ë˜ 4ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, **ëª¨ë‘ ì½ê¸° ì „ìš©**(read-only)ì…ë‹ˆë‹¤.\n\n| ì»¬ëŸ¼ëª…              | ì„¤ëª…                                                                 | ì ‘ê·¼ ê¶Œí•œ          |\n|---------------------|----------------------------------------------------------------------|-------------------|\n| **AlignmentRequired** | ë½ ë²”ìœ„ ì •ë ¬ì´ í•„ìš”í•œì§€ ì—¬ë¶€ (TRUE/FALSE)                           | Anybody (ì½ê¸° ê°€ëŠ¥) |\n| **LogicalBlockSize**  | í•œ ë…¼ë¦¬ ë¸”ë¡ì˜ í¬ê¸° (ë°”ì´íŠ¸ ë‹¨ìœ„)                                   | Anybody (ì½ê¸° ê°€ëŠ¥) |\n| **AlignmentGranularity** | ì •ë ¬ì„ ìœ„í•œ ë…¼ë¦¬ ë¸”ë¡ ê·¸ë£¹ í¬ê¸° (ì˜ˆ: 8ê°œ ë¸”ë¡)                     | Anybody (ì½ê¸° ê°€ëŠ¥) |\n| **LowestAlignedLBA**  | ì •ë ¬ ë‹¨ìœ„ì˜ ì‹œì‘ LBA (ì˜ˆ: 0, 1024, 2048 ë“±)                         | Anybody (ì½ê¸° ê°€ëŠ¥) |\n\n> ğŸ’¡ **ì°¸ê³ **: ì´ í…Œì´ë¸”ì€ TCG Opal í‘œì¤€ì˜ ê¸°ë³¸ í…Œì´ë¸” ì¤‘ í•˜ë‚˜ë¡œ, **ëª¨ë“  Opal ì¥ì¹˜ì—ì„œ ë°˜ë“œì‹œ ì œê³µí•´ì•¼ í•¨** (Mandatory). ë˜í•œ, **í˜¸ìŠ¤íŠ¸ëŠ” ìˆ˜ì • ë¶ˆê°€ëŠ¥** (SHALL NOT be modifiable).\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- `AlignmentRequired`, `LogicalBlockSize`, `AlignmentGranularity`, `LowestAlignedLBA`ëŠ” ëª¨ë‘ **ì½ê¸° ì „ìš©**ì´ì–´ì•¼ í•¨.\n- **í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ìŒ**.\n- **ëª¨ë“  ì‚¬ìš©ì(Anybody)**ê°€ ì´ ê°’ì„ ì½ì„ ìˆ˜ ìˆì–´ì•¼ í•¨ (ì¦‰, ë³´ì•ˆ ë ˆë²¨ì— ê´€ê³„ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥).\n- `MaxRanges`ëŠ” ìµœì†Œ 8ê°œ ì´ìƒì˜ ë½ ë²”ìœ„ë¥¼ ì§€ì›í•´ì•¼ í•¨ (Table 44 ì°¸ì¡°).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì½ê¸° ì „ìš©**: í˜¸ìŠ¤íŠ¸ê°€ ì´ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, **ì˜ë„ì ì¸ ë˜ëŠ” ì‚¬ê³ ì ì¸ ë³€ê²½**ìœ¼ë¡œ ì¸í•œ ë³´ì•ˆ ì·¨ì•½ì  ë°©ì§€.\n- **ê³µê°œ ì ‘ê·¼**: `Anybody`ê°€ ì½ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€, ì´ ì •ë³´ê°€ **ë³´ì•ˆ ì§€ì ì´ ì•„ë‹˜**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  \n  â†’ **ë³´ì•ˆì´ í•„ìš”í•œ ì •ë³´ëŠ” ì—¬ê¸°ì— í¬í•¨ë˜ì§€ ì•ŠìŒ** (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸, í‚¤ ë“±ì€ ë³„ë„ í…Œì´ë¸”ì— ì €ì¥ë¨).\n- **ì •í™•ì„± ë³´ì¥**: ì •í™•í•œ ì •ë ¬ ì •ë³´ë¥¼ ì œê³µí•˜ì—¬, **ì˜ëª»ëœ ë½ ë²”ìœ„ ì„¤ì •ìœ¼ë¡œ ì¸í•œ ë°ì´í„° ì†ì‹¤ì´ë‚˜ ì ‘ê·¼ ì‹¤íŒ¨ ë°©ì§€**.\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\nLockingInfo í…Œì´ë¸”ì´ ì •ì˜ëœ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì˜¬ë°”ë¥´ê²Œ ì œê³µë˜ê³ , ìˆ˜ì •ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸ë˜ê³  ìˆëŠ”ì§€ ê²€ì¦.\n\n#### ğŸ§© **í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**\n\n1. **LockingInfo í…Œì´ë¸” ì½ê¸° í…ŒìŠ¤íŠ¸**  \n   â†’ ëª¨ë“  ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ê³ , ìœ íš¨í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸.\n\n2. **ì½ê¸° ì „ìš© í…ŒìŠ¤íŠ¸**  \n   â†’ `Write` ëª…ë ¹ì–´ë¡œ LockingInfo ì»¬ëŸ¼ ìˆ˜ì • ì‹œ ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ í™•ì¸.\n\n3. **ì •ë ¬ ì •ë³´ ì¼ê´€ì„± ê²€ì¦**  \n   â†’ `LowestAlignedLBA`, `AlignmentGranularity`, `LogicalBlockSize`ì„ ì‚¬ìš©í•´ ì‹¤ì œ ë½ ë²”ìœ„ê°€ ì •ë ¬ëœ ìœ„ì¹˜ì¸ì§€ ê³„ì‚°í•˜ì—¬ ê²€ì¦.\n\n4. **Min Range ìˆ˜ ê²€ì¦**  \n   â†’ `MaxRanges`ê°€ ìµœì†Œ 8 ì´ìƒì¸ì§€ í™•ì¸ (Table 44 ê¸°ì¤€).\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ì •: pyopal ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (ì‹¤ì œ ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ, ì˜ˆì‹œìš©)\n\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ì´ˆê¸°í™”\ndevice = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n\n# ì„¸ì…˜ ì‹œì‘ (ì˜ˆ: Admin Session)\ndevice.start_session(\"admin_password\", \"admin\", \"admin\")\n\n@pytest.fixture\ndef locking_info():\n    \"\"\"LockingInfo í…Œì´ë¸”ì„ ì½ì–´ì˜¨ë‹¤.\"\"\"\n    return device.get_locking_info()\n\n@pytest.mark.parametrize(\"column_name, expected_type\", [\n    (\"AlignmentRequired\", bool),\n    (\"LogicalBlockSize\", int),\n    (\"AlignmentGranularity\", int),\n    (\"LowestAlignedLBA\", int),\n])\ndef test_locking_info_columns_exist_and_have_correct_type(locking_info, column_name, expected_type):\n    \"\"\"LockingInfo ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ê³ , ì˜¬ë°”ë¥¸ íƒ€ì…ì¸ì§€ ê²€ì¦\"\"\"\n    assert column_name in locking_info, f\"Column {column_name} not found in LockingInfo\"\n    assert isinstance(locking_info[column_name], expected_type), f\"{column_name} is not of type {expected_type}\"\n\n@pytest.mark.parametrize(\"column_name\", [\n    \"AlignmentRequired\",\n    \"LogicalBlockSize\",\n    \"AlignmentGranularity\",\n    \"LowestAlignedLBA\"\n])\ndef test_locking_info_columns_are_read_only(locking_info, column_name):\n    \"\"\"LockingInfo ì»¬ëŸ¼ì´ ìˆ˜ì • ë¶ˆê°€ëŠ¥í•œì§€ ê²€ì¦\"\"\"\n    with pytest.raises(Exception) as exc_info:\n        device.set_locking_info({column_name: \"invalid_value\"})\n    assert \"Access denied\" in str(exc_info.value) or \"Write not allowed\" in str(exc_info.value)\n\ndef test_alignment_consistency(locking_info):\n    \"\"\"ì •ë ¬ ì •ë³´ ì¼ê´€ì„± ê²€ì¦\"\"\"\n    # ì˜ˆ: AlignmentGranularity * LogicalBlockSize = ì •ë ¬ ë‹¨ìœ„ ë°”ì´íŠ¸ í¬ê¸°\n    alignment_bytes = locking_info[\"AlignmentGranularity\"] * locking_info[\"LogicalBlockSize\"]\n    # LowestAlignedLBAê°€ ì •ë ¬ ë‹¨ìœ„ì˜ ë°°ìˆ˜ì—¬ì•¼ í•¨\n    assert locking_info[\"LowestAlignedLBA\"] % alignment_bytes == 0, \"LowestAlignedLBA is not aligned to alignment granularity\"\n\ndef test_max_ranges_minimum():\n    \"\"\"MaxRangesê°€ ìµœì†Œ 8 ì´ìƒì¸ì§€ ê²€ì¦\"\"\"\n    max_ranges = device.get_locking_ranges_max()\n    assert max_ranges >= 8, f\"MaxRanges must be at least 8, but got {max_ranges}\"\n```\n\n---\n\n### ğŸ§­ **TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ ê²€ì¦ ë°©ë²•**\n\n1. **StartSession**  \n   â†’ `Admin` ë˜ëŠ” `User` ì„¸ì…˜ìœ¼ë¡œ ì—°ê²° (ì˜ˆ: `StartSession(Admin, \"admin_password\")`)\n\n2. **GetLockingInfo**  \n   â†’ `GetLockingInfo()` ëª…ë ¹ì–´ë¡œ LockingInfo í…Œì´ë¸” ì½ê¸° (TCG ëª…ë ¹ì–´ë¡œëŠ” `GET_TABLE` ë˜ëŠ” `GET_LOCKING_INFO` ì‚¬ìš©)\n\n3. **SetLockingInfo (ì‹¤íŒ¨ ì˜ˆìƒ)**  \n   â†’ `SetLockingInfo()`ë¥¼ ì‹œë„í•˜ë©´ `ACCESS_DENIED` ë˜ëŠ” `WRITE_NOT_ALLOWED` ì˜¤ë¥˜ ë°œìƒ\n\n4. **Revert** (ì˜µì…˜)  \n   â†’ í…ŒìŠ¤íŠ¸ í›„ ì¥ì¹˜ ìƒíƒœ ë³µêµ¬ (`Revert()` í˜¸ì¶œ)\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| ê²€ì¦ í•­ëª©               | ê²€ì¦ ë°©ë²•                                                                 |\n|-------------------------|---------------------------------------------------------------------------|\n| **AlignmentRequired**   | TRUE/FALSE ê°’ì´ì–´ì•¼ í•¨. ë…¼ë¦¬ì  ì˜ë¯¸ë¥¼ í™•ì¸ (ì˜ˆ: TRUEë©´ ì •ë ¬ í•„ìš”)           |\n| **LogicalBlockSize**    | ì¼ë°˜ì ì¸ ê°’ (512, 4096 ë“±)ì¸ì§€ í™•ì¸. ë””ìŠ¤í¬ ì‚¬ì–‘ê³¼ ì¼ì¹˜í•´ì•¼ í•¨             |\n| **AlignmentGranularity**| ì •ìˆ˜ì´ì–´ì•¼ í•˜ë©°, 1 ì´ìƒ. ì˜ˆ: 8, 16, 32 ë“±                                  |\n| **LowestAlignedLBA**    | `LogicalBlockSize * AlignmentGranularity`ì˜ ë°°ìˆ˜ì—¬ì•¼ í•¨ (ì •ë ¬ ì¡°ê±´)        |\n| **MaxRanges**           | í…Œì´ë¸” 44 ê¸°ì¤€ ìµœì†Œ 8 ì´ìƒì´ì–´ì•¼ í•¨ (ë³„ë„ ëª…ë ¹ì–´ë¡œ í™•ì¸)                    |\n\n---\n\n### âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\n**LockingInfo í…Œì´ë¸”**ì€ TCG Opalì˜ Locking SPì—ì„œ ë½ ë²”ìœ„ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•œ **ê¸°ì´ˆì ì¸ ë©”íƒ€ ì •ë³´**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.  \n- **ì½ê¸° ì „ìš©**ì´ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ê°€ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë©°, ë³´ì•ˆ ìœ„í˜‘ì„ ë°©ì§€í•©ë‹ˆë‹¤.  \n- **ì •ë ¬ ì—¬ë¶€, ë¸”ë¡ í¬ê¸°, ì •ë ¬ ë‹¨ìœ„, ì‹œì‘ LBA** ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬, ë½ ë²”ìœ„ë¥¼ ì •í™•íˆ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.  \n- **ëª¨ë“  ì‚¬ìš©ì**ê°€ ì½ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì´ ì •ë³´ëŠ” ë³´ì•ˆ ë¯¼ê° ì •ë³´ê°€ ì•„ë‹˜.  \n- í…ŒìŠ¤íŠ¸ëŠ” **ì½ê¸° ê°€ëŠ¥ ì—¬ë¶€, ìˆ˜ì • ë¶ˆê°€ëŠ¥ì„±, ì •ë ¬ ì¼ê´€ì„±, ìµœì†Œ ë²”ìœ„ ìˆ˜**ë¥¼ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.  \n- ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” **StartSession â†’ GetLockingInfo â†’ SetLockingInfo(ì‹¤íŒ¨) â†’ Revert** ìˆœìœ¼ë¡œ ì§„í–‰ ê°€ëŠ¥í•˜ë©°, Python + pytestë¡œ ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ í•­ëª©: ì˜ˆ (ëª¨ë“  í•­ëª© ê²€ì¦ ê°€ëŠ¥)**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜: ì½ê¸° ì „ìš©, ì ‘ê·¼ ì œì–´, ì¼ê´€ì„± ìœ ì§€**  \nâœ… **ì´ˆë³´ì ì„¤ëª…: ëª…í™•í•œ ëª©ì ê³¼ ê¸°ëŠ¥ ì„¤ëª… ì œê³µ**\n\n---\n\n## âœ… ìµœì¢… ë‹µë³€: **ë³¸ë¬¸ì— ëŒ€í•œ ì„¤ëª…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. Test Caseì™€ ì½”ë“œ ì˜ˆì‹œë„ ì œê³µë¨.**"
    },
    {
        "section_order": 124,
        "level": 4,
        "section_id": "4.3.5.2",
        "section_key": "4.3.5.2 Locking (M)",
        "title": "Locking (M)",
        "start_page": 86,
        "end_page": 87,
        "page_count": 2,
        "content_md": "## 4.3.5.2 Locking (M)\n\nTable 45 contains Optional rows designated with (O).  \n*LT1 means that the ActiveKey can be a K_AES_128 object reference (UID) or a K_AES_256 object reference (UID)  \n*LT2 means that only a limited set of LockOnReset values is required to be supported by Opal SSC compliant Storage Devices. Refer to section 4.3.5.2.2 for details.\n\n### Table 45 - Locking SP - Locking Table Preconfiguration\n\n### Table 45 - Locking SP - Locking Table Preconfiguration (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 45"
        ],
        "section_table": [
            [
                "|-----|------|------------|------------|-------------|-----------------|------------------|------------|-------------|-------------|-----------|---------|----------------|------------------|------------|------------|-------------|------------------|----------------|---------------|",
                "| UID | Name | CommonName | RangeStart | RangeLength | ReadLockEnabled | WriteLockEnabled | ReadLocked | WriteLocked | LockOnReset | ActiveKey | NextKey | ReEncryptState | ReEncryptRequest | AdvKeyMode | VerifyMode | ContOnReset | LastReEncryptLBA | LastReEncState | GeneralStatus |",
                "| 00 00 08 02 00 00 00 01 | \"Locking_GlobalRange\" | \"\" | 0 | 0 | F | F | F | F | Power Cycle *LT2 | K_AES_128[256] GlobalRange_Key *LT1 |  |  |  |  |  |  |  |  |",
                "| 00 00 08 02 00 00 00 01 | \"Locking_Range1\" | \"\" | 0 | 0 | F | F | F | F | Power Cycle *LT2 | K_AES_128[256] Range1_Key *LT1 |  |  |  |  |  |  |  |  |",
                "| UID | Name | CommonName | RangeStart | RangeLength | ReadLockEnabled | WriteLockEnabled | ReadLocked | WriteLocked | LockOnReset | ActiveKey | NextKey | ReEncryptState | ReEncryptRequest | AdvKeyMode | VerifyMode | ContOnReset | LastReEncryptLBA | LastReEncState | GeneralStatus |",
                "| 00 00 08 02 00 03 NN NN | \"Locking_RangeNNNN\" | \"\" | 0 | 0 | F | F | F | F | Power Cycle *LT2 | K_AES_128[256] RangeNNNN_Key *LT1 | | | | | | | | | |"
            ]
        ],
        "summary": "## 4.3.5.2 Locking (M) - TCG Opal ë³´ì•ˆ ìŠ¤í™ ì„¤ëª… (ì´ˆë³´ììš© ìƒì„¸ ì•ˆë‚´)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì˜ **4.3.5.2 Locking (M)** ì„¹ì…˜ì€ **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ ë‚´ íŠ¹ì • ë°ì´í„° ë²”ìœ„(ë˜ëŠ” ì „ì²´ ë””ìŠ¤í¬)ì— ëŒ€í•œ ì½ê¸°/ì“°ê¸° ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ê¸°ëŠ¥**ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ **ë³´ì•ˆ í‚¤ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ì— ì ‘ê·¼ì„ ë½/ì–¸ë½í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜**ì„ ì œê³µí•˜ë©°, íŠ¹íˆ **ì¥ì¹˜ ì¬ì‹œì‘ ì‹œ ìë™ ë½**(LockOnReset) ë“±ì˜ ë³´ì•ˆ ì •ì±…ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì¦‰, ì´ ì„¹ì…˜ì€ **ë””ìŠ¤í¬ì˜ íŠ¹ì • ì˜ì—­ì„ ë³´í˜¸í•˜ê³ , í‚¤ë¥¼ í†µí•´ ì ‘ê·¼ì„ ì œì–´í•˜ë©°, ì¥ì¹˜ ì¬ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ë½ ìƒíƒœë¡œ ì „í™˜í•˜ëŠ” ê¸°ëŠ¥**ì„ ê·œì •í•©ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ì½ê¸°/ì“°ê¸° ë½ ì œì–´ (ReadLockEnabled, WriteLockEnabled)**\n   - íŠ¹ì • ë²”ìœ„ì— ëŒ€í•´ ì½ê¸° ë˜ëŠ” ì“°ê¸° ê¶Œí•œì„ ë½í•  ìˆ˜ ìˆìŒ.\n   - ì˜ˆ: `ReadLockEnabled = T` â†’ ì½ê¸° ì ‘ê·¼ ë¶ˆê°€, `WriteLockEnabled = T` â†’ ì“°ê¸° ì ‘ê·¼ ë¶ˆê°€.\n\n2. **ì¦‰ì‹œ ë½ ìƒíƒœ (ReadLocked, WriteLocked)**\n   - í˜„ì¬ ìƒíƒœê°€ ë½ ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í‘œì‹œ.\n   - ì´ëŠ” í‚¤ë¥¼ í†µí•´ ë½/ì–¸ë½ ìƒíƒœë¥¼ ì „í™˜í•œ í›„ ì¦‰ì‹œ ë°˜ì˜ë¨.\n\n3. **ì¬ì‹œì‘ ì‹œ ìë™ ë½ (LockOnReset)**\n   - ì¥ì¹˜ê°€ ì¬ì‹œì‘ë  ë•Œ ìë™ìœ¼ë¡œ ë½ ìƒíƒœë¡œ ì „í™˜.\n   - ì˜ˆ: `Power Cycle` â†’ ì „ì› ì¬ì‹œì‘ ì‹œ ìë™ ë½.\n\n4. **í™œì„± í‚¤ ì§€ì • (ActiveKey)**\n   - í•´ë‹¹ ë²”ìœ„ì˜ ì•”í˜¸í™” í‚¤ë¥¼ ì§€ì • (K_AES_128 ë˜ëŠ” K_AES_256).\n   - í‚¤ëŠ” UIDë¡œ ì°¸ì¡°ë˜ë©°, ì´ í‚¤ë¡œ ë½/ì–¸ë½ ë° ì•”í˜¸í™”/ë³µí˜¸í™” ìˆ˜í–‰.\n\n5. **ì¬ì•”í˜¸í™” ê¸°ëŠ¥ (ReEncryptState, ReEncryptRequest)**\n   - í‚¤ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¬ì•”í˜¸í™”í•  ìˆ˜ ìˆìŒ.\n   - `ReEncryptRequest`ê°€ `T`ì¼ ë•Œ ì¬ì•”í˜¸í™” ì‹œì‘, `ReEncryptState`ëŠ” ì§„í–‰ ìƒíƒœ.\n\n6. **ê³ ê¸‰ í‚¤ ëª¨ë“œ (AdvKeyMode) ë° ê²€ì¦ ëª¨ë“œ (VerifyMode)**\n   - í‚¤ ê²€ì¦ ë°©ì‹ì´ë‚˜ í‚¤ ê´€ë¦¬ ë°©ì‹ì„ ì„¤ì • ê°€ëŠ¥.\n\n7. **ë²”ìœ„ ê¸°ë°˜ ë³´ì•ˆ (RangeStart, RangeLength)**\n   - íŠ¹ì • LBA ë²”ìœ„ì—ë§Œ ë½ì„ ì ìš© ê°€ëŠ¥ (ì „ì²´ ë””ìŠ¤í¬ ë˜ëŠ” ì¼ë¶€ ì˜ì—­).\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Table 45)**\n\në‹¤ìŒì€ Table 45ì˜ ì£¼ìš” í•„ë“œ ì„¤ëª…ì…ë‹ˆë‹¤:\n\n| í•„ë“œëª… | ì„¤ëª… |\n|--------|------|\n| **UID** | ê³ ìœ  ì‹ë³„ì. ì˜ˆ: `00 00 08 02 00 00 00 01` â†’ ì „ì—­ ë½ ë²”ìœ„ |\n| **Name** | í…Œì´ë¸” ì´ë¦„ (ì˜ˆ: `\"Locking_GlobalRange\"`) |\n| **CommonName** | ì¼ë°˜ ì´ë¦„ (ë¹ˆ ë¬¸ìì—´ë¡œ í‘œì‹œë¨) |\n| **RangeStart** | ë½ ë²”ìœ„ ì‹œì‘ LBA (Logical Block Address) |\n| **RangeLength** | ë½ ë²”ìœ„ ê¸¸ì´ (0ì€ ì „ì²´ ë””ìŠ¤í¬) |\n| **ReadLockEnabled** | ì½ê¸° ë½ ê°€ëŠ¥ ì—¬ë¶€ (T/F) |\n| **WriteLockEnabled** | ì“°ê¸° ë½ ê°€ëŠ¥ ì—¬ë¶€ (T/F) |\n| **ReadLocked** | í˜„ì¬ ì½ê¸° ë½ ìƒíƒœ (T/F) |\n| **WriteLocked** | í˜„ì¬ ì“°ê¸° ë½ ìƒíƒœ (T/F) |\n| **LockOnReset** | ì¬ì‹œì‘ ì‹œ ìë™ ë½ ì„¤ì • (ì˜ˆ: `Power Cycle`) |\n| **ActiveKey** | í™œì„± í‚¤ (K_AES_128[256] + í‚¤ UID) |\n| **NextKey** | ë‹¤ìŒ í‚¤ (í‚¤ ì „í™˜ ì‹œ ì‚¬ìš©) |\n| **ReEncryptState** | ì¬ì•”í˜¸í™” ìƒíƒœ (ì˜ˆ: `Idle`, `InProgress`, `Complete`) |\n| **ReEncryptRequest** | ì¬ì•”í˜¸í™” ìš”ì²­ ì—¬ë¶€ (T/F) |\n| **AdvKeyMode** | ê³ ê¸‰ í‚¤ ëª¨ë“œ ì„¤ì • |\n| **VerifyMode** | í‚¤ ê²€ì¦ ëª¨ë“œ |\n| **ContOnReset** | ì¬ì‹œì‘ í›„ ì§€ì† ì—¬ë¶€ (ì˜ˆ: `Continue`) |\n| **LastReEncryptLBA** | ë§ˆì§€ë§‰ ì¬ì•”í˜¸í™”ëœ LBA ìœ„ì¹˜ |\n| **LastReEncState** | ë§ˆì§€ë§‰ ì¬ì•”í˜¸í™” ìƒíƒœ |\n| **GeneralStatus** | ì¼ë°˜ ìƒíƒœ (ì˜ˆ: `OK`, `Error`) |\n\n> ğŸ’¡ **ì£¼ì˜**: `RangeStart`ì™€ `RangeLength`ê°€ 0ì´ë©´ ì „ì²´ ë””ìŠ¤í¬ë¥¼ ì˜ë¯¸í•˜ë©°, `LockOnReset`ì€ `Power Cycle`ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤ (LT2 ìš”êµ¬ì‚¬í•­).\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n- **M (Mandatory)**: ì´ ì„¹ì…˜ì€ **TCG Opal SSC v2.30ì—ì„œ í•„ìˆ˜ ì§€ì› í•­ëª©**ì…ë‹ˆë‹¤.\n- **LT1**: ActiveKeyëŠ” K_AES_128 ë˜ëŠ” K_AES_256 í‚¤ë¥¼ ì°¸ì¡°í•´ì•¼ í•¨.\n- **LT2**: LockOnResetì€ **ìµœì†Œ `Power Cycle`**ë§Œ ì§€ì›í•´ì•¼ í•¨ (ì„ íƒì  í•­ëª©ì€ í•„ìš” ì—†ìŒ).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n1. **í‚¤ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**\n   - ì‚¬ìš©ìê°€ í‚¤ë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ ë½ëœ ì˜ì—­ì— ì ‘ê·¼ ë¶ˆê°€.\n   - í‚¤ëŠ” AES-128 ë˜ëŠ” AES-256ìœ¼ë¡œ ì•”í˜¸í™”ëœ ë°ì´í„°ë¥¼ ë³µí˜¸í™”í•  ìˆ˜ ìˆìŒ.\n\n2. **ìë™ ë½ (LockOnReset)**\n   - ì¥ì¹˜ ì¬ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ë½ ìƒíƒœë¡œ ì „í™˜ â†’ **ë¬¼ë¦¬ì  ì ‘ê·¼ ë°©ì§€**.\n\n3. **ì¬ì•”í˜¸í™” (ReEncrypt)**\n   - í‚¤ ë³€ê²½ ì‹œ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ìƒˆ í‚¤ë¡œ ì¬ì•”í˜¸í™” â†’ **í‚¤ ë³€ê²½ ì‹œ ë°ì´í„° ë³´ì•ˆ ìœ ì§€**.\n\n4. **ë²”ìœ„ ê¸°ë°˜ ë³´ì•ˆ**\n   - íŠ¹ì • ì˜ì—­ë§Œ ë³´í˜¸ ê°€ëŠ¥ â†’ ì˜ˆ: ì‹œìŠ¤í…œ íŒŒí‹°ì…˜ ë½, ë°ì´í„° íŒŒí‹°ì…˜ ë½.\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\n- Locking í…Œì´ë¸”ì˜ í•„ë“œê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- ActiveKeyë¡œ ë½/ì–¸ë½ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.\n- LockOnResetì´ ì¬ì‹œì‘ ì‹œ ìë™ ë½ì„ ì ìš©í•˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ§ª **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\nì•„ë˜ëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ Locking ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì˜ˆì‹œ ì½”ë“œì…ë‹ˆë‹¤.\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒì˜ TCG Opal Python ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ êµ¬í˜„ í•„ìš”)\nfrom pyopal.exceptions import OpalError\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì—°ê²°\"\"\"\n    dev = OpalDevice(\"/dev/sda\")\n    dev.start_session(\"user\", \"password\")  # ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘\n    yield dev\n    dev.revert()  # ì„¸ì…˜ ì¢…ë£Œ í›„ ë³µì›\n\n@pytest.mark.parametrize(\"range_start, range_length\", [\n    (0, 0),  # ì „ì²´ ë””ìŠ¤í¬\n    (100, 50)  # íŠ¹ì • ë²”ìœ„\n])\ndef test_locking_table_configuration(opal_device, range_start, range_length):\n    \"\"\"Locking Table ì„¤ì • í…ŒìŠ¤íŠ¸\"\"\"\n    table = opal_device.get_locking_table()\n    assert table[0][\"UID\"] == \"00 00 08 02 00 00 00 01\"  # GlobalRange\n    assert table[0][\"RangeStart\"] == range_start\n    assert table[0][\"RangeLength\"] == range_length\n    assert table[0][\"LockOnReset\"] == \"Power Cycle\"\n    assert \"K_AES_128\" in table[0][\"ActiveKey\"] or \"K_AES_256\" in table[0][\"ActiveKey\"]\n\ndef test_lock_unlock_with_active_key(opal_device):\n    \"\"\"í™œì„± í‚¤ë¥¼ ì‚¬ìš©í•œ ë½/ì–¸ë½ í…ŒìŠ¤íŠ¸\"\"\"\n    # ë½ ìƒíƒœ ì„¤ì •\n    opal_device.lock_range(\"GlobalRange\", read_lock=True, write_lock=True)\n    \n    # ìƒíƒœ í™•ì¸\n    status = opal_device.get_locking_status(\"GlobalRange\")\n    assert status[\"ReadLocked\"] is True\n    assert status[\"WriteLocked\"] is True\n\n    # ì–¸ë½\n    opal_device.unlock_range(\"GlobalRange\", key_id=\"K_AES_128[256] GlobalRange_Key\")\n\n    # ìƒíƒœ í™•ì¸\n    status = opal_device.get_locking_status(\"GlobalRange\")\n    assert status[\"ReadLocked\"] is False\n    assert status[\"WriteLocked\"] is False\n\ndef test_reencrypt_request_and_state(opal_device):\n    \"\"\"ì¬ì•”í˜¸í™” ìš”ì²­ ë° ìƒíƒœ ê²€ì¦\"\"\"\n    # ì¬ì•”í˜¸í™” ìš”ì²­\n    opal_device.request_reencrypt(\"GlobalRange\")\n\n    # ìƒíƒœ í™•ì¸\n    status = opal_device.get_locking_status(\"GlobalRange\")\n    assert status[\"ReEncryptRequest\"] is True\n    assert status[\"ReEncryptState\"] == \"InProgress\"\n\n    # ì™„ë£Œ ëŒ€ê¸° (ì‹¤ì œ ì¥ì¹˜ì—ì„œëŠ” ì‹œê°„ ì§€ì—° í•„ìš”)\n    import time\n    time.sleep(5)  # ê°€ì •: ì¬ì•”í˜¸í™” ì™„ë£Œ\n\n    status = opal_device.get_locking_status(\"GlobalRange\")\n    assert status[\"ReEncryptState\"] == \"Complete\"\n\ndef test_lock_on_reset_after_power_cycle(opal_device):\n    \"\"\"ì¬ì‹œì‘ í›„ ìë™ ë½ í…ŒìŠ¤íŠ¸\"\"\"\n    # ì¥ì¹˜ë¥¼ ì¬ì‹œì‘í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œë¡œëŠ” í•˜ë“œì›¨ì–´ ì¬ì‹œì‘ í•„ìš”)\n    # ì—¬ê¸°ì„œëŠ” í…ŒìŠ¤íŠ¸ ì¥ì¹˜ê°€ ì¬ì‹œì‘ í›„ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •\n    opal_device.simulate_power_cycle()\n\n    # ì¬ì‹œì‘ í›„ ìƒíƒœ í™•ì¸\n    status = opal_device.get_locking_status(\"GlobalRange\")\n    assert status[\"ReadLocked\"] is True  # LockOnReset í›„ ìë™ ë½\n    assert status[\"WriteLocked\"] is True\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **UID ê²€ì¦**\n   - `UID`ê°€ ì •í™•í•œ 8ë°”ì´íŠ¸ í˜•ì‹ì¸ì§€ í™•ì¸.\n   - ì˜ˆ: `\"00 00 08 02 00 00 00 01\"` â†’ `0x0000080200000001`.\n\n2. **ActiveKey ê²€ì¦**\n   - `ActiveKey`ê°€ `K_AES_128[256]` í˜•ì‹ì¸ì§€ í™•ì¸.\n   - ì˜ˆ: `K_AES_128[256] GlobalRange_Key`.\n\n3. **LockOnReset ê²€ì¦**\n   - `LockOnReset`ì´ `Power Cycle`ì¸ì§€ í™•ì¸ (LT2 ìš”êµ¬ì‚¬í•­).\n\n4. **ReadLockEnabled/WriteLockEnabled ìƒíƒœ ê²€ì¦**\n   - ì„¤ì • ê°’ì´ `T` ë˜ëŠ” `F`ì¸ì§€ í™•ì¸.\n\n5. **ReEncryptState ê²€ì¦**\n   - `Idle`, `InProgress`, `Complete` ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•¨.\n\n6. **GeneralStatus ê²€ì¦**\n   - `OK` ë˜ëŠ” ì˜¤ë¥˜ ì½”ë“œ ì—¬ë¶€ í™•ì¸.\n\n---\n\n### ğŸ“Œ **ìš”ì•½**\n\n- **ëª©ì **: ë””ìŠ¤í¬ ë²”ìœ„ ê¸°ë°˜ ë½/ì–¸ë½ ë° ì¬ì‹œì‘ ì‹œ ìë™ ë½ ê¸°ëŠ¥ ì œê³µ.\n- **ì£¼ìš” ê¸°ëŠ¥**: í‚¤ ê¸°ë°˜ ì ‘ê·¼ ì œì–´, ìë™ ë½, ì¬ì•”í˜¸í™”, ë²”ìœ„ ì§€ì •.\n- **ë°ì´í„° êµ¬ì¡°**: Table 45ì˜ í•„ë“œëŠ” ë½ ì •ì±…ê³¼ ìƒíƒœë¥¼ ì •ì˜.\n- **ìš”êµ¬ì‚¬í•­**: M í•„ìˆ˜, LT1/2 ì œì•½ì‚¬í•­ ì¡´ì¬.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: í‚¤ ê¸°ë°˜ ì•”í˜¸í™”, ìë™ ë½, ì¬ì•”í˜¸í™”.\n- **ê²€ì¦ ë°©ë²•**: Python + pytestë¡œ Opal ëª…ë ¹ì–´ë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ê°€ëŠ¥.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ TCG Opal ê¸°ë°˜ í•˜ë“œì›¨ì–´ ë³´ì•ˆì—ì„œ í•µì‹¬ì ì¸ **ë°ì´í„° ì ‘ê·¼ ì œì–´ ê¸°ëŠ¥**ì„ ì œê³µí•˜ë©°, **ë³´ì•ˆ ì •ì±…ì˜ ìë™í™”ì™€ í‚¤ ê¸°ë°˜ ì œì–´**ë¥¼ í†µí•´ ë°ì´í„° ìœ ì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤. ì´ˆë³´ìë¼ë„ í…Œì´ë¸” êµ¬ì¡°ì™€ ëª…ë ¹ì–´ë¥¼ ì´í•´í•˜ë©´ ì‰½ê²Œ êµ¬í˜„ ë° ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n--- \n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ Opal ì¥ì¹˜ì™€ ë“œë¼ì´ë²„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•˜ë©°, `pyopal` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì˜ˆì‹œìš©ì…ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ ì‹œ `TCG Opal C++/C API` ë˜ëŠ” `libopal` ë“± ì‹¤ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.**\n\n--- \n\n### âœ… **ìµœì¢… ë‹µë³€:**\n\n**ì´ ì„¹ì…˜ì€ Locking ê¸°ëŠ¥ì„ ì •ì˜í•˜ë©°, ë³´ì•ˆ í‚¤ ê¸°ë°˜ì˜ ì ‘ê·¼ ì œì–´, ìë™ ë½, ì¬ì•”í˜¸í™” ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” Python + pytestë¥¼ ì‚¬ìš©í•˜ì—¬ Opal ëª…ë ¹ì–´ë¡œ ë½/ì–¸ë½, ì¬ì•”í˜¸í™”, ìë™ ë½ ê¸°ëŠ¥ì„ ê²€ì¦ ê°€ëŠ¥í•˜ë©°, Table 45ì˜ í•„ë“œë“¤ì€ ëª…í™•íˆ ì •ì˜ë˜ì–´ ìˆì–´ ê²€ì¦ì´ ìš©ì´í•©ë‹ˆë‹¤.**\n\n--- \n\nâœ… **ì¶œë ¥:**\n\n> âœ… **ë‚´ìš©ì—†ìŒ** â†’ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ìˆìŠµë‹ˆë‹¤. ìœ„ì— ìƒì„¸ ì„¤ëª… ì œê³µë¨.**\n\n--- \n\nâœ… **ìµœì¢… ì¶œë ¥:**\n\n> **ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì˜¤ë¥˜. ì •í™•íˆëŠ” \"ë‚´ìš© ìˆìŒ\"ì…ë‹ˆë‹¤.**\n\n---\n\nâš ï¸ **ìµœì¢… ì •ì •:**\n\n> âœ… **ë‚´ìš©ìˆìŒ** â†’ ìƒì„¸ ì„¤ëª… ì œê³µ ì™„ë£Œ.\n\n---\n\nâœ… **ìµœì¢… ë‹µë³€:**\n\n> **ë‚´ìš©ìˆìŒ**"
    },
    {
        "section_order": 125,
        "level": 5,
        "section_id": "4.3.5.2.1",
        "section_key": "4.3.5.2.1 Geometry Reporting Feature Behavior",
        "title": "Geometry Reporting Feature Behavior",
        "start_page": 87,
        "end_page": 87,
        "page_count": 1,
        "content_md": "## 4.3.5.2.1 Geometry Reporting Feature Behavior\nThe following behaviors SHALL be implemented.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5.2.1 Geometry Reporting Feature Behavior\nThe following behaviors SHALL be implemented."
    },
    {
        "section_order": 126,
        "level": 6,
        "section_id": "4.3.5.2.1.1",
        "section_key": "4.3.5.2.1.1 RangeStart Behavior",
        "title": "RangeStart Behavior",
        "start_page": 87,
        "end_page": 87,
        "page_count": 1,
        "content_md": "## 4.3.5.2.1.1 RangeStart Behavior\nThis column value defines the starting LBA value for this range. In non-Global Range rows, this column MAY be modifiable based on access control settings. Changes to this column are subject to the same constraints and checks defined for this column when rows of the Locking table are created (see [2]).\n\nWhen processing a Set method or CreateRow method on the Locking table for a non-Global Range row, if:\na) the AlignmentRequired column in the LockingInfo table is TRUE;\nb) RangeStart is non-zero; and\nc) StartAlignment (see Figure 1) is non-zero,\nthen the method SHALL fail and return an error status code INVALID_PARAMETER.\n\n**Figure 1 - StartAlignment Calculation**\n\n```\nStartAlignment = (RangeStart - LowestAlignedLBA) modulo AlignmentGranularity\nwhere:\nLowestAlignedLBA and AlignmentGranularity are columns in the LockingInfo table (see section 4.3.5.1)\n```",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5.2.1.1 RangeStart Behavior â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ“Œ **ëª©ì  (Purpose)**\n\n`RangeStart`ëŠ” **ì ê¸ˆ ë²”ìœ„**(Locking Range)ì˜ **ì‹œì‘ LBA**(Logical Block Address)ë¥¼ ì •ì˜í•˜ëŠ” í•„ë“œì…ë‹ˆë‹¤.  \nì¦‰, ì´ ê°’ì€ í•˜ë“œë””ìŠ¤í¬ì˜ ì–´ëŠ ìœ„ì¹˜ë¶€í„° ë°ì´í„°ë¥¼ ë³´í˜¸(ì ê¸ˆ)í• ì§€ ì§€ì •í•˜ëŠ” **ê¸°ì¤€ ì§€ì **ì…ë‹ˆë‹¤.\n\nTCG Opal ìŠ¤íƒ€ì¼ì˜ ë³´ì•ˆ ë””ìŠ¤í¬ëŠ” ë°ì´í„°ë¥¼ **LBA ë‹¨ìœ„**ë¡œ ê´€ë¦¬í•˜ë¯€ë¡œ, ì´ ê°’ì€ **ë³´ì•ˆ ë²”ìœ„ì˜ ì‹œì‘ ì§€ì **ì„ ë‚˜íƒ€ë‚´ë©°, ë³´ì•ˆì´ ì ìš©ë˜ëŠ” ë°ì´í„° ì˜ì—­ì˜ ì‹œì‘ì„ ì •í™•íˆ ì§€ì •í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Function)**\n\n- **ë²”ìœ„ ì§€ì •**: ì‚¬ìš©ìê°€ íŠ¹ì • ë°ì´í„° ì˜ì—­ì„ ë³´í˜¸í•˜ê³  ì‹¶ì„ ë•Œ, `RangeStart`ë¥¼ í†µí•´ ê·¸ ì‹œì‘ ì§€ì ì„ ì„¤ì •í•©ë‹ˆë‹¤.\n- **ë™ì  ìˆ˜ì • ê°€ëŠ¥ (ì¡°ê±´ë¶€)**: **Global Rangeê°€ ì•„ë‹Œ** ì¼ë°˜ Rangeì˜ ê²½ìš°, ì ‘ê·¼ ì œì–´ ì„¤ì •ì— ë”°ë¼ ì´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- **ë³´ì•ˆ ì •ì±… ì¼ê´€ì„± ìœ ì§€**: ìƒˆë¡œ í–‰ì„ ìƒì„±í•˜ê±°ë‚˜ ê°’ì„ ë³€ê²½í•  ë•Œ, **ì •ë ¬ ìš”êµ¬ì‚¬í•­**(Alignment)ì„ ê²€ì¦í•˜ì—¬ ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ—‚ï¸ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **í•„ë“œ ì´ë¦„**: `RangeStart`\n- **íƒ€ì…**: 64ë¹„íŠ¸ ì •ìˆ˜ (LBA ê°’)\n- **ìœ„ì¹˜**: `Locking Table`ì˜ ê° í–‰(row)ì— ì¡´ì¬\n- **íŠ¹ì„±**: \n  - `Global Range` í–‰ì—ì„œëŠ” ê³ ì •ë¨ (ìˆ˜ì • ë¶ˆê°€)\n  - `Non-Global Range` í–‰ì—ì„œëŠ” ì ‘ê·¼ ê¶Œí•œì— ë”°ë¼ ìˆ˜ì • ê°€ëŠ¥\n  - ê°’ì€ LBA ì£¼ì†Œì´ë©°, ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì /ë…¼ë¦¬ì  ë¸”ë¡ ì£¼ì†Œë¥¼ ë‚˜íƒ€ëƒ„\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì •ë ¬ ìš”êµ¬ì‚¬í•­ ì²´í¬**:\n   - `LockingInfo` í…Œì´ë¸”ì˜ `AlignmentRequired`ê°€ `TRUE`ì¸ ê²½ìš°,\n   - `RangeStart`ê°€ 0ì´ ì•„ë‹Œ ê²½ìš°,\n   - `StartAlignment`ê°€ 0ì´ ì•„ë‹Œ ê²½ìš° â†’ **ì˜¤ë¥˜ ë°˜í™˜ (INVALID_PARAMETER)**\n\n2. **StartAlignment ê³„ì‚°**:\n   - `StartAlignment = (RangeStart - LowestAlignedLBA) modulo AlignmentGranularity`\n   - `LowestAlignedLBA` ë° `AlignmentGranularity`ëŠ” `LockingInfo` í…Œì´ë¸”ì— ì •ì˜ë¨\n\n3. **ì •ë ¬ ì¡°ê±´ ì¶©ì¡±**:\n   - `StartAlignment == 0`ì´ì–´ì•¼ ì •ìƒ ì²˜ë¦¬ë¨ â†’ ì¦‰, `RangeStart`ê°€ ì •ë ¬ ë‹¨ìœ„ì— ë§ì¶°ì ¸ ìˆì–´ì•¼ í•¨\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- **ì ‘ê·¼ ì œì–´**: `RangeStart` ìˆ˜ì •ì€ ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ ê°€ëŠ¥ (ì˜ˆ: Admin, User ë“±)\n- **ì •ë ¬ ê°•ì œ**: ì •ë ¬ ì¡°ê±´ì„ ê°•ì œí•¨ìœ¼ë¡œì¨, ë³´ì•ˆ ë²”ìœ„ê°€ ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì  êµ¬ì¡°ì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ë³´ì¥\n  - ì˜ˆ: 4KB ì •ë ¬ ë‹¨ìœ„ë¼ë©´, `RangeStart`ëŠ” 4KBì˜ ë°°ìˆ˜ì—¬ì•¼ í•¨\n- **ì…ë ¥ ê²€ì¦**: `Set` ë˜ëŠ” `CreateRow` ì‹œ ì…ë ¥ê°’ ê²€ì¦ì„ í†µí•´ ì˜ëª»ëœ ë²”ìœ„ ì§€ì • ë°©ì§€\n  - ì˜ëª»ëœ ì •ë ¬ â†’ `INVALID_PARAMETER` ì˜¤ë¥˜ â†’ ë³´ì•ˆ ìœ„í—˜ ë°©ì§€\n\n---\n\n## ğŸ§ª **Test Case ì œì‹œ**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n\n- `RangeStart` ê°’ì´ ì •ë ¬ ìš”êµ¬ì‚¬í•­ì— ë¶€í•©í•˜ì§€ ì•Šì„ ë•Œ, `Set` ë˜ëŠ” `CreateRow`ê°€ ì‹¤íŒ¨í•˜ëŠ”ì§€ ê²€ì¦\n- ì •ë ¬ëœ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì„±ê³µí•˜ëŠ”ì§€ ê²€ì¦\n\n---\n\n### âœ… **í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**\n\n#### 1. **ì •ë ¬ ìš”êµ¬ì‚¬í•­ ON + RangeStart = ë¹„ì •ë ¬ ê°’ â†’ ì‹¤íŒ¨**\n- `AlignmentRequired = TRUE`\n- `AlignmentGranularity = 4096` (4KB)\n- `LowestAlignedLBA = 0`\n- `RangeStart = 1024` â†’ `StartAlignment = (1024 - 0) % 4096 = 1024 â‰  0` â†’ **ì‹¤íŒ¨**\n\n#### 2. **ì •ë ¬ ìš”êµ¬ì‚¬í•­ ON + RangeStart = ì •ë ¬ ê°’ â†’ ì„±ê³µ**\n- `RangeStart = 4096` â†’ `StartAlignment = (4096 - 0) % 4096 = 0` â†’ **ì„±ê³µ**\n\n#### 3. **ì •ë ¬ ìš”êµ¬ì‚¬í•­ OFF â†’ ì–´ë–¤ ê°’ë„ í—ˆìš©**\n- `AlignmentRequired = FALSE` â†’ `RangeStart = 1024` â†’ **ì„±ê³µ**\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: OpalClientëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import OPAL_ERROR_INVALID_PARAMETER\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient()\n    client.start_session()  # Admin ì„¸ì…˜ ì‹œì‘\n    yield client\n    client.revert_session()  # ì„¸ì…˜ ì¢…ë£Œ\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì •ë ¬ í•„ìš” + ë¹„ì •ë ¬ ê°’ â†’ ì‹¤íŒ¨\ndef test_range_start_alignment_failure(opal_client):\n    # LockingInfo í…Œì´ë¸” ì„¤ì • (AlignmentRequired = TRUE, AlignmentGranularity = 4096)\n    opal_client.set_locking_info(alignment_required=True, alignment_granularity=4096)\n\n    # ë¹„ì •ë ¬ LBA ê°’ìœ¼ë¡œ RangeStart ì„¤ì • ì‹œë„\n    result = opal_client.set_locking_range(range_start=1024)\n\n    # ì˜¤ë¥˜ ì½”ë“œ í™•ì¸\n    assert result.status == OPAL_ERROR_INVALID_PARAMETER\n    assert result.message == \"INVALID_PARAMETER: RangeStart not aligned\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì •ë ¬ í•„ìš” + ì •ë ¬ ê°’ â†’ ì„±ê³µ\ndef test_range_start_alignment_success(opal_client):\n    opal_client.set_locking_info(alignment_required=True, alignment_granularity=4096)\n\n    # ì •ë ¬ëœ LBA ê°’ìœ¼ë¡œ ì„¤ì •\n    result = opal_client.set_locking_range(range_start=4096)\n\n    assert result.status == 0  # ì„±ê³µ\n    assert result.message == \"OK\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì •ë ¬ í•„ìš” ì—†ìŒ â†’ ì„±ê³µ\ndef test_range_start_no_alignment_required(opal_client):\n    opal_client.set_locking_info(alignment_required=False)\n\n    result = opal_client.set_locking_range(range_start=1024)\n\n    assert result.status == 0  # ì„±ê³µ\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: Global RangeëŠ” ìˆ˜ì • ë¶ˆê°€ (ì¶”ê°€ í…ŒìŠ¤íŠ¸)\ndef test_global_range_range_start_modification_failure(opal_client):\n    # Global Range í–‰ ìƒì„± (ì˜ˆ: Row ID = 0)\n    result = opal_client.set_locking_range(range_id=0, range_start=1024)\n    assert result.status == OPAL_ERROR_INVALID_PARAMETER  # ìˆ˜ì • ë¶ˆê°€\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **LockingInfo í…Œì´ë¸” ì¡°íšŒ**:\n   - `AlignmentRequired`, `AlignmentGranularity`, `LowestAlignedLBA` ê°’ì„ í™•ì¸\n   - ì˜ˆ: `GET_LOCKING_INFO` ëª…ë ¹ì–´ë¡œ ì½ê¸°\n\n2. **Locking Table ì¡°íšŒ**:\n   - `GET_LOCKING_TABLE` ëª…ë ¹ì–´ë¡œ ê° í–‰ì˜ `RangeStart` ê°’ì„ ì½ì–´ì˜´\n   - ë¹„ì •ë ¬ ê°’ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n\n3. **StartAlignment ê³„ì‚° ë° ê²€ì¦**:\n   - `StartAlignment = (RangeStart - LowestAlignedLBA) % AlignmentGranularity`\n   - ê²°ê³¼ê°€ 0ì´ ì•„ë‹Œ ê²½ìš° â†’ **ì •ë ¬ ì˜¤ë¥˜**\n\n4. **í…ŒìŠ¤íŠ¸ í›„ ìƒíƒœ ê²€ì¦**:\n   - `GET_LOCKING_TABLE` í›„, `RangeStart` ê°’ì´ ì˜ˆìƒëŒ€ë¡œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸\n   - ì‹¤íŒ¨ ì‹œ, `RangeStart` ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠìŒì„ í™•ì¸\n\n---\n\n## âœ… **ê²°ë¡  ë° ìš”ì•½**\n\n- `RangeStart`ëŠ” ë³´ì•ˆ ë²”ìœ„ ì‹œì‘ ì§€ì ì„ ì •ì˜\n- `AlignmentRequired`ê°€ `TRUE`ì¼ ë•ŒëŠ” ì •ë ¬ ì¡°ê±´ì„ ë°˜ë“œì‹œ ë§Œì¡±í•´ì•¼ í•¨\n- ì •ë ¬ ë¯¸ì¶©ì¡± ì‹œ `INVALID_PARAMETER` ì˜¤ë¥˜ ë°œìƒ â†’ ë³´ì•ˆ ì •ì±… ìœ ì§€\n- í…ŒìŠ¤íŠ¸ëŠ” ì •ë ¬ ì¡°ê±´ì´ ë§ëŠ”ì§€, ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ”ì§€, í–‰ì´ Globalì¸ì§€ ì—¬ë¶€ ë“±ì„ ê²€ì¦\n- Python + pytestë¡œ ìë™í™” ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥\n\n---\n\nâœ… **ì°¸ê³ **: ì´ ê¸°ëŠ¥ì€ ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì  ì„±ëŠ¥ê³¼ ë³´ì•ˆì„ ë™ì‹œì— ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, **ì •ë ¬ëœ ë²”ìœ„ë¥¼ í†µí•´ ë°ì´í„° ì ‘ê·¼ íš¨ìœ¨ì„±ê³¼ ë³´ì•ˆì„ ë™ì‹œì— í™•ë³´**í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.\n\n---\n\n> âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**  \n> `RangeStart`ëŠ” Opal ë³´ì•ˆ ë””ìŠ¤í¬ì—ì„œ ì ê¸ˆ ë²”ìœ„ì˜ ì‹œì‘ LBAë¥¼ ì§€ì •í•˜ëŠ” í•„ë“œë¡œ, ë³´ì•ˆ ì˜ì—­ì˜ ì‹œì‘ ì§€ì ì„ ì •ì˜í•©ë‹ˆë‹¤. ì¼ë°˜ Rangeì—ì„œëŠ” ì ‘ê·¼ ê¶Œí•œì— ë”°ë¼ ìˆ˜ì • ê°€ëŠ¥í•˜ë©°, `AlignmentRequired`ê°€ `TRUE`ì¼ ê²½ìš° ì •ë ¬ ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ì•Šìœ¼ë©´ `Set` ë˜ëŠ” `CreateRow`ê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤. ì •ë ¬ ì¡°ê±´ì€ `StartAlignment = (RangeStart - LowestAlignedLBA) % AlignmentGranularity == 0`ë¡œ ê²€ì¦ë˜ë©°, ì´ëŠ” ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì  êµ¬ì¡°ì™€ ì¼ì¹˜í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œëŠ” ì ‘ê·¼ ì œì–´ ë° ì…ë ¥ ê²€ì¦ì´ í¬í•¨ë˜ë©°, Python + pytestë¥¼ í†µí•´ ì •ë ¬ ì¡°ê±´ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ `GET_LOCKING_INFO` ë° `GET_LOCKING_TABLE` ëª…ë ¹ì–´ë¥¼ í†µí•´ ìˆ˜í–‰ë˜ë©°, `StartAlignment` ê³„ì‚°ì„ í†µí•´ ì •ë ¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 127,
        "level": 6,
        "section_id": "4.3.5.2.1.2",
        "section_key": "4.3.5.2.1.2 RangeLength Behavior",
        "title": "RangeLength Behavior",
        "start_page": 87,
        "end_page": 88,
        "page_count": 2,
        "content_md": "## 4.3.5.2.1.2 RangeLength Behavior\nThis column value defines the quantity of contiguous LBAs for this LBA range (starting with the value defined in the RangeStart column). In non-Global Range rows, this column MAY be modifiable based on access control settings. Changes to this column are subject to the same constraints and checks defined for this column when rows of the Locking table are created (see [2]).\n### Table 45 - Locking SP - Locking Table Preconfiguration (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 4.3.5.2.1.2 - RangeLength Behavior**\n\n---\n\n## ğŸ” **ê°œìš” ë° ëª©ì **\n\n`RangeLength`ëŠ” **Locking Table** ë‚´ì—ì„œ ì •ì˜ëœ **LBA ë²”ìœ„ì˜ ê¸¸ì´**ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•„ë“œì…ë‹ˆë‹¤. ì´ ê°’ì€ **RangeStart**ì—ì„œ ì‹œì‘í•˜ì—¬ ì—°ì†ì ìœ¼ë¡œ í¬í•¨ë˜ëŠ” **Logical Block Address (LBA)**ì˜ ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ ê°’ì€ í•´ë‹¹ ë½ ë²”ìœ„ê°€ **ì–´ëŠ ë²”ìœ„ì˜ ë°ì´í„°ë¥¼ ë³´í˜¸**í• ì§€ ì •í•˜ëŠ” í•µì‹¬ ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:\n\n- `RangeStart = 0`, `RangeLength = 1000` â†’ LBA 0ë¶€í„° 999ê¹Œì§€ì˜ 1000ê°œì˜ ë¸”ë¡ì´ ë½ ëŒ€ìƒ\n- `RangeStart = 1000`, `RangeLength = 500` â†’ LBA 1000ë¶€í„° 1499ê¹Œì§€ì˜ 500ê°œì˜ ë¸”ë¡ì´ ë½ ëŒ€ìƒ\n\n> **ëª©ì **: ì €ì¥ì¥ì¹˜ì˜ íŠ¹ì • ì˜ì—­ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ LBA ë²”ìœ„ë¥¼ ì •ì˜í•˜ê³ , ê·¸ ê¸¸ì´ë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì¨ ë°ì´í„° ì ‘ê·¼ ì œì–´ì˜ ì •ë°€ë„ë¥¼ ë†’ì„.\n\n---\n\n## ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **LBA ë²”ìœ„ ì •ì˜**: RangeStartì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ íŠ¹ì • ì˜ì—­ì˜ ë½ ë²”ìœ„ë¥¼ ì •ì˜í•¨.\n2. **ê°€ë³€ì„±**: **Non-Global Range** í–‰ì—ì„œëŠ” ì ‘ê·¼ ì œì–´ ì„¤ì •ì— ë”°ë¼ ìˆ˜ì • ê°€ëŠ¥ (MAY be modifiable).\n3. **ì œì•½ ì¡°ê±´**: ë³€ê²½ ì‹œ, Locking Table ìƒì„± ì‹œ ì •ì˜ëœ ë™ì¼í•œ ê²€ì¦ê³¼ ì œì•½ ì¡°ê±´ì„ ë”°ë¼ì•¼ í•¨ (ì˜ˆ: ë²”ìœ„ê°€ ë””ìŠ¤í¬ í¬ê¸°ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šì•„ì•¼ í•¨, ì¤‘ë³µë˜ì§€ ì•Šì•„ì•¼ í•¨ ë“±).\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n- **íƒ€ì…**: ì •ìˆ˜ (ëŒ€ë¶€ë¶„ 64ë¹„íŠ¸ ì •ìˆ˜)\n- **ë‹¨ìœ„**: Logical Block Address (LBA) ìˆ˜ (ë‹¨ìœ„: ë¸”ë¡ ìˆ˜)\n- **ìµœì†Œê°’**: 0 (ë‹¨, 0ì€ ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ â€“ ë¹ˆ ë²”ìœ„)\n- **ìµœëŒ€ê°’**: ë””ìŠ¤í¬ì˜ ì „ì²´ LBA ìˆ˜ - RangeStart (ë²”ìœ„ ì´ˆê³¼ ê¸ˆì§€)\n- **ì†Œì† í…Œì´ë¸”**: Locking Table (Locking SP ë‚´)\n\n---\n\n## ğŸ“Œ **ìš”êµ¬ì‚¬í•­**\n\n1. **ë²”ìœ„ ìœ íš¨ì„± ê²€ì‚¬**:\n   - RangeStart + RangeLength â‰¤ ì „ì²´ ë””ìŠ¤í¬ LBA ìˆ˜\n   - RangeLength â‰¥ 0 (0ì€ í—ˆìš© ì—¬ë¶€ëŠ” êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¦„)\n2. **ì¤‘ë³µ ë°©ì§€**:\n   - ê°™ì€ LBA ë²”ìœ„ê°€ ë‹¤ë¥¸ í–‰ì— ì¤‘ë³µë˜ì§€ ì•Šì•„ì•¼ í•¨.\n3. **ì ‘ê·¼ ì œì–´**:\n   - `Non-Global Range` í–‰ì—ì„œë§Œ ìˆ˜ì • ê°€ëŠ¥ (Global RangeëŠ” ë³€ê²½ ë¶ˆê°€)\n   - ë³€ê²½ ê¶Œí•œì€ ì‚¬ìš©ì ê¶Œí•œ(ì˜ˆ: High Privilege User, Admin)ì— ë”°ë¼ ì œì–´ë¨.\n4. **ë³€ê²½ ì‹œ ê²€ì¦**:\n   - ë³€ê²½ ì‹œ, ìƒì„± ì‹œ ì ìš©ëœ ë™ì¼í•œ ê²€ì¦ ë¡œì§ì„ ê±°ì³ì•¼ í•¨ (ì˜ˆ: ë²”ìœ„ ì¶©ëŒ, ë””ìŠ¤í¬ ê²½ê³„ ì´ˆê³¼ ë“±)\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: Only authorized users (ì˜ˆ: Admin, High Privilege User)ê°€ RangeLengthë¥¼ ìˆ˜ì • ê°€ëŠ¥.\n- **Session ê¸°ë°˜ ë³´í˜¸**: ë³€ê²½ì€ StartSession í›„ ìˆ˜í–‰ë˜ë©°, ì„¸ì…˜ ì¸ì¦ì„ í†µê³¼í•´ì•¼ í•¨.\n- **íŠ¸ëœì­ì…˜ ì¼ê´€ì„±**: ë³€ê²½ì€ Revert ë˜ëŠ” Commitìœ¼ë¡œ ì™„ë£Œë˜ë©°, ì¤‘ê°„ ìƒíƒœëŠ” ë³´í˜¸ë¨.\n- **ë³€ê²½ ì „ ê²€ì¦**: ë³€ê²½ ì‹œ, ë²”ìœ„ ìœ íš¨ì„±, ì¤‘ë³µ ì—¬ë¶€, ì ‘ê·¼ ê¶Œí•œ ë“±ì„ ê²€ì¦.\n- **Global Range ë³´í˜¸**: Global RangeëŠ” ë³€ê²½ ë¶ˆê°€ â†’ ë³´ì•ˆ ì •ì±…ì˜ í•µì‹¬ ì˜ì—­ ë³´í˜¸.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Python + pytest)**\n\në‹¤ìŒì€ `RangeLength`ì˜ ìœ íš¨ì„±ê³¼ ë³€ê²½ ê°€ëŠ¥ì„±ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n### ğŸ“ í…ŒìŠ¤íŠ¸ í™˜ê²½\n- TCG Opal ì¥ì¹˜ (ì˜ˆ: SSD ë˜ëŠ” HDD)\n- Python ë¼ì´ë¸ŒëŸ¬ë¦¬: `pyopal` (ê°€ìƒì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì‹¤ì œëŠ” `pycryptodome`, `pyusb` ë“±ê³¼ ê²°í•© ê°€ëŠ¥)\n- pytest í”„ë ˆì„ì›Œí¬\n\n---\n\n### âœ… **Test Case 1: RangeLength ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ (Non-Global Range)**\n\n```python\nimport pytest\nfrom pyopal import OpalDevice, Session, LockingTable, AccessDeniedError\n\n@pytest.fixture\ndef device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì—°ê²°\"\"\"\n    dev = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    dev.start_session(\"admin\", \"password\", session_type=\"high\")  # Admin ì„¸ì…˜\n    return dev\n\ndef test_range_length_modifiable_non_global(device):\n    \"\"\"Non-Global Rangeì—ì„œ RangeLength ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ í…ŒìŠ¤íŠ¸\"\"\"\n    locking_table = device.get_locking_table()\n    row = locking_table.get_row_by_index(1)  # ì˜ˆ: Non-Global Row\n    assert row.is_non_global()  # Non-Global í–‰ í™•ì¸\n\n    original_length = row.range_length\n    new_length = original_length + 100  # ì¦ê°€ ì‹œë„\n\n    # ë³€ê²½ ì‹œë„\n    row.range_length = new_length\n    device.commit_locking_table()  # ë³€ê²½ ì»¤ë°‹\n\n    # ë³€ê²½ í™•ì¸\n    updated_row = device.get_locking_table().get_row_by_index(1)\n    assert updated_row.range_length == new_length\n\n    # rollback\n    device.revert_locking_table()\n```\n\n---\n\n### âœ… **Test Case 2: RangeLength ë²”ìœ„ ìœ íš¨ì„± ê²€ì‚¬**\n\n```python\ndef test_range_length_out_of_bounds(device):\n    \"\"\"RangeLengthê°€ ë””ìŠ¤í¬ ê²½ê³„ë¥¼ ì´ˆê³¼í•  ê²½ìš° ì˜ˆì™¸ ë°œìƒ\"\"\"\n    locking_table = device.get_locking_table()\n    row = locking_table.get_row_by_index(1)\n    disk_size_lbas = device.get_disk_size_lbas()  # ì „ì²´ LBA ìˆ˜\n\n    # RangeStart + RangeLength > ë””ìŠ¤í¬ í¬ê¸°\n    invalid_length = disk_size_lbas - row.range_start + 1\n\n    with pytest.raises(ValueError) as exc_info:\n        row.range_length = invalid_length\n        device.commit_locking_table()\n\n    assert \"Range exceeds disk boundary\" in str(exc_info.value)\n```\n\n---\n\n### âœ… **Test Case 3: Global Range ë³€ê²½ ë¶ˆê°€**\n\n```python\ndef test_range_length_global_range_unmodifiable(device):\n    \"\"\"Global RangeëŠ” ë³€ê²½ ë¶ˆê°€\"\"\"\n    locking_table = device.get_locking_table()\n    row = locking_table.get_row_by_index(0)  # ì˜ˆ: Global Range\n\n    assert row.is_global()  # Global í™•ì¸\n\n    original_length = row.range_length\n    try:\n        row.range_length = original_length + 1\n        device.commit_locking_table()\n        pytest.fail(\"Global Range ë³€ê²½ì´ í—ˆìš©ë˜ì—ˆìŠµë‹ˆë‹¤.\")\n    except AccessDeniedError:\n        pass  # ì˜ˆìƒë˜ëŠ” ì˜¤ë¥˜\n```\n\n---\n\n### âœ… **Test Case 4: ì¤‘ë³µ ë²”ìœ„ ê²€ì‚¬**\n\n```python\ndef test_range_length_overlap_check(device):\n    \"\"\"ì¤‘ë³µëœ LBA ë²”ìœ„ê°€ ìƒì„±ë˜ì§€ ì•Šë„ë¡ ê²€ì‚¬\"\"\"\n    locking_table = device.get_locking_table()\n\n    # ê¸°ì¡´ í–‰ í™•ì¸\n    existing_row = locking_table.get_row_by_index(1)\n    start1, length1 = existing_row.range_start, existing_row.range_length\n\n    # ì¤‘ë³µ ë²”ìœ„ ìƒì„± ì‹œë„\n    new_row = LockingTableRow(\n        range_start=start1 + 10,  # ê¸°ì¡´ ë²”ìœ„ì™€ ì¤‘ë³µ\n        range_length=50\n    )\n\n    with pytest.raises(ValueError) as exc_info:\n        device.add_locking_row(new_row)\n        device.commit_locking_table()\n\n    assert \"Overlapping range detected\" in str(exc_info.value)\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **í…Œì´ë¸” ì½ê¸°**: `get_locking_table()`ìœ¼ë¡œ ì „ì²´ Locking Tableì„ ì½ìŒ.\n2. **í–‰ ê²€ì¦**:\n   - `range_start + range_length â‰¤ ë””ìŠ¤í¬ ì „ì²´ LBA ìˆ˜`\n   - `range_length â‰¥ 0`\n   - ì¤‘ë³µ ë²”ìœ„ ê²€ì‚¬: ë‘ í–‰ì˜ `[start, start + length]`ê°€ ê²¹ì¹˜ëŠ”ì§€ í™•ì¸\n   - Global/Non-Global ì—¬ë¶€ í™•ì¸ â†’ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ íŒë‹¨\n3. **ë³€ê²½ ì „/í›„ ë¹„êµ**:\n   - ë³€ê²½ ì „ í…Œì´ë¸”ì„ ë°±ì—…\n   - ë³€ê²½ í›„ ë‹¤ì‹œ ì½ì–´ì™€ ë™ì¼í•œ ê°’ì¸ì§€ ë¹„êµ\n   - `Revert` í›„ ì›ë˜ ê°’ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\n- **ëª©ì **: LBA ë²”ìœ„ì˜ ê¸¸ì´ë¥¼ ì •ì˜í•˜ì—¬ ì €ì¥ì¥ì¹˜ì˜ íŠ¹ì • ì˜ì—­ì„ ë³´í˜¸\n- **ì£¼ìš” ê¸°ëŠ¥**: RangeStartì™€ í•¨ê»˜ LBA ë²”ìœ„ ì •ì˜, Non-Global í–‰ì—ì„œ ìˆ˜ì • ê°€ëŠ¥\n- **ë°ì´í„° êµ¬ì¡°**: ì •ìˆ˜í˜•, ë‹¨ìœ„ëŠ” LBA ìˆ˜, ìµœì†Œ 0, ìµœëŒ€ ë””ìŠ¤í¬ ê²½ê³„ ë‚´\n- **ìš”êµ¬ì‚¬í•­**: ë²”ìœ„ ìœ íš¨ì„±, ì¤‘ë³µ ë°©ì§€, ì ‘ê·¼ ì œì–´, ë³€ê²½ ì‹œ ìƒì„± ì‹œì™€ ë™ì¼í•œ ê²€ì¦\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì ‘ê·¼ ì œì–´, Session ê¸°ë°˜ ë³´í˜¸, íŠ¸ëœì­ì…˜ ì¼ê´€ì„±, Global Range ë³´í˜¸\n- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: Python + pytestë¡œ ë²”ìœ„ ìœ íš¨ì„±, ë³€ê²½ ê°€ëŠ¥ì„±, ì¤‘ë³µ, Global ë³€ê²½ ë¶ˆê°€ ë“±ì„ ê²€ì¦ ê°€ëŠ¥\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ ì™„ë£Œ**\n\n---\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ ë“œë¼ì´ë²„ ë° TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ìˆ˜í–‰ë˜ë©°, `StartSession`, `Commit`, `Revert` ë“±ì€ ì‹¤ì œ ì¥ì¹˜ì— ëª…ë ¹ì„ ì „ë‹¬í•˜ëŠ” APIë¥¼ í†µí•´ ì²˜ë¦¬ë©ë‹ˆë‹¤. `pyopal`ì€ ê°€ìƒ ì˜ˆì‹œë¡œ, ì‹¤ì œ êµ¬í˜„ì€ `pyusb` ë˜ëŠ” `pycryptodome`ì™€ ê²°í•©ëœ ì»¤ìŠ¤í…€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš”.\n\n---  \nâœ… **ìµœì¢… ì¶œë ¥: ì„¤ëª… ì™„ë£Œ (ë‚´ìš©ì—†ìŒì´ ì•„ë‹˜)**"
    },
    {
        "section_order": 128,
        "level": 5,
        "section_id": "4.3.5.2.2",
        "section_key": "4.3.5.2.2 LockOnReset Restrictions",
        "title": "LockOnReset Restrictions",
        "start_page": 88,
        "end_page": 88,
        "page_count": 1,
        "content_md": "## 4.3.5.2.2 LockOnReset Restrictions\n\nThe TPer SHALL support the following LockOnReset column values:\n\na) { 0 } (i.e. Power Cycle); and  \nb) { 0, 3 } (i.e. Power Cycle and Programmatic).\n\nAdditionally, the TPer MAY support the following LockOnReset column values:\n\na) { 0, 1 } (i.e. Power Cycle and Hardware Reset); and  \nb) { 0,1, 3 } (i.e. Power Cycle, Hardware Reset and Programmatic).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5.2.2 LockOnReset Restrictions â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **ëª©ì **\n\n`LockOnReset`ì€ TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë³´ì•ˆ ì„¤ì • ì¤‘ í•˜ë‚˜**ë¡œ, ì €ì¥ ì¥ì¹˜ê°€ **ì¬ì‹œì‘ ë˜ëŠ” ë¦¬ì…‹ ì‹œ ìë™ìœ¼ë¡œ ì ê¸°ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥**ì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì¥ì¹˜ê°€ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ì¬ë¶€íŒ…ë˜ê±°ë‚˜, ì•…ì˜ì ì¸ ì ‘ê·¼ìê°€ í•˜ë“œì›¨ì–´ ë¦¬ì…‹ì„ í†µí•´ ì•”í˜¸í™”ëœ ë°ì´í„°ì— ì ‘ê·¼í•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì€ **TPer (Trustable Persistent Entity, ì¦‰ SSD ë“±ì˜ ë³´ì•ˆ ì €ì¥ ì¥ì¹˜)** ê°€ ì–´ë–¤ **ë¦¬ì…‹ ìœ í˜•ì— ëŒ€í•´ LockOnReset ê¸°ëŠ¥ì„ ì§€ì›í•´ì•¼ í•˜ëŠ”ì§€**, ê·¸ë¦¬ê³  ì–´ë–¤ ê²ƒì€ ì„ íƒì ìœ¼ë¡œ ì§€ì›í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n- **ìë™ ì ê¸ˆ ê¸°ëŠ¥**: ì¥ì¹˜ê°€ ì¬ì‹œì‘ë˜ê±°ë‚˜ ë¦¬ì…‹ë  ë•Œ, ì‚¬ì „ì— ì„¤ì •ëœ ì¡°ê±´ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì•”í˜¸í™”ëœ ì˜ì—­ì´ ì ê¹€.\n- **ë¦¬ì…‹ ìœ í˜•ì— ë”°ë¥¸ ì œì–´**: ì–´ë–¤ ë¦¬ì…‹ì´ ë°œìƒí–ˆì„ ë•Œ ì ê¸ˆì´ ì‘ë™í•˜ëŠ”ì§€ ì„ íƒ ê°€ëŠ¥.\n- **ë³´ì•ˆ ê°•í™”**: í•˜ë“œì›¨ì–´ ë¦¬ì…‹ì´ë‚˜ í”„ë¡œê·¸ë˜ë° ë°©ì‹ ë¦¬ì…‹ì„ í†µí•´ ë°ì´í„°ë¥¼ ë¬´ë‹¨ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë°©ì§€.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\n`LockOnReset`ì€ **ì—´(column)** í˜•íƒœë¡œ í‘œí˜„ë˜ë©°, ê° ê°’ì€ **ë¦¬ì…‹ ìœ í˜•**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤:\n\n| ê°’ | ì˜ë¯¸ |\n|----|------|\n| 0  | Power Cycle (ì „ì› ì¬ì‹œì‘) |\n| 1  | Hardware Reset (í•˜ë“œì›¨ì–´ ë¦¬ì…‹, ì˜ˆ: ë¦¬ì…‹ ë²„íŠ¼, BIOS ì¬ë¶€íŒ… ë“±) |\n| 3  | Programmatic (í”„ë¡œê·¸ë¨ì  ë¦¬ì…‹, ì˜ˆ: ì†Œí”„íŠ¸ì›¨ì–´ ëª…ë ¹ìœ¼ë¡œ ì¬ì‹œì‘) |\n\në”°ë¼ì„œ, `LockOnReset` ì—´ì˜ ê°’ì€ ìœ„ ê°’ë“¤ì˜ **ì§‘í•©**ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤ (ì˜ˆ: `{0,3}` â†’ ì „ì› ì¬ì‹œì‘ + í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ì‹œ ì ê¹€).\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­**\n\nTPerëŠ” ë°˜ë“œì‹œ ë‹¤ìŒì„ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤:\n\n- `{0}` â†’ Power Cycle ì‹œ ì ê¹€ (ê¸°ë³¸ ìš”êµ¬ì‚¬í•­)\n- `{0, 3}` â†’ Power Cycle + Programmatic ë¦¬ì…‹ ì‹œ ì ê¹€\n\në˜í•œ, ë‹¤ìŒì€ ì„ íƒì ìœ¼ë¡œ ì§€ì› ê°€ëŠ¥í•©ë‹ˆë‹¤:\n\n- `{0, 1}` â†’ Power Cycle + Hardware Reset ì‹œ ì ê¹€\n- `{0,1,3}` â†’ ëª¨ë“  ë¦¬ì…‹ ìœ í˜• ì‹œ ì ê¹€\n\nì¦‰, **ëª¨ë“  TPerëŠ” ìµœì†Œ `{0}`ì„ ì§€ì›í•´ì•¼ í•˜ë©°, `{0,3}`ë„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.**\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ìë™ ì ê¸ˆ**ì„ í†µí•´, ì¥ì¹˜ê°€ ì¬ì‹œì‘ë˜ë”ë¼ë„ **ì‚¬ìš©ì ì¸ì¦ ì—†ì´ ì ‘ê·¼ ë¶ˆê°€**í•˜ë„ë¡ í•¨.\n- **í•˜ë“œì›¨ì–´ ë¦¬ì…‹**ì´ë‚˜ **ì†Œí”„íŠ¸ì›¨ì–´ ë¦¬ì…‹**ë„ í¬í•¨í•˜ë©´, **ë¬¼ë¦¬ì  ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê³µê²©**ì— ëŒ€í•œ ë³´ì•ˆì„ ê°•í™”.\n- ì´ ê¸°ëŠ¥ì€ **ê´€ë¦¬ì(Admin) ë˜ëŠ” ì‚¬ìš©ì(User) ì„¸ì…˜**ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œë„ ì¬ì‹œì‘ ì‹œ ì ê¹€ì„ ê°•ì œí•  ìˆ˜ ìˆì–´, **ì„¸ì…˜ ìœ ì§€ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°**ì— ë³´ì•ˆì„ ìœ ì§€.\n\n---\n\n### âœ… **Test Case ì œì‹œ (Python + pytest)**\n\në‹¤ìŒì€ `LockOnReset` ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤. TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ì…˜ ì‹œì‘, ì„¤ì • ë³€ê²½, ë¦¬ì…‹ ì‹œ ì ê¹€ ì—¬ë¶€ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n\n1. `LockOnReset` ê°’ì„ `{0,3}`ìœ¼ë¡œ ì„¤ì • í›„, í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ì‹œ ì¥ì¹˜ê°€ ìë™ ì ê¹€ í™•ì¸.\n2. `LockOnReset` ê°’ì„ `{0,1}`ìœ¼ë¡œ ì„¤ì • í›„, í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ì‹œ ì ê¹€ í™•ì¸ (ì„ íƒì  ê¸°ëŠ¥).\n\n---\n\n### ğŸ Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom pyopal import OpalSSD  # ê°€ìƒì˜ TCG Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œë¡œëŠ” pyopal ë˜ëŠ” ì‚¬ë‚´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)\nimport time\nimport subprocess\n\n# ê°€ìƒì˜ ì¥ì¹˜ ì—°ê²°\ndevice = \"/dev/sda\"\nopal = OpalSSD(device)\n\n# í…ŒìŠ¤íŠ¸ìš© ë³€ìˆ˜\nadmin_password = \"admin123\"\nuser_password = \"user123\"\n\n@pytest.fixture\ndef setup_opal_device():\n    # ì„¸ì…˜ ì‹œì‘ (ê´€ë¦¬ì)\n    opal.start_session(0x01, admin_password)  # 0x01 = Admin Session\n    assert opal.is_session_active(0x01), \"Admin session not active\"\n    yield\n    # í…ŒìŠ¤íŠ¸ í›„ ì„¸ì…˜ ì¢…ë£Œ\n    opal.end_session(0x01)\n\n@pytest.mark.parametrize(\"lock_on_reset\", [\"{0,3}\", \"{0,1}\"])\ndef test_lock_on_reset_behavior(setup_opal_device, lock_on_reset):\n    \"\"\"LockOnReset ì„¤ì • í›„ ë¦¬ì…‹ ì‹œ ìë™ ì ê¹€ ê²€ì¦\"\"\"\n    # 1. LockOnReset ì„¤ì •\n    opal.set_lock_on_reset(lock_on_reset)  # ê°€ìƒì˜ ë©”ì„œë“œ\n\n    # 2. ì„¸ì…˜ ì¢…ë£Œ (ì„ì‹œë¡œ ì ê¹€ ìƒíƒœë¡œ ì „í™˜)\n    opal.end_session(0x01)\n\n    # 3. í”„ë¡œê·¸ë˜ë° ë¦¬ì…‹ ìˆ˜í–‰ (ì˜ˆ: ì†Œí”„íŠ¸ì›¨ì–´ ëª…ë ¹ìœ¼ë¡œ ì¬ì‹œì‘)\n    # ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¥ì¹˜ë¥¼ ë¦¬ì…‹í•˜ëŠ” ëª…ë ¹ì–´ í•„ìš” (ì˜ˆ: reboot, power-cycle ì‹œë®¬ë ˆì´ì…˜)\n    # ì—¬ê¸°ì„œëŠ” ê°€ìƒ í…ŒìŠ¤íŠ¸ë¡œ ê°„ë‹¨íˆ \"ë¦¬ì…‹ ìƒíƒœ\"ë¡œ ê°„ì£¼\n    reset_type = \"Programmatic\" if \"3\" in lock_on_reset else \"Hardware\"\n\n    # 4. ë¦¬ì…‹ í›„ ì„¸ì…˜ ì¬ê°œ ì‹œë„\n    try:\n        opal.start_session(0x01, admin_password)\n        assert False, f\"ë¦¬ì…‹ í›„ ì„¸ì…˜ ì‹œì‘ ì„±ê³µ! (ì˜ˆìƒ: ì‹¤íŒ¨, LockOnReset={lock_on_reset})\"\n    except OpalError as e:\n        if e.code == 0x0101:  # ì˜ˆì‹œ: \"Session not allowed after reset\"\n            assert True, f\"ë¦¬ì…‹ í›„ ì ê¹€ ì •ìƒ ì‘ë™ (LockOnReset={lock_on_reset})\"\n        else:\n            raise AssertionError(f\"ì˜ˆìƒ ì™¸ ì˜¤ë¥˜: {e}\")\n\n    # 5. ì ê¸ˆ í•´ì œ í›„ ì •ìƒ ì‘ë™ í™•ì¸ (ì˜µì…˜)\n    opal.revert_lock_on_reset()  # ì ê¸ˆ í•´ì œ (ê°€ìƒ ë©”ì„œë“œ)\n    opal.start_session(0x01, admin_password)\n    assert opal.is_session_active(0x01), \"ë¦¬ì…‹ í›„ ì„¸ì…˜ ì¬ê°œ ì‹¤íŒ¨\"\n\n# í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\ndef test_lock_on_reset_table_values(setup_opal_device):\n    \"\"\"LockOnReset í…Œì´ë¸”ì—ì„œ í—ˆìš©ëœ ê°’ë§Œ ì„¤ì • ê°€ëŠ¥ í™•ì¸\"\"\"\n    allowed_values = [\"{0}\", \"{0,3}\", \"{0,1}\", \"{0,1,3}\"]\n    disallowed_values = [\"{1}\", \"{3}\", \"{1,3}\", \"{0,2}\"]  # 2ëŠ” ì •ì˜ë˜ì§€ ì•ŠìŒ\n\n    for val in allowed_values:\n        try:\n            opal.set_lock_on_reset(val)\n            assert True, f\"í—ˆìš©ëœ ê°’ {val} ì„¤ì • ì„±ê³µ\"\n        except Exception as e:\n            pytest.fail(f\"í—ˆìš©ëœ ê°’ {val} ì„¤ì • ì‹¤íŒ¨: {e}\")\n\n    for val in disallowed_values:\n        with pytest.raises(Exception) as excinfo:\n            opal.set_lock_on_reset(val)\n        assert \"Invalid LockOnReset value\" in str(excinfo.value), f\"ë¹„í—ˆìš© ê°’ {val} í—ˆìš©ë¨\"\n\n    # ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¥ì¹˜ì˜ LockOnReset í…Œì´ë¸” ê°’ì„ ì½ì–´ì™€ ë¹„êµ\n    current_value = opal.get_lock_on_reset()\n    assert current_value in allowed_values, f\"í˜„ì¬ ì„¤ì •ê°’ {current_value}ëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŒ\"\n\n# ì¶”ê°€: í•˜ë“œì›¨ì–´ ë¦¬ì…‹ í…ŒìŠ¤íŠ¸ (ì‹¤ì œ ì¥ì¹˜ì—ì„œë§Œ ì‹¤í–‰)\n@pytest.mark.skip(reason=\"í•˜ë“œì›¨ì–´ ë¦¬ì…‹ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ì¥ì¹˜ì—ì„œë§Œ ê°€ëŠ¥\")\ndef test_hardware_reset_lock(setup_opal_device):\n    \"\"\"í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ì‹œ ì ê¹€ ì—¬ë¶€ ê²€ì¦\"\"\"\n    opal.set_lock_on_reset(\"{0,1}\")  # í•˜ë“œì›¨ì–´ ë¦¬ì…‹ í¬í•¨\n    opal.end_session(0x01)\n\n    # ì‹¤ì œ í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ìˆ˜í–‰ (ì˜ˆ: ë¦¬ì…‹ ë²„íŠ¼ ëˆŒëŸ¬ì„œ ì¬ì‹œì‘)\n    # ì´ ë¶€ë¶„ì€ ì‹¤ì œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œë§Œ ê°€ëŠ¥\n    # ì˜ˆ: subprocess.run([\"sudo\", \"reboot\"], check=True)\n\n    # ì¬ì‹œì‘ í›„ ì¥ì¹˜ ì—°ê²° ì¬ì‹œë„\n    time.sleep(10)  # ì¬ë¶€íŒ… ëŒ€ê¸°\n    try:\n        opal.start_session(0x01, admin_password)\n        assert False, \"í•˜ë“œì›¨ì–´ ë¦¬ì…‹ í›„ ì„¸ì…˜ ì‹œì‘ ì„±ê³µ (ì˜ˆìƒ: ì‹¤íŒ¨)\"\n    except OpalError as e:\n        if e.code == 0x0101:  # ì ê¹€ ìƒíƒœ\n            assert True, \"í•˜ë“œì›¨ì–´ ë¦¬ì…‹ í›„ ì ê¹€ ì •ìƒ ì‘ë™\"\n        else:\n            raise AssertionError(f\"ì˜ˆìƒ ì™¸ ì˜¤ë¥˜: {e}\")\n```\n\n---\n\n### ğŸ’¡ **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ì„¤ëª…**\n\n- `StartSession`: ê´€ë¦¬ì ë˜ëŠ” ì‚¬ìš©ì ì„¸ì…˜ ì‹œì‘ (ì„¸ì…˜ ID 0x01, 0x02 ë“±)\n- `EndSession`: ì„¸ì…˜ ì¢…ë£Œ (ì ê¸ˆ ìƒíƒœë¡œ ì „í™˜)\n- `SetLockOnReset`: LockOnReset ê°’ì„ ì„¤ì • (ì˜ˆ: `{0,3}`)\n- `GetLockOnReset`: í˜„ì¬ ì„¤ì • ê°’ì„ ì½ì–´ì˜´\n- `RevertLockOnReset` (ê°€ìƒ): ì ê¸ˆ ì„¤ì •ì„ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¼\n- `Revert`: ì „ì²´ ì„¤ì • ë³µêµ¬ (ì¼ë¶€ ì¥ì¹˜ì—ì„œ ì§€ì›)\n\n> ì‹¤ì œ Opal ì¥ì¹˜ëŠ” `SCSI/ATA` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì ‘ê·¼í•˜ë©°, `pyopal` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì´ë¥¼ ì¶”ìƒí™”í•©ë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ `Opal Security` ëª…ë ¹ì–´ë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **LockOnReset í…Œì´ë¸”**ì€ ì¥ì¹˜ì˜ **Security Settings Table**ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì¼ë°˜ì ìœ¼ë¡œ `GetSecuritySettings` ëª…ë ¹ì–´ë¡œ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ ì‹œ, ì„¤ì •í•œ ê°’ì´ í…Œì´ë¸”ì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸:\n    ```python\n    current_settings = opal.get_security_settings()\n    assert current_settings[\"LockOnReset\"] == \"{0,3}\"\n    ```\n- í—ˆìš©ëœ ê°’ë§Œ ì„¤ì • ê°€ëŠ¥í•˜ë„ë¡ ê²€ì¦:\n    - `{0}`, `{0,3}` â†’ ë°˜ë“œì‹œ ê°€ëŠ¥\n    - `{0,1}`, `{0,1,3}` â†’ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (ì„ íƒì  ì§€ì›)\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n`LockOnReset Restrictions` ì„¹ì…˜ì€ TCG Opal ì €ì¥ ì¥ì¹˜ê°€ ì–´ë–¤ ë¦¬ì…‹ ìœ í˜•ì— ëŒ€í•´ ìë™ ì ê¹€ ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤. **Power Cycle(0)ì€ ë°˜ë“œì‹œ ì§€ì›**, **Programmatic ë¦¬ì…‹(3)ë„ ë°˜ë“œì‹œ í•¨ê»˜ ì§€ì›**í•´ì•¼ í•˜ë©°, **Hardware Reset(1)** ì€ ì„ íƒì ìœ¼ë¡œ ì§€ì› ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ ì¥ì¹˜ê°€ ë¦¬ì…‹ë  ë•Œ ìë™ìœ¼ë¡œ ì•”í˜¸í™”ëœ ì˜ì—­ì„ ì ê·¸ë¯€ë¡œ, **ë¬¼ë¦¬ì  ê³µê²©ì´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ê³µê²©ìœ¼ë¡œ ì¸í•œ ë¬´ë‹¨ ì ‘ê·¼ì„ íš¨ê³¼ì ìœ¼ë¡œ ì°¨ë‹¨**í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” `LockOnReset` ê°’ì„ ì„¤ì •í•œ í›„, í”„ë¡œê·¸ë˜ë° ë˜ëŠ” í•˜ë“œì›¨ì–´ ë¦¬ì…‹ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê±°ë‚˜ ì‹¤ì œ ì‹¤í–‰í•˜ì—¬, **ì„¸ì…˜ ì‹œì‘ì´ ì‹¤íŒ¨í•˜ëŠ”ì§€ ì—¬ë¶€**ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„°ëŠ” `GetSecuritySettings`ë¡œ ì½ì–´ì™€ ì„¤ì •ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìµœì¢… í™•ì¸:**\n- **ëª©ì **: ë¦¬ì…‹ ì‹œ ìë™ ì ê¹€ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”\n- **ì£¼ìš” ê¸°ëŠ¥**: Power Cycle, Hardware Reset, Programmatic ë¦¬ì…‹ì— ëŒ€í•œ ì ê¸ˆ ì œì–´\n- **ë°ì´í„° êµ¬ì¡°**: `{0}`, `{0,3}`, `{0,1}`, `{0,1,3}` í˜•íƒœì˜ ì§‘í•©\n- **ìš”êµ¬ì‚¬í•­**: `{0}`ê³¼ `{0,3}`ì€ í•„ìˆ˜, ë‚˜ë¨¸ì§€ëŠ” ì„ íƒ\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ë¦¬ì…‹ í›„ ìë™ ì ê¸ˆ â†’ ë¬´ë‹¨ ì ‘ê·¼ ì°¨ë‹¨\n- **í…ŒìŠ¤íŠ¸**: Python + pytestë¡œ ì„¤ì • ë° ë¦¬ì…‹ í›„ ì„¸ì…˜ ì‹œì‘ ì‹¤íŒ¨ ê²€ì¦\n\n---\n\nâœ… **ê²°ë¡ : ë‚´ìš© ì¡´ì¬**"
    },
    {
        "section_order": 129,
        "level": 4,
        "section_id": "4.3.5.3",
        "section_key": "4.3.5.3 MBRControl (M)",
        "title": "MBRControl (M)",
        "start_page": 88,
        "end_page": 88,
        "page_count": 1,
        "content_md": "## 4.3.5.3 MBRControl (M)\n\nThe MBRControl table is defined in [2], and Table 46 defines the Preconfiguration Data for the MBRControl table.\n\n*MC1 means that only a limited set of DoneOnReset values is required to be supported by Opal SSC compliant Storage Devices. Refer to section 4.3.5.3.1 for details.\n\n### Table 46 - Locking SP - MBRControl Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œê³µëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **ì„¹ì…˜ 4.3.5.3 - MBRControl (M)** ì— ëŒ€í•œ ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” **í‘œ 46 (Table 46)** ì´ë‚˜ **MBRControl í…Œì´ë¸”ì˜ êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°, í•„ë“œ ì •ì˜, ê¸°ëŠ¥ ì„¤ëª…, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±**ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë³¸ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë§Œ ì œê³µí•©ë‹ˆë‹¤:\n\n- MBRControl í…Œì´ë¸”ì´ [2] ë¬¸ì„œì— ì •ì˜ë˜ì–´ ìˆìŒ (ì°¸ì¡°ë¬¸í—Œìœ¼ë¡œë§Œ ì–¸ê¸‰)\n- Table 46ì´ MBRControl í…Œì´ë¸”ì˜ Preconfiguration Dataë¥¼ ì •ì˜í•¨ (í•˜ì§€ë§Œ í‘œ ìì²´ê°€ ì œê³µë˜ì§€ ì•ŠìŒ)\n- MC1 ì¡°ê±´ì— ëŒ€í•´ ê°„ëµíˆ ì–¸ê¸‰ (DoneOnReset ê°’ì˜ ì œí•œì  ì§€ì› ìš”êµ¬ì‚¬í•­)\n\nì´ëŸ¬í•œ ì •ë³´ë§Œìœ¼ë¡œëŠ” **MBRControl í…Œì´ë¸”ì˜ ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜** ë“±ì„ ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ, **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì„¤ê³„**ë¥¼ ìœ„í•´ í•„ìš”í•œ êµ¬ì²´ì ì¸ í•„ë“œ ì •ì˜ë‚˜ ëª…ë ¹ì–´ ì‚¬ìš© ì¡°ê±´, í…Œì´ë¸” êµ¬ì¡° ë“±ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\n\n---\n\n### ì¶”ê°€ì ì¸ ì •ë³´ í•„ìš”:\n\nMBRControl í…Œì´ë¸”ì€ ì¼ë°˜ì ìœ¼ë¡œ **Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ MBR (Master Boot Record) ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ì—­í• **ì„ í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- MBR ì½ê¸°/ì“°ê¸° í—ˆìš© ì—¬ë¶€ ì œì–´\n- ë¶€íŒ… ì‹œ MBR ì ‘ê·¼ ì œí•œ (ì˜ˆ: ë³´ì•ˆ ë¶€íŒ…ì„ ìœ„í•œ ì œì–´)\n- DoneOnReset ê°’ì— ë”°ë¥¸ ë³µêµ¬ ì •ì±… (ì˜ˆ: ë¦¬ì…‹ í›„ MBR ë³µêµ¬ ì—¬ë¶€)\n\ní•˜ì§€ë§Œ, **ì´ ë¬¸ì„œì—ì„œ í•´ë‹¹ ì„¹ì…˜ì˜ êµ¬ì²´ì ì¸ ë‚´ìš©ì´ ëˆ„ë½**ë˜ì–´ ìˆì–´, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\n**\"ë‚´ìš©ì—†ìŒ\"** ì„ ì¶œë ¥í•©ë‹ˆë‹¤.  \nì´ ì„¹ì…˜ì€ ë¬¸ì„œì—ì„œ **í‘œë‚˜ êµ¬ì²´ì ì¸ ì„¤ëª…ì´ ëˆ„ë½**ë˜ì—ˆìœ¼ë©°, ì œê³µëœ ë³¸ë¬¸ë§Œìœ¼ë¡œëŠ” ê¸°ìˆ ì  ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì„¤ê³„ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ì°¸ê³ :\n\nì´ëŸ¬í•œ ê²½ìš°, ë‹¤ìŒì„ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤:\n- ë¬¸ì„œì˜ [2] ì°¸ì¡°ë¬¸í—Œ (ì˜ˆ: TCG Storage Specification, Opal 2.0 ë“±)ì´ ì œê³µë˜ëŠ”ì§€ í™•ì¸\n- Table 46ì˜ ì „ì²´ ë‚´ìš©ì´ í¬í•¨ëœ ë¬¸ì„œ ë²„ì „ì„ í™•ì¸\n- MBRControl í…Œì´ë¸”ì˜ ì‹¤ì œ êµ¬ì¡° (ì˜ˆ: í•„ë“œ ì´ë¦„, íƒ€ì…, ì˜ë¯¸ ë“±)ë¥¼ í™•ì¸\n\nì´ ì •ë³´ê°€ ì œê³µë˜ë©´, ìƒì„¸í•œ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 130,
        "level": 5,
        "section_id": "4.3.5.3.1",
        "section_key": "4.3.5.3.1 DoneOnReset Restrictions",
        "title": "DoneOnReset Restrictions",
        "start_page": 88,
        "end_page": 89,
        "page_count": 2,
        "content_md": "## 4.3.5.3.1 DoneOnReset Restrictions\n\nThe TPer SHALL support the following DoneOnReset column values:\n\na) { 0 } (i.e. Power Cycle); and  \nb) { 0, 3 } (i.e. Power Cycle and Programmatic).\n\n---\n\nWhen processing a Set method or CreateRow method on the Locking table for a non-Global Range row, if:\n\na) the AlignmentRequired column in the LockingInfo table is TRUE;  \nb) RangeLength is non-zero; and  \nc) LengthAlignment (see Figure 2) is non-zero,  \nthen the method SHALL fail and return an error status code INVALID_PARAMETER.\n\n### Figure 2 - LengthAlignment Calculation\n\nIf RangeStart is zero, then  \nâ€ƒâ€ƒLengthAlignment = (RangeLength - LowestAlignedLBA) modulo AlignmentGranularity  \n\nIf RangeStart is non-zero, then  \nâ€ƒâ€ƒLengthAlignment = (RangeLength modulo AlignmentGranularity)  \n\nwhere:  \nLowestAlignedLBA and AlignmentGranularity are columns in the LockingInfo table (see section 4.3.5.1)\n### Table 46 - Locking SP - MBRControl Table Preconfiguration (continued)\n\nAdditionally, the TPer MAY support the following DoneOnReset column values:  \na) { 0, 1 } (i.e. Power Cycle and Hardware Reset); and  \nb) { 0,1, 3 } (i.e. Power Cycle, Hardware Reset and Programmatic).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **4.3.5.3.1 DoneOnReset Restrictions â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ” **1. ëª©ì  (Purpose)**\n\nTCG Opal í‘œì¤€ì€ í•˜ë“œì›¨ì–´ ê¸°ë°˜ì˜ ë°ì´í„° ë³´ì•ˆì„ ì œê³µí•˜ë©°, íŠ¹íˆ **Locking Table**ì„ í†µí•´ íŠ¹ì • ë°ì´í„° ì˜ì—­ì„ ì•”í˜¸í™”/ì ê¸ˆí•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì´ ì„¹ì…˜ì¸ **4.3.5.3.1 DoneOnReset Restrictions**ëŠ” **Locking Tableì˜ ê° í–‰(ì¦‰, ì ê¸ˆ ë²”ìœ„)ì´ ì–¸ì œ í•´ì œë˜ì–´ì•¼ í•˜ëŠ”ì§€**ë¥¼ ê²°ì •í•˜ëŠ” `DoneOnReset` ì»¬ëŸ¼ì— ëŒ€í•œ **ì œí•œì‚¬í•­**ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì¦‰, ì–´ë–¤ ì¡°ê±´ì—ì„œ ì ê¸ˆì´ ìë™ í•´ì œë˜ëŠ”ì§€(ì˜ˆ: ì „ì› ì¬ì‹œì‘, í•˜ë“œì›¨ì–´ ë¦¬ì…‹, í”„ë¡œê·¸ë˜ë° ë°©ì‹)ë¥¼ ëª…í™•íˆ í•˜ê¸° ìœ„í•œ ê·œì¹™ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- `DoneOnReset` ì»¬ëŸ¼ì€ ì ê¸ˆ ë²”ìœ„ê°€ **ìë™ í•´ì œ**ë˜ëŠ” ì¡°ê±´ì„ ì§€ì •í•©ë‹ˆë‹¤.\n  - 0: Power Cycle (ì „ì› ì¬ì‹œì‘ ì‹œ í•´ì œ)\n  - 1: Hardware Reset (í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ì‹œ í•´ì œ)\n  - 3: Programmatic (í”„ë¡œê·¸ë¨ ëª…ë ¹ìœ¼ë¡œ í•´ì œ)\n\n- TPer(Trustable Persistent Entity â€“ ë³´ì•ˆ ì €ì¥ ì¥ì¹˜)ëŠ” **ìµœì†Œí•œ {0} ë˜ëŠ” {0,3}ì„ ì§€ì›í•´ì•¼ í•¨**.\n- ì¶”ê°€ë¡œ **{0,1} ë˜ëŠ” {0,1,3}ë„ ì„ íƒì ìœ¼ë¡œ ì§€ì› ê°€ëŠ¥**.\n\n> ğŸ’¡ ì˜ˆ: `DoneOnReset = {0,3}` â†’ ì „ì› ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ëª…ë ¹ìœ¼ë¡œ ì ê¸ˆ í•´ì œ ê°€ëŠ¥.\n\n---\n\n### ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n`Locking Table`ì˜ ê° í–‰ì€ ë‹¤ìŒê³¼ ê°™ì€ ì»¬ëŸ¼ì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n| ì»¬ëŸ¼ ì´ë¦„             | ì„¤ëª… |\n|----------------------|------|\n| `DoneOnReset`        | ì ê¸ˆ í•´ì œ ì¡°ê±´ (0, 1, 3ì˜ ì¡°í•©) |\n| `RangeStart`         | ì ê¸ˆ ë²”ìœ„ ì‹œì‘ LBA (Logical Block Address) |\n| `RangeLength`        | ì ê¸ˆ ë²”ìœ„ ê¸¸ì´ (LBA ìˆ˜) |\n| `AlignmentRequired`  | (LockingInfo í…Œì´ë¸”ì—ì„œ) ì •ë ¬ í•„ìš” ì—¬ë¶€ |\n| `LowestAlignedLBA`   | (LockingInfo í…Œì´ë¸”ì—ì„œ) ìµœì†Œ ì •ë ¬ ê°€ëŠ¥í•œ LBA |\n| `AlignmentGranularity` | (LockingInfo í…Œì´ë¸”ì—ì„œ) ì •ë ¬ ë‹¨ìœ„ (ì˜ˆ: 4KB, 1MB ë“±) |\n\n---\n\n### âš ï¸ **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n#### âœ… **ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•˜ëŠ” ê°’**\n- `{0}` â†’ ì „ì› ì¬ì‹œì‘ ì‹œ ìë™ í•´ì œ\n- `{0,3}` â†’ ì „ì› ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ëª…ë ¹ ì‹œ í•´ì œ\n\n#### âœ… **Set/CreateRow ë©”ì„œë“œ ì‹¤í–‰ ì‹œ ê²€ì¦ ì¡°ê±´**\n`Locking Table`ì— í–‰ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ, ë‹¤ìŒ ì¡°ê±´ì´ ëª¨ë‘ ì¶©ì¡±ë˜ë©´ **ì˜¤ë¥˜ ë°˜í™˜ (INVALID_PARAMETER)**:\n\n1. `AlignmentRequired` (LockingInfo í…Œì´ë¸”) = **TRUE**\n2. `RangeLength` â‰  0\n3. `LengthAlignment` â‰  0\n\n> ì—¬ê¸°ì„œ `LengthAlignment`ëŠ” **ë²”ìœ„ ê¸¸ì´ê°€ ì •ë ¬ ë‹¨ìœ„ì— ë§ì¶°ì ¸ ìˆëŠ”ì§€**ë¥¼ íŒë‹¨í•˜ëŠ” ê³„ì‚°ê°’ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ”¢ **5. LengthAlignment ê³„ì‚° ë°©ì‹ (Figure 2)**\n\n```python\nif RangeStart == 0:\n    LengthAlignment = (RangeLength - LowestAlignedLBA) % AlignmentGranularity\nelse:\n    LengthAlignment = (RangeLength % AlignmentGranularity)\n```\n\n- **RangeStart = 0** â†’ ë²”ìœ„ê°€ 0ì—ì„œ ì‹œì‘í•˜ë©´, `LowestAlignedLBA`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ ì—¬ë¶€ íŒë‹¨.\n- **RangeStart â‰  0** â†’ ì‹œì‘ ìœ„ì¹˜ê°€ 0ì´ ì•„ë‹ˆë©´, ë‹¨ìˆœíˆ `RangeLength`ë¥¼ ì •ë ¬ ë‹¨ìœ„ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¡œ íŒë‹¨.\n\n> ì˜ˆ: `AlignmentGranularity = 4096`, `RangeLength = 8192`, `RangeStart = 0`, `LowestAlignedLBA = 0` â†’ `(8192 - 0) % 4096 = 0` â†’ ì •ë ¬ë¨ âœ…\n\n---\n\n### ğŸ” **6. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- `DoneOnReset`ì€ **ì ê¸ˆ í•´ì œ ì¡°ê±´ì„ ëª…í™•íˆ ì œì–´**í•˜ì—¬, **ì˜ë„í•˜ì§€ ì•Šì€ í•´ì œ**ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.\n  - ì˜ˆ: í•˜ë“œì›¨ì–´ ë¦¬ì…‹ë§Œìœ¼ë¡œ í•´ì œí•˜ë©´ ë³´ì•ˆì´ ì•½í•´ì§ˆ ìˆ˜ ìˆìŒ â†’ ë”°ë¼ì„œ ë°˜ë“œì‹œ í”„ë¡œê·¸ë˜ë° ëª…ë ¹ ë˜ëŠ” ì „ì› ì¬ì‹œì‘ìœ¼ë¡œë§Œ í•´ì œë˜ë„ë¡ ì œí•œ ê°€ëŠ¥.\n- `LengthAlignment` ê²€ì¦ì€ **ë°ì´í„° ë²”ìœ„ê°€ ë¬¼ë¦¬ì  ì •ë ¬ ë‹¨ìœ„ì— ë§ì¶°ì ¸ ìˆëŠ”ì§€** í™•ì¸í•˜ì—¬, **ì•”í˜¸í™” ì„±ëŠ¥ ì €í•˜ë‚˜ ë³´ì•ˆ ì·¨ì•½ì **ì„ ì˜ˆë°©í•©ë‹ˆë‹¤.\n  - ì˜ˆ: 4KB ë‹¨ìœ„ ì •ë ¬ì´ í•„ìš”í•œë° 1KB ë²”ìœ„ë¥¼ ì ê·¸ë ¤ê³  í•˜ë©´, ì˜¤ë¥˜ ë°˜í™˜ â†’ ë³´ì•ˆ ë° ì„±ëŠ¥ ë³´ì¥.\n\n---\n\n## âœ… **7. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Cases)**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©í‘œ:**\n1. `DoneOnReset` ê°’ì´ `{0}` ë˜ëŠ” `{0,3}`ì¸ì§€ í™•ì¸\n2. `AlignmentRequired = TRUE`ì¼ ë•Œ `LengthAlignment â‰  0`ì´ë©´ ì˜¤ë¥˜ ë°˜í™˜ ì—¬ë¶€ í™•ì¸\n3. `LengthAlignment` ê³„ì‚° ì •í™•ì„± ê²€ì¦\n\n---\n\n## ğŸ’» **8. Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, CreateRow, Revert, GetLockingInfo  # ëª…ë ¹ì–´ ëª¨ë“ˆ\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient()\n    # ì„¸ì…˜ ì‹œì‘ (í•„ìˆ˜)\n    StartSession(client, \"admin\", \"password\")\n    return client\n\n# í…ŒìŠ¤íŠ¸ ë°ì´í„°\nLOCKING_INFO = {\n    \"AlignmentRequired\": True,\n    \"LowestAlignedLBA\": 0,\n    \"AlignmentGranularity\": 4096\n}\n\n@pytest.mark.parametrize(\"done_on_reset, expected_pass\", [\n    ({0}, True),           # ì§€ì› í•„ìˆ˜\n    ({0, 3}, True),        # ì§€ì› í•„ìˆ˜\n    ({1}, False),          # ì§€ì› ì•ˆ ë¨\n    ({3}, False),          # ì§€ì› ì•ˆ ë¨\n    ({0, 1}, True),        # ì„ íƒ ì§€ì› (MAY)\n    ({0, 1, 3}, True),     # ì„ íƒ ì§€ì› (MAY)\n])\ndef test_done_on_reset_support(opal_client, done_on_reset, expected_pass):\n    \"\"\"DoneOnReset ê°’ ì§€ì› ì—¬ë¶€ í…ŒìŠ¤íŠ¸\"\"\"\n    try:\n        # ì„ì‹œë¡œ Locking Table í–‰ ìƒì„± (ì˜ˆì‹œ)\n        CreateRow(\n            client=opal_client,\n            table=\"Locking\",\n            row={\n                \"RangeStart\": 0,\n                \"RangeLength\": 4096,\n                \"DoneOnReset\": done_on_reset\n            }\n        )\n        if not expected_pass:\n            pytest.fail(f\"Unsupported DoneOnReset {done_on_reset} should fail\")\n    except Exception as e:\n        if expected_pass:\n            pytest.fail(f\"Supported DoneOnReset {done_on_reset} failed: {e}\")\n        # ì˜ˆì™¸ê°€ ë°œìƒí•´ì•¼ í•¨ (ì§€ì› ì•ˆ ë¨)\n        assert \"INVALID_PARAMETER\" in str(e) or \"unsupported\" in str(e.lower())\n\n@pytest.mark.parametrize(\"range_start, range_length, expected_alignment\", [\n    (0, 4096, 0),          # ì •ë ¬ë¨\n    (0, 8192, 0),          # ì •ë ¬ë¨\n    (0, 4097, 1),          # ì •ë ¬ë˜ì§€ ì•ŠìŒ â†’ ì˜¤ë¥˜ ì˜ˆìƒ\n    (1024, 4096, 0),       # ì •ë ¬ë¨ (RangeStart â‰  0)\n    (1024, 4097, 1),       # ì •ë ¬ë˜ì§€ ì•ŠìŒ â†’ ì˜¤ë¥˜ ì˜ˆìƒ\n])\ndef test_length_alignment_calculation(opal_client, range_start, range_length, expected_alignment):\n    \"\"\"LengthAlignment ê³„ì‚° ì •í™•ì„± ê²€ì¦\"\"\"\n    # LockingInfo ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n    locking_info = GetLockingInfo(opal_client)\n    granularity = locking_info[\"AlignmentGranularity\"]\n    lowest_aligned = locking_info[\"LowestAlignedLBA\"]\n\n    # ê³„ì‚°\n    if range_start == 0:\n        calc_alignment = (range_length - lowest_aligned) % granularity\n    else:\n        calc_alignment = range_length % granularity\n\n    assert calc_alignment == expected_alignment, f\"Expected {expected_alignment}, got {calc_alignment}\"\n\n@pytest.mark.parametrize(\"range_start, range_length, alignment_required, expected_error\", [\n    (0, 4096, True, False),  # ì •ë ¬ë¨ â†’ OK\n    (0, 4097, True, True),   # ì •ë ¬ ì•ˆ ë¨ â†’ ì˜¤ë¥˜\n    (1024, 4096, True, False),  # ì •ë ¬ë¨ â†’ OK\n    (1024, 4097, True, True),  # ì •ë ¬ ì•ˆ ë¨ â†’ ì˜¤ë¥˜\n    (0, 0, True, True),      # RangeLength=0 â†’ ì˜¤ë¥˜ (ì‚¬ì–‘ì— ë”°ë¦„)\n])\ndef test_create_row_alignment_validation(opal_client, range_start, range_length, alignment_required, expected_error):\n    \"\"\"Set/CreateRow ë©”ì„œë“œì—ì„œ Alignment ê²€ì¦ í…ŒìŠ¤íŠ¸\"\"\"\n    # ì„ì‹œ LockingInfo ì„¤ì •\n    GetLockingInfo(opal_client)  # ì‹¤ì œ ê°’ ê°€ì ¸ì˜¤ê¸°\n    # í…ŒìŠ¤íŠ¸ìš© ì„ì˜ ì„¤ì •\n    locking_info = LOCKING_INFO\n    locking_info[\"AlignmentRequired\"] = alignment_required\n\n    try:\n        CreateRow(\n            client=opal_client,\n            table=\"Locking\",\n            row={\n                \"RangeStart\": range_start,\n                \"RangeLength\": range_length,\n                \"DoneOnReset\": {0, 3}  # ì§€ì›ë˜ëŠ” ê°’\n            }\n        )\n        if expected_error:\n            pytest.fail(\"Expected error for invalid alignment\")\n    except Exception as e:\n        if not expected_error:\n            pytest.fail(f\"Unexpected error: {e}\")\n        assert \"INVALID_PARAMETER\" in str(e), f\"Expected INVALID_PARAMETER, got {e}\"\n```\n\n---\n\n## ğŸ“Š **9. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| ê²€ì¦ í•­ëª© | ë°©ë²• |\n|-----------|------|\n| `DoneOnReset` ê°’ ì§€ì› ì—¬ë¶€ | `CreateRow`ë¡œ í…ŒìŠ¤íŠ¸ â†’ ì˜¤ë¥˜ ì—¬ë¶€ í™•ì¸ |\n| `LengthAlignment` ê³„ì‚° ì •í™•ì„± | ìˆ˜ì‹ ê³„ì‚° í›„ ì‹¤ì œ ê°’ê³¼ ë¹„êµ |\n| `AlignmentRequired` ì¡°ê±´ ê²€ì¦ | `AlignmentRequired = TRUE`ì¼ ë•Œ, `LengthAlignment â‰  0` â†’ ì˜¤ë¥˜ ë°œìƒ í™•ì¸ |\n| `RangeLength = 0` ê²€ì¦ | `RangeLength = 0` ì…ë ¥ â†’ ì˜¤ë¥˜ ë°˜í™˜ ì—¬ë¶€ í™•ì¸ |\n\n> ğŸ’¡ í…ŒìŠ¤íŠ¸ í›„ `Revert` ëª…ë ¹ì–´ë¡œ ìƒíƒœ ë³µêµ¬í•˜ì—¬ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰.\n\n---\n\n## ğŸ¯ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**4.3.5.3.1 DoneOnReset Restrictions**ëŠ” TCG Opal í‘œì¤€ì—ì„œ **ì ê¸ˆ ë²”ìœ„ê°€ ì–¸ì œ í•´ì œë˜ì–´ì•¼ í•˜ëŠ”ì§€**ë¥¼ ì •ì˜í•˜ëŠ” `DoneOnReset` ì»¬ëŸ¼ì— ëŒ€í•œ **ì œí•œì‚¬í•­**ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n- **í•„ìˆ˜ ì§€ì› ê°’**: `{0}` (ì „ì› ì¬ì‹œì‘), `{0,3}` (ì „ì› ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ëª…ë ¹)\n- **ì„ íƒ ì§€ì› ê°’**: `{0,1}`, `{0,1,3}`\n- **CreateRow/Set ë©”ì„œë“œ ì‹¤í–‰ ì‹œ**: `AlignmentRequired = TRUE` + `RangeLength > 0` + `LengthAlignment â‰  0` â†’ ì˜¤ë¥˜ ë°˜í™˜\n- `LengthAlignment`ì€ ë²”ìœ„ ê¸¸ì´ê°€ ì •ë ¬ ë‹¨ìœ„ì— ë§ì¶°ì ¸ ìˆëŠ”ì§€ íŒë‹¨ (Figure 2 ê¸°ì¤€)\n- **ë³´ì•ˆ ëª©ì **: ì„ì˜ì˜ í•´ì œ ë°©ì§€, ì•”í˜¸í™” ì„±ëŠ¥ ë° ë³´ì•ˆ ê°•í™”\n- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: Python + pytestë¡œ `CreateRow`, `LengthAlignment` ê³„ì‚°, ì˜¤ë¥˜ ìƒíƒœ ê²€ì¦ ìˆ˜í–‰\n\nì´ ê·œì¹™ì€ **ë³´ì•ˆ ì €ì¥ ì¥ì¹˜ì˜ ì •ì±…ì  ì œì–´ë ¥**ê³¼ **ë°ì´í„° ë³´í˜¸ì˜ ì¼ê´€ì„±**ì„ ë³´ì¥í•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: í•´ë‹¹ ì„¹ì…˜ì€ **ì ê¸ˆ í•´ì œ ì¡°ê±´ê³¼ ë²”ìœ„ ì •ë ¬ ê²€ì¦**ì„ í†µí•´ ë³´ì•ˆì„±ê³¼ ì„±ëŠ¥ì„ ë™ì‹œì— í™•ë³´í•˜ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ˆë³´ìë„ `DoneOnReset` ê°’ê³¼ `LengthAlignment` ê³„ì‚° ë°©ì‹ì„ ì´í•´í•˜ë©´, Opal ì¥ì¹˜ì˜ ì ê¸ˆ ì •ì±…ì„ ì„¤ê³„í•˜ê³  ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n> ğŸ“Œ ì°¸ê³ : ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ Opal ì¥ì¹˜ ë˜ëŠ” ì‹œë®¬ë ˆì´í„°ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, `opal_client` ë° ëª…ë ¹ì–´ ëª¨ë“ˆì€ ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 131,
        "level": 4,
        "section_id": "4.3.5.4",
        "section_key": "4.3.5.4 MBR (M)",
        "title": "MBR (M)",
        "start_page": 89,
        "end_page": 89,
        "page_count": 1,
        "content_md": "## 4.3.5.4 MBR (M)  \nThe MBR minimum size SHALL be 128 MB (0x08000000).  \nThe initial contents of the MBR table SHALL be vendor unique.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.5.4 MBR (M)  \nThe MBR minimum size SHALL be 128 MB (0x08000000).  \nThe initial contents of the MBR table SHALL be vendor unique."
    },
    {
        "section_order": 132,
        "level": 4,
        "section_id": "4.3.5.5",
        "section_key": "4.3.5.5 K_AES_128 or K_AES_256 (M)",
        "title": "K_AES_128 or K_AES_256 (M)",
        "start_page": 89,
        "end_page": 90,
        "page_count": 2,
        "content_md": "## 4.3.5.5 K_AES_128 or K_AES_256 (M)  \nAt least one of the following tables (Table 47 and Table 48) SHALL be supported.  \nTable 47 contains Optional rows designated with (O).  \n*K1 means that a field is indirectly writable using the GenKey method.\n\n### Table 47 - Locking SP - K_AES_128 Table Preconfiguration\n\n### Table 48 - Locking SP - K_AES_256 Table Preconfiguration",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Table 47"
        ],
        "section_table": [
            [
                "|-----|------|------------|-----|------|",
                "| UID | Name | CommonName | Key | Mode |",
                "| 00 00 08 0600 00 00 01 | \"K_AES_256_GlobalRange_Key\" |  | VU<br>*K1 | VU |",
                "| 00 00 08 06 00 03 00 01 | \"K_AES_256_Range1_Key\" |  | VU<br>*K1 | VU |",
                "| 00 00 08 06 00 03 NN NN (O) | \"K_AES_256_RangeNNNN_Key\" |  | VU<br>*K1 | VU |"
            ]
        ],
        "summary": "## ğŸ“Œ **4.3.5.5 K_AES_128 or K_AES_256 (M) â€“ ì´ˆë³´ììš© ìƒì„¸ ì„¤ëª…**\n\n---\n\n### âœ… **1. ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal í‘œì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” AES ì•”í˜¸í™” í‚¤(K_AES_128 ë˜ëŠ” K_AES_256)** ë¥¼ ì‚¬ìš©í•˜ì—¬ **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ í‚¤ êµ¬ì„± í…Œì´ë¸”**ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì¦‰, í•˜ë“œì›¨ì–´ ì•”í˜¸í™” ë“œë¼ì´ë¸Œ(ì˜ˆ: SSD, HDD)ê°€ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•  ë•Œ ì‚¬ìš©í•˜ëŠ” **AES 128ë¹„íŠ¸ ë˜ëŠ” 256ë¹„íŠ¸ í‚¤**ë¥¼ ì–´ë–»ê²Œ ì •ì˜í•˜ê³  ê´€ë¦¬í• ì§€ë¥¼ ê·œì •í•©ë‹ˆë‹¤.\n\n> ğŸ’¡ **í•µì‹¬ ëª©ì **: ì•”í˜¸í™” í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê³ , ì•”í˜¸í™” ë²”ìœ„(ì „ì²´ ë””ìŠ¤í¬ ë˜ëŠ” íŠ¹ì • ì˜ì—­)ì— ë”°ë¼ ì ì ˆí•œ í‚¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í…Œì´ë¸” êµ¬ì¡°ë¡œ ì •ì˜.\n\n---\n\n### âœ… **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- **AES í‚¤ í…Œì´ë¸” ì œê³µ**: K_AES_128 ë˜ëŠ” K_AES_256 í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì•”í˜¸í™”ë¥¼ ì§€ì›.\n- **ë²”ìœ„ ê¸°ë°˜ í‚¤ ê´€ë¦¬**: ì „ì—­ í‚¤(Global Range Key)ì™€ íŠ¹ì • ë²”ìœ„ í‚¤(Range N Key)ë¥¼ êµ¬ë¶„.\n- **ì•”í˜¸í™” ëª¨ë“œ ì§€ì •**: í‚¤ê°€ ì‚¬ìš©ë˜ëŠ” ë°©ì‹(VU: Variable Use, ì¦‰ ì‚¬ìš©ì ì •ì˜ ì‚¬ìš©)ì„ ì •ì˜.\n- **Indirect Writing ì§€ì›**: `*K1` í‘œì‹œëŠ” **GenKey ë©”ì„œë“œë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ í‚¤ë¥¼ ìƒì„±/ì“°ê¸° ê°€ëŠ¥**í•¨ì„ ì˜ë¯¸. ì§ì ‘ì ì¸ í‚¤ ì…ë ¥ì´ ì•„ë‹ˆë¼, ë³´ì•ˆëœ ë°©ì‹ìœ¼ë¡œ í‚¤ë¥¼ ìƒì„±í•¨.\n- **ì„ íƒì  í…Œì´ë¸” ì§€ì›**: Table 47ê³¼ Table 48 ì¤‘ **í•˜ë‚˜ ì´ìƒì„ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨**.\n\n---\n\n### âœ… **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n#### ğŸ“‹ **Table 47 - K_AES_256 í…Œì´ë¸” (ì˜ˆì‹œ)**\n\n| UID (16ì§„ìˆ˜)          | Name                     | CommonName | Key     | Mode |\n|------------------------|--------------------------|------------|---------|------|\n| `00 00 08 06 00 00 00 01` | `\"K_AES_256_GlobalRange_Key\"` | -          | VU<br>*K1 | VU   |\n| `00 00 08 06 00 03 00 01` | `\"K_AES_256_Range1_Key\"`      | -          | VU<br>*K1 | VU   |\n| `00 00 08 06 00 03 NN NN` | `\"K_AES_256_RangeNNNN_Key\"`   | -          | VU<br>*K1 | VU   |\n\n> ğŸ” **UID êµ¬ì¡° í•´ì„**:\n- `00 00 08 06`: ê³ ì •ëœ í‚¤ ìœ í˜• ì‹ë³„ì (K_AES_256)\n- `00 00 00 01`: ì „ì—­ í‚¤ (Global Range Key) ì‹ë³„ì\n- `00 03 00 01`: ë²”ìœ„ 1 í‚¤ (Range1 Key) ì‹ë³„ì\n- `00 03 NN NN`: ë²”ìœ„ N í‚¤ (NN = 0x02, 0x03, ... ë“±ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥)\n\n> ğŸ§© **VU (Variable Use)**: í‚¤ê°€ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì€ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥. ì˜ˆ: ì•”í˜¸í™” ë²”ìœ„, ì•”í˜¸í™” ëª¨ë“œ, í‚¤ ì‚¬ìš© ì¡°ê±´ ë“±.\n\n> ğŸ“Œ **\\*K1 (Indirect Writable via GenKey)**: í‚¤ ê°’ì„ ì§ì ‘ ì…ë ¥í•˜ì§€ ì•Šê³ , `GenKey` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ì•ˆëœ ë°©ì‹ìœ¼ë¡œ í‚¤ë¥¼ ìƒì„±í•˜ê³  ì €ì¥í•  ìˆ˜ ìˆìŒ. ì´ëŠ” í‚¤ê°€ ê³µê²©ìì—ê²Œ ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ë³´ì•ˆì„ ê°•í™”.\n\n---\n\n### âœ… **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒì˜ í…Œì´ë¸”ì„ ì§€ì›í•´ì•¼ í•¨** (Table 47 ë˜ëŠ” Table 48).\n- í…Œì´ë¸” ë‚´ í‚¤ëŠ” **VU ëª¨ë“œë¡œ ì„¤ì •ë˜ì–´ì•¼ í•¨**.\n- í‚¤ëŠ” **GenKeyë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ì“°ê¸° ê°€ëŠ¥**í•´ì•¼ í•¨ (`*K1` í•„ë“œ).\n- **Optional í–‰ ì¡´ì¬**: `NN NN` í˜•ì‹ì˜ í‚¤ëŠ” ì„ íƒì  (O) â†’ í•„ìš” ì‹œ ì—¬ëŸ¬ ë²”ìœ„ í‚¤ë¥¼ í™•ì¥ ê°€ëŠ¥.\n\n---\n\n### âœ… **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **GenKey ê¸°ë°˜ ê°„ì ‘ í‚¤ ìƒì„±**: í‚¤ë¥¼ ì§ì ‘ ì „ë‹¬í•˜ì§€ ì•Šê³ , ì¥ì¹˜ ë‚´ë¶€ì—ì„œ ë³´ì•ˆëœ í”„ë¡œì„¸ìŠ¤ë¡œ ìƒì„± â†’ í‚¤ê°€ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ë…¸ì¶œë˜ì§€ ì•ŠìŒ.\n- **AES 256 ë¹„íŠ¸ ì•”í˜¸í™”**: ê°•ë ¥í•œ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš© â†’ ë°ì´í„° ë³´í˜¸ ê°•í™”.\n- **ë²”ìœ„ ê¸°ë°˜ í‚¤ ê´€ë¦¬**: íŠ¹ì • ì˜ì—­ë§Œ ì•”í˜¸í™” ê°€ëŠ¥ â†’ ë³´ì•ˆ ì •ì±…ì˜ ìœ ì—°ì„± í™•ë³´.\n- **í…Œì´ë¸” ê¸°ë°˜ í‚¤ ì •ì˜**: í‚¤ê°€ ëª…í™•íˆ ì‹ë³„ ê°€ëŠ¥í•˜ë©°, ì¥ì¹˜ì—ì„œ ê´€ë¦¬ ìš©ì´.\n\n---\n\n### âœ… **6. Test Case ì œì‹œ**\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©í‘œ**:  \n- Opal ì¥ì¹˜ê°€ Table 47 (K_AES_256) í…Œì´ë¸”ì„ ì§€ì›í•˜ëŠ”ì§€ ê²€ì¦.\n- GenKeyë¥¼ í†µí•´ í‚¤ë¥¼ ìƒì„±í•˜ê³ , í•´ë‹¹ í‚¤ê°€ ì •í™•íˆ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- í…Œì´ë¸” ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ê²Œ ì½íˆëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ 1: í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ ê²€ì¦ (Table 47 ì¡´ì¬ í™•ì¸)**\n\n```python\n# pytest + pyopal ë˜ëŠ” TCG Opal ì»¤ë§¨ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì˜ˆì‹œ\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì‹¤ì œëŠ” pyopal ë˜ëŠ” py-scsi ë“± ì‚¬ìš©\n\n@pytest.fixture\ndef device():\n    dev = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    dev.start_session(\"admin_password\")  # ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    return dev\n\ndef test_table_47_exists(device):\n    \"\"\"Table 47 - K_AES_256 í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ ê²€ì¦\"\"\"\n    keys = device.get_key_table()  # í‚¤ í…Œì´ë¸” ì½ê¸° (ì˜ˆ: GetKeyTable ëª…ë ¹ì–´)\n\n    # Table 47ì˜ UID: 00 00 08 06 00 00 00 01 (Global Key)\n    global_key_uid = bytes.fromhex(\"0000080600000001\")\n    range1_key_uid = bytes.fromhex(\"0000080600030001\")\n\n    assert global_key_uid in keys, \"K_AES_256_GlobalRange_Key not found\"\n    assert range1_key_uid in keys, \"K_AES_256_Range1_Key not found\"\n\n    # í‚¤ê°€ VU ëª¨ë“œì¸ì§€ í™•ì¸\n    global_key = keys[global_key_uid]\n    assert global_key.mode == \"VU\", \"Global key mode is not VU\"\n    assert global_key.is_indirect_writable(), \"Global key is not marked as *K1\"\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ 2: GenKeyë¥¼ í†µí•œ í‚¤ ìƒì„± ë° ê²€ì¦**\n\n```python\ndef test_genkey_and_verify(device):\n    \"\"\"GenKeyë¥¼ ì‚¬ìš©í•´ í‚¤ ìƒì„± í›„ í…Œì´ë¸”ì—ì„œ í™•ì¸\"\"\"\n    # GenKey ëª…ë ¹ì–´ë¡œ í‚¤ ìƒì„± (ì˜ˆ: Range1 Keyì— ëŒ€í•´ í‚¤ ìƒì„±)\n    new_key_id = device.gen_key(\"K_AES_256_Range1_Key\", \"admin_password\")\n\n    # í‚¤ í…Œì´ë¸”ì—ì„œ ìƒì„±ëœ í‚¤ í™•ì¸\n    keys = device.get_key_table()\n    expected_uid = bytes.fromhex(\"0000080600030001\")\n\n    assert expected_uid in keys, \"Generated key not found in table\"\n    assert keys[expected_uid].name == \"K_AES_256_Range1_Key\"\n    assert keys[expected_uid].mode == \"VU\"\n    assert keys[expected_uid].is_indirect_writable()  # *K1 í™•ì¸\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ 3: í…Œì´ë¸” ë°ì´í„° êµ¬ì¡° ê²€ì¦ (UID, Name, Mode)**\n\n```python\ndef test_table_data_structure(device):\n    \"\"\"í…Œì´ë¸” ë°ì´í„° êµ¬ì¡° ê²€ì¦ - UID, Name, Mode, Keyê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\"\"\"\n    keys = device.get_key_table()\n\n    # ì „ì—­ í‚¤ ê²€ì¦\n    global_uid = bytes.fromhex(\"0000080600000001\")\n    global_key = keys[global_uid]\n    assert global_key.uid == global_uid\n    assert global_key.name == \"K_AES_256_GlobalRange_Key\"\n    assert global_key.key_type == \"K_AES_256\"\n    assert global_key.mode == \"VU\"\n    assert global_key.is_indirect_writable()  # *K1\n\n    # ë²”ìœ„1 í‚¤ ê²€ì¦\n    range1_uid = bytes.fromhex(\"0000080600030001\")\n    range1_key = keys[range1_uid]\n    assert range1_key.name == \"K_AES_256_Range1_Key\"\n    assert range1_key.mode == \"VU\"\n    assert range1_key.is_indirect_writable()\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ 4: Optional í‚¤ í™•ì¥ ê²€ì¦ (ì˜ˆ: Range2 Key ìƒì„±)**\n\n```python\ndef test_optional_range_key(device):\n    \"\"\"Optional í‚¤ (RangeNNNN) ìƒì„± ë° í™•ì¸\"\"\"\n    # ì˜ˆ: Range2 í‚¤ ìƒì„± (UID: 0000080600030002)\n    range2_uid = bytes.fromhex(\"0000080600030002\")\n    device.gen_key(\"K_AES_256_Range2_Key\", \"admin_password\", key_uid=range2_uid)\n\n    keys = device.get_key_table()\n    assert range2_uid in keys\n    assert keys[range2_uid].name == \"K_AES_256_Range2_Key\"\n    assert keys[range2_uid].mode == \"VU\"\n    assert keys[range2_uid].is_indirect_writable()\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ 5: ì„¸ì…˜ ì¢…ë£Œ ë° ë³µì› í›„ í…Œì´ë¸” ìœ ì§€ ì—¬ë¶€ ê²€ì¦**\n\n```python\ndef test_revert_session(device):\n    \"\"\"ì„¸ì…˜ ì¢…ë£Œ í›„ í…Œì´ë¸” ë°ì´í„° ìœ ì§€ ì—¬ë¶€ ê²€ì¦\"\"\"\n    # ì„¸ì…˜ ì‹œì‘ í›„ í‚¤ ìƒì„±\n    device.start_session(\"admin_password\")\n    device.gen_key(\"K_AES_256_Range1_Key\", \"admin_password\")\n\n    # ì„¸ì…˜ ì¢…ë£Œ\n    device.revert_session()\n\n    # ë‹¤ì‹œ ì„¸ì…˜ ì‹œì‘ í›„ í…Œì´ë¸” í™•ì¸\n    device.start_session(\"admin_password\")\n    keys = device.get_key_table()\n    range1_uid = bytes.fromhex(\"0000080600030001\")\n    assert range1_uid in keys, \"Key not persisted after session revert\"\n```\n\n---\n\n### âœ… **7. ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n> **TCG Opal í‘œì¤€ì˜ 4.3.5.5 ì„¹ì…˜ì€ AES 128/256 ì•”í˜¸í™” í‚¤ë¥¼ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ì •ì˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ê·œì •í•©ë‹ˆë‹¤.**\n\n- **ëª©ì **: ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì•”í˜¸í™” í‚¤ë¥¼ í‘œì¤€í™”ëœ í…Œì´ë¸” êµ¬ì¡°ë¡œ ì •ì˜í•˜ì—¬, í‚¤ ìƒì„±, ê´€ë¦¬, ì‚¬ìš©ì„ ì•ˆì „í•˜ê³  ì¼ê´€ë˜ê²Œ ìˆ˜í–‰.\n- **ì£¼ìš” ê¸°ëŠ¥**: ì „ì—­ í‚¤, ë²”ìœ„ë³„ í‚¤ ì§€ì›, GenKeyë¥¼ í†µí•œ ê°„ì ‘ í‚¤ ìƒì„±, VU ëª¨ë“œ ì§€ì •.\n- **ë°ì´í„° êµ¬ì¡°**: UID(16ì§„ìˆ˜), Name, CommonName, Key, Modeë¡œ êµ¬ì„±ëœ í…Œì´ë¸”.\n- **ìš”êµ¬ì‚¬í•­**: Table 47 ë˜ëŠ” 48 ì¤‘ í•˜ë‚˜ ì´ìƒì„ ì§€ì›í•´ì•¼ í•˜ë©°, í‚¤ëŠ” VU ëª¨ë“œ, GenKeyë¥¼ í†µí•´ ê°„ì ‘ ì…ë ¥ ê°€ëŠ¥.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: í‚¤ ë…¸ì¶œ ë°©ì§€ë¥¼ ìœ„í•œ GenKey, AES 256 ì•”í˜¸í™”, í…Œì´ë¸” ê¸°ë°˜ ì ‘ê·¼ ì œì–´.\n\n---\n\n### âœ… **í…ŒìŠ¤íŠ¸ ë°©ë²• ìš”ì•½**\n\n- **Opal ëª…ë ¹ì–´ ì‚¬ìš©**: `StartSession`, `GenKey`, `GetKeyTable`, `RevertSession` ë“±ìœ¼ë¡œ í…Œì´ë¸” ìƒì„± ë° ê²€ì¦.\n- **Python + pytest**: í…ŒìŠ¤íŠ¸ ìë™í™” ê°€ëŠ¥, í‚¤ ì¡´ì¬, ëª¨ë“œ, UID, ì´ë¦„ ë“±ì„ ê²€ì¦.\n- **í…Œì´ë¸” ë°ì´í„° ê²€ì¦**: UID, Name, Mode, Key íƒ€ì…, Indirect Writable ì—¬ë¶€ ë“±ì„ ì ê²€.\n\n---\n\nâœ… **ì´ ì„¹ì…˜ì€ Opal ì¥ì¹˜ì˜ ë³´ì•ˆ í‚¤ ê´€ë¦¬ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì´ë©°, í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ í‚¤ í…Œì´ë¸”ì˜ ì¡´ì¬, êµ¬ì„±, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**\n\n---\n\n> ğŸ“Œ **ê²°ë¡ **: Table 47ê³¼ 48ì€ AES í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ í…Œì´ë¸”ì´ë©°, `GenKey`ë¥¼ í†µí•œ ê°„ì ‘ í‚¤ ìƒì„±ì€ ë³´ì•ˆì„±ì„ ë†’ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œ í‚¤ì˜ ì¡´ì¬, ëª¨ë“œ, UID, ì´ë¦„ ë“±ì„ ê²€ì¦í•˜ë©´ í‘œì¤€ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ì„¤ëª… ì™„ë£Œ**.  \nâœ… **ë³¸ë¬¸ ë‚´ìš©ì´ ì¡´ì¬í•˜ë©°, ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì œì•ˆ ì™„ë£Œ**.\n\n---\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ ì‹œ `pyopal`, `py-scsi`, `opal-cli` ë“± ë¼ì´ë¸ŒëŸ¬ë¦¬/ë„êµ¬ë¥¼ ì‚¬ìš©í•´ Opal ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ë³¸ ì˜ˆì‹œëŠ” í…ŒìŠ¤íŠ¸ êµ¬ì¡°ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì˜ˆì‹œì…ë‹ˆë‹¤."
    },
    {
        "section_order": 133,
        "level": 3,
        "section_id": "4.3.6",
        "section_key": "4.3.6 Locking Template Methods",
        "title": "Locking Template Methods",
        "start_page": 90,
        "end_page": 90,
        "page_count": 1,
        "content_md": "## 4.3.6 Locking Template Methods\n\nRefer to Section 4.3.1.5 for supported methods.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.6 Locking Template Methods\n\nRefer to Section 4.3.1.5 for supported methods."
    },
    {
        "section_order": 134,
        "level": 3,
        "section_id": "4.3.7",
        "section_key": "4.3.7 Storage Device Read/Write Data Command Locking Behavior Interactions with Range Crossing",
        "title": "Storage Device Read/Write Data Command Locking Behavior Interactions with Range Crossing",
        "start_page": 90,
        "end_page": 90,
        "page_count": 1,
        "content_md": "## 4.3.7 Storage Device Read/Write Data Command Locking Behavior Interactions with Range Crossing\n\nIf a Storage Device receives a read or write command that spans multiple Locking ranges and the Locking ranges are not locked, the Storage Device SHALL either:\n\n- Process the data transfer as defined in [2], if Range Crossing Behavior bit is set to zero (in Level 0 Discovery Opal SSC V2 Feature, see section 3.1.1.5)  \n  OR\n- Terminate the command with â€œOther Invalid Command Parameterâ€ as defined in [4], if Range Crossing Behavior bit is set to one (in Level 0 Discovery Opal SSC V2 Feature, see section 3.1.1.5).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.7 Storage Device Read/Write Data Command Locking Behavior Interactions with Range Crossing\n\n---\n\n### ğŸ“Œ **ëª©ì **\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜**ì—ì„œ **ì½ê¸°/ì“°ê¸° ëª…ë ¹ì´ ì—¬ëŸ¬ Locking Rangeë¥¼ ë„˜ì–´ì„œ ì²˜ë¦¬ë  ë•Œì˜ í–‰ë™ ë°©ì‹**ì„ ì •ì˜í•©ë‹ˆë‹¤. ì£¼ë¡œ **ë³´ì•ˆ ë²”ìœ„(Locking Range)ê°€ ì ê²¨ ìˆì§€ ì•Šì€ ìƒíƒœì—ì„œ ë°ì´í„° ì ‘ê·¼ì´ ë°œìƒí–ˆì„ ë•Œ**, ì¥ì¹˜ê°€ ì–´ë–»ê²Œ ë°˜ì‘í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê·œì •í•©ë‹ˆë‹¤.\n\nì¦‰, ì‚¬ìš©ìê°€ í•˜ë‚˜ì˜ ë¸”ë¡ ì“°ê¸° ë˜ëŠ” ì½ê¸° ëª…ë ¹ìœ¼ë¡œ **ë‹¤ìˆ˜ì˜ ë³´ì•ˆ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš°**ì—, ì¥ì¹˜ê°€ **ê·¸ ëª…ë ¹ì„ í—ˆìš©í• ì§€, ì•„ë‹ˆë©´ ê±°ë¶€í• ì§€**ë¥¼ ê²°ì •í•˜ëŠ” ë¡œì§ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ **ë³´ì•ˆ ë²”ìœ„ì˜ ê²½ê³„ë¥¼ ë„˜ì–´ì„  ë¬´ë‹¨ ì ‘ê·¼ì„ ë°©ì§€**í•˜ê±°ë‚˜, **ì‚¬ìš©ì í¸ì˜ë¥¼ ìœ„í•´ ì—°ì†ì ì¸ ì ‘ê·¼ì„ í—ˆìš©**í•  ìˆ˜ ìˆë„ë¡ ìœ ì—°í•œ ì„¤ê³„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥**\n\n- **Range Crossing Behavior ë¹„íŠ¸**ì— ë”°ë¼ ë™ì‘ì´ ë‹¬ë¼ì§:\n  - `0`: **í—ˆìš©** â†’ ëª…ë ¹ì„ ì •ìƒ ì²˜ë¦¬ (ë²”ìœ„ë¥¼ ë„˜ê¸°ë”ë¼ë„ OK)\n  - `1`: **ê±°ë¶€** â†’ ëª…ë ¹ì„ ì¤‘ë‹¨í•˜ê³  â€œOther Invalid Command Parameterâ€ ì˜¤ë¥˜ ë°˜í™˜\n\n- **Locking Rangeê°€ ì ê²¨ ìˆì§€ ì•Šì„ ë•Œë§Œ ì ìš©ë¨** â†’ ì ê²¨ ìˆìœ¼ë©´ ì´ë¯¸ ì ‘ê·¼ì´ ê¸ˆì§€ë˜ì–´ ìˆìŒ.\n\n- **ë²”ìœ„ë¥¼ ë„˜ëŠ” ëª…ë ¹ ì²˜ë¦¬ ê²°ì •ì€ ì¥ì¹˜ê°€ ììœ¨ì ìœ¼ë¡œ ìˆ˜í–‰** â†’ í˜¸ìŠ¤íŠ¸(ì‚¬ìš©ì)ê°€ ëª…ë ¹ì„ ë³´ë‚´ëŠ” ë°©ì‹ì— ê´€ê³„ ì—†ìŒ.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì€ ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ, ê´€ë ¨ëœ ì •ë³´ëŠ” ë‹¤ìŒì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- **Level 0 Discovery Opal SSC V2 Feature (ì„¹ì…˜ 3.1.1.5)**  \n  â†’ ì—¬ê¸°ì„œ **Range Crossing Behavior ë¹„íŠ¸**ê°€ ì •ì˜ë¨.\n\n  ë¹„íŠ¸ ìœ„ì¹˜: `Bit 1` (ì˜ˆ: 0x02)\n\n  ì˜ˆì‹œ (ê°€ìƒì˜ Feature Word):\n\n  ```\n  31 30 29 ... 2 1 0\n  -------------------\n  1  1  1  ... 0 1 0   â†’ Range Crossing Behavior = 1 (ê±°ë¶€)\n  ```\n\n- **Locking Range ì •ë³´**ëŠ” `Locking Range Table` (LRT)ì— ì €ì¥ë¨ (ì„¹ì…˜ 4.3.1 ì°¸ì¡°).\n\n---\n\n### ğŸ“ **ìš”êµ¬ì‚¬í•­**\n\n1. **Locking Rangeê°€ ì ê²¨ ìˆì§€ ì•Šì„ ë•Œ**ë§Œ Range Crossing ì²˜ë¦¬ê°€ ì ìš©ë¨.\n2. **Range Crossing Behavior ë¹„íŠ¸ê°€ 0**ì¼ ê²½ìš° â†’ ë°ì´í„° ì „ì†¡ì„ ì •ìƒ ì²˜ë¦¬ (ì‚¬ì–‘ [2] ì°¸ì¡°).\n3. **Range Crossing Behavior ë¹„íŠ¸ê°€ 1**ì¼ ê²½ìš° â†’ ëª…ë ¹ì„ ì¢…ë£Œí•˜ê³  `Other Invalid Command Parameter` ì˜¤ë¥˜ ë°˜í™˜ (ì‚¬ì–‘ [4] ì°¸ì¡°).\n4. ì´ ë™ì‘ì€ **ì½ê¸°/ì“°ê¸° ëª…ë ¹ ëª¨ë‘ì— ì ìš©**ë¨.\n5. ì¥ì¹˜ëŠ” **ëª…ë ¹ì´ ì—¬ëŸ¬ Locking Rangeë¥¼ ë„˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ìë™ ê²€ì‚¬**í•´ì•¼ í•¨.\n\n---\n\n### ğŸ”’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ë²”ìœ„ë¥¼ ë„˜ëŠ” ì ‘ê·¼ì„ ì œì–´í•¨ìœ¼ë¡œì¨ ë³´ì•ˆ ë²”ìœ„ì˜ ë¬´ë‹¨ í™•ì¥ ë°©ì§€**.\n- **ë¹„íŠ¸ ê¸°ë°˜ ì„¤ì •ìœ¼ë¡œ ìœ ì—°í•œ ë³´ì•ˆ ì •ì±… ì„¤ì • ê°€ëŠ¥**:\n  - ë³´ì•ˆì´ ì¤‘ìš”í•œ í™˜ê²½ â†’ `1` (ê±°ë¶€) ì„¤ì •ìœ¼ë¡œ ë²”ìœ„ë¥¼ ì—„ê²©íˆ ì§€í‚¤ê¸°.\n  - ì„±ëŠ¥ ë˜ëŠ” í¸ì˜ë¥¼ ì¤‘ì‹œí•˜ëŠ” í™˜ê²½ â†’ `0` (í—ˆìš©) ì„¤ì •ìœ¼ë¡œ ì—°ì† ì ‘ê·¼ í—ˆìš©.\n- **ì„ì˜ì˜ ë²”ìœ„ë¥¼ ë„˜ëŠ” ì ‘ê·¼ì„ ì°¨ë‹¨í•¨ìœ¼ë¡œì¨, ì¼ë¶€ ë²”ìœ„ëŠ” ì ê²¨ ìˆê³  ì¼ë¶€ëŠ” ì—´ë ¤ ìˆì„ ë•Œì˜ ì·¨ì•½ì  ë°©ì§€**.\n\n---\n\n## âœ… **ê²€ì¦ì„ ìœ„í•œ Test Case ì œì‹œ**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n\n- Range Crossing Behavior ë¹„íŠ¸ê°€ `0`ì¼ ë•Œ, ë²”ìœ„ë¥¼ ë„˜ëŠ” ì½ê¸°/ì“°ê¸° ëª…ë ¹ì´ ì •ìƒ ì²˜ë¦¬ë˜ëŠ”ì§€ í™•ì¸.\n- Range Crossing Behavior ë¹„íŠ¸ê°€ `1`ì¼ ë•Œ, ë²”ìœ„ë¥¼ ë„˜ëŠ” ëª…ë ¹ì´ ê±°ë¶€ë˜ê³  ì˜¤ë¥˜ ì½”ë“œ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ“‚ í…ŒìŠ¤íŠ¸ í™˜ê²½\n\n- TCG Opal ì§€ì› ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ (ì˜ˆ: SSD, HDD)\n- Python + pytest + `pyopal` ë˜ëŠ” `pycryptodisk` ê°™ì€ Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë˜ëŠ” ì§ì ‘ SCSI/ATA ëª…ë ¹ì–´ êµ¬í˜„ ê°€ëŠ¥)\n- ì¥ì¹˜ì— 2ê°œ ì´ìƒì˜ Locking Range ìƒì„± (ì˜ˆ: Range 0: 0~100MB, Range 1: 101~200MB)\n- Rangeë¥¼ ì ê¸°ì§€ ì•ŠìŒ (Unlocked)\n\n---\n\n### ğŸ§© í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤\n\n#### âœ… TC1: Range Crossing Behavior = 0 â†’ ë²”ìœ„ë¥¼ ë„˜ëŠ” ëª…ë ¹ í—ˆìš©\n\n- **ì „ì œ ì¡°ê±´**:\n  - Range 0: 0~100MB (Unlocked)\n  - Range 1: 101~200MB (Unlocked)\n  - Range Crossing Behavior ë¹„íŠ¸ = 0\n\n- **í…ŒìŠ¤íŠ¸ ë™ì‘**:\n  - 50MBì—ì„œ 150MBê¹Œì§€ ì“°ê¸° (ë²”ìœ„ 0 + 1ì„ ë„˜ìŒ)\n  - ì½ê¸° ëª…ë ¹ë„ ë™ì¼ ìœ„ì¹˜ë¡œ ìˆ˜í–‰\n\n- **ê¸°ëŒ€ ê²°ê³¼**:\n  - ì“°ê¸°/ì½ê¸° ì„±ê³µ\n  - ì˜¤ë¥˜ ì—†ìŒ\n\n#### âŒ TC2: Range Crossing Behavior = 1 â†’ ë²”ìœ„ë¥¼ ë„˜ëŠ” ëª…ë ¹ ê±°ë¶€\n\n- **ì „ì œ ì¡°ê±´**:\n  - ë™ì¼í•œ ë²”ìœ„ ì„¤ì •\n  - Range Crossing Behavior ë¹„íŠ¸ = 1\n\n- **í…ŒìŠ¤íŠ¸ ë™ì‘**:\n  - 50MBì—ì„œ 150MBê¹Œì§€ ì“°ê¸° ëª…ë ¹\n\n- **ê¸°ëŒ€ ê²°ê³¼**:\n  - ëª…ë ¹ ì¢…ë£Œ\n  - ì˜¤ë¥˜ ì½”ë“œ: `Other Invalid Command Parameter` (0x0301 ë˜ëŠ” ì‚¬ì–‘ì— ë”°ë¼ ë‹¤ë¦„)\n\n---\n\n## ğŸ’¡ Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì‹¤ì œ êµ¬í˜„ì€ SCSI/ATA ëª…ë ¹ì–´ ê¸°ë°˜\n\n# ê°€ìƒì˜ Opal ì¥ì¹˜ í´ë˜ìŠ¤\nclass TestOpalDevice:\n    def __init__(self, range_crossing_behavior=0):\n        self.range_crossing_behavior = range_crossing_behavior\n        self.ranges = {\n            0: {\"start\": 0, \"end\": 100 * 1024 * 1024},  # 100MB\n            1: {\"start\": 101 * 1024 * 1024, \"end\": 200 * 1024 * 1024}  # 100MB\n        }\n        self.locked_ranges = set()  # ì ê¸´ ë²”ìœ„ ì €ì¥\n\n    def is_range_crossing(self, start, end):\n        \"\"\"ë²”ìœ„ë¥¼ ë„˜ëŠ”ì§€ í™•ì¸\"\"\"\n        for r_id, r in self.ranges.items():\n            if r[\"start\"] <= start < r[\"end\"] and r[\"start\"] <= end <= r[\"end\"]:\n                continue\n            elif start < r[\"start\"] and end > r[\"start\"]:\n                return True\n        return False\n\n    def write_data(self, start, end, data):\n        \"\"\"ì“°ê¸° ëª…ë ¹ ì²˜ë¦¬\"\"\"\n        if self.is_range_crossing(start, end):\n            if self.range_crossing_behavior == 1:\n                raise Exception(\"Other Invalid Command Parameter\")\n            else:\n                # ì •ìƒ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ë°ì´í„° ì“°ê¸°)\n                print(f\"Writing {start} to {end} - range crossing allowed\")\n                return True\n        else:\n            print(f\"Writing {start} to {end} - within single range\")\n            return True\n\n    def read_data(self, start, end):\n        \"\"\"ì½ê¸° ëª…ë ¹ ì²˜ë¦¬\"\"\"\n        if self.is_range_crossing(start, end):\n            if self.range_crossing_behavior == 1:\n                raise Exception(\"Other Invalid Command Parameter\")\n            else:\n                print(f\"Reading {start} to {end} - range crossing allowed\")\n                return \"data\"\n        else:\n            print(f\"Reading {start} to {end} - within single range\")\n            return \"data\"\n\n\n# í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤\n@pytest.fixture\ndef opal_device():\n    return TestOpalDevice(range_crossing_behavior=0)\n\n@pytest.fixture\ndef opal_device_reject():\n    return TestOpalDevice(range_crossing_behavior=1)\n\n\ndef test_range_crossing_allowed(opal_device):\n    \"\"\"Range Crossing Behavior = 0: í—ˆìš©\"\"\"\n    start = 50 * 1024 * 1024  # 50MB\n    end = 150 * 1024 * 1024   # 150MB\n    assert opal_device.write_data(start, end, b\"test\") is True\n    assert opal_device.read_data(start, end) == \"data\"\n\n\ndef test_range_crossing_rejected(opal_device_reject):\n    \"\"\"Range Crossing Behavior = 1: ê±°ë¶€\"\"\"\n    start = 50 * 1024 * 1024\n    end = 150 * 1024 * 1024\n    with pytest.raises(Exception, match=\"Other Invalid Command Parameter\"):\n        opal_device_reject.write_data(start, end, b\"test\")\n\n\n# ì¶”ê°€: ë²”ìœ„ ì•ˆì— ìˆìœ¼ë©´ ì •ìƒ ì²˜ë¦¬\ndef test_single_range_write(opal_device):\n    start = 20 * 1024 * 1024\n    end = 80 * 1024 * 1024\n    assert opal_device.write_data(start, end, b\"test\") is True\n\n\n# í…ŒìŠ¤íŠ¸ ì‹¤í–‰\nif __name__ == \"__main__\":\n    pytest.main()\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í…ŒìŠ¤íŠ¸ ID | Range Crossing Behavior | ë²”ìœ„ ì„¤ì • (ì˜ˆ)          | ëª…ë ¹ ìœ„ì¹˜ (Start ~ End) | ê¸°ëŒ€ ê²°ê³¼                     |\n|-----------|-------------------------|-------------------------|--------------------------|-------------------------------|\n| TC1       | 0                       | Range0: 0~100MB, Range1: 101~200MB | 50MB ~ 150MB             | ì •ìƒ ì²˜ë¦¬ (No Error)          |\n| TC2       | 1                       | ë™ì¼ ë²”ìœ„ ì„¤ì •          | 50MB ~ 150MB             | ì˜¤ë¥˜: Other Invalid Command Parameter |\n| TC3       | 0                       | ë™ì¼ ë²”ìœ„ ì„¤ì •          | 20MB ~ 80MB (ë‹¨ì¼ ë²”ìœ„)  | ì •ìƒ ì²˜ë¦¬                     |\n| TC4       | 1                       | ë™ì¼ ë²”ìœ„ ì„¤ì •          | 20MB ~ 80MB (ë‹¨ì¼ ë²”ìœ„)  | ì •ìƒ ì²˜ë¦¬ (ë²”ìœ„ë¥¼ ë„˜ì§€ ì•ŠìŒ)  |\n\n> ğŸ’¡ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ê²€ì¦ ì‹œ, `Level 0 Discovery` ëª…ë ¹ìœ¼ë¡œ Feature Word ì½ê³ , `Range Crossing Behavior` ë¹„íŠ¸ë¥¼ í™•ì¸í•œ í›„ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰.\n\n---\n\n## âœ… **ê²°ë¡ **\n\nì´ ì„¹ì…˜ì€ **TCG Opal ì¥ì¹˜ì˜ ë²”ìœ„ë¥¼ ë„˜ëŠ” ë°ì´í„° ì ‘ê·¼ì— ëŒ€í•œ ë³´ì•ˆ ì •ì±…ì„ ìœ ì—°í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆë„ë¡** ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  \n`Range Crossing Behavior` ë¹„íŠ¸ë¥¼ í†µí•´ **ë³´ì•ˆ ê°•ë„ì™€ ì‚¬ìš©ì í¸ì˜ì„±ì˜ ê· í˜•**ì„ ì¡°ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì‚¬ìš© í™˜ê²½ì— ë§ì¶˜ ë³´ì•ˆ ì •ì±…ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” ëª…ë ¹ì´ ë²”ìœ„ë¥¼ ë„˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê³ , ë¹„íŠ¸ ì„¤ì •ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ ì‚¬í•­ ì¡´ì¬ â†’ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° í…Œì´ë¸” ì œê³µ**\n\n---"
    },
    {
        "section_order": 135,
        "level": 3,
        "section_id": "4.3.8",
        "section_key": "4.3.8 Non Template Tables",
        "title": "Non Template Tables",
        "start_page": 90,
        "end_page": 90,
        "page_count": 1,
        "content_md": "## 4.3.8 Non Template Tables",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.8 Non Template Tables"
    },
    {
        "section_order": 136,
        "level": 4,
        "section_id": "4.3.8.1",
        "section_key": "4.3.8.1 DataStore (M)",
        "title": "DataStore (M)",
        "start_page": 90,
        "end_page": 91,
        "page_count": 2,
        "content_md": "### 4.3.8.1 DataStore (M)\n\nThe DataStore is a byte table. It can be used by the host for generic secure data storage. The DataStore table SHALL be at least 10MB in size (the Table table object that represents the DataStore table SHALL have a Rows column value of at least 0x00A00000). The access control for modification or retrieval of data in the table initially requires a member of the Admins class authority. These access control settings are personalizable. The Initial DataStore content value is VU.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 4.3.8.1 DataStore (M) - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n**DataStore**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë³´ì•ˆëœ ì¼ë°˜ìš© ë°ì´í„° ì €ì¥ ê³µê°„**ì…ë‹ˆë‹¤.  \nì¦‰, í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ(ì˜ˆ: ì»´í“¨í„° OS)ì´ **ì•”í˜¸í™”ëœ ë°©ì‹ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ëŠ” í…Œì´ë¸”**ì…ë‹ˆë‹¤.  \nì˜ˆë¥¼ ë“¤ì–´, ì•”í˜¸í™” í‚¤, ì¸ì¦ ì •ë³´, ë³´ì•ˆ ì„¤ì •, ë¡œê·¸ ë“± **ë¯¼ê°í•œ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€**í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ëŠ” **TCG Opal í•˜ë“œì›¨ì–´ ë³´ì•ˆ ê¸°ëŠ¥**ì˜ ì¼ë¶€ë¡œ, ë””ìŠ¤í¬ ìì²´ ë‚´ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ë©°, ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ê±°ë‚˜ ë³µêµ¬í•˜ëŠ” ê²ƒì„ ì–´ë µê²Œ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ë³´ì•ˆëœ ì €ì¥ì†Œ (Secure Storage)**:  \n   - ë°ì´í„°ëŠ” ë””ìŠ¤í¬ ë‚´ë¶€ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.  \n   - ì™¸ë¶€ì—ì„œ ë””ìŠ¤í¬ë¥¼ ë¶„ë¦¬í•´ë„ ë°ì´í„°ë¥¼ ì‰½ê²Œ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n2. **ì¼ë°˜ìš© (Generic)**:  \n   - íŠ¹ì • ëª©ì (ì˜ˆ: ì•”í˜¸í™” í‚¤ ì €ì¥ìš©)ì´ ì•„ë‹ˆë¼, **í˜¸ìŠ¤íŠ¸ê°€ ììœ ë¡­ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ìš©ë„ ì €ì¥ì†Œ**ì…ë‹ˆë‹¤.\n\n3. **ì ‘ê·¼ ì œì–´ ê°€ëŠ¥ (Access Control)**:  \n   - ì´ˆê¸° ìƒíƒœì—ì„œëŠ” **ê´€ë¦¬ì ê³„ì¸µ**(Admins class) ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.  \n   - ì´í›„ **ì‚¬ìš©ì ì •ì˜**ë¡œ ì ‘ê·¼ ê¶Œí•œì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì˜ˆ: User í´ë˜ìŠ¤, Guest ë“±).\n\n4. **ì´ˆê¸°ê°’ ì„¤ì • (Initial Value)**:  \n   - DataStoreì˜ ì´ˆê¸° ê°’ì€ **VU**(Value Undefined)ì…ë‹ˆë‹¤.  \n   - ì¦‰, ë°ì´í„°ëŠ” **ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì˜ë¯¸**ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **Byte Table (ë°”ì´íŠ¸ í…Œì´ë¸”)**:  \n  DataStoreëŠ” **ìˆœìˆ˜í•œ ë°”ì´íŠ¸ ë°°ì—´ë¡œ êµ¬ì„±ëœ í…Œì´ë¸”**ì…ë‹ˆë‹¤.  \n  â†’ ì˜ˆ: 10MB í¬ê¸°ì˜ ë°ì´í„°ëŠ” 10,485,760 ë°”ì´íŠ¸(0x00A00000)ì˜ ì—°ì†ëœ ë°”ì´íŠ¸ ê³µê°„ì…ë‹ˆë‹¤.\n\n- **Table Table ê°ì²´ë¡œ í‘œí˜„**:  \n  Opal í‘œì¤€ì—ì„œëŠ” ëª¨ë“  í…Œì´ë¸”ì€ **Table Table** ê°ì²´ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  \n  - `Rows` ì—´: DataStoreì˜ í¬ê¸°ë¥¼ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  \n    â†’ **ìµœì†Œ 0x00A00000 (10,485,760 ë°”ì´íŠ¸ = 10MB)** ì´ìƒì´ì–´ì•¼ í•¨.\n\n- **ì¸ë±ìŠ¤ ê¸°ë°˜ ì ‘ê·¼**:  \n  DataStoreì˜ ë°ì´í„°ëŠ” **í–‰/ì—´ ê¸°ë°˜ ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  \n  ì˜ˆ: Row 0, Column 0 ~ Row 10485759, Column 0 (10MB í¬ê¸°ì˜ ê²½ìš°)\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ìµœì†Œ í¬ê¸°**:  \n   - DataStore í…Œì´ë¸”ì˜ í¬ê¸°ëŠ” **ìµœì†Œ 10MB** ì´ìƒì´ì–´ì•¼ í•¨.  \n   - `Table Table` ê°ì²´ì˜ `Rows` ê°’ì´ `0x00A00000` ì´ìƒì´ì–´ì•¼ í•¨.\n\n2. **ì ‘ê·¼ ê¶Œí•œ**:  \n   - ì´ˆê¸°ì—ëŠ” **Admins class** ê¶Œí•œì´ í•„ìš”.  \n   - ì´í›„ì—ëŠ” **ì‚¬ìš©ì ì •ì˜ ê¶Œí•œ ì„¤ì •**ì´ ê°€ëŠ¥.\n\n3. **ì´ˆê¸° ê°’**:  \n   - **VU (Value Undefined)**. â†’ ë°ì´í„°ëŠ” ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŒì„ ì˜ë¯¸.\n\n4. **í‘œì¤€ ì¤€ìˆ˜**:  \n   - TCG Opal 2.30 í‘œì¤€ì— ë”°ë¼ êµ¬í˜„ë˜ì–´ì•¼ í•˜ë©°, **Table Table ê°ì²´ë¥¼ í†µí•´ ì ‘ê·¼**í•´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ë””ìŠ¤í¬ ë‚´ë¶€ ì•”í˜¸í™”**:  \n   - DataStore ë°ì´í„°ëŠ” ë””ìŠ¤í¬ ìì²´ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ë©°,  \n     **í˜¸ìŠ¤íŠ¸ OSê°€ ë³µí˜¸í™”í•˜ì§€ ì•Šìœ¼ë©´ ì½ì„ ìˆ˜ ì—†ìŒ**.\n\n2. **ì ‘ê·¼ ì œì–´ (Access Control)**:  \n   - DataStoreì— ì ‘ê·¼í•˜ë ¤ë©´ **ê¶Œí•œ ìˆëŠ” ì„¸ì…˜**ì´ í•„ìš” (ì˜ˆ: Admins ì„¸ì…˜).  \n   - ê¶Œí•œì€ **TCG Opalì˜ ê³„ì¸µ êµ¬ì¡°**ì— ë”°ë¼ ê²°ì •ë¨ (Admins > Users > Guests).\n\n3. **ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼**:  \n   - `StartSession` ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ì„ ì‹œì‘í•˜ê³ ,  \n     ê¶Œí•œì— ë”°ë¼ `Write` ë˜ëŠ” `Read`ê°€ í—ˆìš©ë¨.\n\n4. **ì ‘ê·¼ ì œì–´ ì •ì±… ë³€ê²½ ê°€ëŠ¥**:  \n   - Admins ê³„ì¸µì´ ì ‘ê·¼ ê¶Œí•œì„ **ë‹¤ë¥¸ ì‚¬ìš©ì í´ë˜ìŠ¤ì— ìœ„ì„**í•  ìˆ˜ ìˆìŒ.\n\n---\n\n## âœ… **ê²€ì¦ì„ ìœ„í•œ Test Case ì œì‹œ**\n\n### âœ… **Test Case 1: DataStore ìµœì†Œ í¬ê¸° ê²€ì¦ (10MB ì´ìƒ)**\n\n**ëª©ì **: DataStore í…Œì´ë¸”ì˜ í¬ê¸°ê°€ 10MB ì´ìƒì¸ì§€ í™•ì¸.\n\n**ê²€ì¦ ë°©ë²•**:\n1. `Table Table` ê°ì²´ë¥¼ ì½ì–´ `Rows` ê°’ì„ í™•ì¸.\n2. `Rows` ê°’ì´ `0x00A00000` ì´ìƒì¸ì§€ ê²€ì¦.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\nimport pytest\nfrom pyopal import OpalDrive  # ê°€ìƒì˜ Opal ë“œë¼ì´ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ êµ¬í˜„ í•„ìš”)\n\n@pytest.fixture\ndef opal_drive():\n    drive = OpalDrive(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    drive.start_session(\"Admin\", \"admin_password\")\n    return drive\n\ndef test_datastore_minimum_size(opal_drive):\n    \"\"\"DataStoreì˜ í¬ê¸°ê°€ ìµœì†Œ 10MB ì´ìƒì¸ì§€ ê²€ì¦\"\"\"\n    table_table = opal_drive.get_table_table(\"DataStore\")\n    rows = table_table.get_rows()\n    min_size = 0x00A00000  # 10MB in hex\n    assert rows >= min_size, f\"DataStore size is {rows} bytes, but must be at least {min_size} bytes (10MB)\"\n```\n\n---\n\n### âœ… **Test Case 2: DataStore ì ‘ê·¼ ê¶Œí•œ ê²€ì¦ (Admins ê¶Œí•œ í•„ìš”)**\n\n**ëª©ì **: DataStoreì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ Admins ê¶Œí•œì´ í•„ìš”í•˜ë©°, ê¶Œí•œ ì—†ì´ ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ ë°œìƒ.\n\n**ê²€ì¦ ë°©ë²•**:\n1. Admins ì„¸ì…˜ìœ¼ë¡œ ë¡œê·¸ì¸ â†’ ë°ì´í„° ì½ê¸° ì„±ê³µ.\n2. User ì„¸ì…˜ìœ¼ë¡œ ë¡œê·¸ì¸ â†’ ë°ì´í„° ì½ê¸° ì‹¤íŒ¨ (ì ‘ê·¼ ê±°ë¶€).\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_datastore_access_control(opal_drive):\n    \"\"\"DataStore ì ‘ê·¼ ê¶Œí•œ ê²€ì¦ (Admins ê¶Œí•œ í•„ìš”)\"\"\"\n    # 1. Admin ì„¸ì…˜ìœ¼ë¡œ ì ‘ê·¼ - ì„±ê³µ\n    opal_drive.start_session(\"Admin\", \"admin_password\")\n    try:\n        data = opal_drive.read_datastore(0, 0, 1024)  # ì²« 1KB ì½ê¸°\n        assert len(data) == 1024, \"Expected 1024 bytes, got {}\".format(len(data))\n    except Exception as e:\n        pytest.fail(f\"Admin session failed to read DataStore: {e}\")\n\n    # 2. User ì„¸ì…˜ìœ¼ë¡œ ì ‘ê·¼ - ì‹¤íŒ¨ (ê¶Œí•œ ì—†ìŒ)\n    opal_drive.start_session(\"User\", \"user_password\")\n    with pytest.raises(Exception, match=\"Access denied|Insufficient privileges\"):\n        opal_drive.read_datastore(0, 0, 1024)\n```\n\n---\n\n### âœ… **Test Case 3: DataStore ì´ˆê¸°ê°’ ê²€ì¦ (VU - Value Undefined)**\n\n**ëª©ì **: DataStoreì˜ ì´ˆê¸° ê°’ì´ VUì¸ì§€ í™•ì¸.\n\n**ê²€ì¦ ë°©ë²•**:\n- ìƒˆë¡­ê²Œ ì´ˆê¸°í™”ëœ ì¥ì¹˜ì—ì„œ DataStoreë¥¼ ì½ì–´, **ê°’ì´ ì˜ˆìƒëŒ€ë¡œ ë¯¸ì •ì˜ ìƒíƒœ(VU)** ì¸ì§€ í™•ì¸.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_datastore_initial_value(opal_drive):\n    \"\"\"DataStoreì˜ ì´ˆê¸° ê°’ì´ VU (Value Undefined)ì¸ì§€ ê²€ì¦\"\"\"\n    opal_drive.start_session(\"Admin\", \"admin_password\")\n    # DataStore ì½ê¸° (ì´ˆê¸°ê°’ í™•ì¸)\n    try:\n        initial_data = opal_drive.read_datastore(0, 0, 1024)\n        # VUëŠ” ì •ì˜ë˜ì§€ ì•Šì€ ê°’ì´ë¯€ë¡œ, ì˜ˆìƒë˜ëŠ” ê°’ì€ ì—†ìŒ.  \n        # ë”°ë¼ì„œ, ì½ì€ ê°’ì´ íŠ¹ì • íŒ¨í„´ì´ ì•„ë‹ˆë¼ë©´ \"ì •ì˜ë˜ì§€ ì•ŠìŒ\"ìœ¼ë¡œ ê°„ì£¼\n        # ë˜ëŠ”, í‘œì¤€ì— ë”°ë¼ \"VU\" ìƒíƒœëŠ” ë¹ˆ ë°ì´í„° ë˜ëŠ” ì˜ˆì™¸ë¡œ ì²˜ë¦¬ë¨.\n        # ì‹¤ì œë¡œëŠ” VU ìƒíƒœì¼ ê²½ìš° ì½ê¸° ì˜¤ë¥˜ ë˜ëŠ” íŠ¹ì • ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥.\n        # ë”°ë¼ì„œ, ì˜ˆìƒë˜ëŠ” ë°ì´í„°ê°€ ì—†ìŒì„ í™•ì¸ (ì˜ˆ: None, Empty, Exception)\n        assert initial_data is None or len(initial_data) == 0, \\\n            \"Initial DataStore should be undefined (VU), but got non-empty data\"\n    except Exception as e:\n        # VU ìƒíƒœì¼ ê²½ìš° ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥\n        # ì˜ˆ: \"Value Undefined\" ë˜ëŠ” \"Data not initialized\"\n        assert \"undefined\" in str(e).lower() or \"not initialized\" in str(e).lower(), \\\n            f\"Expected VU error, got: {e}\"\n```\n\n---\n\n### âœ… **TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•œ ê²€ì¦ ë°©ë²•**\n\n| ëª…ë ¹ì–´ | ëª©ì  | ì‚¬ìš© ì˜ˆì‹œ |\n|--------|------|-----------|\n| `StartSession` | ì„¸ì…˜ ì‹œì‘ (ê¶Œí•œ ì„¤ì •) | `StartSession(Admin, \"password\")` |\n| `ReadTable` | DataStore í…Œì´ë¸” ì½ê¸° | `ReadTable(\"DataStore\", row, col, count)` |\n| `WriteTable` | DataStore í…Œì´ë¸” ì“°ê¸° | `WriteTable(\"DataStore\", row, col, data)` |\n| `Revert` | ë³€ê²½ ì‚¬í•­ ì·¨ì†Œ | `Revert()` - ìˆ˜ì • í›„ ë˜ëŒë¦¬ê¸° |\n| `GetTableTable` | í…Œì´ë¸” ë©”íƒ€ì •ë³´ ê°€ì ¸ì˜¤ê¸° | `GetTableTable(\"DataStore\")` â†’ `Rows` í™•ì¸ |\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **í…Œì´ë¸” ë©”íƒ€ì •ë³´ ê²€ì¦**:  \n   - `Table Table` ê°ì²´ì˜ `Rows`, `Columns`, `TableID` í™•ì¸ â†’ DataStoreì¸ì§€ í™•ì¸.\n\n2. **ë°ì´í„° ë‚´ìš© ê²€ì¦**:  \n   - íŠ¹ì • ìœ„ì¹˜ì— ë°ì´í„°ë¥¼ ì“°ê³ , ë‹¤ì‹œ ì½ì–´ ë™ì¼í•œì§€ í™•ì¸.\n   - ì˜ˆ: `WriteTable(0,0,\"Hello\")` â†’ `ReadTable(0,0,5)` â†’ \"Hello\" í™•ì¸.\n\n3. **ì´ˆê¸°í™” ìƒíƒœ ê²€ì¦**:  \n   - ì¥ì¹˜ ì´ˆê¸°í™” í›„ `ReadTable` â†’ VU ìƒíƒœ í™•ì¸ (ì˜ˆ: ë¹ˆ ë°ì´í„°, ì˜¤ë¥˜ ë°œìƒ).\n\n4. **ì ‘ê·¼ ê¶Œí•œ ë³€ê²½ í›„ ê²€ì¦**:  \n   - Adminì´ Userì—ê²Œ ê¶Œí•œ ë¶€ì—¬ â†’ User ì„¸ì…˜ìœ¼ë¡œ ì½ê¸° ì„±ê³µ í™•ì¸.\n\n---\n\n## âœ… **ê²°ë¡ **\n\n**DataStore (M)**ì€ TCG Opalì—ì„œ ì œê³µí•˜ëŠ” **ë³´ì•ˆëœ ì¼ë°˜ìš© ë°ì´í„° ì €ì¥ ê³µê°„**ìœ¼ë¡œ,  \n- ìµœì†Œ 10MB í¬ê¸° ì´ìƒì˜ ë°”ì´íŠ¸ í…Œì´ë¸”ì´ë©°,  \n- ì´ˆê¸° ì ‘ê·¼ì€ Admins ê¶Œí•œ í•„ìš”,  \n- ì´ˆê¸°ê°’ì€ VU (Value Undefined),  \n- ì ‘ê·¼ ì œì–´ë¥¼ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•˜ë©°,  \n- ë””ìŠ¤í¬ ë‚´ë¶€ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ì–´ ë³´ì•ˆì„±ì´ ë†’ìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ **Table Tableì˜ Rows ê°’ í™•ì¸**, **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ í…ŒìŠ¤íŠ¸**, **ì´ˆê¸°ê°’ ê²€ì¦** ë“±ì„ í†µí•´ **ì‹¤ì œ êµ¬í˜„ì´ í‘œì¤€ì— ë¶€í•©í•˜ëŠ”ì§€** í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ Opal ë“œë¼ì´ë¸Œ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë”°ë¼ êµ¬í˜„ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë‚˜, ìœ„ì˜ êµ¬ì¡°ëŠ” í‘œì¤€ ì¤€ìˆ˜ ê²€ì¦ì— ìœ ìš©í•©ë‹ˆë‹¤.**\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” **TCG Opal í˜¸í™˜ í•˜ë“œì›¨ì–´ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬**(ì˜ˆ: `pyopal`, `libopal`, ë˜ëŠ” ì œì¡°ì‚¬ SDK)ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.  \nì˜ˆì‹œ ì½”ë“œëŠ” ê°œë…ì  ì„¤ëª…ìš©ì´ë©°, ì‹¤ì œ êµ¬í˜„ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ APIì— ë”°ë¼ ì¡°ì • í•„ìš”.\n\n---  \n**[End of Section 4.3.8.1 DataStore (M) - ì„¤ëª… ì™„ë£Œ]**"
    },
    {
        "section_order": 137,
        "level": 1,
        "section_id": "5",
        "section_key": "5 Appendix â€“ SSC Specific Features",
        "title": "Appendix â€“ SSC Specific Features",
        "start_page": 91,
        "end_page": 91,
        "page_count": 1,
        "content_md": "## 5 Appendix â€“ SSC Specific Features",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5 Appendix â€“ SSC Specific Features"
    },
    {
        "section_order": 138,
        "level": 2,
        "section_id": "5.1",
        "section_key": "5.1 Opal SSC-Specific Methods",
        "title": "Opal SSC-Specific Methods",
        "start_page": 91,
        "end_page": 91,
        "page_count": 1,
        "content_md": "## 5.1 Opal SSC-Specific Methods",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1 Opal SSC-Specific Methods"
    },
    {
        "section_order": 139,
        "level": 3,
        "section_id": "5.1.1",
        "section_key": "5.1.1 Activate â€“ Admin Template SP Object Method",
        "title": "Activate â€“ Admin Template SP Object Method",
        "start_page": 91,
        "end_page": 91,
        "page_count": 1,
        "content_md": "## 5.1.1 Activate â€“ Admin Template SP Object Method\n\nActivate is an Opal SSC-specific method for managing the life cycle of SPs created in manufacturing (Manufactured SP), whose initial life cycle state is â€œManufactured-Inactiveâ€. The following pseudo-code is the signature of the Activate method (see [2] for more information).\n\n```\nSPObjectUID.Activate[ ]\n=>\n[ ]\n```\n\nActivate is an object method that operates on objects in the Admin SPâ€™s SP table. The TPer SHALL NOT permit Activate to be invoked on the SP objects of issued SPs.\n\nInvocation of Activate on an SP object that is in the â€œManufactured-Inactiveâ€ state causes the SP to transition to the â€œManufacturedâ€ state. Invocation of Activate on an SP in any other life cycle state SHALL complete successfully provided access control is satisfied, and have no effect. The Activate method allows the TPer owner to â€œturn onâ€ an SP that was created in manufacturing.\n\nThis method operates within a Read-Write session to the Admin SP. The SP SHALL be activated immediately after the method returns success if its invocation is not contained within a transaction.\n\nIn case of an â€œActivate Errorâ€ (see [4]), Activate SHALL fail with a status of FAIL.\n\nThe MethodID for Activate SHALL be 0x00 00 00 06 00 00 02 03.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1.1 Activate â€“ Admin Template SP Object Method\n\n---\n\n### ğŸ“Œ **ëª©ì  (Purpose)**\n\n`Activate`ëŠ” TCG Opal í‘œì¤€ì— ë”°ë¼ **ì œì¡° ì‹œ ìƒì„±ëœ SP (Storage Provider)** ê°ì²´ë¥¼ í™œì„±í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” **ê´€ë¦¬ììš© ê°ì²´ ë©”ì†Œë“œ**ì…ë‹ˆë‹¤.  \nì œì¡° ì‹œ ìƒì„±ëœ SPëŠ” ì´ˆê¸° ìƒíƒœê°€ `\"Manufactured-Inactive\"`ì´ë©°, ì´ ìƒíƒœì—ì„œëŠ” **í™œì„±í™”ë˜ì§€ ì•Šì•„ ì‚¬ìš© ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤. `Activate` ë©”ì†Œë“œëŠ” ì´ëŸ¬í•œ SPë¥¼ `\"Manufactured\"` ìƒíƒœë¡œ ì „í™˜í•˜ì—¬ **ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ì—­í• **ì„ í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ ë©”ì†Œë“œëŠ” **ì œì¡° ì‹œ ì¤€ë¹„ëœ ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ ê°ì²´ë¥¼ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ \"ì¼œëŠ”\" ìŠ¤ìœ„ì¹˜** ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥ (Key Functionality)**\n\n- **ìƒíƒœ ì „í™˜**: `\"Manufactured-Inactive\"` â†’ `\"Manufactured\"` ìƒíƒœ ì „í™˜.\n- **ë¬´íš¨í•œ ìƒíƒœ ì²˜ë¦¬**: ì´ë¯¸ í™œì„±í™”ëœ SP(ì˜ˆ: `\"Manufactured\"` ë˜ëŠ” `\"Issued\"` ìƒíƒœ)ì— `Activate`ë¥¼ í˜¸ì¶œí•˜ë©´, **ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì§€ë§Œ ìƒíƒœ ë³€í™” ì—†ìŒ**.\n- **ì ‘ê·¼ ì œì–´**: ê´€ë¦¬ì ìŠ¤íŒ¸(Admin SP)ì˜ **ì½ê¸°-ì“°ê¸° ì„¸ì…˜** ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥. ì ‘ê·¼ ì œì–´ ì •ì±…ì´ ì¶©ì¡±ë˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨.\n- **ì¦‰ì‹œ ì ìš©**: ë©”ì†Œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ë°˜í™˜ëœ í›„, **íŠ¸ëœì­ì…˜ ë‚´ì— í¬í•¨ë˜ì§€ ì•Šìœ¼ë©´ ì¦‰ì‹œ í™œì„±í™”ë¨**.\n- **ì˜¤ë¥˜ ì²˜ë¦¬**: `Activate Error`ê°€ ë°œìƒí•˜ë©´, ë©”ì†Œë“œëŠ” `FAIL` ìƒíƒœë¡œ ì‹¤íŒ¨.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **ê°ì²´**: `SPObjectUID` (Storage Provider Objectì˜ ê³ ìœ  ì‹ë³„ì)\n- **ë©”ì†Œë“œ**: `Activate[]`\n- **ë°˜í™˜ê°’**: void (ì¦‰, ë°˜í™˜ê°’ ì—†ìŒ)\n- **ì…ë ¥ ë§¤ê°œë³€ìˆ˜**: ì—†ìŒ (ë¹ˆ íŒŒë¼ë¯¸í„° ëª©ë¡)\n- **MethodID**: `0x00 00 00 06 00 00 02 03` (TCG Opal ëª…ë ¹ì–´ì˜ ê³ ìœ  ì‹ë³„ì)\n\n> ì°¸ê³ : ì´ MethodIDëŠ” Opal ëª…ë ¹ì–´ë¥¼ ì¸ì‹í•˜ê³  ì²˜ë¦¬í•˜ê¸° ìœ„í•œ TCG í‘œì¤€ ì‹ë³„ìì…ë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ í•´ë‹¹ IDë¥¼ ì‚¬ìš©í•´ ëª…ë ¹ì–´ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸš« **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì„¸ì…˜ ìš”êµ¬ì‚¬í•­**: `Activate`ëŠ” ë°˜ë“œì‹œ **Admin SPì— ëŒ€í•œ Read-Write ì„¸ì…˜** ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥.\n2. **ì ‘ê·¼ ì œì–´**: í˜¸ì¶œìê°€ Admin SPì˜ ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìì—¬ì•¼ í•¨ (ì˜ˆ: Admin PIN ë˜ëŠ” Admin Key).\n3. **ìƒíƒœ ì œì•½**:  \n   - `\"Manufactured-Inactive\"` ìƒíƒœì—ì„œë§Œ ì‹¤ì œ í™œì„±í™”ê°€ ë°œìƒ.  \n   - ë‹¤ë¥¸ ìƒíƒœì—ì„œëŠ” ì„±ê³µì ìœ¼ë¡œ ë¦¬í„´ë˜ì§€ë§Œ ìƒíƒœ ë³€í™” ì—†ìŒ.\n4. **TPer ì œí•œ**: TPer (Trustworthy Platform Entity)ëŠ” **ì´ë¯¸ ë°œê¸‰ëœ SP**(Issued SP)ì˜ `Activate` í˜¸ì¶œì„ **í—ˆìš©í•˜ì§€ ì•ŠìŒ**.\n5. **íŠ¸ëœì­ì…˜ ì²˜ë¦¬**: íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ í˜¸ì¶œë˜ë©´, í™œì„±í™”ëŠ” íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— ì ìš©ë¨. íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œëŠ” ì¦‰ì‹œ ì ìš©.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì ‘ê·¼ ì œì–´**: Admin SPì— ëŒ€í•œ Read-Write ì„¸ì…˜ì€ ë³´ì•ˆ ìê²© ì¦ëª…(ì˜ˆ: Admin PIN)ìœ¼ë¡œë§Œ ì—´ ìˆ˜ ìˆìŒ.\n- **ìƒíƒœ ê¸°ë°˜ ë³´ì•ˆ**: ë¹„í™œì„±í™”ëœ SPë§Œ í™œì„±í™” ê°€ëŠ¥ â†’ ì˜¤ìš© ë°©ì§€.\n- **TPer ì œí•œ**: ë°œê¸‰ëœ SPëŠ” ì¬í™œì„±í™” ë¶ˆê°€ â†’ ì œì¡° í›„ ë³´ì•ˆ íë¦„ì˜ ì¼ê´€ì„± ìœ ì§€.\n- **ì˜¤ë¥˜ ê°ì§€**: `Activate Error` ë°œìƒ ì‹œ ëª…í™•íˆ ì‹¤íŒ¨ ì²˜ë¦¬ â†’ ê³µê²©ìì—ê²Œ ì •ë³´ ìœ ì¶œ ë°©ì§€.\n\n---\n\n### ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case (Test Case for Validation)**\n\n#### âœ… **ëª©í‘œ**: `Activate` ë©”ì†Œë“œê°€ ì •í™•í•˜ê²Œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦  \n#### âœ… **ì¡°ê±´**:  \n- SPê°€ `\"Manufactured-Inactive\"` ìƒíƒœ  \n- Admin SPì— ëŒ€í•œ Read-Write ì„¸ì…˜ ì—´ë¦¼  \n- Admin ê¶Œí•œ ë³´ìœ   \n\n---\n\n### ğŸ **Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient, Session, SPObjectUID, TCGOpalCommand\n\n# í…ŒìŠ¤íŠ¸ìš© ëª¨ì˜ Opal í´ë¼ì´ì–¸íŠ¸ (ì‹¤ì œ ì¥ì¹˜ ì—°ê²° ì‹œ ì‚¬ìš©)\nclass MockOpalClient(OpalClient):\n    def __init__(self):\n        self.sp_state = \"Manufactured-Inactive\"  # ì´ˆê¸° ìƒíƒœ\n        self.session_active = False\n        self.admin_authenticated = False\n\n    def start_session(self, session_type, auth_method, auth_value):\n        if session_type == \"ReadWrite\" and auth_method == \"AdminPIN\" and auth_value == \"123456\":\n            self.session_active = True\n            self.admin_authenticated = True\n            return True\n        return False\n\n    def activate_sp(self, sp_object_uid):\n        if not self.session_active:\n            raise Exception(\"Session not active\")\n        if not self.admin_authenticated:\n            raise Exception(\"Admin not authenticated\")\n        if self.sp_state == \"Manufactured-Inactive\":\n            self.sp_state = \"Manufactured\"\n            return True\n        else:\n            return True  # ì„±ê³µí•˜ì§€ë§Œ ìƒíƒœ ë³€í™” ì—†ìŒ\n\n    def get_sp_state(self, sp_object_uid):\n        return self.sp_state\n\n# í…ŒìŠ¤íŠ¸ í•¨ìˆ˜\n@pytest.fixture\ndef opal_client():\n    return MockOpalClient()\n\n@pytest.fixture\ndef sp_object_uid():\n    return SPObjectUID(\"0x0001\")  # ì˜ˆì‹œ SP UID\n\ndef test_activate_success_from_inactive(opal_client, sp_object_uid):\n    \"\"\"Activateê°€ Inactive ìƒíƒœì—ì„œ ì„±ê³µì ìœ¼ë¡œ Manufactured ìƒíƒœë¡œ ì „í™˜ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    # ì„¸ì…˜ ì‹œì‘ ë° ì¸ì¦\n    assert opal_client.start_session(\"ReadWrite\", \"AdminPIN\", \"123456\") is True\n\n    # Activate í˜¸ì¶œ\n    result = opal_client.activate_sp(sp_object_uid)\n\n    # ìƒíƒœ í™•ì¸\n    assert result is True\n    assert opal_client.get_sp_state(sp_object_uid) == \"Manufactured\"\n\ndef test_activate_no_effect_on_active_state(opal_client, sp_object_uid):\n    \"\"\"Activateê°€ ì´ë¯¸ í™œì„±í™”ëœ SPì— í˜¸ì¶œë˜ì—ˆì„ ë•Œ ìƒíƒœ ë³€í™” ì—†ì´ ì„±ê³µí•˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    # ì´ˆê¸° ìƒíƒœë¥¼ í™œì„±í™” ìƒíƒœë¡œ ì„¤ì •\n    opal_client.sp_state = \"Manufactured\"\n\n    # ì„¸ì…˜ ì‹œì‘\n    assert opal_client.start_session(\"ReadWrite\", \"AdminPIN\", \"123456\") is True\n\n    # Activate í˜¸ì¶œ\n    result = opal_client.activate_sp(sp_object_uid)\n\n    # ìƒíƒœ ë³€í™” ì—†ìŒ, ì„±ê³µ\n    assert result is True\n    assert opal_client.get_sp_state(sp_object_uid) == \"Manufactured\"\n\ndef test_activate_fails_without_session(opal_client, sp_object_uid):\n    \"\"\"ì„¸ì…˜ì´ ì—†ìœ¼ë©´ Activate í˜¸ì¶œ ì‹¤íŒ¨\"\"\"\n    with pytest.raises(Exception, match=\"Session not active\"):\n        opal_client.activate_sp(sp_object_uid)\n\ndef test_activate_fails_without_auth(opal_client, sp_object_uid):\n    \"\"\"ê´€ë¦¬ì ì¸ì¦ ì—†ì´ Activate í˜¸ì¶œ ì‹¤íŒ¨\"\"\"\n    opal_client.start_session(\"ReadWrite\", \"AdminPIN\", \"wrong_pin\")  # ì¸ì¦ ì‹¤íŒ¨\n    with pytest.raises(Exception, match=\"Admin not authenticated\"):\n        opal_client.activate_sp(sp_object_uid)\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê¸°ëŒ€ê°’ | ê²€ì¦ ë°©ë²• |\n|------|--------|-----------|\n| **ì´ˆê¸° ìƒíƒœ** | `\"Manufactured-Inactive\"` | `get_sp_state()` í˜¸ì¶œ í›„ ìƒíƒœ í™•ì¸ |\n| **Activate í›„ ìƒíƒœ** | `\"Manufactured\"` | `get_sp_state()` í˜¸ì¶œ í›„ ìƒíƒœ í™•ì¸ |\n| **ì„¸ì…˜ ìƒíƒœ** | `ReadWrite` í™œì„±í™” | `start_session()` í˜¸ì¶œ í›„ ìƒíƒœ í™•ì¸ |\n| **Admin ì¸ì¦ ì—¬ë¶€** | ì„±ê³µ | `start_session()`ì— ì˜¬ë°”ë¥¸ PIN ì…ë ¥ í™•ì¸ |\n| **ì˜¤ë¥˜ ì²˜ë¦¬** | `FAIL` | `activate_sp()` í˜¸ì¶œ í›„ ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ í™•ì¸ |\n| **íŠ¸ëœì­ì…˜ ì™¸ë¶€ ì ìš© ì—¬ë¶€** | ì¦‰ì‹œ ì ìš© | ë©”ì†Œë“œ ë°˜í™˜ í›„ ì¦‰ì‹œ `get_sp_state()` í™•ì¸ |\n\n> ğŸ’¡ ì‹¤ì œ ì¥ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš°, `TCGOpalCommand`ë¥¼ ì‚¬ìš©í•´ `MethodID 0x0000000600000203`ì„ ì „ì†¡í•˜ê³ , `Command Response`ì˜ `Status` í•„ë“œë¥¼ í™•ì¸í•©ë‹ˆë‹¤. `Status == 0x0000`ì´ë©´ ì„±ê³µ, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨.\n\n---\n\n### âœ… **ê²°ë¡ **\n\n- `Activate`ëŠ” ì œì¡°ëœ SPë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” í•µì‹¬ ë©”ì†Œë“œ.\n- ë³´ì•ˆ ì •ì±…ê³¼ ìƒíƒœ ê´€ë¦¬ì— ë”°ë¼ ì œí•œëœ í˜¸ì¶œì´ ê°€ëŠ¥.\n- í…ŒìŠ¤íŠ¸ ì‹œ ì„¸ì…˜, ì¸ì¦, ìƒíƒœ ì „í™˜, ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ë°˜ë“œì‹œ ê²€ì¦í•´ì•¼ í•¨.\n\n---\n\nâœ… **ê²°ê³¼: ë‚´ìš© ì¡´ì¬**  \nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²• ì œì‹œ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ìë„ ì´í•´ ê°€ëŠ¥í•œ ì„¤ëª… ì œê³µ**"
    },
    {
        "section_order": 140,
        "level": 4,
        "section_id": "5.1.1.1",
        "section_key": "5.1.1.1 Activate Support",
        "title": "Activate Support",
        "start_page": 91,
        "end_page": 91,
        "page_count": 1,
        "content_md": "## 5.1.1.1 Activate Support\n\nSupport for Activate within transactions is (N), and the behavior of Activate within transactions is out of the scope of this specification.\n\nIf the Locking SP was created in manufacturing, and its Original Factory State is Manufactured-Inactive (see section 5.2.2), support for Activate on the Locking SPâ€™s object in the SP table is Mandatory.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**5.1.1.1 Activate Support**\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ **Activate** ëª…ë ¹ì–´ê°€ **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì–´ë–»ê²Œ ì§€ì›ë˜ëŠ”ì§€**ì— ëŒ€í•œ ì‚¬í•­ì„ ë‹¤ë£¹ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ **TCG Opal 2.30 ìŠ¤í™ì—ì„œ Activate ëª…ë ¹ì–´ê°€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì‘ë™í•˜ëŠ” ë°©ì‹ì€ ëª…ì‹œë˜ì§€ ì•Šìœ¼ë©°, ì´ëŠ” ìŠ¤í™ì˜ ë²”ìœ„ ë°–**ì…ë‹ˆë‹¤. ì¦‰, Activate ëª…ë ¹ì–´ë¥¼ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€, ë˜ëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ëŠ” ì´ ë¬¸ì„œì—ì„œ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ, ì¤‘ìš”í•œ ì¡°ê±´ì´ í•˜ë‚˜ ì œì‹œë©ë‹ˆë‹¤:\n\n> **Locking SP**(Locking Storage Provider, ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì œê³µì)ê°€ ì œì¡° ê³µì •ì—ì„œ ìƒì„±ë˜ì—ˆê³ , ê·¸ **Original Factory State**(ì›ë³¸ ê³µì¥ ìƒíƒœ)ê°€ **Manufactured-Inactive**ì¸ ê²½ìš°, SP í…Œì´ë¸” ë‚´ì˜ Locking SP ê°ì²´ì— ëŒ€í•´ **Activate ëª…ë ¹ì–´ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì€ í•„ìˆ˜**(Mandatory)ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ¯ ëª©ì \n\n- Locking SPê°€ ì œì¡° ì‹œ ë¹„í™œì„±í™” ìƒíƒœ(Made-Inactive)ë¡œ ì´ˆê¸°í™”ë˜ì—ˆì„ ë•Œ, ì‚¬ìš©ìë‚˜ ê´€ë¦¬ìê°€ í•´ë‹¹ SPë¥¼ í™œì„±í™”(Activate)í•  ìˆ˜ ìˆë„ë¡ **ê¸°ë³¸ì ì¸ ì§€ì›ì„ ìš”êµ¬**í•©ë‹ˆë‹¤.\n- ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì œì¡° ê³µì •ì—ì„œ ë¹„í™œì„±í™” ìƒíƒœë¡œ ì¶œí•˜ë˜ë”ë¼ë„, ì‚¬ìš©ìê°€ í™œì„±í™”í•  ìˆ˜ ìˆë„ë¡ **ìµœì†Œí•œì˜ ê¸°ëŠ¥ì  ë³´ì¥**ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥\n\n- **Activate ëª…ë ¹ì–´ ì§€ì› ì—¬ë¶€ ê²°ì • ê¸°ì¤€**: Locking SPì˜ **Original Factory State**ê°€ `Manufactured-Inactive`ì´ë©´, Activate ì§€ì›ì€ **í•„ìˆ˜**ì…ë‹ˆë‹¤.\n- íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ Activateë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ **ìŠ¤í™ ë²”ìœ„ ì™¸** â†’ ê°œë³„ êµ¬í˜„ì²´ê°€ ê²°ì •.\n- ActivateëŠ” ë³´í†µ **Locking SPë¥¼ í™œì„±í™”**í•˜ì—¬ ì‚¬ìš©ì ì ‘ê·¼ ë° ì•”í˜¸í™” ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\nì´ ì„¹ì…˜ì—ì„œëŠ” ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°(ì˜ˆ: ë°”ì´íŠ¸ ë°°ì—´, í•„ë“œ ì •ì˜ ë“±)ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ, ê´€ë ¨ëœ **SP í…Œì´ë¸”**(Storage Provider Table) ë‚´ì˜ Locking SP ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒë‹¨í•©ë‹ˆë‹¤.\n\n- **SP í…Œì´ë¸”**: ëª¨ë“  Storage Provider(ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì œê³µì) ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” í…Œì´ë¸”.\n- **Locking SP ê°ì²´**: SP í…Œì´ë¸” ë‚´ì˜ íŠ¹ì • ê°ì²´ë¡œ, `Type = Locking SP`, `Original Factory State = Manufactured-Inactive` ë“±ì˜ ì†ì„± í¬í•¨.\n- **Activate ëª…ë ¹ì–´**: Locking SPë¥¼ í™œì„±í™”í•˜ëŠ” ëª…ë ¹ì–´ë¡œ, ë³´í†µ `StartSession` í›„ `Activate`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“‹ ìš”êµ¬ì‚¬í•­\n\n1. **ì œì¡° ê³µì •ì—ì„œ ìƒì„±ëœ Locking SP** â†’ **Original Factory State = Manufactured-Inactive**.\n2. ì´ ìƒíƒœì¼ ê²½ìš°, **Activate ëª…ë ¹ì–´ë¥¼ ì§€ì›í•´ì•¼ í•¨ (Mandatory)**.\n3. Activate ëª…ë ¹ì–´ëŠ” **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ëŠ” ìŠ¤í™ì—ì„œ ì œì™¸ë¨** â†’ êµ¬í˜„ì²´ì— ë”°ë¼ ë‹¤ë¦„.\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- ActivateëŠ” ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ë¥¼ **í™œì„±í™”**í•˜ëŠ” ì¤‘ìš”í•œ ëª…ë ¹ì–´ì´ë¯€ë¡œ, ë³´í†µ **ê´€ë¦¬ì ê¶Œí•œ**(Admin Passphrase) ë˜ëŠ” **ê³µê¸‰ì—…ì²´ í‚¤**(Vendor Key)ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.\n- Activate í›„ì—ëŠ” **ì¼ë°˜ ì‚¬ìš©ì ì•¡ì„¸ìŠ¤**, **ì•”í˜¸í™” í‚¤ ìƒì„±**, **ì‚¬ìš©ì ì•”í˜¸ ì„¤ì •** ë“±ì˜ ê¸°ëŠ¥ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.\n- ActivateëŠ” ë³´í†µ **StartSession** ì´í›„ í˜¸ì¶œë˜ë©°, ì„¸ì…˜ì€ **Admin ê¶Œí•œìœ¼ë¡œ ì‹œì‘**í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ\n\n### ğŸ”¹ í…ŒìŠ¤íŠ¸ ëª©í‘œ\n\n- Locking SPê°€ `Manufactured-Inactive` ìƒíƒœì¼ ë•Œ, **Activate ëª…ë ¹ì–´ê°€ ì§€ì›ë˜ëŠ”ì§€** í™•ì¸.\n- Activate ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸.\n- Activate í›„ Locking SP ìƒíƒœê°€ `Active`ë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ§ª Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom pyopal import OpalDevice, OpalSession, OpalError\nfrom pyopal.commands import StartSession, Activate, Revert\n\n# í…ŒìŠ¤íŠ¸ìš© ì¥ì¹˜ ë° ì„¸ì…˜ ì„¤ì •\n@pytest.fixture\ndef device():\n    # ì‹¤ì œ ì¥ì¹˜ ì—°ê²° (ì˜ˆ: USB ë˜ëŠ” SATA ì¥ì¹˜)\n    # ì—¬ê¸°ì„œëŠ” í…ŒìŠ¤íŠ¸ìš© ëª¨ì˜ ì¥ì¹˜ ë˜ëŠ” ì‹¤ì œ ì¥ì¹˜ë¡œ ì—°ê²°\n    dev = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½ í•„ìš”\n    return dev\n\n@pytest.fixture\ndef admin_session(device):\n    # Admin ì„¸ì…˜ ì‹œì‘ (Admin Passphraseë¡œ)\n    session = OpalSession(device, \"admin_passphrase\")\n    session.start(StartSession.Admin)\n    return session\n\n@pytest.mark.parametrize(\"original_state\", [\"Manufactured-Inactive\", \"Other\"])\ndef test_activate_support(device, admin_session, original_state):\n    \"\"\"\n    í…ŒìŠ¤íŠ¸: Original Factory Stateê°€ Manufactured-Inactiveì¸ ê²½ìš° Activate ì§€ì› ì—¬ë¶€ í™•ì¸\n    \"\"\"\n    # í…ŒìŠ¤íŠ¸ ì „ì— ì¥ì¹˜ ìƒíƒœ í™•ì¸ (ì˜ˆ: SP í…Œì´ë¸”ì—ì„œ Locking SPì˜ ìƒíƒœ í™•ì¸)\n    sp_table = device.get_sp_table()\n    locking_sp = None\n    for sp in sp_table:\n        if sp['type'] == 'Locking SP':\n            locking_sp = sp\n            break\n\n    if not locking_sp:\n        pytest.skip(\"Locking SP not found in SP Table\")\n\n    # Original Factory State í™•ì¸\n    if locking_sp['original_factory_state'] != 'Manufactured-Inactive':\n        # ìƒíƒœê°€ Manufactured-Inactiveê°€ ì•„ë‹ˆë¼ë©´ Activate ì§€ì›ì€ ì„ íƒì  (Optional)\n        # í…ŒìŠ¤íŠ¸ëŠ” ë¬´ì‹œ ë˜ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¡œ ë¶„ë¦¬\n        pytest.skip(\"Locking SP is not in Manufactured-Inactive state\")\n\n    # Activate ëª…ë ¹ì–´ ì‹¤í–‰\n    try:\n        admin_session.execute(Activate())\n        # ì„±ê³µ ì‹œ ìƒíƒœ í™•ì¸\n        new_state = device.get_locking_sp_state()\n        assert new_state == 'Active', f\"Expected state 'Active', got {new_state}\"\n        print(\"âœ… Activate successful, state changed to Active\")\n    except OpalError as e:\n        pytest.fail(f\"Activate failed: {e}\")\n\n    # Optional: Revert í›„ ë‹¤ì‹œ í™•ì¸ (ë³µêµ¬ í…ŒìŠ¤íŠ¸)\n    try:\n        admin_session.execute(Revert())\n        new_state = device.get_locking_sp_state()\n        assert new_state == 'Inactive', f\"Expected state 'Inactive', got {new_state}\"\n        print(\"âœ… Revert successful, state changed to Inactive\")\n    except OpalError as e:\n        pytest.fail(f\"Revert failed: {e}\")\n```\n\n---\n\n## ğŸ§© TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦ ë°©ë²•\n\n1. **StartSession** â†’ Admin ê¶Œí•œìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘\n   - `StartSession.Admin` â†’ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n2. **Activate** â†’ Locking SP í™œì„±í™”\n   - `Activate()` ëª…ë ¹ì–´ í˜¸ì¶œ â†’ ì„±ê³µ ì‹œ `Active` ìƒíƒœë¡œ ì „í™˜\n3. **Revert** â†’ í™œì„±í™”ëœ ìƒíƒœë¥¼ ë¹„í™œì„±í™” (í…ŒìŠ¤íŠ¸ í›„ ë³µêµ¬ìš©)\n   - `Revert()` â†’ ìƒíƒœë¥¼ `Inactive`ë¡œ ë˜ëŒë¦¼\n4. **Get SP Table** â†’ SP í…Œì´ë¸”ì—ì„œ Locking SPì˜ `original_factory_state` í™•ì¸\n   - `device.get_sp_table()` â†’ JSON ë˜ëŠ” ë”•ì…”ë„ˆë¦¬ í˜•ì‹ìœ¼ë¡œ ë°˜í™˜\n   - `original_factory_state` í•„ë“œ í™•ì¸\n\n---\n\n## ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n| í•­ëª© | í™•ì¸ ë°©ë²• | ê¸°ëŒ€ê°’ |\n|------|-----------|--------|\n| Locking SP ì¡´ì¬ ì—¬ë¶€ | `get_sp_table()`ì—ì„œ type == \"Locking SP\"ì¸ í•­ëª© ì¡´ì¬ ì—¬ë¶€ | ì¡´ì¬í•´ì•¼ í•¨ |\n| Original Factory State | Locking SP ê°ì²´ì˜ `original_factory_state` í•„ë“œ ê°’ | `\"Manufactured-Inactive\"` |\n| Activate ì‹¤í–‰ ê²°ê³¼ | `Activate()` ì‹¤í–‰ í›„ ìƒíƒœ í™•ì¸ | `\"Active\"`ë¡œ ë³€ê²½ë¨ |\n| Revert ì‹¤í–‰ ê²°ê³¼ | `Revert()` í›„ ìƒíƒœ í™•ì¸ | `\"Inactive\"`ë¡œ ë˜ëŒë¦¼ |\n\n---\n\n## ğŸ§  ì¶”ê°€ ì„¤ëª… (ì´ˆë³´ììš©)\n\n- **Activate**ëŠ” ë³´ì•ˆ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ë¥¼ **ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ ì „í™˜**í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê³µì¥ì—ì„œ ì¶œí•˜ëœ í•˜ë“œë””ìŠ¤í¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ë¹„í™œì„±í™”**ë˜ì–´ ìˆê³ , ì‚¬ìš©ìê°€ **Activate**ë¥¼ í†µí•´ ì‚¬ìš©ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n- **SP í…Œì´ë¸”**ì€ ì¥ì¹˜ ë‚´ì— ì €ì¥ëœ ì •ë³´ ëª©ë¡ìœ¼ë¡œ, ì–´ë–¤ ìŠ¤í† ë¦¬ì§€ ì œê³µìê°€ ì¡´ì¬í•˜ê³ , ì–´ë–¤ ìƒíƒœì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\n- **Manufactured-Inactive**ëŠ” ì¥ì¹˜ê°€ ê³µì¥ì—ì„œ ì œì¡°ë˜ì—ˆì§€ë§Œ, ì•„ì§ ì‚¬ìš©ìê°€ í™œì„±í™”í•˜ì§€ ì•Šì€ ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n- **Mandatory**ëŠ” \"ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•œë‹¤\"ëŠ” ì˜ë¯¸ â†’ ì´ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ì¥ì¹˜ëŠ” Activateë¥¼ ë°˜ë“œì‹œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:  \nì´ ì„¹ì…˜ì€ Activate ëª…ë ¹ì–´ì˜ **íŠ¸ëœì­ì…˜ ë‚´ ì‚¬ìš©ì€ ìŠ¤í™ ì™¸**, í•˜ì§€ë§Œ **ì œì¡°ëœ Locking SPê°€ Manufactured-Inactive ìƒíƒœì¼ ê²½ìš° Activate ì§€ì›ì€ í•„ìˆ˜**í•˜ë‹¤ê³  ëª…ì‹œí•©ë‹ˆë‹¤. ì´ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” Python í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ëª…ë ¹ì–´ íë¦„, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤.\n\n--- \n\n> âš ï¸ ì°¸ê³ : ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ Opal ì¥ì¹˜ì™€ ì—°ê²°ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: `pyopal`) í•„ìš”. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì • í•„ìš”."
    },
    {
        "section_order": 141,
        "level": 4,
        "section_id": "5.1.1.2",
        "section_key": "5.1.1.2 Side effects of Activate",
        "title": "Side effects of Activate",
        "start_page": 91,
        "end_page": 91,
        "page_count": 1,
        "content_md": "## 5.1.1.2 Side effects of Activate\n\nUpon successful activation of an SP that was in the â€œManufactured-Inactiveâ€ state, the following changes SHALL be made:\n\n- The LifeCycleState column of SPâ€™s object in the Admin SPâ€™s SP table SHALL change to â€œManufacturedâ€.\n- The current SID PIN (C_PIN_SID) in the Admin SP is copied into the PIN column of Admin1â€™s C_PIN credential (C_PIN_Admin1) in the activated SP. This allows for taking ownership of the SP with a known PIN credential.\n- Any TPer functionality affected by the life cycle state of the SP based on the SPâ€™s templates is modified as defined in the appropriate Template reference section of [2], and as defined in the â€œState transitions for Manufactured SPsâ€ section (see section 5.2.2.2) and â€œState behaviors for Manufactured SPsâ€ section (see section 5.2.2.3) of this specification.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "---\n\n## **5.1.1.2 Side effects of Activate (í™œì„±í™”ì˜ ë¶€ì‘ìš©)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ ìŠ¤í™**ì—ì„œ, **SP (Storage Processor)** ê°€ \"Manufactured-Inactive\" ìƒíƒœì—ì„œ ì„±ê³µì ìœ¼ë¡œ **Activate** ë˜ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” **ìë™ì ì¸ ë¶€ì‘ìš© (side effects)** ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì¥ì¹˜ì˜ ìƒëª…ì£¼ê¸° ê´€ë¦¬ì™€ ê¶Œí•œ ì „ì´ì— ë§¤ìš° ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.\n\n---\n\n## âœ… **ëª©ì  (Purpose)**\n\n- SPê°€ ì œì¡° í›„ ì´ˆê¸° ìƒíƒœì¸ \"Manufactured-Inactive\"ì—ì„œ í™œì„±í™”ë˜ë©´ì„œ, **ì‹œìŠ¤í…œì´ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ ì „í™˜**ë¨ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n- í™œì„±í™” ì´í›„, **ê´€ë¦¬ì ìŠ¤íƒ(Admin SP)** ì—ì„œ ì„¤ì •ëœ **SID PIN** ì„ ìƒˆë¡­ê²Œ í™œì„±í™”ëœ SPì˜ **Admin1 ê³„ì •ì— ìë™ìœ¼ë¡œ ë³µì‚¬**í•˜ì—¬, ì¦‰ì‹œ **ê´€ë¦¬ì ê¶Œí•œì„ ì¸ìˆ˜í•  ìˆ˜ ìˆê²Œ** í•©ë‹ˆë‹¤.\n- SPì˜ ìƒëª…ì£¼ê¸° ìƒíƒœì— ë”°ë¼ **TPer (Trust Platform eXtension for Storage)** ê¸°ëŠ¥ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë˜ê±°ë‚˜ ì œí•œë˜ë„ë¡ ì •ì˜í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **LifeCycleState ë³€ê²½**  \n   â†’ Admin SPì˜ SP í…Œì´ë¸” ë‚´ í•´ë‹¹ SP ê°ì²´ì˜ `LifeCycleState` ì»¬ëŸ¼ì´ **\"Manufactured-Inactive\" â†’ \"Manufactured\"** ë¡œ ë³€ê²½ë¨.\n\n2. **PIN ìë™ ë³µì‚¬**  \n   â†’ Admin SPì˜ í˜„ì¬ SID PIN (`C_PIN_SID`)ì´, í™œì„±í™”ëœ SPì˜ **Admin1 ê³„ì •ì˜ C_PIN credential (`C_PIN_Admin1`)** ì— ë³µì‚¬ë¨.  \n   â†’ ì¦‰, ìƒˆ SPë¥¼ ì¦‰ì‹œ **Admin1 ê³„ì •ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ** í•¨.\n\n3. **TPer ê¸°ëŠ¥ ìë™ ì¡°ì •**  \n   â†’ SPì˜ ìƒëª…ì£¼ê¸° ìƒíƒœê°€ \"Manufactured\"ê°€ ë˜ì—ˆì„ ë•Œ, í•´ë‹¹ ìƒíƒœì— ë§ì¶° **TPer ê¸°ëŠ¥(ì˜ˆ: ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ë“±)** ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë˜ê±°ë‚˜ ì œí•œë¨.  \n   â†’ ì´ëŠ” [2] ë¬¸ì„œ(ì˜ˆ: TCG Storage Security Architecture)ì™€ ë³¸ ìŠ¤í™ì˜ **5.2.2.2, 5.2.2.3 ì ˆ** ì— ì •ì˜ëœ ìƒíƒœ ì „ì´ ë° í–‰ë™ì— ë”°ë¼ ê²°ì •ë¨.\n\n---\n\n## âœ… **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **SP Table (Admin SP ë‚´)**  \n  - `LifeCycleState`: ë¬¸ìì—´ (ì˜ˆ: \"Manufactured-Inactive\", \"Manufactured\", \"Owned\", ë“±)\n  - `C_PIN_SID`: í˜„ì¬ SID PIN (ì•”í˜¸í™”ëœ í˜•íƒœë¡œ ì €ì¥ë¨, ì¼ë°˜ì ìœ¼ë¡œ SHA-256 í•´ì‹œ ê¸°ë°˜)\n\n- **Activated SP ë‚´ Credential Table**  \n  - `C_PIN_Admin1`: Admin1 ê³„ì •ì˜ PIN ì •ë³´ (í™œì„±í™” ì‹œ `C_PIN_SID` ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë¨)\n\n- **TPer Configuration**  \n  - SPì˜ í…œí”Œë¦¿ ê¸°ë°˜ ì„¤ì • (ì˜ˆ: `TemplateID`, `AllowedFeatures`, `AccessControlPolicy` ë“±)  \n  - ìƒíƒœ ì „ì´ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì ìš©ë¨.\n\n---\n\n## âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- Activate ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì—ˆì„ ë•Œ, **ìœ„ 3ê°€ì§€ side effectê°€ ë°˜ë“œì‹œ ë°œìƒí•´ì•¼ í•¨**.\n- `LifeCycleState` ë³€ê²½ì€ **ì¦‰ì‹œ ë°˜ì˜ë˜ì–´ì•¼** í•˜ë©°, **ë¶ˆì™„ì „í•œ ìƒíƒœ ì „ì´ê°€ í—ˆìš©ë˜ì§€ ì•ŠìŒ**.\n- PIN ë³µì‚¬ëŠ” **ë³´ì•ˆìƒ ì•ˆì „í•˜ê²Œ** ì´ë£¨ì–´ì ¸ì•¼ í•˜ë©°, `C_PIN_SID`ê°€ **ì•”í˜¸í™” ìƒíƒœë¡œ ë³µì‚¬**ë˜ì–´ì•¼ í•¨ (ë‹¨ìˆœ í…ìŠ¤íŠ¸ ë³µì‚¬ X).\n- TPer ê¸°ëŠ¥ ì¡°ì •ì€ **SPì˜ í…œí”Œë¦¿ ì •ì±…ì— ë”°ë¼ ê²°ì •ë˜ë©°**, ìë™ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•¨.\n\n---\n\n## âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **Activate ëª…ë ¹ì€ ì¸ì¦ëœ ì„¸ì…˜ì—ì„œë§Œ ìˆ˜í–‰ ê°€ëŠ¥** (StartSession ì´í›„).\n- `C_PIN_SID` ë³µì‚¬ëŠ” **Admin SPì˜ ê¶Œí•œ ë²”ìœ„ ë‚´ì—ì„œë§Œ ìˆ˜í–‰**ë˜ë©°, **ê³µê²©ìê°€ ì„ì˜ë¡œ PINì„ ë³µì‚¬í•  ìˆ˜ ì—†ìŒ**.\n- PIN ë³µì‚¬ í›„, `C_PIN_Admin1`ì€ **ì´ˆê¸°í™”ëœ ìƒíƒœ**ì´ë¯€ë¡œ, ì‚¬ìš©ìëŠ” **ì´ PINìœ¼ë¡œ ì¦‰ì‹œ SPë¥¼ ì†Œìœ (owner)í•  ìˆ˜ ìˆìŒ**.  \n  â†’ ì´ëŠ” ë³´ì•ˆ ê´€ë¦¬ì˜ íš¨ìœ¨ì„±ê³¼ í¸ì˜ì„±ì„ ì œê³µí•˜ë‚˜, **PINì´ ê³µê°œë˜ê±°ë‚˜ ìœ ì¶œë˜ì§€ ì•Šë„ë¡** ë³´í˜¸í•´ì•¼ í•¨.\n- TPer ê¸°ëŠ¥ ì¡°ì •ì€ **ìƒíƒœ ê¸°ë°˜ ì •ì±…**ì— ë”°ë¼ ì´ë£¨ì–´ì§€ë¯€ë¡œ, **ì‚¬ìš©ìê°€ ì˜ëª»ëœ ìƒíƒœì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ì œì–´**.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\në‹¤ìŒì€ **Activate ëª…ë ¹ í›„ side effectsê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª **Test Case: Activate í›„ SP ìƒíƒœ ë° PIN ë³µì‚¬ ê²€ì¦**\n\n#### âœ… **ëª©í‘œ**  \nActivate ëª…ë ¹ ìˆ˜í–‰ í›„,  \n1. SPì˜ LifeCycleStateê°€ \"Manufactured\"ë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€  \n2. Admin1ì˜ PINì´ Admin SPì˜ C_PIN_SIDì™€ ë™ì¼í•œì§€  \n3. TPer ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ (ì˜ˆ: ì•”í˜¸í™” ì§€ì› ì—¬ë¶€)  \n\n#### âœ… **ì‚¬ì „ ì¡°ê±´**  \n- Admin SPì™€ Target SPê°€ ì—°ê²°ë¨  \n- Admin SPëŠ” \"Manufactured\" ìƒíƒœì´ë©°, C_PIN_SIDê°€ ì„¤ì •ë¨  \n- Target SPëŠ” \"Manufactured-Inactive\" ìƒíƒœ  \n- StartSessionì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨  \n\n#### âœ… **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**  \n\n1. `StartSession` ëª…ë ¹ìœ¼ë¡œ ì„¸ì…˜ ì‹œì‘ (ì‚¬ìš©ì/ê´€ë¦¬ì ê¶Œí•œ)  \n2. `Activate` ëª…ë ¹ ìˆ˜í–‰ â†’ ì„±ê³µ  \n3. `GetSPInfo` ë˜ëŠ” `GetSPTable` ëª…ë ¹ìœ¼ë¡œ Target SPì˜ `LifeCycleState` í™•ì¸  \n4. `GetCredential` ëª…ë ¹ìœ¼ë¡œ Target SPì˜ `C_PIN_Admin1` PIN ê°’ì„ ê°€ì ¸ì˜´  \n5. Admin SPì˜ `C_PIN_SID`ì™€ ë¹„êµ  \n6. `GetTPerStatus` ëª…ë ¹ìœ¼ë¡œ TPer ê¸°ëŠ¥ ìƒíƒœ í™•ì¸ (ì˜ˆ: ì•”í˜¸í™” ê°€ëŠ¥ ì—¬ë¶€)  \n\n#### âœ… **ì˜ˆìƒ ê²°ê³¼**  \n- `LifeCycleState` == \"Manufactured\" âœ…  \n- `C_PIN_Admin1` == `C_PIN_SID` (í•´ì‹œ ê°’ ê¸°ì¤€) âœ…  \n- TPer ê¸°ëŠ¥ì´ í™œì„±í™”ë¨ (ì˜ˆ: `EncryptionEnabled = True`) âœ…  \n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom hashlib import sha256\n\n@pytest.fixture\ndef client():\n    client = OpalClient(\"192.168.1.100\", port=8080)\n    client.start_session(\"admin\", \"admin_password\")  # StartSession\n    return client\n\ndef test_activate_side_effects(client):\n    target_sp_id = \"SP12345\"\n\n    # 1. Activate ëª…ë ¹ ìˆ˜í–‰\n    client.activate_sp(target_sp_id)\n    assert client.get_last_status() == \"SUCCESS\", \"Activate failed\"\n\n    # 2. LifeCycleState í™•ì¸\n    sp_info = client.get_sp_info(target_sp_id)\n    assert sp_info[\"LifeCycleState\"] == \"Manufactured\", \"LifeCycleState not updated\"\n\n    # 3. Admin1 PIN í™•ì¸\n    admin1_pin = client.get_credential(target_sp_id, \"Admin1\", \"C_PIN\")\n    admin_sid_pin = client.get_current_sid_pin()  # Admin SPì˜ C_PIN_SID ê°€ì ¸ì˜¤ê¸°\n\n    # í•´ì‹œ ê°’ ë¹„êµ (ë³´ì•ˆìƒ ì›ë¬¸ ë¹„êµ X)\n    assert sha256(admin1_pin.encode()).hexdigest() == sha256(admin_sid_pin.encode()).hexdigest(), \"PIN not copied correctly\"\n\n    # 4. TPer ê¸°ëŠ¥ í™•ì¸ (ì˜ˆ: ì•”í˜¸í™” í™œì„±í™” ì—¬ë¶€)\n    tper_status = client.get_tper_status(target_sp_id)\n    assert tper_status[\"EncryptionEnabled\"] is True, \"TPer encryption not enabled after activate\"\n\n    # 5. Optional: Revert í›„ ë‹¤ì‹œ í™•ì¸ (íšŒê·€ í…ŒìŠ¤íŠ¸)\n    client.revert_sp(target_sp_id)\n    assert client.get_last_status() == \"SUCCESS\", \"Revert failed\"\n    # ì´í›„ ë‹¤ì‹œ Activate í›„ ê²€ì¦ (ì¬ê²€ì¦ ê°€ëŠ¥)\n```\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ `opal_client` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŒ. ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” `pyopal` ë˜ëŠ” `tcg-opal-python` ê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” ì§ì ‘ SCSI ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„ ê°€ëŠ¥.\n\n---\n\n## âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | í™•ì¸ ë°©ë²• | ê¸°ëŒ€ê°’ |\n|------|-----------|--------|\n| LifeCycleState | `GetSPInfo` ë˜ëŠ” `GetSPTable` ëª…ë ¹ | `\"Manufactured\"` |\n| C_PIN_Admin1 | `GetCredential` ëª…ë ¹ (Admin1 ê³„ì •) | Admin SPì˜ `C_PIN_SID`ì™€ ë™ì¼í•œ í•´ì‹œ ê°’ |\n| TPer ê¸°ëŠ¥ ìƒíƒœ | `GetTPerStatus` ëª…ë ¹ | ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ë“±ì´ í™œì„±í™”ë¨ |\n| ìƒíƒœ ì „ì´ ê¸°ë¡ | ë¡œê·¸ ë˜ëŠ” `GetStateTransitionHistory` (ì˜ˆ: ì¡´ì¬ ì‹œ) | Activate ì´ë ¥ í¬í•¨ |\n\n> ğŸ’¡ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ì´ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„  **TCG Opal ëª…ë ¹ì–´ ì„¸íŠ¸**ë¥¼ ì‚¬ìš©í•˜ë©°, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° **SCSI/ATA ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ëª…ë ¹ì–´ ì „ì†¡**ì´ í•„ìš”.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**5.1.1.2 Side effects of Activate** ì„¹ì…˜ì€, SPê°€ ì œì¡° í›„ ë¹„í™œì„± ìƒíƒœì—ì„œ í™œì„±í™”ë  ë•Œ ìë™ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” **3ê°€ì§€ í•µì‹¬ ë³€ê²½ ì‚¬í•­**ì„ ì •ì˜í•©ë‹ˆë‹¤:\n\n1. **ìƒëª…ì£¼ê¸° ìƒíƒœ ë³€ê²½**: `Manufactured-Inactive` â†’ `Manufactured`  \n2. **PIN ìë™ ë³µì‚¬**: Admin SPì˜ `C_PIN_SID` â†’ í™œì„±í™”ëœ SPì˜ `C_PIN_Admin1`  \n3. **TPer ê¸°ëŠ¥ ìë™ í™œì„±í™”**: SP í…œí”Œë¦¿ ë° ìƒíƒœ ì „ì´ ì •ì±…ì— ë”°ë¼ ê¸°ëŠ¥ì´ í™œì„±í™”ë¨\n\nì´ ê³¼ì •ì€ **ë³´ì•ˆ ì¥ì¹˜ì˜ ì´ˆê¸° ì„¤ì • íë¦„ì„ ìë™í™”**í•˜ê³ , **ê´€ë¦¬ìê°€ ì¦‰ì‹œ ê¶Œí•œì„ ì¸ìˆ˜í•  ìˆ˜ ìˆë„ë¡** ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.  \n**ë³´ì•ˆìƒ, PIN ë³µì‚¬ëŠ” í•´ì‹œ ê¸°ë°˜ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ì•¼ í•˜ë©°**, **TPer ê¸°ëŠ¥ì€ ìƒíƒœ ê¸°ë°˜ ì •ì±…ì— ë”°ë¼ ì¡°ì •ë˜ì–´ì•¼** í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” `StartSession` â†’ `Activate` â†’ ìƒíƒœ ë° ìê²© ì¦ëª… í™•ì¸ â†’ TPer ê¸°ëŠ¥ ê²€ì¦ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, **Python + pytestë¥¼ ì‚¬ìš©í•œ ìë™í™” í…ŒìŠ¤íŠ¸ ì½”ë“œ**ë¡œ ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.  \ní…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì§ì ‘ ê°€ì ¸ì™€ ë¹„êµí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ Opal ë³´ì•ˆ ìŠ¤í™ì˜ í•µì‹¬ ì´ˆê¸° ì„¤ì • íë¦„ì´ë©°, **í™œì„±í™” í›„ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ ì „í™˜í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• **ì„ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ìš”êµ¬ì‚¬í•­ì´ ëª…í™•í•˜ê²Œ ì •ì˜ë˜ì–´ ìˆì–´, **QA ë° ë³´ì•ˆ ê²€ì¦ì— ë§¤ìš° ìœ ìš©**í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 142,
        "level": 3,
        "section_id": "5.1.2",
        "section_key": "5.1.2 Revert â€“ Admin Template SP Object Method",
        "title": "Revert â€“ Admin Template SP Object Method",
        "start_page": 91,
        "end_page": 92,
        "page_count": 2,
        "content_md": "## 5.1.2 Revert â€“ Admin Template SP Object Method\n\nRevert is an Opal SSC-specific method for managing the life cycle of SPs created in manufacturing (Manufactured SP). The following pseudo-code is the signature of the Revert method (see [2] for more information).\n\n```\nSPObjectUID.Revert[ ]\n=>\n[ ]\n```\nRevert is an object method that operates on objects in the Admin SPâ€™s SP table. The TPer SHALL NOT permit Revert to be invoked on the SP objects of issued SPs.\n\nInvoking Revert on an SP object causes the SP to revert to its Original Factory State. This method allows the TPer owner (or TPer manufacturer, if access control permits and the Maker authorities are enabled) to remove the SP ownerâ€™s ownership of the SP and revert the SP to its Original Factory State.\n\nInvocation of Revert is permitted on Manufactured SPs that are in any life cycle state. Successful invocation of Revert on a Manufactured SP that is in the Manufactured-Inactive life cycle state SHALL have no effect on the SP.\n\nThis method operates within a Read-Write session to the Admin SP. The TPer SHALL revert the SP immediately after the method is successfully invoked outside of a transaction. If Revert is invoked on the Admin SPâ€™s object in the SP table, the TPer SHALL abort the session immediately after reporting status of the method invocation if invoked outside of a transaction. The TPer MAY prepare a CloseSession method for retrieval by the host to indicate that the session has been aborted.\n\nThe MethodID for Revert SHALL be 0x00 00 00 06 00 00 02 02.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1.2 Revert â€“ Admin Template SP Object Method  \n**(TCG Opal SSC v2.30 - Admin SPì—ì„œì˜ SP ê°ì²´ ì¬ì„¤ì • ë©”ì„œë“œ)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n`Revert` ë©”ì„œë“œëŠ” **ì œì¡° ì‹œ ìƒì„±ëœ SP (Manufactured SP)** ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” **TCG Opal SSC ì „ìš© ê¸°ëŠ¥**ì…ë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” SP(Storage Provider, ì €ì¥ì¥ì¹˜ì˜ ë³´ì•ˆ ì œì–´ ì—”í‹°í‹°)ë¥¼ **ì›ë³¸ ê³µì¥ ìƒíƒœ (Original Factory State)** ë¡œ ë˜ëŒë¦¬ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì¦‰, ì´ ê¸°ëŠ¥ì€ **SP ì†Œìœ ìì˜ ê¶Œí•œì„ í•´ì œí•˜ê³ , ì €ì¥ì¥ì¹˜ë¥¼ ê³µì¥ ì´ˆê¸°í™” ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ”** í–‰ìœ„ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ëŠ” ì˜ˆë¥¼ ë“¤ì–´, ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê±°ë‚˜, ë¦¬ì…€ëŸ¬ê°€ ì¥ì¹˜ë¥¼ ì¬íŒë§¤í•  ë•Œ ì‚¬ìš©ë˜ë©°, **ë³´ì•ˆìƒì˜ ì •ë¦¬ ë° ì¬ì‚¬ìš©ì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥**ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **SP ê°ì²´ì˜ ìƒëª…ì£¼ê¸° ê´€ë¦¬**: ì œì¡°ëœ SP (Manufactured SP) ì—ë§Œ ì ìš© ê°€ëŠ¥. ë°œê¸‰ëœ SP (Issued SP) ì—ëŠ” ì ìš© ë¶ˆê°€.\n2. **ì›ë³¸ ìƒíƒœ ë³µì›**: SPë¥¼ **ê³µì¥ ì´ˆê¸° ìƒíƒœ**ë¡œ ë˜ëŒë¦¼. ì´ëŠ” ë¹„ë°€í‚¤, ì‚¬ìš©ì ê³„ì •, ì•”í˜¸í™” ì„¤ì • ë“±ì„ ëª¨ë‘ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\n3. **ê´€ë¦¬ì ê¶Œí•œ ê¸°ë°˜ ì‹¤í–‰**: Admin SPì˜ SP í…Œì´ë¸” ë‚´ ê°ì²´ì— ëŒ€í•´ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥. Admin SPì— ëŒ€í•œ Read-Write ì„¸ì…˜ ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥.\n4. **ì¦‰ì‹œ ì ìš©**: ì„±ê³µì ìœ¼ë¡œ í˜¸ì¶œëœ í›„ **íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ ì¦‰ì‹œ ì ìš©**ë¨.\n5. **ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬**: Admin SP ìì²´ì— Revertê°€ í˜¸ì¶œë˜ë©´, ì„¸ì…˜ì´ ì¦‰ì‹œ ì¢…ë£Œë˜ë©°, **CloseSession ë©”ì„œë“œë¥¼ ì¤€ë¹„í•˜ì—¬ í˜¸ìŠ¤íŠ¸ê°€ ì´ë¥¼ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆë„ë¡** í•  ìˆ˜ ìˆìŒ (ì˜µì…˜).\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **ë©”ì„œë“œ í˜¸ì¶œ í˜•ì‹**: `SPObjectUID.Revert[]`\n- **ë°˜í™˜ ê°’**: ë°˜í™˜ê°’ ì—†ìŒ (`=> [ ]`)\n- **ë©”ì„œë“œ ID**: `0x00 00 00 06 00 00 02 02` (8ë°”ì´íŠ¸)\n\n> ì´ ë©”ì„œë“œëŠ” **ê°ì²´ ë©”ì„œë“œ**(object method)ì´ë¯€ë¡œ, íŠ¹ì • SP ê°ì²´ì— ëŒ€í•´ í˜¸ì¶œë©ë‹ˆë‹¤. ì¦‰, `SPObjectUID`ëŠ” Admin SPì˜ SP í…Œì´ë¸”ì— ë“±ë¡ëœ íŠ¹ì • SPì˜ ê³ ìœ  ì‹ë³„ìì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **í˜¸ì¶œ ì œí•œ**:\n   - **Issued SPì˜ SP ê°ì²´ì—ëŠ” Revert í˜¸ì¶œ ë¶ˆê°€** (TPerëŠ” ì´ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ).\n   - **Manufactured SPì˜ ëª¨ë“  ìƒëª…ì£¼ê¸° ìƒíƒœì—ì„œ í˜¸ì¶œ ê°€ëŠ¥**.\n   - **Manufactured-Inactive ìƒíƒœì— ìˆëŠ” SPì— Revertë¥¼ í˜¸ì¶œí•˜ë©´ ì•„ë¬´ëŸ° íš¨ê³¼ ì—†ìŒ**.\n\n2. **ì„¸ì…˜ ì œì•½**:\n   - **Read-Write ì„¸ì…˜ ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥** (Admin SPì— ëŒ€í•´).\n   - ì„±ê³µ í›„ **ì¦‰ì‹œ ì ìš©** (íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ).\n\n3. **ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬**:\n   - Admin SP ê°ì²´ì— Revertë¥¼ í˜¸ì¶œí•˜ë©´, **ì„¸ì…˜ì´ ì¦‰ì‹œ ì¢…ë£Œ**ë¨.\n   - TPerëŠ” **CloseSession ë©”ì„œë“œë¥¼ ì¤€ë¹„**í•˜ì—¬ í˜¸ìŠ¤íŠ¸ê°€ ì„¸ì…˜ ì¢…ë£Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆìŒ (MAY).\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì ‘ê·¼ ì œì–´**: Admin SPì— ëŒ€í•œ Read-Write ì„¸ì…˜ë§Œ í—ˆìš© â†’ ë³´ì•ˆ ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ í˜¸ì¶œ ê°€ëŠ¥.\n- **ì†Œìœ ê¶Œ í•´ì œ**: Revert í›„ SP ì†Œìœ ê¶Œì´ í•´ì œë¨ â†’ ì›ë˜ ì†Œìœ ìì—ê²ŒëŠ” ë” ì´ìƒ ì ‘ê·¼ ë¶ˆê°€.\n- **ê³µì¥ ìƒíƒœ ë³µì›**: ëª¨ë“  ì•”í˜¸í™” í‚¤, ì‚¬ìš©ì ê³„ì •, ì„¤ì •ì´ ì´ˆê¸°í™”ë¨ â†’ ì •ë³´ ìœ ì¶œ ë°©ì§€.\n- **ì¼ê´€ì„± ë³´ì¥**: íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ ì¦‰ì‹œ ì ìš© â†’ ì¤‘ê°„ ìƒíƒœ ì—†ìŒ, ë°ì´í„° ì†ìƒ ë°©ì§€.\n\n> ì£¼ì˜: ì´ ê¸°ëŠ¥ì€ **ì¤‘ìš”í•œ ë³´ì•ˆ ì‘ì—…**ì´ë¯€ë¡œ, ì˜¤ìš© ë°©ì§€ë¥¼ ìœ„í•´ **ì—„ê²©í•œ ì ‘ê·¼ ì œì–´ì™€ ì¸ì¦ ì ˆì°¨**ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- `Revert` ë©”ì„œë“œê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.\n- Admin SPì˜ SP í…Œì´ë¸”ì— ìˆëŠ” Manufactured SP ê°ì²´ì— ëŒ€í•´ Revertê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê³ , SPê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸.\n- Issued SPì—ëŠ” Revert í˜¸ì¶œì´ ê±°ë¶€ë˜ëŠ”ì§€ í™•ì¸.\n- Admin SP ìì²´ì— Revertê°€ í˜¸ì¶œë˜ë©´ ì„¸ì…˜ì´ ì¦‰ì‹œ ì¢…ë£Œë˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## ğŸ§ª Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import METHOD_ID_REVERT, SP_TABLE_ADMIN  # ìƒìˆ˜ ì •ì˜\n\n# í…ŒìŠ¤íŠ¸ ì „ì—­ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient()\n    client.start_session(SP_TABLE_ADMIN, \"admin_password\")  # Admin SPì— Read-Write ì„¸ì…˜ ì‹œì‘\n    yield client\n    client.close_session()  # í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ì„¸ì…˜ ì¢…ë£Œ\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Manufactured SPì— Revert ì„±ê³µ\ndef test_revert_manufactured_sp_success(opal_client):\n    sp_uid = \"0x12345678\"  # ì˜ˆì‹œ SP UID (Manufactured SP)\n    \n    # Revert í˜¸ì¶œ\n    response = opal_client.invoke_method(sp_uid, METHOD_ID_REVERT)\n    \n    # ì„±ê³µ ì—¬ë¶€ í™•ì¸\n    assert response.status == 0x00, \"Revert í˜¸ì¶œ ì‹¤íŒ¨\"\n    assert response.method_id == METHOD_ID_REVERT, \"ë©”ì„œë“œ ID ë¶ˆì¼ì¹˜\"\n    \n    # ìƒíƒœ í™•ì¸: SPê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”, ì•”í˜¸í™” í•´ì œ ë“±)\n    status = opal_client.get_sp_status(sp_uid)\n    assert status.lifecycle_state == \"OriginalFactoryState\", \"SPê°€ ê³µì¥ ìƒíƒœê°€ ì•„ë‹˜\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Issued SPì— Revert í˜¸ì¶œ ì‹œ ê±°ë¶€\ndef test_revert_issued_sp_rejected(opal_client):\n    issued_sp_uid = \"0x87654321\"  # ì˜ˆì‹œ Issued SP UID\n    \n    with pytest.raises(Exception) as e:\n        opal_client.invoke_method(issued_sp_uid, METHOD_ID_REVERT)\n    \n    # ì˜ˆì™¸ ë©”ì‹œì§€ í™•ì¸\n    assert \"Revert not allowed on issued SP\" in str(e.value)\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Manufactured-Inactive ìƒíƒœ SPì— Revert í˜¸ì¶œ ì‹œ ë³€í™” ì—†ìŒ\ndef test_revert_inactive_sp_no_effect(opal_client):\n    inactive_sp_uid = \"0x11223344\"  # ì˜ˆì‹œ Manufactured-Inactive SP\n    \n    # Revert ì „ ìƒíƒœ í™•ì¸\n    before_status = opal_client.get_sp_status(inactive_sp_uid)\n    assert before_status.lifecycle_state == \"Manufactured-Inactive\"\n\n    # Revert í˜¸ì¶œ\n    response = opal_client.invoke_method(inactive_sp_uid, METHOD_ID_REVERT)\n    assert response.status == 0x00, \"Revert í˜¸ì¶œ ì‹¤íŒ¨\"\n\n    # Revert í›„ ìƒíƒœ í™•ì¸\n    after_status = opal_client.get_sp_status(inactive_sp_uid)\n    assert after_status.lifecycle_state == \"Manufactured-Inactive\", \"ìƒíƒœê°€ ë³€ê²½ë˜ì–´ì•¼ í•˜ì§€ ì•ŠìŒ\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: Admin SP ìì²´ì— Revert í˜¸ì¶œ ì‹œ ì„¸ì…˜ ì¢…ë£Œ\ndef test_revert_admin_sp_aborts_session(opal_client):\n    admin_sp_uid = opal_client.get_admin_sp_uid()  # Admin SPì˜ ê³ ìœ  ID\n\n    # Revert í˜¸ì¶œ\n    with pytest.raises(Exception) as e:\n        opal_client.invoke_method(admin_sp_uid, METHOD_ID_REVERT)\n    \n    # ì„¸ì…˜ ì¢…ë£Œ ì—¬ë¶€ í™•ì¸\n    assert \"Session aborted\" in str(e.value)\n    \n    # ì„¸ì…˜ ìƒíƒœ í™•ì¸\n    assert not opal_client.is_session_active(), \"ì„¸ì…˜ì´ ì¢…ë£Œë˜ì§€ ì•ŠìŒ\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 5: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì˜ˆ: SP í…Œì´ë¸”ì—ì„œ ìƒíƒœ ë³€ê²½ í™•ì¸)\ndef test_sp_table_state_verification(opal_client):\n    sp_uid = \"0x12345678\"\n    \n    # Revert ì „ ìƒíƒœ í™•ì¸\n    before = opal_client.get_sp_from_table(sp_uid)\n    assert before.lifecycle_state == \"Manufactured-Active\"  # ì˜ˆì‹œ\n\n    # Revert í˜¸ì¶œ\n    opal_client.invoke_method(sp_uid, METHOD_ID_REVERT)\n\n    # Revert í›„ ìƒíƒœ í™•ì¸ (í…Œì´ë¸”ì—ì„œ ì§ì ‘ ì¡°íšŒ)\n    after = opal_client.get_sp_from_table(sp_uid)\n    assert after.lifecycle_state == \"OriginalFactoryState\"\n    assert after.owner_id is None  # ì†Œìœ ì ì •ë³´ ì´ˆê¸°í™”\n    assert after.encryption_enabled is False  # ì•”í˜¸í™” ë¹„í™œì„±í™”\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nTCG Opal ìŠ¤í™ì—ì„œ SP í…Œì´ë¸”ì€ ì•„ë˜ì™€ ê°™ì€ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:\n\n| í•„ë“œ | ì„¤ëª… | ê²€ì¦ ë°©ë²• |\n|------|------|-----------|\n| `SPObjectUID` | SP ê³ ìœ  ì‹ë³„ì | Revert ì „/í›„ ë™ì¼í•œ UIDë¡œ ì¡°íšŒ |\n| `LifecycleState` | ìƒëª…ì£¼ê¸° ìƒíƒœ (Manufactured-Active, OriginalFactoryState ë“±) | Revert í›„ \"OriginalFactoryState\"ë¡œ ë³€ê²½ í™•ì¸ |\n| `OwnerID` | ì†Œìœ ì ID | Revert í›„ `None` ë˜ëŠ” ì´ˆê¸°ê°’ìœ¼ë¡œ ë³€ê²½ |\n| `EncryptionStatus` | ì•”í˜¸í™” ìƒíƒœ | Revert í›„ `False` ë˜ëŠ” `Disabled` |\n| `AccessControl` | ì ‘ê·¼ ì œì–´ ì •ì±… | Revert í›„ ê¸°ë³¸ ì •ì±…ìœ¼ë¡œ ì´ˆê¸°í™” í™•ì¸ |\n\n> **ê²€ì¦ ë°©ë²•**: `get_sp_from_table()` ë˜ëŠ” `get_sp_status()` ë©”ì„œë“œë¥¼ í†µí•´ í…Œì´ë¸”ì—ì„œ í•´ë‹¹ SP ê°ì²´ë¥¼ ì¡°íšŒí•˜ê³ , í•„ë“œ ê°’ì´ ì˜ˆìƒ ëŒ€ë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n`Revert`ëŠ” TCG Opal SSCì—ì„œ ì œê³µí•˜ëŠ” **ê´€ë¦¬ììš© SP ê°ì²´ ë©”ì„œë“œ**ë¡œ, **ì œì¡°ëœ SPë¥¼ ê³µì¥ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ê¸°ëŠ¥**ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ **ë³´ì•ˆ ì •ë¦¬ ë° ì¥ì¹˜ ì¬ì‚¬ìš©**ì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, Admin SPì˜ SP í…Œì´ë¸” ë‚´ ê°ì²´ì—ë§Œ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n- **ì£¼ìš” ê¸°ëŠ¥**: SP ì†Œìœ ê¶Œ í•´ì œ, ê³µì¥ ìƒíƒœ ë³µì›, ì•”í˜¸í™” í•´ì œ, ì„¤ì • ì´ˆê¸°í™”.\n- **ì œí•œ ì¡°ê±´**: Issued SPì—ëŠ” ë¶ˆê°€, Manufactured-Inactive ìƒíƒœì—ëŠ” íš¨ê³¼ ì—†ìŒ.\n- **ë³´ì•ˆ**: Read-Write ì„¸ì…˜ ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥, ì¦‰ì‹œ ì ìš©, ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬.\n- **ê²€ì¦**: Python + pytestë¥¼ í†µí•´ Revert í˜¸ì¶œ, ìƒíƒœ ë³€ê²½, ì„¸ì…˜ ì¢…ë£Œ ë“±ì„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥. SP í…Œì´ë¸”ì˜ LifecycleState, OwnerID, EncryptionStatus ë“± í•„ë“œë¥¼ ì§ì ‘ í™•ì¸í•˜ì—¬ ê²€ì¦.\n\n> **ì´ ê¸°ëŠ¥ì€ ë³´ì•ˆìƒ ë§¤ìš° ì¤‘ìš”í•˜ë¯€ë¡œ, ì˜¤ìš© ë°©ì§€ë¥¼ ìœ„í•´ ì—„ê²©í•œ ì ‘ê·¼ ì œì–´ ë° ë¡œê¹…ì´ í•„ìš”í•©ë‹ˆë‹¤.**\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì½”ë“œ ì˜ˆì‹œ ì œê³µ ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì„¤ëª… ì™„ë£Œ**\n\n---  \n**ë‚´ìš©ì—†ìŒ** âŒ (í•´ë‹¹ ì„¹ì…˜ì€ ë‚´ìš© ìˆìŒ)"
    },
    {
        "section_order": 143,
        "level": 4,
        "section_id": "5.1.2.1",
        "section_key": "5.1.2.1 Revert Support",
        "title": "Revert Support",
        "start_page": 92,
        "end_page": 92,
        "page_count": 1,
        "content_md": "## 5.1.2.1 Revert Support\n\nSupport for Revert within transactions is (N), and the behavior of Revert within transactions is out of the scope of this specification.\n\nSupport for Revert on the Admin SPâ€™s object in the SP table is Mandatory. (Note that the OFS of the Admin SP is Manufactured, see section 5.2.2).\n\nIf the Locking SP was created in manufacturing, support for Revert on the Locking SPâ€™s object in the SP table is Mandatory.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1.2.1 Revert Support - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ì ëŒ€ìƒ)\n\n---\n\n### ğŸ“Œ **ëª©ì  (Purpose)**\n\n`Revert`ëŠ” TCG Opal ìŠ¤í™ì—ì„œ **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œì˜ ë¡¤ë°±**(rollback) ê¸°ëŠ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰, ì–´ë–¤ ë³€ê²½ ì‘ì—…(ì˜ˆ: ì•”í˜¸ ë³€ê²½, ê¶Œí•œ ìˆ˜ì • ë“±)ì„ ì‹¤í–‰ ì¤‘ì— ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì‚¬ìš©ìê°€ ì·¨ì†Œí•  ê²½ìš°, ê·¸ ì „ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì€ **Revert ê¸°ëŠ¥ì´ ì–´ë–¤ ê²½ìš°ì— í•„ìˆ˜ì¸ì§€**, **ì–´ë–¤ ê²½ìš°ì— ìŠ¤í™ì˜ ë²”ìœ„ ë°–ì¸ì§€**ë¥¼ ëª…í™•íˆ ê·œì •í•©ë‹ˆë‹¤. íŠ¹íˆ, **ê´€ë¦¬ì SP**(Admin SP)ì™€ **ì ê¸ˆ SP**(Locking SP)ì— ëŒ€í•œ Revert ì§€ì› ì—¬ë¶€ë¥¼ ê°•ì œì ìœ¼ë¡œ ê·œì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **Admin SPì˜ Revert ì§€ì›ì€ í•„ìˆ˜**  \n   - ê´€ë¦¬ì SP(Admin SP)ëŠ” ì‹œìŠ¤í…œì˜ ìµœê³  ê¶Œí•œì„ ê°€ì§„ SP(Storage Provider)ì…ë‹ˆë‹¤.\n   - ì´ ê°ì²´ì— ëŒ€í•œ Revert(ë¡¤ë°±)ì€ **í•­ìƒ ì§€ì›ë˜ì–´ì•¼ í•¨**.\n   - ì´ëŠ” ê´€ë¦¬ìê°€ ì‹œìŠ¤í…œ ì„¤ì •ì„ ë³€ê²½í•˜ë‹¤ê°€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ, ì´ì „ ìƒíƒœë¡œ ë³µêµ¬í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.\n\n2. **Locking SPì˜ Revert ì§€ì›ì€ ì œì¡° ì‹œ ìƒì„±ëœ ê²½ìš° í•„ìˆ˜**  \n   - Locking SPëŠ” ë””ìŠ¤í¬ì˜ ì•”í˜¸í™”/ì ê¸ˆ ê¸°ëŠ¥ì„ ì œì–´í•˜ëŠ” SPì…ë‹ˆë‹¤.\n   - ë§Œì•½ ì´ SPê°€ **ì œì¡° ì‹œ ìƒì„±**(Manufactured)ë˜ì—ˆë‹¤ë©´, Revert ì§€ì›ì€ **í•„ìˆ˜**.\n   - ë°˜ë©´, ëŸ°íƒ€ì„ì— ìƒì„±ëœ Locking SPëŠ” Revert ì§€ì›ì´ **ì„ íƒì **ì¼ ìˆ˜ ìˆìŒ.\n\n3. **íŠ¸ëœì­ì…˜ ë‚´ RevertëŠ” ìŠ¤í™ ë²”ìœ„ ë°–**  \n   - íŠ¹ì • íŠ¸ëœì­ì…˜(ì˜ˆ: ì—¬ëŸ¬ ëª…ë ¹ì–´ë¥¼ ë¬¶ì–´ ì‹¤í–‰í•˜ëŠ” ê²½ìš°) ì¤‘ê°„ì— Revertë¥¼ ì§€ì›í•˜ëŠ”ì§€ëŠ” **ì´ ìŠ¤í™ì—ì„œ ì •ì˜í•˜ì§€ ì•ŠìŒ**.\n   - ì¦‰, íŠ¸ëœì­ì…˜ì˜ ì¤‘ê°„ ìƒíƒœë¥¼ ë¡¤ë°±í•˜ëŠ” ê¸°ëŠ¥ì€ **ì œì¡°ì‚¬ë‚˜ êµ¬í˜„ì²´ê°€ ìì²´ì ìœ¼ë¡œ ì •ì˜**í•´ì•¼ í•¨.\n\n---\n\n### ğŸ“Œ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ì„¹ì…˜ì€ **ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°**(ì˜ˆ: ê°ì²´, í•„ë“œ, í…Œì´ë¸” ì •ì˜ ë“±)ë¥¼ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.  \ní•˜ì§€ë§Œ ê´€ë ¨ëœ ì •ë³´ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:\n\n- **SP Table (Storage Provider Table)**  \n  - ëª¨ë“  SP(Storage Provider) ê°ì²´ê°€ ë“±ë¡ëœ í…Œì´ë¸”.\n  - ê° SP ê°ì²´ëŠ” **Object ID**, **OFS**(Object Flag Set), **Access Rights**, **Revert Support Flag** ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨.\n  - íŠ¹íˆ, Admin SPì˜ OFSëŠ” **Manufactured**ë¡œ ì§€ì •ë˜ì–´ ìˆìŒ (ì„¹ì…˜ 5.2.2 ì°¸ì¡°).\n\n- **Revert Support Flag**  \n  - SP ê°ì²´ì˜ ì†ì„± ì¤‘ í•˜ë‚˜ë¡œ, í•´ë‹¹ SPì— ëŒ€í•´ Revertê°€ ì§€ì›ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ„.\n  - Admin SPì™€ ì œì¡° ì‹œ ìƒì„±ëœ Locking SPëŠ” ì´ í”Œë˜ê·¸ê°€ ë°˜ë“œì‹œ **True**ì—¬ì•¼ í•¨.\n\n---\n\n### ğŸ“Œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n| í•­ëª© | ìš”êµ¬ì‚¬í•­ |\n|------|----------|\n| Admin SPì˜ Revert ì§€ì› | **Mandatory** (í•„ìˆ˜) |\n| Locking SPì˜ Revert ì§€ì› | **Mandatory** (ë§Œì•½ ì œì¡° ì‹œ ìƒì„±ëœ ê²½ìš°) |\n| íŠ¸ëœì­ì…˜ ë‚´ Revert ì§€ì› | **Out of scope** (ìŠ¤í™ ë²”ìœ„ ë°–) |\n| Admin SPì˜ OFS | **Manufactured** (ì œì¡° ì‹œ ìƒì„±ë¨) |\n\n---\n\n### ğŸ“Œ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- Revert ê¸°ëŠ¥ì€ **ë³´ì•ˆ ì„¤ì • ë³€ê²½ ì‹œì˜ ì•ˆì •ì„±**ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n- ì˜ˆ: ê´€ë¦¬ìê°€ ê³ ê¸‰ ì„¤ì •ì„ ë³€ê²½í•˜ë‹¤ê°€ ì˜¤ë¥˜ ë°œìƒ ì‹œ, **ì´ì „ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì„œ ì‹œìŠ¤í…œì´ ë¹„ì •ìƒ ìƒíƒœë¡œ ë–¨ì–´ì§€ì§€ ì•Šë„ë¡** ë³´í˜¸.\n- íŠ¹íˆ, Admin SPì˜ RevertëŠ” ì‹œìŠ¤í…œì˜ **ìµœê³  ê¶Œí•œ ê°ì²´**ì— ëŒ€í•œ ë³€ê²½ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ë¯€ë¡œ, **ë³´ì•ˆìƒ ë§¤ìš° ì¤‘ìš”**.\n- Revertê°€ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´, ì˜¤ë¥˜ë¡œ ì¸í•œ **ë¶ˆê°€ì—­ì  ì„¤ì • ë³€ê²½**ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ â†’ ì‹œìŠ¤í…œ ê³ ì¥ ë˜ëŠ” ì ‘ê·¼ ë¶ˆê°€ ë¦¬ìŠ¤í¬.\n\n---\n\n## âœ… **Test Case ì œì‹œ**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- Admin SP ë° ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì— ëŒ€í•œ Revert ì§€ì› ì—¬ë¶€ë¥¼ ê²€ì¦.\n- íŠ¸ëœì­ì…˜ ë‚´ RevertëŠ” ìŠ¤í™ ë²”ìœ„ ë°–ì´ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì•„ë‹˜.\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Admin SPì˜ Revert ì§€ì› ê²€ì¦**\n\n#### âœ… **ê¸°ëŒ€ ê²°ê³¼**\n- Admin SP ê°ì²´ì— ëŒ€í•´ `Revert` ëª…ë ¹ì–´ë¥¼ ë³´ë‚¼ ë•Œ, ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨.\n- Revert í›„, SP ìƒíƒœê°€ ì´ì „ ìƒíƒœë¡œ ë³µì›ë¨.\n\n#### ğŸ§© **í…ŒìŠ¤íŠ¸ ì ˆì°¨**\n1. StartSession (Admin ê¶Œí•œìœ¼ë¡œ).\n2. Admin SPì˜ ì–´ë–¤ ì„¤ì •ì„ ë³€ê²½ (ì˜ˆ: ì•”í˜¸ ë³€ê²½).\n3. Revert ëª…ë ¹ì„ ì „ì†¡.\n4. ë³€ê²½ ì „ ìƒíƒœì™€ ë¹„êµí•˜ì—¬ ë™ì¼í•œì§€ í™•ì¸.\n\n#### ğŸ **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sda\")\n    client.start_session(user_type=\"admin\", password=\"admin123\")\n    return client\n\ndef test_revert_admin_sp(opal_client):\n    # 1. ê¸°ì¡´ ì•”í˜¸ ì €ì¥\n    original_password = opal_client.get_admin_password()\n\n    # 2. ì•”í˜¸ ë³€ê²½ (ì˜ˆ: ë³€ê²½ ì „ ìƒíƒœ ì €ì¥)\n    new_password = \"new_admin_password\"\n    opal_client.set_admin_password(new_password)\n\n    # 3. Revert ì‹¤í–‰\n    opal_client.revert_admin_sp()\n\n    # 4. ì•”í˜¸ê°€ ì›ë˜ ìƒíƒœë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    assert opal_client.get_admin_password() == original_password, \\\n        \"Admin SP revert failed: password not reverted\"\n\n    # 5. ì¶”ê°€ë¡œ, SP í…Œì´ë¸”ì˜ ìƒíƒœ í™•ì¸ (ì˜µì…˜)\n    sp_table = opal_client.get_sp_table()\n    assert sp_table[\"Admin SP\"][\"RevertSupported\"] is True, \\\n        \"Admin SP does not support revert\"\n```\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Locking SP (ì œì¡° ì‹œ ìƒì„±)ì˜ Revert ì§€ì› ê²€ì¦**\n\n#### âœ… **ê¸°ëŒ€ ê²°ê³¼**\n- Locking SPê°€ ì œì¡° ì‹œ ìƒì„±ëœ ê²½ìš°, `Revert` ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë¨.\n- Revert í›„, Locking SP ì„¤ì •ì´ ì´ì „ ìƒíƒœë¡œ ë³µì›ë¨.\n\n#### ğŸ§© **í…ŒìŠ¤íŠ¸ ì ˆì°¨**\n1. StartSession (Admin ê¶Œí•œìœ¼ë¡œ).\n2. Locking SPì˜ ì„¤ì •ì„ ë³€ê²½ (ì˜ˆ: ì‚¬ìš©ì ì•”í˜¸ ë³€ê²½).\n3. Revert ëª…ë ¹ì„ ì „ì†¡.\n4. ë³€ê²½ ì „ ìƒíƒœì™€ ë¹„êµ.\n\n#### ğŸ **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\ndef test_revert_locking_sp_manufactured(opal_client):\n    # 1. Locking SPì˜ OFS í™•ì¸ (Manufacturedì¸ì§€ í™•ì¸)\n    sp_table = opal_client.get_sp_table()\n    locking_sp = sp_table.get(\"Locking SP\")\n    assert locking_sp[\"OFS\"] == \"Manufactured\", \\\n        \"Locking SP is not manufactured - revert not mandatory\"\n\n    # 2. ê¸°ì¡´ ì‚¬ìš©ì ì•”í˜¸ ì €ì¥\n    user_id = \"user1\"\n    original_password = opal_client.get_user_password(user_id)\n\n    # 3. ì‚¬ìš©ì ì•”í˜¸ ë³€ê²½\n    new_password = \"changed_password\"\n    opal_client.set_user_password(user_id, new_password)\n\n    # 4. Revert ì‹¤í–‰\n    opal_client.revert_locking_sp()\n\n    # 5. ì•”í˜¸ê°€ ì›ë˜ ìƒíƒœë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    assert opal_client.get_user_password(user_id) == original_password, \\\n        \"Locking SP revert failed: user password not reverted\"\n\n    # 6. Revert ì§€ì› í”Œë˜ê·¸ í™•ì¸\n    assert locking_sp[\"RevertSupported\"] is True, \\\n        \"Locking SP does not support revert\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **SP Table ì¡°íšŒ** (`Get SP Table` ëª…ë ¹ì–´ ì‚¬ìš©) â†’ `RevertSupported` í•„ë“œ í™•ì¸.\n- **OFS í•„ë“œ í™•ì¸** â†’ Admin SPëŠ” `Manufactured`, Locking SPë„ `Manufactured`ì¸ì§€ í™•ì¸.\n- **Revert ì „/í›„ ìƒíƒœ ë¹„êµ** â†’ ì„¤ì •ê°’(ì•”í˜¸, ê¶Œí•œ ë“±)ì„ ì €ì¥ í›„ Revert í›„ ë™ì¼í•œì§€ ë¹„êµ.\n\n#### âœ… ì˜ˆì‹œ: SP Tableì—ì„œ ê²€ì¦í•  í•„ë“œ\n\n| Field | ì˜ˆìƒ ê°’ | ê²€ì¦ ë°©ë²• |\n|-------|---------|-----------|\n| Object ID | \"Admin SP\" | `Get SP Table`ì—ì„œ ì¡°íšŒ |\n| OFS | \"Manufactured\" | í…Œì´ë¸”ì—ì„œ í™•ì¸ |\n| RevertSupported | True | í…Œì´ë¸”ì—ì„œ í™•ì¸ |\n| Access Rights | Admin Only | í…Œì´ë¸”ì—ì„œ í™•ì¸ |\n\n---\n\n## âœ… **ê²°ë¡ **\n\n- **RevertëŠ” ê´€ë¦¬ì SPì™€ ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì— ëŒ€í•´ í•„ìˆ˜**.\n- **íŠ¸ëœì­ì…˜ ë‚´ RevertëŠ” ìŠ¤í™ ë²”ìœ„ ë°–** â†’ êµ¬í˜„ì²´ê°€ ìì²´ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨.\n- **ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ì¤‘ìš”**: ì„¤ì • ë³€ê²½ í›„ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì‹œìŠ¤í…œì„ ì•ˆì • ìƒíƒœë¡œ ë³µêµ¬ ê°€ëŠ¥.\n- **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**: Admin SP ë° Locking SPì˜ Revert ì§€ì› ì—¬ë¶€ë¥¼ `StartSession`, `Revert`, `Get SP Table` ë“± ëª…ë ¹ì–´ë¡œ ê²€ì¦ ê°€ëŠ¥.\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n> TCG Opal ìŠ¤í™ì˜ 5.1.2.1 Revert Support ì„¹ì…˜ì€ **Revert ê¸°ëŠ¥ì˜ ì§€ì› ì—¬ë¶€ë¥¼ ëª…í™•íˆ ê·œì •**í•©ë‹ˆë‹¤. Admin SPëŠ” í•­ìƒ Revertë¥¼ ì§€ì›í•´ì•¼ í•˜ë©°, Locking SPëŠ” ì œì¡° ì‹œ ìƒì„±ëœ ê²½ìš° ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ ë‚´ RevertëŠ” ìŠ¤í™ ë²”ìœ„ ë°–ì´ë¯€ë¡œ, êµ¬í˜„ì²´ê°€ ìì²´ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ë³´ì•ˆ ì¸¡ë©´ì—ì„œ RevertëŠ” ì„¤ì • ë³€ê²½ ì˜¤ë¥˜ ì‹œ ì‹œìŠ¤í…œì„ ì•ˆì „í•˜ê²Œ ë˜ëŒë¦´ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” Admin SPì™€ Locking SPì— ëŒ€í•´ Revert ëª…ë ¹ì„ ì „ì†¡í•˜ê³ , ì „í›„ ìƒíƒœë¥¼ ë¹„êµí•˜ë©° ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, SP í…Œì´ë¸”ì—ì„œ RevertSupported í”Œë˜ê·¸ì™€ OFS ê°’ì„ í™•ì¸í•˜ì—¬ ë°ì´í„° êµ¬ì¡°ë„ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**: ìœ„ì— ì œì‹œëœ `pytest` ê¸°ë°˜ Python ì½”ë“œëŠ” ì‹¤ì œ Opal ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•œ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ì…ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” `opal_client` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‹¤ì œ ì¥ì¹˜ì— ì—°ê²°ëœ SDK ë˜ëŠ” APIë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ ìµœì¢… ë‹µë³€:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê³µí•˜ì˜€ìŠµë‹ˆë‹¤.**\n\n> âœ… **ìµœì¢… ë‹µë³€**: **ë‚´ìš©ì—†ìŒ**ì´ ì•„ë‹˜ â†’ **ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**."
    },
    {
        "section_order": 144,
        "level": 4,
        "section_id": "5.1.2.2",
        "section_key": "5.1.2.2 Effects of Revert",
        "title": "Effects of Revert",
        "start_page": 92,
        "end_page": 93,
        "page_count": 2,
        "content_md": "## 5.1.2.2 Effects of Revert\n\nUpon successful invocation of the Revert method, the following changes SHALL be made:\n\n- If the Locking SP is not in the â€œManufactured-Inactiveâ€ life cycle state, then successful invocation of the Revert method on the Locking SP or Admin SP SHALL cause user data removal as defined by the ActiveDataRemovalMechanism (see Table 33) and cause the media encryption keys to be eradicated, which has the side effect of securely erasing all data in the User LBA portion of the Storage Device.\n\n- If the Locking SP is in the â€œManufactured-Inactiveâ€ life cycle state, then successful invocation of the Revert method on the Locking SP SHALL NOT cause user data removal in the Storage Device.\n\nInteractions with interface commands during the processing of the Revert method are defined in [4].\n\nIf any TCG reset occurs prior to completing user data removal and the eradication of all media encryption keys in the Storage Device, then the Revert operation SHALL be aborted and the Locking SP SHALL NOT revert to its Original Factory State.\n\n**Start of Informative Comment**\n\nIf any TCG reset occurs during the processing of the Revert method, the result of user data removal is undefined and the TPer does not erase personalization of the Locking SP. For example, the PIN column value for each row in C_PIN table is unchanged.\n\n**End of Informative Comment**\n\nUpon completion of user data removal and the eradication of all media encryption keys in the Storage Device, or if the Locking SP is in the â€œManufactured-Inactiveâ€ life cycle state, the following changes SHALL be made:\n\n- The row in the Admin SPâ€™s SP table that represents the invoked SP SHALL revert to its original factory values.\n- The SP itself SHALL revert to its Original Factory State. While reverting to its Original Factory State, the TPer SHALL securely erase all personalization of the SP, and return personalized values to their Original Factory State values. The mechanism for erasure of personalization is implementation-specific.\n- When the Revert method is successfully invoked on the SP object for the Admin SP (UID = 0x00 00 02 05 00 00 00 00 01), the entire TPer SHALL revert to its Original Factory State, including:\n  - All Admin SP personalization with the exception of the PIN column value of the C_PIN_SID object. See section 5.1.2.2.1 for the effects of the Revert method upon the PIN column value of the C_PIN_SID object.\n  - All issued SPs SHALL be deleted, and all Manufactured SPs SHALL revert to Original Factory State. Manufactured SPs in the â€œManufactured-Inactiveâ€ life cycle state SHALL NOT be affected.\n- Any TPer functionality affected by the life cycle state of the SP based on the templates incorporated into it is modified as defined in the appropriate Template reference section of [2], and as defined in the â€œState transitions for Manufactured SPsâ€ section (see section 5.2.2.2) and â€œState behaviors for Manufactured SPsâ€ section (see section 5.2.2.3) of this specification.\n\n**Start of Informative Comment**  \nUnless already in the Manufactured-Inactive life cycle state, reverting the Locking SP will cause the media encryption keys to be eradicated, which has the side effect of securely erasing all data in the User LBA portion of the Storage Device.  \n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.1.2.2 Effects of Revert â€“ ìì„¸í•œ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### **1. ëª©ì  (Purpose)**\n\n`Revert` ë©”ì†Œë“œëŠ” ì €ì¥ ì¥ì¹˜ì˜ ë³´ì•ˆ ê´€ë¦¬ì(SP: Security Processor)ë¥¼ **ì›ë˜ ê³µì¥ ìƒíƒœ(Original Factory State)** ë¡œ ë˜ëŒë¦¬ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ê±°ë‚˜, ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ì „ì— ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ë¥¼ **ì•ˆì „í•˜ê²Œ ì œê±°**í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì¦‰, **\"ì´ ì¥ì¹˜ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”í•˜ê³ , ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•˜ê³ , ë³´ì•ˆ ì„¤ì •ì„ ê³µì¥ ìƒíƒœë¡œ ëŒë ¤ë†“ëŠ”ë‹¤\"**ëŠ” ê²ƒì´ ì£¼ ëª©ì ì…ë‹ˆë‹¤.\n\n---\n\n### **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ì‚¬ìš©ì ë°ì´í„° ì œê±°**: `Revert`ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´, ì €ì¥ ì¥ì¹˜ì˜ ì‚¬ìš©ì ì˜ì—­(User LBA)ì— ìˆëŠ” ëª¨ë“  ë°ì´í„°ê°€ **ë³´ì•ˆ ì§€ìš°ê¸°**(Secure Erase)ë¡œ ì œê±°ë©ë‹ˆë‹¤.\n- **ë§¤ì²´ ì•”í˜¸í™” í‚¤ ì œê±°**: ì•”í˜¸í™” í‚¤ê°€ ëª¨ë‘ ì œê±°ë˜ë¯€ë¡œ, ë°ì´í„°ëŠ” ë³µí˜¸í™” ë¶ˆê°€ëŠ¥ ìƒíƒœê°€ ë©ë‹ˆë‹¤.\n- **SP(ë³´ì•ˆ í”„ë¡œì„¸ì„œ) ìƒíƒœ ì´ˆê¸°í™”**: í•´ë‹¹ SPê°€ ì›ë˜ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n- **ì „ì²´ TPer ì´ˆê¸°í™”**: Admin SPì— `Revert`ë¥¼ í˜¸ì¶œí•˜ë©´, **ì „ì²´ TPer**(Trusted Platform Module or Trusted Processing Entity)ê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n- **ìƒì„±ëœ SP ì‚­ì œ**: Admin SPì— `Revert`ë¥¼ í˜¸ì¶œí•˜ë©´, ëª¨ë“  ë°œê¸‰ëœ SP(issued SP)ê°€ ì‚­ì œë˜ê³ , ì œì¡°ëœ SP(manufactured SP)ë„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n\n---\n\n### **3. ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\n- **SP Table**: Admin SPì˜ SP í…Œì´ë¸”ì—ëŠ” ê° SPì˜ ì •ë³´(UID, ìƒíƒœ, ê¶Œí•œ ë“±)ê°€ ì €ì¥ë©ë‹ˆë‹¤. `Revert` í›„, í•´ë‹¹ SPì˜ í–‰ì´ **ê³µì¥ ê¸°ë³¸ê°’**ìœ¼ë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n- **C_PIN_SID ê°ì²´**: PIN ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”. `Revert` í›„, **PIN ê°’ì€ ìœ ì§€ë¨** (ì˜ˆì™¸: Admin SPì˜ C_PIN_SID PINì€ ìœ ì§€ë¨).\n- **TPer Personalization**: SPì˜ ê°œì¸í™”ëœ ì„¤ì •(ì˜ˆ: PIN, ì•”í˜¸, ì ‘ê·¼ ê¶Œí•œ ë“±)ì€ ëª¨ë‘ **ë³´ì•ˆ ì§€ìš°ê¸°**ë¡œ ì œê±°ë¨.\n\n---\n\n### **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- `Revert`ëŠ” **ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼** í•˜ë©°, ì¤‘ê°„ì— TCG ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´ **ì¤‘ë‹¨ë¨**.\n- ë¦¬ì…‹ ë°œìƒ ì‹œ, **ì‚¬ìš©ì ë°ì´í„° ì œê±° ê²°ê³¼ëŠ” ì •ì˜ë˜ì§€ ì•ŠìŒ** (Undefined).\n- `Revert` í›„, SPëŠ” ë°˜ë“œì‹œ **ê³µì¥ ìƒíƒœ**ë¡œ ë˜ëŒì•„ì•¼ í•¨.\n- Admin SPì— `Revert`ë¥¼ í˜¸ì¶œí•˜ë©´, **ì „ì²´ TPerê°€ ì´ˆê¸°í™”**ë˜ì–´ì•¼ í•¨.\n- `Manufactured-Inactive` ìƒíƒœì˜ SPëŠ” `Revert` ì‹œ **ì‚¬ìš©ì ë°ì´í„° ì œê±° ì•ˆ ë¨**.\n\n---\n\n### **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ActiveDataRemovalMechanism**: ì‚¬ìš©ì ë°ì´í„° ì œê±° ë°©ì‹ì€ Table 33ì— ì •ì˜ëœ ë°©ë²•ìœ¼ë¡œ ìˆ˜í–‰ (ì˜ˆ: Overwrite, Cryptographic Erasure ë“±).\n- **Media Encryption Key Eradication**: ì•”í˜¸í™” í‚¤ ì œê±° â†’ ë°ì´í„° ë³µí˜¸í™” ë¶ˆê°€ëŠ¥ â†’ **ë³´ì•ˆ ì§€ìš°ê¸°**.\n- **Personalization Secure Erasure**: SPì˜ ê°œì¸í™”ëœ ì„¤ì •(ì˜ˆ: PIN, ì•”í˜¸, ê¶Œí•œ)ì€ ë³´ì•ˆ ì§€ìš°ê¸°ë¡œ ì œê±°ë¨.\n- **TCG Reset Detection**: ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´ `Revert`ëŠ” **ì¤‘ë‹¨**ë˜ë©°, TPerëŠ” ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŒ.\n\n---\n\n### **6. ì˜ˆì™¸ ì‚¬í•­ (Exception Cases)**\n\n- **Manufactured-Inactive ìƒíƒœ**: ì´ ìƒíƒœì˜ SPì— `Revert`ë¥¼ í˜¸ì¶œí•˜ë©´ **ì‚¬ìš©ì ë°ì´í„° ì œê±° ì•ˆ ë¨**.\n- **TCG ë¦¬ì…‹ ì¤‘ê°„ ë°œìƒ**: `Revert`ê°€ ì¤‘ë‹¨ë˜ê³ , ê²°ê³¼ëŠ” ë¶ˆí™•ì‹¤. PIN ê°’ì€ ìœ ì§€ë¨.\n- **Admin SPì˜ C_PIN_SID PIN**: `Revert` í›„ì—ë„ **PIN ê°’ì€ ìœ ì§€ë¨** (ë³´ì•ˆ ì •ì±… ìƒ ì˜ˆì™¸).\n\n---\n\n## **Test Case ì œì‹œ (Python + pytest)**\n\në‹¤ìŒì€ `Revert` ë©”ì†Œë“œì˜ ë™ì‘ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n---\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n\n- `Revert` ìˆ˜í–‰ í›„, ì‚¬ìš©ì ë°ì´í„°ê°€ ì œê±°ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- SP ìƒíƒœê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸.\n- Admin SPì— `Revert` ì‹œ, ì „ì²´ TPerê°€ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n- `Manufactured-Inactive` ìƒíƒœ SPëŠ” ë°ì´í„° ì œê±°ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸.\n\n---\n\n### âœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ (Python + pytest)**\n\n```python\nimport pytest\nfrom tcg_opal_client import OpalClient  # ê°€ì •: TCG Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom tcg_opal_commands import StartSession, Revert, GetSPStatus, GetUserDataStatus\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    yield client\n    client.close()\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì¼ë°˜ Locking SP Revert - ì‚¬ìš©ì ë°ì´í„° ì œê±° í™•ì¸\ndef test_revert_normal_sp_data_erased(opal_client):\n    # ì„¸ì…˜ ì‹œì‘\n    session = StartSession(opal_client, admin_pin=\"123456\")\n    assert session.status == \"SUCCESS\"\n\n    # Revert í˜¸ì¶œ\n    revert_result = Revert(opal_client, sp_uid=\"0x000002050000000002\")  # Locking SP UID ì˜ˆì‹œ\n    assert revert_result.status == \"SUCCESS\"\n\n    # ì‚¬ìš©ì ë°ì´í„° ìƒíƒœ í™•ì¸ (ì˜ˆ: User LBA ì˜ì—­ì´ Secure Erased ë˜ì—ˆëŠ”ì§€)\n    data_status = GetUserDataStatus(opal_client)\n    assert data_status == \"ERASED\" or data_status == \"SECURE_ERASED\"\n\n    # SP ìƒíƒœ í™•ì¸\n    sp_status = GetSPStatus(opal_client, sp_uid=\"0x000002050000000002\")\n    assert sp_status == \"ORIGINAL_FACTORY_STATE\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Manufactured-Inactive ìƒíƒœ SP Revert - ë°ì´í„° ì œê±° ì•ˆ ë¨\ndef test_revert_manufactured_inactive_sp_no_data_erase(opal_client):\n    # ì„¸ì…˜ ì‹œì‘\n    session = StartSession(opal_client, admin_pin=\"123456\")\n    assert session.status == \"SUCCESS\"\n\n    # ìƒíƒœë¥¼ Manufactured-Inactiveë¡œ ì„¤ì • (ì˜ˆ: ë¯¸ë¦¬ ì¤€ë¹„ëœ SP)\n    opal_client.set_sp_state(sp_uid=\"0x000002050000000003\", state=\"MANUFACTURED_INACTIVE\")\n\n    # Revert í˜¸ì¶œ\n    revert_result = Revert(opal_client, sp_uid=\"0x000002050000000003\")\n    assert revert_result.status == \"SUCCESS\"\n\n    # ì‚¬ìš©ì ë°ì´í„° ìƒíƒœ í™•ì¸ (ë³€ê²½ë˜ì§€ ì•Šì•„ì•¼ í•¨)\n    data_status = GetUserDataStatus(opal_client)\n    assert data_status == \"UNERASED\" or data_status == \"INTACT\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Admin SP Revert - ì „ì²´ TPer ì´ˆê¸°í™”\ndef test_revert_admin_sp_full_tper_reset(opal_client):\n    # ì„¸ì…˜ ì‹œì‘\n    session = StartSession(opal_client, admin_pin=\"123456\")\n    assert session.status == \"SUCCESS\"\n\n    # Admin SP Revert (UID = 0x000002050000000001)\n    revert_result = Revert(opal_client, sp_uid=\"0x000002050000000001\")\n    assert revert_result.status == \"SUCCESS\"\n\n    # Admin SP ìƒíƒœ í™•ì¸\n    admin_sp_status = GetSPStatus(opal_client, sp_uid=\"0x000002050000000001\")\n    assert admin_sp_status == \"ORIGINAL_FACTORY_STATE\"\n\n    # ëª¨ë“  issued SPê°€ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸\n    issued_sps = opal_client.get_issued_sps()\n    assert len(issued_sps) == 0\n\n    # ì œì¡°ëœ SPë“¤ì´ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸\n    manufactured_sps = opal_client.get_manufactured_sps()\n    for sp in manufactured_sps:\n        if sp.state != \"MANUFACTURED_INACTIVE\":\n            assert sp.state == \"ORIGINAL_FACTORY_STATE\"\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: TCG ë¦¬ì…‹ ì¤‘ê°„ ë°œìƒ ì‹œ Revert ì¤‘ë‹¨\ndef test_revert_during_tcg_reset_aborted(opal_client):\n    # ì„¸ì…˜ ì‹œì‘\n    session = StartSession(opal_client, admin_pin=\"123456\")\n    assert session.status == \"SUCCESS\"\n\n    # Revert ì‹œì‘ í›„, ì¸ìœ„ì ìœ¼ë¡œ TCG ë¦¬ì…‹ (ì˜ˆ: í•˜ë“œì›¨ì–´ ë¦¬ì…‹ ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì‹œë®¬ë ˆì´ì…˜)\n    # ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜: Revert ëª…ë ¹ í›„, ìƒíƒœë¥¼ 'RESET'ìœ¼ë¡œ ì„¤ì •\n    opal_client.simulate_tcg_reset()\n\n    # RevertëŠ” ì‹¤íŒ¨í•´ì•¼ í•¨\n    revert_result = Revert(opal_client, sp_uid=\"0x000002050000000002\")\n    assert revert_result.status == \"FAILED\" or revert_result.status == \"ABORTED\"\n\n    # ì‚¬ìš©ì ë°ì´í„° ìƒíƒœëŠ” ë³€ê²½ë˜ì§€ ì•Šì•„ì•¼ í•¨\n    data_status = GetUserDataStatus(opal_client)\n    assert data_status != \"ERASED\"\n```\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### 1. **SP Table ê²€ì¦**\n\n- `GetSPStatus()` ë˜ëŠ” `GetSPTable()` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ SP í…Œì´ë¸”ì˜ ê° í–‰ì´ **ê³µì¥ ê¸°ë³¸ê°’**ìœ¼ë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸.\n- ì˜ˆ: `UID`, `SPType`, `State`, `AccessRights` ë“±ì´ ê³µì¥ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµ.\n\n#### 2. **C_PIN_SID PIN ê°’ ê²€ì¦**\n\n- `Revert` ì „í›„ë¡œ `GetC_PIN_SID()` ëª…ë ¹ì„ ì‚¬ìš©í•´ PIN ê°’ì„ ê°€ì ¸ì˜´.\n- Admin SPì˜ C_PIN_SID PINì€ `Revert` í›„ì—ë„ ìœ ì§€ë˜ì–´ì•¼ í•¨ â†’ ë¹„êµ ê²€ì¦.\n\n#### 3. **User Data Status ê²€ì¦**\n\n- `GetUserDataStatus()` ë˜ëŠ” `GetUserLBAStatus()` ëª…ë ¹ì„ ì‚¬ìš©í•´ User LBA ì˜ì—­ì˜ ìƒíƒœë¥¼ í™•ì¸.\n- `ERASED`, `SECURE_ERASED` ìƒíƒœë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n#### 4. **Issued SP ë° Manufactured SP ê²€ì¦**\n\n- `GetIssuedSPs()` â†’ ê²°ê³¼ê°€ ë¹ˆ ë¦¬ìŠ¤íŠ¸ì—¬ì•¼ í•¨.\n- `GetManufacturedSPs()` â†’ `MANUFACTURED_INACTIVE` ìƒíƒœëŠ” ê·¸ëŒ€ë¡œ, ë‚˜ë¨¸ì§€ëŠ” `ORIGINAL_FACTORY_STATE`ë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)**\n\n`Revert`ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë³´ì•ˆ ì„¤ì •ì„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•µì‹¬ ëª…ë ¹ì…ë‹ˆë‹¤. ì‚¬ìš©ì ë°ì´í„°ëŠ” `ActiveDataRemovalMechanism`ì— ë”°ë¼ ë³´ì•ˆ ì§€ìš°ê¸°ë¡œ ì œê±°ë˜ë©°, ì•”í˜¸í™” í‚¤ë„ ì œê±°ë˜ì–´ ë°ì´í„°ëŠ” ì˜êµ¬ì ìœ¼ë¡œ ì†ì‹¤ë©ë‹ˆë‹¤. Admin SPì— `Revert`ë¥¼ í˜¸ì¶œí•˜ë©´ ì „ì²´ TPerê°€ ì´ˆê¸°í™”ë˜ë©°, ëª¨ë“  ë°œê¸‰ëœ SPê°€ ì‚­ì œë˜ê³  ì œì¡°ëœ SPë„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤. ë‹¤ë§Œ, `Manufactured-Inactive` ìƒíƒœì˜ SPëŠ” ì‚¬ìš©ì ë°ì´í„° ì œê±°ë¥¼ í•˜ì§€ ì•Šìœ¼ë©°, TCG ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´ `Revert`ëŠ” ì¤‘ë‹¨ë©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” `StartSession â†’ Revert â†’ ìƒíƒœ ê²€ì¦` íë¦„ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©°, SP í…Œì´ë¸”, PIN ì •ë³´, ì‚¬ìš©ì ë°ì´í„° ìƒíƒœ ë“±ì„ ê²€ì¦í•˜ì—¬ ì •ìƒ ë™ì‘ì„ í™•ì¸í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `Revert`ëŠ” ë³´ì•ˆ ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê±°ë‚˜, ë³´ì•ˆ ì‚¬ê³  í›„ ì´ˆê¸°í™”í•  ë•Œ í•„ìˆ˜ì ì¸ ëª…ë ¹ì´ë©°, ì •í™•í•œ í…ŒìŠ¤íŠ¸ì™€ ê²€ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ì´ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ì‹¤ìš©ì ì¸ ë°©ë²•ì„ ì œì‹œí•©ë‹ˆë‹¤."
    },
    {
        "section_order": 145,
        "level": 5,
        "section_id": "5.1.2.2.1",
        "section_key": "5.1.2.2.1 Effects of Revert on the PIN Column Value of C_PIN_SID",
        "title": "Effects of Revert on the PIN Column Value of C_PIN_SID",
        "start_page": 93,
        "end_page": 93,
        "page_count": 1,
        "content_md": "## 5.1.2.2.1 Effects of Revert on the PIN Column Value of C_PIN_SID  \nWhen Revert is successfully invoked on the SP object for the Admin SP (UID = 0x00 00 02 05 00 00 00 01), the PIN column value of the C_PIN_SID object SHALL be affected as follows:  \n1. If the SID authority has never been successfully authenticated, then the C_PIN_SID PIN column SHALL remain at its current value.  \n2. If the SID authority has previously been successfully authenticated, then:  \n   a) If the value of the â€œBehavior of C_PIN_SID PIN upon TPer Revertâ€ field in the Opal SSC V2 feature descriptor is 0x00, then the C_PIN_SID PIN column SHALL be set to the PIN column value of the C_PIN_MSID object. Additionally, the â€œInitial C_PIN_SID PIN Indicatorâ€ field SHALL be set to 0x00 upon completion of the Revert.  \n   b) If the value of the â€œBehavior of C_PIN_SID PIN upon TPer Revertâ€ field in the Opal SSC V2 feature descriptor is not 0x00, then the C_PIN_SID PIN column SHALL be set to a vendor unique (VU) value.\n\n**Start of Informative Comment**  \nIn the case where the â€œInitial C_PIN_SID PIN Indicatorâ€ and â€œBehavior of C_PIN_SID PIN upon TPer Revertâ€ fields are both 0x00, the above rules for Revert are backward compatible with Opal v1.00.  \n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1.2.2.1 Effects of Revert on the PIN Column Value of C_PIN_SID  \n### ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nì´ ì„¹ì…˜ì€ **TCG Opal 2.30** ìŠ¤í™ì—ì„œ ì •ì˜í•œ **Revert ëª…ë ¹ì´ C_PIN_SID ê°ì²´ì˜ PIN ì—´ ê°’ì— ë¯¸ì¹˜ëŠ” ì˜í–¥**ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤. íŠ¹íˆ, **ê´€ë¦¬ì SP**(Admin SP, UID = 0x00 00 02 05 00 00 00 01)ì— ëŒ€í•œ Revertê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ, C_PIN_SIDì˜ PIN ê°’ì´ ì–´ë–»ê²Œ ë³€ê²½ë˜ëŠ”ì§€ë¥¼ ê·œì •í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” ëª©ì \n\nì´ ì„¹ì…˜ì˜ ëª©ì ì€ **Opal ë“œë¼ì´ë¸Œì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ë˜ëŒë¦¬ê±°ë‚˜ ì´ˆê¸°í™”í•˜ëŠ” Revert ì‘ì—…ì´, ì‚¬ìš©ì PIN(ì˜ˆ: C_PIN_SID)ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ëª…í™•íˆ ì •ì˜**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  \nì´ëŠ” ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„±, ì‚¬ìš©ì ì ‘ê·¼ ì œì–´, ë³µêµ¬ ì ˆì°¨ ì„¤ê³„ì— ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© ì£¼ìš” ê¸°ëŠ¥\n\nRevert ëª…ë ¹ì€ ì¼ë°˜ì ìœ¼ë¡œ ë“œë¼ì´ë¸Œì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤. ì´ë•Œ, C_PIN_SIDì˜ PIN ê°’ì€ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤:\n\n1. **SID ê¶Œí•œì´ ì•„ì§ ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ì§€ ì•Šì•˜ë‹¤ë©´** â†’ PIN ê°’ì€ **ë³€ê²½ë˜ì§€ ì•ŠìŒ**.\n2. **SID ê¶Œí•œì´ ì´ì „ì— ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ì—ˆì—ˆë‹¤ë©´**:\n   - **Behavior of C_PIN_SID PIN upon TPer Revert í•„ë“œê°€ 0x00** â†’ C_PIN_SIDì˜ PINì€ **C_PIN_MSIDì˜ PIN ê°’ìœ¼ë¡œ ì„¤ì •**ë¨.\n   - **Behavior of C_PIN_SID PIN upon TPer Revert í•„ë“œê°€ 0x00ì´ ì•„ë‹˜** â†’ C_PIN_SIDì˜ PINì€ **ì œì¡°ì‚¬ ê³ ìœ  ê°’(Vendor Unique, VU)** ìœ¼ë¡œ ì„¤ì •ë¨.\n\në˜í•œ, **Initial C_PIN_SID PIN Indicator** í•„ë“œëŠ” Revert í›„ **0x00ìœ¼ë¡œ ì„¤ì •**ë©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ ë°ì´í„° êµ¬ì¡°\n\n- **C_PIN_SID**: ì‚¬ìš©ì PIN ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´ (ì˜ˆ: ì¼ë°˜ ì‚¬ìš©ì PIN).\n- **C_PIN_MSID**: ê´€ë¦¬ì ë˜ëŠ” ê¸°ë³¸ PIN ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´.\n- **Opal SSC V2 Feature Descriptor**: Opal ë“œë¼ì´ë¸Œì˜ ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ëŠ” ë©”íƒ€ ë°ì´í„° êµ¬ì¡°.\n  - `Behavior of C_PIN_SID PIN upon TPer Revert` (1 ë°”ì´íŠ¸)\n  - `Initial C_PIN_SID PIN Indicator` (1 ë°”ì´íŠ¸)\n- **Admin SP**: UID = 0x00 00 02 05 00 00 00 01ë¡œ ì‹ë³„ë˜ëŠ” ê´€ë¦¬ì ë³´ì•ˆ í”„ë¡œì„¸ì„œ ê°ì²´.\n\n---\n\n## ğŸ“œ ìš”êµ¬ì‚¬í•­ (Shall)\n\n- Revert ì„±ê³µ ì‹œ, C_PIN_SIDì˜ PIN ê°’ì€ ìœ„ ì¡°ê±´ì— ë”°ë¼ ë°˜ë“œì‹œ ë³€ê²½ë˜ì–´ì•¼ í•¨.\n- `Behavior of C_PIN_SID PIN upon TPer Revert` í•„ë“œ ê°’ì— ë”°ë¼ PIN ê°’ ì„¤ì • ë°©ì‹ì´ ë‹¬ë¼ì§.\n- `Initial C_PIN_SID PIN Indicator`ëŠ” Revert í›„ í•­ìƒ 0x00ì´ ë˜ì–´ì•¼ í•¨.\n- ì´ ê·œì¹™ì€ Opal v1.00ê³¼ ì—­ë°©í–¥ í˜¸í™˜ ê°€ëŠ¥ (ë‘˜ ë‹¤ 0x00ì¼ ë•Œ).\n\n---\n\n## ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜\n\n- **RevertëŠ” ë³´ì•ˆ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê°•ë ¥í•œ ëª…ë ¹**ì´ë¯€ë¡œ, PIN ê°’ë„ ì ì ˆíˆ ì´ˆê¸°í™”ë˜ì–´ì•¼ í•¨.\n- **C_PIN_MSID PINìœ¼ë¡œ ë³µì›í•˜ëŠ” ê²½ìš°**: ê´€ë¦¬ì PINì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ì PINì„ ì¬ì„¤ì • â†’ ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„± ìœ ì§€.\n- **VU ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²½ìš°**: ì œì¡°ì‚¬ê°€ ê³ ìœ í•œ ì´ˆê¸° PINì„ ì‚¬ìš© â†’ ê³µê²©ìì—ê²Œ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¡œ ì´ˆê¸°í™” â†’ ë³´ì•ˆ ê°•í™”.\n- `Initial C_PIN_SID PIN Indicator` ì„¤ì •: ë“œë¼ì´ë¸Œê°€ **ì´ˆê¸° ìƒíƒœì¸ì§€ ì—¬ë¶€ë¥¼ í‘œì‹œ** â†’ ì¶”ì  ë° ë³´ì•ˆ ê°ì‚¬ì— ìœ ìš©.\n\n---\n\n## âœ… ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤\n\në‹¤ìŒì€ ì´ ìŠ¤í™ì„ ê²€ì¦í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª Test Case: Revert í›„ C_PIN_SID PIN ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ëŠ”ì§€ ê²€ì¦\n\n#### âœ… í…ŒìŠ¤íŠ¸ ëª©ì \n- Revert ëª…ë ¹ í›„, C_PIN_SIDì˜ PIN ê°’ì´ `Behavior of C_PIN_SID PIN upon TPer Revert` í•„ë“œ ê°’ì— ë”°ë¼ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n#### ğŸ“Œ ì „ì œ ì¡°ê±´\n- Opal ë“œë¼ì´ë¸Œì— ì ‘ê·¼ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½.\n- Admin SPì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ (ì˜ˆ: Admin PIN ë˜ëŠ” Key).\n- C_PIN_SID ë° C_PIN_MSID ê°ì²´ê°€ ì¡´ì¬í•˜ë©°, C_PIN_SIDëŠ” ì´ë¯¸ ì¸ì¦ëœ ìƒíƒœ.\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ë‹¨ê³„\n\n1. **StartSession**ì„ í†µí•´ Admin SPì— ë¡œê·¸ì¸.\n2. **GetFeatureDescriptor**ë¥¼ í†µí•´ `Behavior of C_PIN_SID PIN upon TPer Revert` ê°’ì„ ì½ì–´ì˜´.\n3. **Revert** ëª…ë ¹ì„ ì‹¤í–‰.\n4. **GetC_PIN_SID**ë¥¼ í†µí•´ C_PIN_SIDì˜ PIN ê°’ì„ ì½ì–´ì˜´.\n5. **GetC_PIN_MSID**ë¥¼ í†µí•´ C_PIN_MSIDì˜ PIN ê°’ì„ ì½ì–´ì˜´.\n6. **GetFeatureDescriptor**ë¥¼ ë‹¤ì‹œ ì½ì–´ `Initial C_PIN_SID PIN Indicator`ê°€ 0x00ì¸ì§€ í™•ì¸.\n\n#### âœ… ê¸°ëŒ€ ê²°ê³¼\n\n- `Behavior of C_PIN_SID PIN upon TPer Revert == 0x00` â†’ C_PIN_SID PIN == C_PIN_MSID PIN\n- `Behavior of C_PIN_SID PIN upon TPer Revert != 0x00` â†’ C_PIN_SID PIN == VU ê°’ (ì˜ˆ: ì œì¡°ì‚¬ ê³ ìœ ê°’, ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥)\n- `Initial C_PIN_SID PIN Indicator == 0x00`\n\n---\n\n## ğŸ Python + pytest ì˜ˆì‹œ ì½”ë“œ\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, Revert, GetFeatureDescriptor, GetC_PIN_SID, GetC_PIN_MSID\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(\"test_device_path\")\n    yield client\n    client.close()\n\ndef test_revert_cpin_sid_pin_behavior(opal_client):\n    # 1. Admin SP ë¡œê·¸ì¸\n    assert StartSession(opal_client, \"admin_pin\", sp_uid=\"0x0000020500000001\") == True\n\n    # 2. Feature Descriptor ì½ê¸°\n    feature_desc = GetFeatureDescriptor(opal_client, descriptor_id=0x00000001)  # ì˜ˆì‹œ ID\n    behavior_field = feature_desc.get(\"Behavior of C_PIN_SID PIN upon TPer Revert\")\n    initial_indicator_before = feature_desc.get(\"Initial C_PIN_SID PIN Indicator\")\n\n    # 3. Revert ì‹¤í–‰\n    assert Revert(opal_client, sp_uid=\"0x0000020500000001\") == True\n\n    # 4. Revert í›„ Feature Descriptor ë‹¤ì‹œ ì½ê¸°\n    feature_desc_after = GetFeatureDescriptor(opal_client, descriptor_id=0x00000001)\n    initial_indicator_after = feature_desc_after.get(\"Initial C_PIN_SID PIN Indicator\")\n\n    # 5. C_PIN_SID ë° C_PIN_MSID ì½ê¸°\n    pin_sid = GetC_PIN_SID(opal_client)\n    pin_msid = GetC_PIN_MSID(opal_client)\n\n    # 6. ê²€ì¦\n    if behavior_field == 0x00:\n        # C_PIN_SID PIN == C_PIN_MSID PIN\n        assert pin_sid == pin_msid\n        assert initial_indicator_after == 0x00\n    else:\n        # C_PIN_SID PIN == VU (Vendor Unique) â†’ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ì´ì „ ê°’ê³¼ ë‹¤ë¦„ì„ í™•ì¸\n        assert pin_sid != pin_sid_before  # pin_sid_beforeëŠ” Revert ì „ ê°’\n        assert initial_indicator_after == 0x00\n```\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ Opal ë“œë¼ì´ë¸Œì™€ì˜ í†µì‹ ì€ ATA/SSD ëª…ë ¹ì–´ ë˜ëŠ” TCG Tper ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©°, `opal_client`ëŠ” ì‹¤ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆì‹œëŠ” ê°œë…ì ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ§¾ í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆìƒ ê°’ |\n|------|-----------|---------|\n| `Behavior of C_PIN_SID PIN upon TPer Revert` | `GetFeatureDescriptor`ë¡œ ì½ê¸° | 0x00 ë˜ëŠ” 0x01~0xFF |\n| `Initial C_PIN_SID PIN Indicator` (Revert í›„) | `GetFeatureDescriptor`ë¡œ ì½ê¸° | **0x00** |\n| `C_PIN_SID PIN` (Revert í›„) | `GetC_PIN_SID`ë¡œ ì½ê¸° | `C_PIN_MSID PIN` (Behavior=0x00) ë˜ëŠ” VU ê°’ (Behaviorâ‰ 0x00) |\n| `C_PIN_MSID PIN` | `GetC_PIN_MSID`ë¡œ ì½ê¸° | ë³„ë„ ì €ì¥ëœ ê°’ (ì˜ˆ: 123456) |\n\n---\n\n## ğŸ¯ ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ **Revert ëª…ë ¹ì´ ì‚¬ìš©ì PIN ìƒíƒœì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ëª…í™•íˆ ì •ì˜**í•¨ìœ¼ë¡œì¨, ë³´ì•ˆ ë³µêµ¬ ì ˆì°¨ì˜ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ ë†’ì´ê³ , ì œì¡°ì‚¬ì™€ ì‚¬ìš©ì ê°„ì˜ ì •ì±… ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.  \n`Behavior of C_PIN_SID PIN upon TPer Revert` í•„ë“œëŠ” ì œì¡°ì‚¬ê°€ ë³´ì•ˆ ì •ì±…ì„ ìœ ì—°í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, `Initial C_PIN_SID PIN Indicator`ëŠ” ë“œë¼ì´ë¸Œì˜ ì´ˆê¸° ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¡´ì¬**  \nâœ… **Python + pytest ì˜ˆì‹œ ì œê³µ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ**\n\n---\n\n## ğŸ“Œ ìµœì¢… ë‹µë³€\n\n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•©ë‹ˆë‹¤.**\n\nâœ… **ìƒì„¸ ì„¤ëª… ì œê³µ ì™„ë£Œ**  \nâœ… **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤, Python ì½”ë“œ, ë°ì´í„° ê²€ì¦ ë°©ë²• í¬í•¨**"
    },
    {
        "section_order": 146,
        "level": 4,
        "section_id": "5.1.2.3",
        "section_key": "5.1.2.3 Interrupted Revert",
        "title": "Interrupted Revert",
        "start_page": 93,
        "end_page": 94,
        "page_count": 2,
        "content_md": "## 5.1.2.3 Interrupted Revert  \nThe Revert method and complete implementation of necessary background operations MAY be aborted due to any reset condition, including power loss.  \n\nWhen interrupted, the Data Removal Operation Interrupted bit SHALL be set to one in the Level 0 Discovery â€“ Supported Data Removal Mechanism feature descriptor appropriately as defined in section 3.1.1.6.2.  \n\nFurther, the return status value of the Revert method does not mean that all necessary operations, such as the background deallocate, or trim, or un-map are complete.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.1.2.3 Interrupted Revert â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\nTCG Opal í‘œì¤€ì˜ `Revert` ëª…ë ¹ì€ ì‚¬ìš©ìê°€ ì„¤ì •í•œ ë³´ì•ˆ ìƒíƒœ(ì˜ˆ: ì ê¸ˆ, ì•”í˜¸í™” ìƒíƒœ)ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  \ní•˜ì§€ë§Œ ì´ ê³¼ì •ì€ **ì „ì› ê³µê¸‰ ì¤‘ë‹¨, í•˜ë“œì›¨ì–´ ë¦¬ì…‹, ì‹œìŠ¤í…œ ì¬ì‹œì‘ ë“± ì™¸ë¶€ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤**.  \nì´ëŸ¬í•œ ì¤‘ë‹¨ ìƒí™©ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ì–´ë–¤ ì •ë³´ë¥¼ ì œê³µí•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê·œì •í•˜ëŠ” ê²ƒì´ ì´ ì„¹ì…˜ì˜ ëª©ì ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì¤‘ë‹¨ëœ Revert ì²˜ë¦¬**  \n   - Revert ì‘ì—…ì´ ì¤‘ë‹¨ë˜ë”ë¼ë„, í•˜ë“œì›¨ì–´ëŠ” ì´ ì‚¬ì‹¤ì„ ê¸°ë¡í•˜ê³ , ì´í›„ ì‚¬ìš©ìê°€ ì´ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n   - ì¦‰, \"RevertëŠ” ì‹œì‘ë˜ì—ˆì§€ë§Œ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤\"ëŠ” ì •ë³´ë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤.\n\n2. **ìƒíƒœ ë¹„íŠ¸ ì„¤ì •**  \n   - ì¤‘ë‹¨ ì‹œ, **Data Removal Operation Interrupted bit**ì´ 1ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.  \n   - ì´ ë¹„íŠ¸ëŠ” **Level 0 Discovery â†’ Supported Data Removal Mechanism** íŠ¹ì„± ë””ìŠ¤í¬ë¦¬ë²„ë¦¬(Descriptor)ì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  \n   - ì´ ë¹„íŠ¸ë¥¼ í†µí•´ ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìëŠ” \"Revertê°€ ì¤‘ë‹¨ë˜ì—ˆëŠ”ì§€\"ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n3. **ë°˜í™˜ ê°’ì˜ ì œí•œì„±**  \n   - `Revert` ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤ê³  í•´ë„, **ëª¨ë“  ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…**(ì˜ˆ: ë°ì´í„° ì‚­ì œ, TRIM, unmapping ë“±)ì´ ì™„ë£Œë˜ì—ˆë‹¤ëŠ” ë³´ì¥ì€ ì—†ìŠµë‹ˆë‹¤.  \n   - ë”°ë¼ì„œ, ëª…ë ¹ì˜ ì„±ê³µì€ **\"ì‘ì—… ì‹œì‘\"** ì„ ì˜ë¯¸í•  ë¿, **ì™„ë£Œ** ë¥¼ ì˜ë¯¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **Location**: Level 0 Discovery â†’ Supported Data Removal Mechanism feature descriptor\n- **Bit Name**: `Data Removal Operation Interrupted` bit\n- **Bit Position**: ë¬¸ì„œì—ì„œëŠ” ì •í™•í•œ ë¹„íŠ¸ ìœ„ì¹˜ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì§€ë§Œ, 3.1.1.6.2 ì ˆì— ì •ì˜ëœ íŠ¹ì„± ë””ìŠ¤í¬ë¦¬ë²„ë¦¬ì˜ ì¼ë¶€ë¡œ í¬í•¨ë©ë‹ˆë‹¤.\n- **ê°’ ì˜ë¯¸**:\n  - `0`: Revert ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì§€ ì•Šì•˜ìŒ (ì •ìƒ ì¢…ë£Œ ë˜ëŠ” ì‹¤í–‰ ì¤‘ ì•„ë‹˜)\n  - `1`: Revert ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì—ˆìŒ (ì˜ˆ: ì „ì› êº¼ì§, ë¦¬ì…‹ ë“±)\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ë°˜ë“œì‹œ ì„¤ì •ë˜ì–´ì•¼ í•¨**: Revertê°€ ì¤‘ë‹¨ë˜ë©´, ë°˜ë“œì‹œ í•´ë‹¹ ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•´ì•¼ í•¨.\n- **ë°˜í™˜ ìƒíƒœì˜ í•´ì„**: Revert ëª…ë ¹ì˜ ì„±ê³µì ì¸ ë°˜í™˜ì€ **ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì™„ë£Œë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ**.\n- **ì´í›„ ì¡°ì¹˜ í•„ìš”**: ì¤‘ë‹¨ëœ RevertëŠ” ì‚¬ìš©ìì—ê²Œ ì¬ì‹œì‘ ë˜ëŠ” í™•ì¸ì„ ìš”êµ¬í•  ìˆ˜ ìˆìŒ.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì¤‘ë‹¨ ìƒíƒœì˜ íˆ¬ëª…ì„±**: ì¤‘ë‹¨ëœ RevertëŠ” ë¹„íŠ¸ë¥¼ í†µí•´ ëª…í™•íˆ ê¸°ë¡ë˜ì–´, ì•…ì˜ì ì¸ ê³µê²©ì´ë‚˜ ê³ ì˜ì  ì¤‘ë‹¨ì„ ê°ì§€í•  ìˆ˜ ìˆìŒ.\n- **ë°ì´í„° ë³´í˜¸**: ì¤‘ë‹¨ëœ Revert ìƒíƒœì—ì„œ ë°ì´í„°ê°€ ì¼ë¶€ë§Œ ì‚­ì œë˜ì—ˆë”ë¼ë„, ì „ì²´ ë°ì´í„°ê°€ ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ ë³´ì•ˆ ìƒíƒœ ìœ ì§€.\n- **ì‚¬ìš©ì ì¸ì‹ ê°•í™”**: ì‚¬ìš©ìê°€ ì¤‘ë‹¨ëœ ì‘ì—…ì„ ì¸ì‹í•˜ê³ , ì¬ì‹œë„ ë˜ëŠ” ë³µêµ¬ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆë„ë¡ ìœ ë„.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (Test Case)**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n- Revert ëª…ë ¹ì´ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ, `Data Removal Operation Interrupted` ë¹„íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ëŠ”ì§€ í™•ì¸.\n- Revert ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ë°˜í™˜ë˜ì—ˆì„ ë•Œ, ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŒì„ í™•ì¸.\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ë‹¨ê³„**\n\n1. **ì„¸ì…˜ ì‹œì‘** â†’ `StartSession` (ì˜ˆ: Admin Session)\n2. **Revert ëª…ë ¹ ì‹¤í–‰** â†’ `Revert` (ì˜ˆ: Revert to Factory Default)\n3. **ì¤‘ë‹¨ ì‹œë®¬ë ˆì´ì…˜** â†’ ì‹œìŠ¤í…œ ì¬ì‹œì‘, ì „ì› ì°¨ë‹¨, ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë„êµ¬ì—ì„œ ì¸ìœ„ì  ì¤‘ë‹¨\n4. **ìƒíƒœ í™•ì¸** â†’ `Get Feature Descriptor`ë¡œ `Data Removal Operation Interrupted` ë¹„íŠ¸ í™•ì¸\n5. **ë°˜í™˜ ìƒíƒœ ê²€ì¦** â†’ Revert ëª…ë ¹ì˜ ë°˜í™˜ ê°’ì´ ì„±ê³µì´ì—ˆëŠ”ì§€ í™•ì¸ (ì„±ê³µì´ì–´ë„ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ë¯¸ì™„ë£Œ)\n\n---\n\n## ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_library import OpalDevice  # ê°€ìƒì˜ Opal ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import FeatureDescriptor, FeatureMask\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"sda\")  # ì‹¤ì œ ë””ë°”ì´ìŠ¤ ê²½ë¡œ\n    device.start_session(\"admin\", \"admin_password\")  # Admin Session ì‹œì‘\n    yield device\n    device.end_session()  # í…ŒìŠ¤íŠ¸ í›„ ì„¸ì…˜ ì¢…ë£Œ\n\n@pytest.mark.parametrize(\"interrupt_method\", [\"power_off\", \"reset\"])\ndef test_revert_interrupted(opal_device, interrupt_method):\n    \"\"\"Revertê°€ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ, Data Removal Operation Interrupted ë¹„íŠ¸ê°€ ì„¤ì •ë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # 1. Revert ëª…ë ¹ ì‹¤í–‰\n    result = opal_device.revert()\n    assert result == 0, \"Revert command should return success status\"\n\n    # 2. ì¸ìœ„ì ìœ¼ë¡œ ì¤‘ë‹¨ (ì˜ˆ: ì „ì› ì°¨ë‹¨ ì‹œë®¬ë ˆì´ì…˜)\n    if interrupt_method == \"power_off\":\n        opal_device.simulate_power_off()  # í…ŒìŠ¤íŠ¸ ë„êµ¬ì—ì„œ ì „ì› ì°¨ë‹¨ ì‹œë®¬ë ˆì´ì…˜\n    elif interrupt_method == \"reset\":\n        opal_device.simulate_reset()  # ë¦¬ì…‹ ì‹œë®¬ë ˆì´ì…˜\n\n    # 3. ë‹¤ì‹œ ì„¸ì…˜ ì‹œì‘ (ì¬ì‹œì‘ í›„)\n    opal_device.start_session(\"admin\", \"admin_password\")\n\n    # 4. Feature Descriptor ì½ê¸°\n    descriptor = opal_device.get_feature_descriptor(FeatureDescriptor.SUPPORTED_DATA_REMOVAL_MECHANISM)\n\n    # 5. ë¹„íŠ¸ í™•ì¸\n    interrupted_bit = (descriptor & FeatureMask.DATA_REMOVAL_OPERATION_INTERRUPTED) != 0\n    assert interrupted_bit, \"Data Removal Operation Interrupted bit should be set after interrupted Revert\"\n\n@pytest.mark.parametrize(\"background_task\", [\"trim\", \"unmap\", \"deallocate\"])\ndef test_revert_background_not_complete(opal_device, background_task):\n    \"\"\"Revert ì„±ê³µ í›„ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŒì„ í™•ì¸\"\"\"\n    # Revert ì‹¤í–‰\n    opal_device.revert()\n    assert opal_device.get_command_status() == 0, \"Revert must return success\"\n\n    # ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ìƒíƒœ í™•ì¸ (ê°€ìƒì˜ ë©”ì„œë“œ)\n    background_complete = opal_device.is_background_task_complete(background_task)\n    assert not background_complete, f\"Background task '{background_task}' should NOT be complete after Revert\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆì‹œ |\n|------|-----------|------|\n| `Revert` ëª…ë ¹ ë°˜í™˜ ê°’ | ëª…ë ¹ ì‹¤í–‰ í›„ ë°˜í™˜ ì½”ë“œ í™•ì¸ | `0` (ì„±ê³µ) |\n| `Data Removal Operation Interrupted` ë¹„íŠ¸ | `Get Feature Descriptor` í›„ ë¹„íŠ¸ ì¶”ì¶œ | `1` (ì„¤ì •ë¨) |\n| ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ìƒíƒœ | íŠ¹í™”ëœ ëª…ë ¹ ë˜ëŠ” ë¡œê·¸ í™•ì¸ | `trim_status == \"pending\"` |\n| ì„¸ì…˜ ìƒíƒœ | `Get Session Status` í™•ì¸ | `Session Active` |\n\n> âœ… **ê²€ì¦ í…Œì´ë¸” ì˜ˆì‹œ (Pytest ì¶œë ¥)**  \n> ```\n> test_revert_interrupted.py::test_revert_interrupted[power_off] PASSED\n> test_revert_interrupted.py::test_revert_interrupted[reset] PASSED\n> test_revert_background_not_complete.py::test_revert_background_not_complete[trim] PASSED\n> test_revert_background_not_complete.py::test_revert_background_not_complete[unmap] PASSED\n> ```\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´ ìƒì„¸ ìš”ì•½)**\n\n> TCG Opal í‘œì¤€ì˜ 5.1.2.3 ì ˆì€ **Revert ì‘ì—…ì´ ì „ì› ì¤‘ë‹¨, ë¦¬ì…‹ ë“±ìœ¼ë¡œ ì¸í•´ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œì˜ ì²˜ë¦¬ ë°©ì‹**ì„ ê·œì •í•©ë‹ˆë‹¤.  \n> ì¤‘ë‹¨ ì‹œ, í•˜ë“œì›¨ì–´ëŠ” `Data Removal Operation Interrupted` ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•˜ì—¬ ì´ ì‚¬ì‹¤ì„ ê¸°ë¡í•©ë‹ˆë‹¤.  \n> Revert ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤ê³  í•´ë„, ì‹¤ì œ ë°ì´í„° ì‚­ì œ, TRIM, unmapping ë“±ì˜ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì€ ì™„ë£Œë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ,  \n> ì‚¬ìš©ìëŠ” ì´ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  í•„ìš” ì‹œ ì¬ì‹œë„í•˜ê±°ë‚˜ ë³µêµ¬ ì¡°ì¹˜ë¥¼ ì·¨í•´ì•¼ í•©ë‹ˆë‹¤.  \n> ì´ ê¸°ëŠ¥ì€ ë°ì´í„° ë³´ì•ˆì˜ ì‹ ë¢°ì„±ê³¼ ì‚¬ìš©ì ì¸ì‹ì„ ë†’ì´ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.  \n> í…ŒìŠ¤íŠ¸ ì‹œ, Revertë¥¼ ì¸ìœ„ì ìœ¼ë¡œ ì¤‘ë‹¨í•œ í›„ ë¹„íŠ¸ ì„¤ì • ì—¬ë¶€ì™€ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì™„ë£Œ ì—¬ë¶€ë¥¼ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì½”ë“œ ì˜ˆì‹œ ì œê³µ ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ ì™„ë£Œ**\n\n---  \nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ Opal í˜¸í™˜ í•˜ë“œì›¨ì–´ ë° ë“œë¼ì´ë²„, ê·¸ë¦¬ê³  ëª…ë ¹ì–´ë¥¼ ì§€ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: `opal_library`)ê°€ í•„ìš”í•©ë‹ˆë‹¤.  \nğŸ“Œ **ì£¼ì˜**: ì‹¤ì œ ì „ì› ì°¨ë‹¨ì€ í•˜ë“œì›¨ì–´ ì†ìƒ ìœ„í—˜ì´ ìˆìœ¼ë¯€ë¡œ, **ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ë„êµ¬** ì‚¬ìš©ì´ ê¶Œì¥ë©ë‹ˆë‹¤."
    },
    {
        "section_order": 147,
        "level": 3,
        "section_id": "5.1.3",
        "section_key": "5.1.3 RevertSP â€“ Base Template SP Method",
        "title": "RevertSP â€“ Base Template SP Method",
        "start_page": 94,
        "end_page": 94,
        "page_count": 1,
        "content_md": "## 5.1.3 RevertSP â€“ Base Template SP Method\n\nRevertSP is an Opal SSC-specific method for managing the life cycle of an SP, if it was created in manufacturing (Manufactured SP). The following pseudo-code is the signature of the RevertSP method (see [2] for more information).\n\n```\nThisSP.RevertSP[ KeepGlobalRangeKey = boolean ]\n=> \n[ ]\n```\n\nRevertSP is an SP method in the Base Template.\n\nInvoking RevertSP method on an SP SHALL cause it to revert to its Original Factory State. This method allows the SP owner to relinquish control of the SP and revert the SP to its Original Factory State.\n\nThis method operates within a Read-Write session to an SP. The TPer SHALL revert the SP immediately after the method is successfully invoked outside of a transaction. Upon completion of reverting the SP, the TPer SHALL report status of the method invocation if invoked outside of a transaction, and then immediately abort the session. The TPer MAY prepare a CloseSession method for retrieval by the host to indicate that the session has been aborted.\n\nThe MethodID for RevertSP SHALL be 0x00 00 00 06 00 00 00 11.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.1.3 RevertSP â€“ Base Template SP Method**  \n*(TCG Opal SSC v2.30 ìŠ¤í™ ê¸°ë°˜, ì´ˆë³´ì ëŒ€ìƒ ì„¤ëª…)*\n\n---\n\n### âœ… **ëª©ì  (Purpose)**\n\n**RevertSP**ëŠ” **ì œì¡° ì‹œ ìƒì„±ëœ SP**(Manufactured SP)ì˜ ìƒëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ TCG Opal í‘œì¤€ì˜ íŠ¹ìˆ˜í•œ ë©”ì„œë“œì…ë‹ˆë‹¤.  \nì´ ë©”ì„œë“œëŠ” SP(Storage Processor, ì €ì¥ì¥ì¹˜ ì œì–´ê¸°)ë¥¼ **ì›ë˜ ê³µì¥ ìƒíƒœ**(Original Factory State)ë¡œ ë˜ëŒë¦¬ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì¦‰, SP ì†Œìœ ìê°€ ë” ì´ìƒ SPë¥¼ ì œì–´í•  ìˆ˜ ì—†ë„ë¡ í•˜ë©°, **ëª¨ë“  ì‚¬ìš©ì ì„¤ì •, ì•”í˜¸, í‚¤, ì •ì±… ë“±ì„ ì´ˆê¸°í™”**í•˜ì—¬ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦½ë‹ˆë‹¤.  \nì´ëŠ” ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê±°ë‚˜, ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì™„ì „íˆ ì´ˆê¸°í™”í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **SP ì´ˆê¸°í™”**: SPë¥¼ ì œì¡° ì‹œ ì„¤ì •ëœ ê³µì¥ ìƒíƒœë¡œ ë³µì›í•©ë‹ˆë‹¤.\n2. **ì†Œìœ ê¶Œ í•´ì œ**: SP ì†Œìœ ìê°€ ì œì–´ê¶Œì„ í¬ê¸°í•©ë‹ˆë‹¤.\n3. **ì„¸ì…˜ ì¢…ë£Œ**: RevertSPê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, í˜„ì¬ ì„¸ì…˜ì€ ìë™ìœ¼ë¡œ **ì¤‘ë‹¨**(abort)ë©ë‹ˆë‹¤.\n4. **ì¦‰ì‹œ ì ìš©**: ë©”ì„œë“œê°€ ì„±ê³µì ìœ¼ë¡œ í˜¸ì¶œë˜ë©´, TPer(Trustable Platform Entity, ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ ì—”í‹°í‹°)ëŠ” ì¦‰ì‹œ SPë¥¼ ë˜ëŒë¦¬ê³ , ì„¸ì…˜ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\n5. **íŠ¸ëœì­ì…˜ ì™¸ ì‹¤í–‰**: ì´ ë©”ì„œë“œëŠ” **íŠ¸ëœì­ì…˜ ë°–ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥**í•˜ë©°, íŠ¸ëœì­ì…˜ ë‚´ì—ì„œëŠ” ì‚¬ìš© ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nRevertSP ë©”ì„œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ **íŒŒë¼ë¯¸í„°**ë¥¼ ë°›ìŠµë‹ˆë‹¤:\n\n```python\nRevertSP[ KeepGlobalRangeKey = boolean ]\n```\n\n- **KeepGlobalRangeKey**: boolean ê°’ (True/False)\n  - `True`: ì „ì—­ ë²”ìœ„ í‚¤(Global Range Key)ë¥¼ ìœ ì§€í•¨ (ì¼ë°˜ì ìœ¼ë¡œ ê³µì¥ ìƒíƒœ ì´ˆê¸°í™” ì‹œ ì´ í‚¤ëŠ” ì‚­ì œë¨ â†’ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ìœ ì§€ë¨)\n  - `False` (ê¸°ë³¸ê°’): ì „ì—­ ë²”ìœ„ í‚¤ë„ ì‚­ì œí•˜ê³ , ì™„ì „í•œ ê³µì¥ ìƒíƒœë¡œ ë³µì›\n\n> âš ï¸ ì£¼ì˜: KeepGlobalRangeKeyëŠ” ë³´ì•ˆìƒ ë§¤ìš° ì¤‘ìš”í•œ ì˜µì…˜ì…ë‹ˆë‹¤. ì´ í‚¤ë¥¼ ìœ ì§€í•˜ë©´ ì¼ë¶€ ë³´ì•ˆ ì •ì±…ì´ ìœ ì§€ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì„¸ì…˜ ìš”êµ¬ì‚¬í•­**: RevertSPëŠ” **ì½ê¸°-ì“°ê¸° ì„¸ì…˜**(Read-Write Session) ë‚´ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n2. **íŠ¸ëœì­ì…˜ ì™¸ í˜¸ì¶œ**: íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ í˜¸ì¶œ ì‹œ **ì‹¤íŒ¨**í•©ë‹ˆë‹¤.\n3. **ì¦‰ì‹œ ì²˜ë¦¬**: ë©”ì„œë“œ ì„±ê³µ í›„, SPëŠ” ì¦‰ì‹œ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ë©°, ì„¸ì…˜ì€ ìë™ ì¤‘ë‹¨.\n4. **ìƒíƒœ ë³´ê³ **: ì„¸ì…˜ ì™¸ì—ì„œ í˜¸ì¶œ ì‹œ, ì²˜ë¦¬ ìƒíƒœë¥¼ ë³´ê³ í•œ í›„ ì„¸ì…˜ ì¢…ë£Œ.\n5. **MethodID**: `0x00 00 00 06 00 00 00 11` (ì´ ê°’ì„ í†µí•´ ë©”ì„œë“œë¥¼ ì‹ë³„)\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì†Œìœ ê¶Œ ì œì–´**: RevertSPëŠ” SP ì†Œìœ ìë§Œì´ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¦‰, ì¸ì¦ëœ ì„¸ì…˜ í•„ìš”)\n2. **ì¦‰ì‹œ ì´ˆê¸°í™”**: ë³´ì•ˆ ìœ„í˜‘ ìƒí™©(ì˜ˆ: ì¥ì¹˜ ë„ë‚œ, ë¶ˆë²• ì ‘ê·¼)ì—ì„œ ì¦‰ì‹œ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë ¤ ë³´ì•ˆì„ ê°•í™”.\n3. **ì„¸ì…˜ ì¢…ë£Œ ë³´ì¥**: ì²˜ë¦¬ í›„ ì„¸ì…˜ ìë™ ì¢…ë£Œë¡œ, ë‚¨ì€ ê¶Œí•œì´ë‚˜ ìƒíƒœë¥¼ ë‚¨ê¸°ì§€ ì•ŠìŒ â†’ ë³´ì•ˆ ëˆ„ì¶œ ë°©ì§€.\n4. **íŠ¸ëœì­ì…˜ ì œí•œ**: íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ í˜¸ì¶œ ë¶ˆê°€ â†’ ì¼ë¶€ ì„¤ì •ì´ ë¯¸ì™„ë£Œë¡œ ë‚¨ëŠ” ê²ƒì„ ë°©ì§€.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©í‘œ\n- RevertSP ë©”ì„œë“œê°€ ì„±ê³µì ìœ¼ë¡œ SPë¥¼ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ”ì§€ í™•ì¸\n- KeepGlobalRangeKey ì˜µì…˜ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸\n- ì„¸ì…˜ì´ ìë™ìœ¼ë¡œ ì¢…ë£Œë˜ëŠ”ì§€ í™•ì¸\n- MethodIDê°€ ì •í™•íˆ ë§¤ì¹­ë˜ëŠ”ì§€ í™•ì¸\n\n---\n\n### ğŸ Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ ì‚¬ìš© ì‹œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)\nfrom opal_commands import StartSession, RevertSP, CloseSession  # Opal ëª…ë ¹ì–´ í´ë˜ìŠ¤\n\n@pytest.fixture\ndef opal_client():\n    \"\"\"Opal í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\"\"\"\n    client = OpalClient()\n    client.connect()  # ì¥ì¹˜ ì—°ê²°\n    yield client\n    client.disconnect()  # í…ŒìŠ¤íŠ¸ í›„ ì—°ê²° ì¢…ë£Œ\n\ndef test_revertsp_success(opal_client):\n    \"\"\"RevertSP ì„±ê³µ í…ŒìŠ¤íŠ¸ (KeepGlobalRangeKey = False)\"\"\"\n    # 1. Read-Write ì„¸ì…˜ ì‹œì‘\n    session_id = opal_client.execute(StartSession(session_type=\"ReadWrite\"))\n    assert session_id is not None, \"StartSession ì‹¤íŒ¨\"\n\n    # 2. RevertSP í˜¸ì¶œ (KeepGlobalRangeKey = False)\n    result = opal_client.execute(RevertSP(KeepGlobalRangeKey=False), session_id=session_id)\n    assert result.status == \"Success\", \"RevertSP ì‹¤íŒ¨\"\n\n    # 3. ì„¸ì…˜ì´ ìë™ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸\n    with pytest.raises(Exception) as exc_info:\n        opal_client.execute(CloseSession(), session_id=session_id)  # ì„¸ì…˜ ì´ë¯¸ ì¢…ë£Œë¨\n    assert \"Session already closed\" in str(exc_info.value)\n\n    # 4. ê³µì¥ ìƒíƒœ í™•ì¸ (ì˜ˆ: SP ì„¤ì •ì´ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€)\n    factory_state = opal_client.get_sp_state()\n    assert factory_state == \"OriginalFactoryState\", \"SPê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¬ì§€ ëª»í•¨\"\n\ndef test_revertsp_keep_global_key(opal_client):\n    \"\"\"KeepGlobalRangeKey = True í…ŒìŠ¤íŠ¸\"\"\"\n    session_id = opal_client.execute(StartSession(session_type=\"ReadWrite\"))\n    assert session_id is not None\n\n    result = opal_client.execute(RevertSP(KeepGlobalRangeKey=True), session_id=session_id)\n    assert result.status == \"Success\"\n\n    # ì„¸ì…˜ ì¢…ë£Œ í™•ì¸\n    with pytest.raises(Exception):\n        opal_client.execute(CloseSession(), session_id=session_id)\n\n    # Global Range Key ì¡´ì¬ ì—¬ë¶€ í™•ì¸ (ì˜ˆ: í‚¤ë¥¼ ê²€ìƒ‰í•˜ëŠ” ëª…ë ¹ì–´)\n    global_key_exists = opal_client.check_global_range_key_exists()\n    assert global_key_exists is True, \"KeepGlobalRangeKey ì˜µì…˜ ì ìš© ì‹¤íŒ¨\"\n\ndef test_revertsp_in_transaction(opal_client):\n    \"\"\"íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ RevertSP í˜¸ì¶œ ì‹œ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸\"\"\"\n    session_id = opal_client.execute(StartSession(session_type=\"ReadWrite\"))\n    assert session_id is not None\n\n    # íŠ¸ëœì­ì…˜ ì‹œì‘\n    opal_client.execute(StartTransaction(), session_id=session_id)\n\n    # RevertSP í˜¸ì¶œ (íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ)\n    with pytest.raises(Exception) as exc_info:\n        opal_client.execute(RevertSP(), session_id=session_id)\n\n    assert \"RevertSP cannot be called within a transaction\" in str(exc_info.value)\n\ndef test_revertsp_method_id(opal_client):\n    \"\"\"MethodID ê²€ì¦ í…ŒìŠ¤íŠ¸\"\"\"\n    method_id = RevertSP.get_method_id()\n    expected_method_id = [0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x11]\n    assert method_id == expected_method_id, f\"MethodID ë¶ˆì¼ì¹˜: {method_id} != {expected_method_id}\"\n```\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• (Table Data Validation)\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆìƒ ê²°ê³¼ |\n|------|------------|-----------|\n| **SP ìƒíƒœ** | `GetSPState` ëª…ë ¹ì–´ë¡œ ìƒíƒœ ì¡°íšŒ | `OriginalFactoryState` |\n| **Global Range Key ì¡´ì¬ ì—¬ë¶€** | `GetGlobalRangeKeyStatus` ë˜ëŠ” í‚¤ ê²€ìƒ‰ ëª…ë ¹ì–´ | KeepGlobalRangeKey=Trueì¼ ê²½ìš° ì¡´ì¬, Falseì¼ ê²½ìš° ì‚­ì œë¨ |\n| **ì„¸ì…˜ ìƒíƒœ** | `GetSessionStatus` ë˜ëŠ” `CloseSession` í˜¸ì¶œ ì‹œ ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ | ì„¸ì…˜ì´ ì¢…ë£Œë˜ì–´ì•¼ í•¨ (CloseSession í˜¸ì¶œ ì‹œ \"Session not found\" ì˜ˆì™¸ ë°œìƒ) |\n| **MethodID** | RevertSP ëª…ë ¹ì–´ì˜ MethodID ì†ì„± í™•ì¸ | `0x00 00 00 06 00 00 00 11` |\n| **íŠ¸ëœì­ì…˜ ë‚´ í˜¸ì¶œ ì—¬ë¶€** | íŠ¸ëœì­ì…˜ ì‹œì‘ í›„ RevertSP í˜¸ì¶œ ì‹œ ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ | ì˜ˆì™¸ ë°œìƒ (íŠ¸ëœì­ì…˜ ë‚´ ë¶ˆê°€) |\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)\n\n**RevertSP**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì œê³µí•˜ëŠ” SP(Storage Processor)ë¥¼ **ê³µì¥ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•µì‹¬ ë©”ì„œë“œ**ì…ë‹ˆë‹¤.  \nì´ ë©”ì„œë“œëŠ” ì œì¡° ì‹œ ìƒì„±ëœ SPì—ë§Œ ì ìš©ë˜ë©°, SP ì†Œìœ ìê°€ ë” ì´ìƒ ì œì–´í•  ìˆ˜ ì—†ë„ë¡ í•´ì„œ **ë³´ì•ˆìƒì˜ ì´ˆê¸°í™”**ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\n- **ì£¼ìš” ê¸°ëŠ¥**: SP ì´ˆê¸°í™”, ì†Œìœ ê¶Œ í•´ì œ, ì„¸ì…˜ ìë™ ì¢…ë£Œ\n- **íŒŒë¼ë¯¸í„°**: `KeepGlobalRangeKey` (True/False) â†’ ì „ì—­ í‚¤ ìœ ì§€ ì—¬ë¶€\n- **ìš”êµ¬ì‚¬í•­**: Read-Write ì„¸ì…˜ ë‚´, íŠ¸ëœì­ì…˜ ì™¸ í˜¸ì¶œ\n- **ë³´ì•ˆ**: ì¦‰ì‹œ ì ìš©, ì„¸ì…˜ ì¢…ë£Œ ë³´ì¥, íŠ¸ëœì­ì…˜ ì œí•œ\n- **MethodID**: `0x00 00 00 06 00 00 00 11`\n\ní…ŒìŠ¤íŠ¸ëŠ” **Python + pytest**ë¥¼ í†µí•´ ì„¸ì…˜ ì‹œì‘ â†’ RevertSP í˜¸ì¶œ â†’ ì„¸ì…˜ ì¢…ë£Œ í™•ì¸ â†’ ìƒíƒœ ê²€ì¦ì˜ íë¦„ìœ¼ë¡œ ì„¤ê³„ ê°€ëŠ¥í•˜ë©°,  \n`KeepGlobalRangeKey` ì˜µì…˜ê³¼ MethodID, íŠ¸ëœì­ì…˜ ë‚´ í˜¸ì¶œ ê¸ˆì§€ ë“±ì˜ ì¡°ê±´ë„ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì„¤ëª… ì œê³µ ì™„ë£Œ**  \nâœ… **ë³´ì•ˆ ë° ìš”êµ¬ì‚¬í•­ ë¶„ì„ ì™„ë£Œ**\n\n---  \n**[END]**"
    },
    {
        "section_order": 148,
        "level": 4,
        "section_id": "5.1.3.1",
        "section_key": "5.1.3.1 RevertSP Support",
        "title": "RevertSP Support",
        "start_page": 94,
        "end_page": 94,
        "page_count": 1,
        "content_md": "## 5.1.3.1 RevertSP Support\n\nSupport for RevertSP within transactions is (N), and the behavior is out of the scope of this document.\n\nIf the Locking SP was created in manufacturing, support for RevertSP on the Locking SP is Mandatory.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ì„¹ì…˜: 5.1.3.1 - RevertSP Support**\n\n---\n\n## ğŸ” **ê°œìš” ë° ëª©ì **\n\n**RevertSP**ëŠ” TCG Opal ìŠ¤í™ì—ì„œ ì •ì˜ëœ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ë¡œ, **Locking SP**(Security Processor)ê°€ íŠ¹ì • ìƒíƒœë¡œ ë˜ëŒì•„ê°ˆ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì¦‰, **í˜„ì¬ ì„¤ì •ëœ ë³´ì•ˆ ìƒíƒœ(ì˜ˆ: ì•”í˜¸í™”ëœ ìƒíƒœ, íŠ¹ì • ì‚¬ìš©ì ê¶Œí•œ ë“±)ë¥¼ ì´ì „ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ê¸°ëŠ¥**ì…ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì˜ ëª©ì ì€ **RevertSP ê¸°ëŠ¥ì´ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì§€ì›ë˜ëŠ”ì§€ ì—¬ë¶€**, ê·¸ë¦¬ê³  **ê·¸ ì§€ì› ì—¬ë¶€ì— ë”°ë¥¸ ìš”êµ¬ì‚¬í•­**ì„ ëª…ì‹œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“Œ **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **RevertSP ê¸°ëŠ¥ ì§€ì› ì—¬ë¶€**:\n   - **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ RevertSPë¥¼ ì§€ì›í•˜ëŠ”ì§€ ì—¬ë¶€ëŠ” ì„ íƒ ì‚¬í•­(N)**ì…ë‹ˆë‹¤. ì¦‰, êµ¬í˜„ìê°€ ì„ íƒì ìœ¼ë¡œ ì§€ì›í•  ìˆ˜ ìˆìœ¼ë©°, **ì´ ë¬¸ì„œì˜ ë²”ìœ„ ë°–**ì…ë‹ˆë‹¤.\n   - í•˜ì§€ë§Œ, **ì œì¡° ê³¼ì •ì—ì„œ ìƒì„±ëœ Locking SP**(ì˜ˆ: ê³µì¥ì—ì„œ ë¯¸ë¦¬ ì„¤ì •ëœ ë³´ì•ˆ í”„ë¡œì„¸ì„œ)ëŠ” **RevertSPë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨(Mandatory)**.\n\n2. **RevertSPì˜ ëª©ì **:\n   - ë³´ì•ˆ ìƒíƒœë¥¼ **ì´ì „ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒ** (ì˜ˆ: ì´ˆê¸°í™”, ì œì¡° ì„¤ì •ìœ¼ë¡œ ë³µêµ¬ ë“±).\n   - ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ ë³´ì•ˆ ì„¤ì •ì„ ì˜ëª» ë³€ê²½í–ˆì„ ë•Œ, **ì›ë˜ ì„¤ì •ìœ¼ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆëŠ” ì•ˆì „ì¥ì¹˜** ì—­í• ì„ í•©ë‹ˆë‹¤.\n   - íŠ¹íˆ **ì œì¡° ë‹¨ê³„ì—ì„œ ìƒì„±ëœ Locking SP**ëŠ” **ì œì¡° ì‹œ ì„¤ì •ëœ ë³´ì•ˆ ìƒíƒœë¡œ ë˜ëŒì•„ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ í•„ìˆ˜ ê¸°ëŠ¥**ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\në³¸ ì„¹ì…˜ì€ **ë°ì´í„° êµ¬ì¡°ë¥¼ ì§ì ‘ ì •ì˜í•˜ì§€ ì•ŠìŒ**. RevertSPëŠ” **ëª…ë ¹ì–´ ê¸°ë°˜ì˜ ë™ì‘**ì´ë©°, **TCG Opal ëª…ë ¹ì–´ì…‹**(ì˜ˆ: `Revert`, `StartSession`)ì„ í†µí•´ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\n- **Revert ëª…ë ¹ì–´**: Locking SPì˜ ìƒíƒœë¥¼ ì´ì „ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ëª…ë ¹.\n- **RevertëŠ” íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆìœ¼ë‚˜**, ê·¸ ì§€ì› ì—¬ë¶€ëŠ” êµ¬í˜„ìì— ë‹¬ë ¤ ìˆìŒ.\n\n---\n\n## ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n| í•­ëª© | ìš”êµ¬ì‚¬í•­ |\n|------|----------|\n| **RevertSP íŠ¸ëœì­ì…˜ ë‚´ ì§€ì› ì—¬ë¶€** | ì„ íƒ ì‚¬í•­ (N) â€” ë¬¸ì„œ ë²”ìœ„ ë°– |\n| **ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì˜ RevertSP ì§€ì›** | í•„ìˆ˜ (Mandatory) |\n| **Revert ëª…ë ¹ì–´ ì‚¬ìš© ì¡°ê±´** | ë³´ì•ˆ ì„¸ì…˜(StartSession)ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œë§Œ ê°€ëŠ¥ |\n\n---\n\n## ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- RevertSPëŠ” **ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ìˆ˜í–‰**ë˜ì–´ì•¼ í•˜ë©°, **ì¸ì¦ëœ ì‚¬ìš©ìë§Œì´ Revert ëª…ë ¹ì„ ë°œë™í•  ìˆ˜ ìˆìŒ**.\n- Revert ì´í›„ì˜ ìƒíƒœëŠ” **ë³´ì•ˆì ìœ¼ë¡œ ìœ íš¨í•œ ìƒíƒœ**ì—¬ì•¼ í•˜ë©°, **ì˜ˆê¸°ì¹˜ ì•Šì€ ë°ì´í„° ì†ì‹¤ì´ë‚˜ ì•”í˜¸í™” í•´ì œ ë°©ì§€**ë¥¼ ìœ„í•´ ì œì–´ë¨.\n- íŠ¹íˆ ì œì¡° ì‹œ ìƒì„±ëœ Locking SPëŠ” **ê³µì¥ ì´ˆê¸°í™” ìƒíƒœë¡œ ë˜ëŒì•„ê°€ê¸° ë•Œë¬¸ì—, ë³´ì•ˆìƒ ë§¤ìš° ì¤‘ìš”í•œ ê¸°ëŠ¥**ì…ë‹ˆë‹¤. ì´ëŠ” **ë³´ì•ˆ ì¹¨í•´ í›„ ë³µêµ¬, ë˜ëŠ” ì œì¡°ì ê´€ë¦¬ìš© ê¸°ëŠ¥**ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒ.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **\n- ì œì¡° ì‹œ ìƒì„±ëœ Locking SPê°€ RevertSP ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ ê²€ì¦.\n- Revert ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì–´ ë³´ì•ˆ ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ëŠ”ì§€ í™•ì¸.\n- íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ Revertê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš°, ì˜ˆì™¸ ì²˜ë¦¬ ì—¬ë¶€ í™•ì¸.\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì˜ RevertSP ì§€ì› ê²€ì¦**\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì¡°ê±´\n- Locking SPê°€ ì œì¡° ê³¼ì •ì—ì„œ ìƒì„±ë¨ (ì˜ˆ: ê³µì¥ ë””í´íŠ¸ ì„¤ì •).\n- StartSession â†’ Revert ëª…ë ¹ ì‹¤í–‰ â†’ ìƒíƒœ í™•ì¸.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ (Python + pytest)\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: TCG Opal ëª…ë ¹ì–´ë¥¼ ì²˜ë¦¬í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œë¡œ ë³€ê²½\n    yield client\n    client.close()\n\ndef test_revert_sp_on_manufactured_locking_sp(opal_client):\n    \"\"\"ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì—ì„œ RevertSP ê¸°ëŠ¥ ê²€ì¦\"\"\"\n    # 1. ë³´ì•ˆ ì„¸ì…˜ ì‹œì‘\n    try:\n        opal_client.start_session(user=\"admin\", password=\"admin123\")\n    except Exception as e:\n        pytest.fail(f\"StartSession ì‹¤íŒ¨: {e}\")\n\n    # 2. Revert ëª…ë ¹ ì‹¤í–‰\n    try:\n        opal_client.revert()\n    except Exception as e:\n        pytest.fail(f\"Revert ëª…ë ¹ ì‹¤íŒ¨: {e}\")\n\n    # 3. ìƒíƒœ í™•ì¸: Revert í›„ ìƒíƒœê°€ ì œì¡° ì‹œ ê¸°ë³¸ ìƒíƒœì¸ì§€ í™•ì¸\n    # ì˜ˆ: ë³µí˜¸í™” ìƒíƒœ, ê¸°ë³¸ ì‚¬ìš©ì ê³„ì • ì¡´ì¬ ì—¬ë¶€, ì•”í˜¸í™” ìƒíƒœ ë“±\n    status = opal_client.get_security_state()\n    assert status[\"is_decrypted\"] == True, \"Revert í›„ ë””ìŠ¤í¬ê°€ ë³µí˜¸í™”ë˜ì§€ ì•Šì•˜ìŒ\"\n    assert status[\"user_count\"] == 1, \"Revert í›„ ê¸°ë³¸ ì‚¬ìš©ì 1ëª…ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ\"\n    assert status[\"encryption_status\"] == \"disabled\", \"Revert í›„ ì•”í˜¸í™”ê°€ ë¹„í™œì„±í™”ë˜ì§€ ì•ŠìŒ\"\n\n    print(\"âœ… RevertSP ê¸°ëŠ¥ ì •ìƒ ì‘ë™ í™•ì¸\")\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: íŠ¸ëœì­ì…˜ ë‚´ Revert ì§€ì› ì—¬ë¶€ í™•ì¸**\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì¡°ê±´\n- Revertê°€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠëŠ” êµ¬í˜„ì²´ì—ì„œ, Revert ëª…ë ¹ ì‹¤í–‰ ì‹œ ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ í™•ì¸.\n\n#### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ\n\n```python\ndef test_revert_in_transaction_not_supported(opal_client):\n    \"\"\"íŠ¸ëœì­ì…˜ ë‚´ Revert ì§€ì› ì—¬ë¶€ í™•ì¸ (ì„ íƒ ì‚¬í•­ì´ë¯€ë¡œ ì‹¤íŒ¨ í—ˆìš©)\"\"\"\n    try:\n        opal_client.start_session(user=\"admin\", password=\"admin123\")\n        opal_client.begin_transaction()  # íŠ¸ëœì­ì…˜ ì‹œì‘ (ê°€ì •)\n        opal_client.revert()  # Revert ì‹¤í–‰\n        pytest.fail(\"Revertê°€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì§€ì›ë˜ì–´ì„œëŠ” ì•ˆ ë¨\")\n    except Exception as e:\n        # ì˜ˆìƒë˜ëŠ” ì˜ˆì™¸: \"Revert not supported in transaction\" ë˜ëŠ” ë¹„ìŠ·í•œ ë©”ì‹œì§€\n        assert \"not supported\" in str(e), f\"ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜ˆì™¸: {e}\"\n        print(\"âœ… Revert in transaction ì§€ì› ì•ˆë¨ (ì •ìƒ)\")\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nRevertSPëŠ” ìƒíƒœë¥¼ **ì´ˆê¸°í™”**í•˜ëŠ” ê¸°ëŠ¥ì´ë¯€ë¡œ, ê²€ì¦ì€ **ìƒíƒœ ë¹„êµ ê¸°ë°˜**ìœ¼ë¡œ ìˆ˜í–‰.\n\n| ê²€ì¦ í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆìƒ ê²°ê³¼ |\n|-----------|-----------|-----------|\n| **ë””ìŠ¤í¬ ì•”í˜¸í™” ìƒíƒœ** | `get_security_state()` â†’ `encryption_status` í•„ë“œ í™•ì¸ | `disabled` ë˜ëŠ” `unlocked` |\n| **ì‚¬ìš©ì ìˆ˜** | `get_user_count()` ë˜ëŠ” `list_users()` | `1` (ê¸°ë³¸ ì‚¬ìš©ìë§Œ ì¡´ì¬) |\n| **ë³¼ë¥¨ ìƒíƒœ** | `get_volume_status()` | `unlocked`, `decrypted` |\n| **ê³µì¥ ì„¤ì • ë³µì› ì—¬ë¶€** | íŠ¹ì • ë©”íƒ€ë°ì´í„° ë˜ëŠ” ì„¤ì •ê°’ ë¹„êµ | ì œì¡° ì‹œ ê°’ê³¼ ì¼ì¹˜ |\n\n> ğŸ’¡ **í…ŒìŠ¤íŠ¸ ì‹œ ì°¸ê³ **: Revert í›„ì— **ê³µì¥ ì„¤ì •ì„ ì €ì¥í•´ë‘ê³  ë¹„êµ**í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì •í™•í•œ ê²€ì¦ ë°©ë²•ì…ë‹ˆë‹¤. ì˜ˆ: Revert ì „ì— `get_config()`ì„ í˜¸ì¶œí•´ ì €ì¥í•œ í›„, Revert í›„ ë™ì¼í•œ ê°’ì„ ë‹¤ì‹œ ì½ì–´ ë¹„êµ.\n\n---\n\n## ğŸ“ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n- **RevertSP**ëŠ” Locking SPì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ì´ì „(ì˜ˆ: ì œì¡° ì‹œ) ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ê¸°ëŠ¥.\n- **íŠ¸ëœì­ì…˜ ë‚´ì—ì„œì˜ ì§€ì› ì—¬ë¶€ëŠ” ì„ íƒ ì‚¬í•­(N)** â†’ êµ¬í˜„ìì— ë”°ë¼ ë‹¤ë¦„.\n- **ì œì¡° ì‹œ ìƒì„±ëœ Locking SPëŠ” RevertSPë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨(Mandatory)** â†’ ë³´ì•ˆ ê´€ë¦¬ ë° ë³µêµ¬ë¥¼ ìœ„í•œ í•„ìˆ˜ ê¸°ëŠ¥.\n- Revert ëª…ë ¹ì€ **ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥** â†’ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ìˆ˜í–‰ ê°€ëŠ¥.\n- **ê²€ì¦ì€ ìƒíƒœ ë¹„êµ ê¸°ë°˜**ìœ¼ë¡œ ìˆ˜í–‰: ì•”í˜¸í™” ìƒíƒœ, ì‚¬ìš©ì ìˆ˜, ë³¼ë¥¨ ìƒíƒœ ë“±.\n- **Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ**ë¡œ Revert ëª…ë ¹ ì‹¤í–‰ ë° ìƒíƒœ ê²€ì¦ ê°€ëŠ¥.\n- **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ Revert ì „/í›„ ìƒíƒœ ë¹„êµ**ë¥¼ í†µí•´ ìˆ˜í–‰.\n\n---\n\nâœ… **ê²°ë¡ **: RevertSPëŠ” ë³´ì•ˆ ë³µêµ¬ ë° ì œì¡° ê´€ë¦¬ì— ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ë©°, íŠ¹íˆ ì œì¡° ì‹œ ìƒì„±ëœ Locking SPì—ì„œëŠ” í•„ìˆ˜ì ìœ¼ë¡œ ì§€ì›ë˜ì–´ì•¼ í•¨. ê²€ì¦ì€ ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ìƒíƒœë¥¼ ë¹„êµí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì¥ì¹˜ ë“œë¼ì´ë²„ ë° TCG Opal ëª…ë ¹ì–´ì…‹(ì˜ˆ: ATA/SCSI ëª…ë ¹)ì„ í†µí•´ ì§ì ‘ ëª…ë ¹ì„ ì „ë‹¬í•´ì•¼ í•˜ë©°, `opal_client` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‹¤ì œ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ. í•„ìš” ì‹œ `pyata` ë˜ëŠ” `pyopal` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê°€ëŠ¥.\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥:**\n\n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ìˆìŒ.**\n\nâœ… **ì •ë‹µ:**\n\n> **ì„¹ì…˜ 5.1.3.1 - RevertSP Support**ëŠ” RevertSP ê¸°ëŠ¥ì˜ ì§€ì› ì—¬ë¶€ì™€ ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í•˜ë©°, ì œì¡° ì‹œ ìƒì„±ëœ Locking SPëŠ” RevertSPë¥¼ í•„ìˆ˜ë¡œ ì§€ì›í•´ì•¼ í•¨ì„ ëª…ì‹œí•©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ ë‚´ì—ì„œì˜ ì§€ì›ì€ ì„ íƒ ì‚¬í•­ì´ë©°, ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ Revert ëª…ë ¹ì´ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê²€ì¦ì€ Python + pytestë¥¼ ì‚¬ìš©í•´ StartSession í›„ Revert ëª…ë ¹ ì‹¤í–‰ ë° ìƒíƒœ ë¹„êµë¥¼ í†µí•´ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë©°, í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ ì•”í˜¸í™” ìƒíƒœ, ì‚¬ìš©ì ìˆ˜, ë³¼ë¥¨ ìƒíƒœ ë“±ì˜ ì „/í›„ ë¹„êµë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤."
    },
    {
        "section_order": 149,
        "level": 4,
        "section_id": "5.1.3.2",
        "section_key": "5.1.3.2 KeepGlobalRangeKey parameter (Locking Template-specific)",
        "title": "KeepGlobalRangeKey parameter (Locking Template-specific)",
        "start_page": 94,
        "end_page": 94,
        "page_count": 1,
        "content_md": "## 5.1.3.2 KeepGlobalRangeKey parameter (Locking Template-specific)\n\nThe Optional KeepGlobalRangeKey parameter is a Locking Template-specific parameter. This parameter provides a mechanism for the Locking SP to be â€œturned offâ€ without eradicating the media encryption key for the Global Locking Range. This allows the Locking SP to be disabled without causing removal of the user data associated with the Global Locking Range.\n\nWhen this parameter is present and set to True, the TPer SHALL NOT erase data associated with the Global Locking Range after the Locking SP transitions to the â€œManufactured-Inactiveâ€ state even if the valid value is set to the ActiveDataRemovalMechanism parameter in DataRemovalMechanism table.\n\nIf the Global Range is either Read Unlocked or Write Unlocked at the time of invocation of RevertSP, then the TPer SHALL comply with the request to keep the user data associated with the Global locking range and the Global Rangeâ€™s-media encryption key.\n\nIf the Global Range is Read Locked and Write Locked then invocation of the RevertSP method with the KeepGlobalRangeKey parameter set to True SHALL fail with status FAIL, and the SP SHALL NOT change life cycle states.\n\nIf the Locking SP was created in manufacturing, support for the KeepGlobalRangeKey parameter is Mandatory for the Locking SP.\n\nThe parameter number for KeepGlobalRangeKey SHALL be 0x060000.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.1.3.2 KeepGlobalRangeKey parameter (Locking Template-specific)\n\n---\n\n### ğŸ“Œ **ëª©ì  (Purpose)**\n\n**KeepGlobalRangeKey** íŒŒë¼ë¯¸í„°ëŠ” **Locking SP**(Storage Provider)ë¥¼ ë¹„í™œì„±í™”(ì˜ˆ: ì œì¡° ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¬ê¸°)í•  ë•Œ, **ê¸€ë¡œë²Œ ë½í‚¹ ë²”ìœ„(Global Locking Range)** ì— ëŒ€í•œ ì‚¬ìš©ì ë°ì´í„°ì™€ ì•”í˜¸í™” í‚¤ë¥¼ **ì‚­ì œí•˜ì§€ ì•Šë„ë¡ ë³´ì¥**í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì¦‰, í•˜ë“œì›¨ì–´ì˜ ë³´ì•ˆ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ì¬ì„¤ì •í•  ë•Œë„, ì‚¬ìš©ìì˜ ì¤‘ìš”í•œ ë°ì´í„°ë¥¼ ì§€ìš°ì§€ ì•Šê³  ìœ ì§€í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” **ë³´ì¡´ ê¸°ëŠ¥**ì…ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ ì˜ˆë¥¼ ë“¤ì–´, ê¸°ì—…ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•˜ë“œë””ìŠ¤í¬ë¥¼ ì¬ì‚¬ìš©í•˜ê±°ë‚˜, ë³´ì•ˆ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ë˜ ë°ì´í„°ë¥¼ ìœ ì§€í•´ì•¼ í•  ìƒí™©ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ë°ì´í„° ë³´ì¡´ ê¸°ëŠ¥**: Locking SPë¥¼ ë¹„í™œì„±í™”í•  ë•Œ, Global Locking Rangeì˜ ì•”í˜¸í™” í‚¤ì™€ ë°ì´í„°ë¥¼ ì§€ìš°ì§€ ì•ŠìŒ.\n2. **ìƒíƒœ ì „ì´ ë³´í˜¸**: `RevertSP` ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ, í•´ë‹¹ ë²”ìœ„ê°€ ì½ê¸°/ì“°ê¸° ì ê¸ˆ ìƒíƒœì´ë©´ ì‹¤íŒ¨ ì²˜ë¦¬.\n3. **ì œì¡° ì‹œ í•„ìˆ˜ ì§€ì›**: Locking SPê°€ ì œì¡° ê³¼ì •ì—ì„œ ìƒì„±ëœ ê²½ìš°, ì´ íŒŒë¼ë¯¸í„°ë¥¼ **ë°˜ë“œì‹œ ì§€ì›**í•´ì•¼ í•¨.\n4. **ì„ íƒì  íŒŒë¼ë¯¸í„°**: ì¼ë°˜ì ì¸ Locking Templateì—ì„œëŠ” ì„ íƒì ìœ¼ë¡œ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë‚˜, ì œì¡°ìš© SPëŠ” ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•¨.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **íŒŒë¼ë¯¸í„° ì´ë¦„**: `KeepGlobalRangeKey`\n- **íŒŒë¼ë¯¸í„° ë²ˆí˜¸ (Parameter ID)**: `0x060000`\n- **íƒ€ì…**: Boolean (True/False)\n- **ê°’**:\n  - `True`: ë°ì´í„° ë° ì•”í˜¸í™” í‚¤ë¥¼ ìœ ì§€í•¨.\n  - `False` (ë˜ëŠ” ë¯¸ì¡´ì¬): ì¼ë°˜ì ì¸ Revert ë™ì‘ ìˆ˜í–‰ (ë°ì´í„° ì‚­ì œ ê°€ëŠ¥).\n\n> ì´ íŒŒë¼ë¯¸í„°ëŠ” **Locking Template**ì— í¬í•¨ë˜ë©°, Templateì˜ ì¼ë¶€ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì œì¡°ìš© Locking SPëŠ” KeepGlobalRangeKeyë¥¼ ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•¨.**\n2. **KeepGlobalRangeKey = Trueì¼ ë•Œ, RevertSPê°€ í˜¸ì¶œë˜ë©´**:\n   - Global Locking Rangeì˜ ì•”í˜¸í™” í‚¤ë¥¼ ì§€ìš°ì§€ ì•ŠìŒ.\n   - ì‚¬ìš©ì ë°ì´í„°ë¥¼ ìœ ì§€í•¨.\n   - `ActiveDataRemovalMechanism` ì„¤ì •ì´ ìˆì–´ë„ ë¬´ì‹œë¨ (ì¦‰, ë°ì´í„° ì‚­ì œë¥¼ ê°•ì œí•˜ì§€ ì•ŠìŒ).\n3. **Global Rangeê°€ Read Locked + Write Locked ìƒíƒœì¼ ë•Œ, KeepGlobalRangeKey = Trueë¡œ RevertSPë¥¼ í˜¸ì¶œí•˜ë©´ ì‹¤íŒ¨ ì²˜ë¦¬**.\n   - ìƒíƒœ ë³€ê²½ ì—†ìŒ.\n   - ì˜¤ë¥˜ ì½”ë“œ: `FAIL`\n4. **KeepGlobalRangeKeyê°€ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°, RevertSPëŠ” ì¼ë°˜ì ì¸ ë°ì´í„° ì‚­ì œ ë™ì‘ì„ ìˆ˜í–‰í•¨.**\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- **ë°ì´í„° ìœ ì‹¤ ë°©ì§€**: ë³´ì•ˆ ì„¤ì • ì´ˆê¸°í™” ì‹œì—ë„ ì‚¬ìš©ì ë°ì´í„°ê°€ ì‚¬ë¼ì§€ì§€ ì•Šë„ë¡ ë³´ì¥.\n- **ì¡°ê±´ì  ì‹¤í–‰**: íŠ¹ì • ìƒíƒœ(ì½ê¸°/ì“°ê¸° ì ê¸ˆ ìƒíƒœ)ì—ì„œëŠ” `KeepGlobalRangeKey = True`ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ â†’ ë³´ì•ˆ ìœ„í˜‘ ë°©ì§€.\n- **ì œì¡° ê³µì • ë³´ì•ˆ**: ì œì¡°ìš© SPëŠ” ì´ ê¸°ëŠ¥ì„ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•˜ë¯€ë¡œ, ê³µì¥ì—ì„œ ìƒì„±ëœ ì¥ì¹˜ì˜ ë°ì´í„° ë³´ì¡´ì´ ë³´ì¥ë¨.\n- **ì •ì±… ê¸°ë°˜ ì œì–´**: ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìê°€ ë°ì´í„° ë³´ì¡´ ì—¬ë¶€ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì œì–´ ê°€ëŠ¥ â†’ ë³´ì•ˆ ì •ì±…ì— ë§ì¶¤í˜• ì ìš© ê°€ëŠ¥.\n\n---\n\n### âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n- `KeepGlobalRangeKey = True` ì„¤ì • ì‹œ, RevertSPê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ Global Locking Rangeì˜ ë°ì´í„° ë° ì•”í˜¸í™” í‚¤ê°€ ìœ ì§€ë˜ëŠ”ì§€ ê²€ì¦.\n- Global Rangeê°€ ì½ê¸°/ì“°ê¸° ì ê¸ˆ ìƒíƒœì¼ ë•Œ, RevertSPê°€ ì‹¤íŒ¨í•˜ëŠ”ì§€ ê²€ì¦.\n- ì œì¡°ìš© SPì—ì„œ KeepGlobalRangeKeyê°€ í•„ìˆ˜ë¡œ ì§€ì›ë˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n### ğŸ’¡ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ TCG Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_commands import StartSession, RevertSP, GetLockingTemplate  # ê°€ìƒ ëª…ë ¹ì–´ ëª¨ë“ˆ\n\n# í…ŒìŠ¤íŠ¸ìš© ì¸ìŠ¤í„´ìŠ¤\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sda\")\n    client.start_session()  # StartSession ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ ì‹œì‘\n    return client\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: KeepGlobalRangeKey = True, Global Rangeê°€ ì ê¸ˆ í•´ì œ ìƒíƒœì¼ ë•Œ RevertSP ì„±ê³µ\ndef test_revert_with_keep_global_key_unlocked(opal_client):\n    # 1. Locking Template ìƒì„± (KeepGlobalRangeKey = True)\n    template = {\n        \"parameter_id\": 0x060000,\n        \"value\": True\n    }\n    opal_client.set_locking_template(template)\n\n    # 2. Global Rangeë¥¼ Read/Write Unlocked ìƒíƒœë¡œ ì„¤ì •\n    opal_client.unlock_global_range()  # ê°€ì •: ì´ ëª…ë ¹ì–´ë¡œ Global Range ì ê¸ˆ í•´ì œ\n\n    # 3. RevertSP í˜¸ì¶œ\n    status = opal_client.revert_sp(keep_global_range_key=True)\n\n    # 4. ìƒíƒœ ê²€ì¦: Revert ì„±ê³µ, Global Range ë°ì´í„° ìœ ì§€\n    assert status == \"SUCCESS\"\n    assert opal_client.is_global_range_data_preserved() is True\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: KeepGlobalRangeKey = True, Global Rangeê°€ ì ê¸ˆ ìƒíƒœì¼ ë•Œ RevertSP ì‹¤íŒ¨\ndef test_revert_with_keep_global_key_locked(opal_client):\n    # 1. Locking Template ìƒì„± (KeepGlobalRangeKey = True)\n    template = {\n        \"parameter_id\": 0x060000,\n        \"value\": True\n    }\n    opal_client.set_locking_template(template)\n\n    # 2. Global Rangeë¥¼ Read/Write Locked ìƒíƒœë¡œ ì„¤ì •\n    opal_client.lock_global_range()\n\n    # 3. RevertSP í˜¸ì¶œ\n    status = opal_client.revert_sp(keep_global_range_key=True)\n\n    # 4. ìƒíƒœ ê²€ì¦: ì‹¤íŒ¨, ìƒíƒœ ë³€ê²½ ì—†ìŒ\n    assert status == \"FAIL\"\n    assert opal_client.get_life_cycle_state() == \"ACTIVE\"  # ìƒíƒœ ìœ ì§€ë¨\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì œì¡°ìš© SPì—ì„œ KeepGlobalRangeKey ì§€ì› ì—¬ë¶€ í™•ì¸\ndef test_manufacturing_sp_supports_keep_global_key(opal_client):\n    # ì œì¡°ìš© SPì¸ì§€ í™•ì¸ (ì˜ˆ: SP ìƒì„± ì‹œì ì´ ì œì¡° ê³µì •ì¸ì§€)\n    if opal_client.is_manufacturing_sp():\n        # KeepGlobalRangeKey íŒŒë¼ë¯¸í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n        template = opal_client.get_locking_template()\n        assert \"parameter_id\" in template and template[\"parameter_id\"] == 0x060000\n        assert \"value\" in template\n        assert template[\"value\"] is not None\n    else:\n        # ì¼ë°˜ SPì—ì„œëŠ” ì„ íƒì \n        pass\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### ğŸ” **DataRemovalMechanism í…Œì´ë¸” ê²€ì¦**\n\n- `ActiveDataRemovalMechanism` íŒŒë¼ë¯¸í„°ê°€ `True`ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ë„,\n- `KeepGlobalRangeKey = True`ì¼ ë•ŒëŠ” **ë°ì´í„° ì‚­ì œë¥¼ ë¬´ì‹œí•´ì•¼ í•¨** â†’ í…Œì´ë¸” ê°’ì„ í™•ì¸í•œ í›„, ì‹¤ì œë¡œ ë°ì´í„°ê°€ ìœ ì§€ë˜ëŠ”ì§€ ê²€ì¦.\n\n> ì˜ˆ: `DataRemovalMechanism` í…Œì´ë¸”ì—ì„œ `ActiveDataRemovalMechanism = True`ì´ê³ , `KeepGlobalRangeKey = True`ì¼ ë•Œ RevertSP í›„, **ë””ìŠ¤í¬ì˜ ì•”í˜¸í™” í‚¤ê°€ ìœ ì§€ë˜ê³ , ì‚¬ìš©ì ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥**í•´ì•¼ í•¨.\n\n#### ğŸ§ª **ì‹¤ì œ ë°ì´í„° ìœ ì§€ ê²€ì¦**\n\n1. RevertSP ì „ì—, Global Locking Rangeì— í…ŒìŠ¤íŠ¸ ë°ì´í„° ì“°ê¸° â†’ `write_test_data_to_global_range()`\n2. RevertSP í˜¸ì¶œ (`KeepGlobalRangeKey = True`)\n3. Revert í›„, ë‹¤ì‹œ ë°ì´í„° ì½ê¸° â†’ `read_test_data_from_global_range()`\n4. ì½ì€ ë°ì´í„°ì™€ ê¸°ì¡´ ë°ì´í„° ë¹„êµ â†’ `assert data_equal()`\n\n---\n\n### âœ… **ê²°ë¡ **\n\n`KeepGlobalRangeKey`ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì œê³µí•˜ëŠ” ì¤‘ìš”í•œ ë³´ì•ˆ í™•ì¥ ê¸°ëŠ¥ìœ¼ë¡œ, **ë³´ì•ˆ ì„¤ì • ì´ˆê¸°í™” ì‹œ ë°ì´í„° ìœ ì‹¤ì„ ë°©ì§€**í•˜ëŠ” ë° í•µì‹¬ ì—­í• ì„ í•©ë‹ˆë‹¤. ì œì¡°ìš© SPì—ì„œëŠ” ë°˜ë“œì‹œ ì§€ì›í•´ì•¼ í•˜ë©°, ì¡°ê±´ë¶€ë¡œë§Œ ì‘ë™í•˜ì—¬ ë³´ì•ˆ ìœ„í˜‘ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ìƒíƒœ ì „ì´, í…Œì´ë¸” ì„¤ì •, ì‹¤ì œ ë°ì´í„° ìœ ì§€ ì—¬ë¶€ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ìš”ì•½ (í•œêµ­ì–´ ìƒì„¸)**\n\n- **ëª©ì **: Locking SPë¥¼ ë¹„í™œì„±í™”í•´ë„, Global Locking Rangeì˜ ì•”í˜¸í™” í‚¤ì™€ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ìœ ì§€.\n- **ì£¼ìš” ê¸°ëŠ¥**: ë°ì´í„° ë³´ì¡´, ì œì¡°ìš© SP í•„ìˆ˜ ì§€ì›, ì¡°ê±´ì  ì‹¤í–‰ (ì ê¸ˆ ìƒíƒœ ì‹œ ì‹¤íŒ¨).\n- **ë°ì´í„° êµ¬ì¡°**: Boolean íŒŒë¼ë¯¸í„°, ID 0x060000.\n- **ìš”êµ¬ì‚¬í•­**: ì œì¡°ìš© SPëŠ” ë°˜ë“œì‹œ ì§€ì›, ì ê¸ˆ ìƒíƒœì¼ ë•ŒëŠ” ì‹¤íŒ¨, ActiveDataRemovalMechanism ë¬´ì‹œ.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ë°ì´í„° ìœ ì‹¤ ë°©ì§€, ì •ì±… ê¸°ë°˜ ì œì–´, ì¡°ê±´ì  ë³´ì•ˆ.\n- **í…ŒìŠ¤íŠ¸**: Python + pytestë¡œ RevertSP í˜¸ì¶œ í›„ ë°ì´í„° ìœ ì§€ ì—¬ë¶€, ìƒíƒœ ì „ì´, í…Œì´ë¸” ê°’ ê²€ì¦.\n\n--- \n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ë¬¸ì„œ ì‚¬ì–‘ê³¼ ì¼ì¹˜í•˜ë©°, ì‹¤ìš©ì ì¸ ê²€ì¦ ê°€ëŠ¥.**\n\n---\n\nğŸ“Œ **ê²°ë¡ : ë¬¸ì„œì— ëª…ì‹œëœ ì‚¬í•­ì´ ì¶©ë¶„íˆ ì„¤ëª…ë˜ì–´ ìˆìœ¼ë©°, ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì˜ˆì‹œë¥¼ ì œê³µí•¨.**"
    },
    {
        "section_order": 150,
        "level": 4,
        "section_id": "5.1.3.3",
        "section_key": "5.1.3.3 Effects of RevertSP",
        "title": "Effects of RevertSP",
        "start_page": 94,
        "end_page": 95,
        "page_count": 2,
        "content_md": "## 5.1.3.3 Effects of RevertSP\n\nUpon successful invocation of the RevertSP method, the following changes SHALL be made:\n\n- If the KeepGlobalRangeKey parameter is not present or set to False, then successful invocation of the RevertSP method on the Locking SP or Admin SP SHALL cause user data removal as defined by the ActiveDataRemovalMechanism (see Table 33) and cause the media encryption keys to be eradicated, which has the side effect of securely erasing all data in the User LBA portion of the Storage Device.\n- If the KeepGlobalRangeKey parameter is set to True, then successful invocation of the RevertSP method on the Locking SP SHALL cause user data removal as defined by the ActiveDataRemovalMechanism (see Table 33) and cause all media encryption keys to be eradicated except for the Global Rangeâ€™s media encryption key (K_AES_{128,256}_GlobalRange_Key).\n- Interactions with interface commands during the processing of the RevertSP method are defined in [4].\n\nIf any TCG reset occurs prior to completing user data removal and the eradication of media encryption keys in the Storage Device, then the operation SHALL be aborted and the Locking SP SHALL NOT revert to its Original Factory State.\n\n**Start of Informative Comment**  \nIf any TCG reset occurs during the processing of the RevertSP method, the result of user data removal is undefined.  \n**End of Informative Comment**\n\nUpon completion of user data removal and the eradication of media encryption keys in the Storage Device, the following changes SHALL be made:\n\n- The row in the Admin SPâ€™s SP table that represents the Locking SP SHALL revert to its original factory value.\n- The Locking SP itself SHALL revert to its Original Factory State. While reverting to its Original Factory State, the TPer SHALL erase all personalization of the SP, and return the personalized values to their Original Factory State values. The mechanism for erasure of personalization implementation-specific.\n- Any TPer functionality affected by the life cycle state of the SP based on the templates incorporated into it is modified as defined in the appropriate Template reference section of [2], and as defined in the â€œState transitions for Manufactured SPsâ€ section (see section 5.2.2.2) and â€œState behaviors for Manufactured SPsâ€ section (see section 5.2.2.3) of this specification.\n\n**Start of Informative Comment**  \nReverting the Locking SP will cause the media encryption keys to be eradicated (except for the GlobalRange key if the KeepGlobalRangeKey parameter is present and set to True), which has the side effect of securely erasing all data in the User LBA portion of the Storage Device.  \n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.1.3.3 Effects of RevertSP** â€“ ì´ˆë³´ììš© ìƒì„¸ ì„¤ëª…\n\n---\n\n### ğŸ§© **ëª©ì  (Purpose)**\n\n`RevertSP`ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ **Locking SP**(ë³´ì•ˆ í”„ë¡œì„¸ì„œ)ë¥¼ **ì›ë˜ ê³µì¥ ìƒíƒœ(Original Factory State)** ë¡œ ë˜ëŒë¦¬ëŠ” ëª…ë ¹ì…ë‹ˆë‹¤. ì´ ëª…ë ¹ì€ ë³´ì•ˆì´ ì†ìƒë˜ì—ˆê±°ë‚˜, ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ì™€ ì•”í˜¸í™” í‚¤ë¥¼ **ì™„ì „íˆ ì œê±°**í•˜ê³ , ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì¦‰, **â€œìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”í•˜ê³  ë³´ì•ˆì„ ì¬ì„¤ì •í•˜ëŠ”â€** ëª…ë ¹ì…ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜, ì¥ì¹˜ ì¬ë¶„ë°°, ë˜ëŠ” ë°ì´í„° ìœ ì¶œ ë°©ì§€ë¥¼ ìœ„í•´ ë§¤ìš° ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **ì‚¬ìš©ì ë°ì´í„° ì œê±° (User Data Removal)**  \n   - `RevertSP`ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´, ì‚¬ìš©ì ë°ì´í„°ëŠ” `ActiveDataRemovalMechanism` (í‘œ 33 ì°¸ì¡°)ì— ë”°ë¼ ì œê±°ë©ë‹ˆë‹¤.\n   - ì´ëŠ” ë°ì´í„°ë¥¼ ë‹¨ìˆœíˆ ì§€ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë³´ì•ˆ ì§€ìš°ê¸° (Secure Erase)** ë¡œ, ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ì—†ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\n2. **ë¯¸ë””ì–´ ì•”í˜¸í™” í‚¤ ì œê±° (Media Encryption Key Eradication)**  \n   - ì¥ì¹˜ ë‚´ì— ì €ì¥ëœ ëª¨ë“  ì•”í˜¸í™” í‚¤ê°€ ì œê±°ë©ë‹ˆë‹¤.\n   - **ì˜ˆì™¸**: `KeepGlobalRangeKey` íŒŒë¼ë¯¸í„°ê°€ `True`ì¼ ê²½ìš°, **Global Range í‚¤ë§Œ ìœ ì§€**ë©ë‹ˆë‹¤.\n\n3. **Locking SP ì´ˆê¸°í™” (Revert to Original Factory State)**  \n   - Locking SPëŠ” ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n   - ëª¨ë“  ê°œì¸í™”ëœ ì„¤ì • (ì˜ˆ: ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸, ì•”í˜¸í™” ì •ì±… ë“±)ì€ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›ë©ë‹ˆë‹¤.\n\n4. **Admin SP ë‚´ SP í…Œì´ë¸” ì—…ë°ì´íŠ¸**  \n   - Admin SPì˜ SP í…Œì´ë¸”ì— ìˆëŠ” Locking SP ì •ë³´ë„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n\n5. **TCG ë¦¬ì…‹ ì¤‘ë‹¨ ì‹œ ì·¨ì†Œ (Abort on TCG Reset)**  \n   - `RevertSP` ì²˜ë¦¬ ì¤‘ì— TCG ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´, ì‘ì—…ì€ **ì¤‘ë‹¨**ë˜ê³ , Locking SPëŠ” ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ“‚ **ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\n- **SP Table (Storage Provider Table)**  \n  - Admin SPê°€ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ë¡œ, ê° SP(ì˜ˆ: Locking SP)ì˜ ìƒíƒœ, ì—­í• , ì„¤ì • ë“±ì„ ì €ì¥í•©ë‹ˆë‹¤.\n  - `RevertSP` í›„, Locking SPì˜ í–‰ì´ ê³µì¥ ìƒíƒœë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.\n\n- **Media Encryption Keys (MEKs)**  \n  - ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ëŠ” í‚¤. `RevertSP` ì‹œ ëŒ€ë¶€ë¶„ ì œê±°ë˜ì§€ë§Œ, `KeepGlobalRangeKey=True`ì¼ ê²½ìš° Global Range í‚¤ëŠ” ìœ ì§€.\n\n- **ActiveDataRemovalMechanism (í‘œ 33)**  \n  - ë°ì´í„° ì œê±° ë°©ì‹ì„ ì •ì˜í•œ í‘œ. ì˜ˆ:  \n    - 0: No removal (ë°ì´í„° ìœ ì§€)  \n    - 1: Overwrite (ë®ì–´ì“°ê¸°)  \n    - 2: Crypto-erase (ì•”í˜¸í™” í‚¤ ì‚­ì œë¡œ ë°ì´í„° ë¬´íš¨í™”)  \n    - 3: Physical erase (ë¬¼ë¦¬ì  ì§€ìš°ê¸°)  \n\n---\n\n### ğŸ§ª **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- `RevertSP`ëŠ” **Locking SP ë˜ëŠ” Admin SP**ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥.\n- `KeepGlobalRangeKey` íŒŒë¼ë¯¸í„°ê°€ **ì—†ê±°ë‚˜ False**ì¼ ë•Œ: ëª¨ë“  MEK ì œê±° â†’ ì‚¬ìš©ì ë°ì´í„° ë³´ì•ˆ ì§€ìš°ê¸°.\n- `KeepGlobalRangeKey` íŒŒë¼ë¯¸í„°ê°€ **True**ì¼ ë•Œ: Global Range í‚¤ë§Œ ìœ ì§€ â†’ ë‚˜ë¨¸ì§€ MEK ì œê±° â†’ ì‚¬ìš©ì ë°ì´í„° ë³´ì•ˆ ì§€ìš°ê¸°.\n- TCG ë¦¬ì…‹ ë°œìƒ ì‹œ: ì‘ì—… **ì¤‘ë‹¨**, ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŒ.\n- ì‘ì—… ì™„ë£Œ í›„: Locking SPê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ê³ , SP í…Œì´ë¸”ë„ ì—…ë°ì´íŠ¸ë¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì•”í˜¸í™” í‚¤ ì œê±° (Key Eradication)**: ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ì—†ê²Œ ë§Œë“œëŠ” í•µì‹¬ ê¸°ìˆ .\n- **ë³´ì•ˆ ì§€ìš°ê¸° (Secure Erase)**: ë‹¨ìˆœ ì‚­ì œê°€ ì•„ë‹Œ, í‘œì¤€í™”ëœ ë°©ë²•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì œê±° (ì˜ˆ: NIST 800-88).\n- **ì ‘ê·¼ ì œì–´**: `RevertSP`ëŠ” ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•˜ë©°, ì¼ë°˜ ì‚¬ìš©ìì—ê²ŒëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŒ.\n- **TCG ë¦¬ì…‹ ë³´í˜¸**: ì¤‘ê°„ ë¦¬ì…‹ ì‹œ ì‘ì—… ì·¨ì†Œ â†’ ë³´ì•ˆ ìœ„í—˜ ë°©ì§€ (ì˜ˆ: ì¤‘ê°„ ìƒíƒœì—ì„œ í‚¤ ìœ ì¶œ ë°©ì§€).\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n`RevertSP` ëª…ë ¹ì´ ì˜¬ë°”ë¥´ê²Œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ê²€ì¦:\n- ì‚¬ìš©ì ë°ì´í„°ê°€ ì œê±°ë˜ì—ˆëŠ”ì§€ (ë³´ì•ˆ ì§€ìš°ê¸° í™•ì¸)\n- MEKê°€ ì œê±°ë˜ì—ˆëŠ”ì§€ (Global Range í‚¤ ì œì™¸)\n- SP í…Œì´ë¸”ì´ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€\n- Locking SPê°€ ê³µì¥ ìƒíƒœë¡œ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€\n\n---\n\n### ğŸ“¦ **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**\n\n- TCG Opal ì¥ì¹˜ (ì˜ˆ: Samsung SSD, Intel Optane ë“±)\n- Python + `pyopalkelly` ë˜ëŠ” `pytcg` ë¼ì´ë¸ŒëŸ¬ë¦¬ (TCG ëª…ë ¹ ì‹¤í–‰ìš©)\n- `pytest` ì‚¬ìš©\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)**\n\n```python\nimport pytest\nfrom pyopalkelly import OpalDevice, Session, RevertSP, StartSession\nfrom pyopalkelly.constants import TCG_RESET_TYPE\n\n# í…ŒìŠ¤íŠ¸ ì¥ì¹˜ ë° ì„¸ì…˜ ì„¤ì •\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sdb\")  # ì¥ì¹˜ ê²½ë¡œ ì¡°ì •\n    session = StartSession(\n        device_id=0,\n        sp_type=\"AdminSP\",\n        user_id=0,\n        password=\"admin_password\"  # ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸ë¡œ ëŒ€ì²´\n    )\n    device.start_session(session)\n    yield device\n    device.end_session()\n\n# í…ŒìŠ¤íŠ¸ 1: RevertSP í›„ ì‚¬ìš©ì ë°ì´í„° ì œê±° í™•ì¸ (Crypto-erase ê¸°ì¤€)\ndef test_revertsp_data_erased(opal_device):\n    # RevertSP í˜¸ì¶œ (KeepGlobalRangeKey=False)\n    revert_cmd = RevertSP(\n        sp_type=\"LockingSP\",\n        keep_global_range_key=False\n    )\n    result = opal_device.execute_command(revert_cmd)\n\n    assert result.status == \"SUCCESS\", \"RevertSP ì‹¤íŒ¨\"\n\n    # ë°ì´í„° ì œê±° í™•ì¸: ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ì LBA ì˜ì—­ ì½ê¸° ì‹œ ì˜¤ë¥˜ ë˜ëŠ” ë¬´íš¨ ë°ì´í„°\n    # ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ, ë°ì´í„°ë¥¼ ì½ì–´ë³´ë©° ë¬´ì˜ë¯¸í•œ ê°’ì¸ì§€ í™•ì¸\n    lba_data = opal_device.read_lba(lba=100, count=1)\n    assert lba_data == b\"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\", \"ì‚¬ìš©ì ë°ì´í„°ê°€ ì œê±°ë˜ì§€ ì•ŠìŒ\"\n\n# í…ŒìŠ¤íŠ¸ 2: KeepGlobalRangeKey=True ì‹œ Global Range í‚¤ ìœ ì§€ í™•ì¸\ndef test_revertsp_keep_global_range_key(opal_device):\n    revert_cmd = RevertSP(\n        sp_type=\"LockingSP\",\n        keep_global_range_key=True\n    )\n    result = opal_device.execute_command(revert_cmd)\n\n    assert result.status == \"SUCCESS\"\n\n    # Global Range í‚¤ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ (ì¥ì¹˜ ì œì¡°ì—…ì²´ API ë˜ëŠ” í…ŒìŠ¤íŠ¸ íˆ´ë¡œ í™•ì¸)\n    # ì˜ˆ: í…ŒìŠ¤íŠ¸ ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ê²½ìš°, í‚¤ ëª©ë¡ ì¡°íšŒ\n    keys = opal_device.get_media_encryption_keys()\n    assert \"GlobalRange\" in keys, \"Global Range í‚¤ê°€ ì œê±°ë¨ (ì˜ˆì™¸ ë°œìƒ)\"\n\n# í…ŒìŠ¤íŠ¸ 3: SP í…Œì´ë¸”ì´ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸\ndef test_revertsp_sp_table_reset(opal_device):\n    # RevertSP ì‹¤í–‰\n    revert_cmd = RevertSP(sp_type=\"LockingSP\", keep_global_range_key=False)\n    opal_device.execute_command(revert_cmd)\n\n    # Admin SP í…Œì´ë¸” ì¡°íšŒ (ì˜ˆ: get_sp_table() í•¨ìˆ˜ê°€ ìˆìŒ)\n    sp_table = opal_device.get_sp_table()\n    locking_sp_row = sp_table.get(\"LockingSP\")\n\n    # ê³µì¥ ìƒíƒœ ê°’ ë¹„êµ (ì˜ˆ: ì œì¡°ì‚¬ê°€ ì •ì˜í•œ ê³µì¥ê°’)\n    assert locking_sp_row[\"state\"] == \"FACTORY_STATE\", \"SP í…Œì´ë¸”ì´ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŒ\"\n    assert locking_sp_row[\"personalization\"] == \"DEFAULT\", \"ê°œì¸í™” ì •ë³´ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ\"\n\n# í…ŒìŠ¤íŠ¸ 4: TCG ë¦¬ì…‹ ë°œìƒ ì‹œ ì‘ì—… ì¤‘ë‹¨ í™•ì¸\ndef test_revertsp_abort_on_tcg_reset(opal_device, mocker):\n    # RevertSP ì‹¤í–‰ ì¤‘ TCG ë¦¬ì…‹ ì‹œë®¬ë ˆì´ì…˜\n    revert_cmd = RevertSP(sp_type=\"LockingSP\", keep_global_range_key=False)\n    mocker.patch(\"opal_device.execute_command\", side_effect=TCG_RESET_TYPE)\n\n    with pytest.raises(TCG_RESET_TYPE):\n        opal_device.execute_command(revert_cmd)\n\n    # Locking SP ìƒíƒœ í™•ì¸ (ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŒ)\n    sp_table = opal_device.get_sp_table()\n    locking_sp_row = sp_table.get(\"LockingSP\")\n    assert locking_sp_row[\"state\"] != \"FACTORY_STATE\", \"TCG ë¦¬ì…‹ í›„ì—ë„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê° (ë¹„ì •ìƒ)\"\n\n# í…ŒìŠ¤íŠ¸ 5: RevertSP í›„ Locking SP ì´ˆê¸°í™” í™•ì¸\ndef test_revertsp_locking_sp_reset(opal_device):\n    # RevertSP ì‹¤í–‰\n    revert_cmd = RevertSP(sp_type=\"LockingSP\", keep_global_range_key=False)\n    opal_device.execute_command(revert_cmd)\n\n    # Locking SP ìƒíƒœ ì¡°íšŒ (ì˜ˆ: get_sp_state() í•¨ìˆ˜)\n    state = opal_device.get_sp_state(\"LockingSP\")\n    assert state == \"FACTORY_STATE\", \"Locking SPê°€ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°€ì§€ ì•ŠìŒ\"\n\n    # ê°œì¸í™” ì •ë³´ ì¡°íšŒ (ì˜ˆ: get_personalization())\n    personalization = opal_device.get_personalization(\"LockingSP\")\n    assert personalization == {}, \"ê°œì¸í™” ì •ë³´ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ\"\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| ê²€ì¦ í•­ëª© | ë°©ë²• | ë„êµ¬/ê¸°ë²• |\n|-----------|------|----------|\n| SP í…Œì´ë¸” ìƒíƒœ | Admin SPì˜ SP í…Œì´ë¸”ì„ ì½ì–´, Locking SPì˜ stateê°€ `FACTORY_STATE`ì¸ì§€ í™•ì¸ | `get_sp_table()` ë˜ëŠ” TCG ëª…ë ¹ì–´ |\n| MEK ì¡´ì¬ ì—¬ë¶€ | `get_media_encryption_keys()`ë¡œ í‚¤ ëª©ë¡ ì¡°íšŒ, Global Range í‚¤ ì œì™¸ ì—¬ë¶€ í™•ì¸ | ì¥ì¹˜ API ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |\n| ì‚¬ìš©ì ë°ì´í„° | User LBA ì˜ì—­ì—ì„œ ë°ì´í„° ì½ê¸°, ë¬´ì˜ë¯¸í•œ ê°’(0x00) ë˜ëŠ” ì˜¤ë¥˜ í™•ì¸ | `read_lba()` ë˜ëŠ” `dd` ëª…ë ¹ì–´ |\n| Locking SP ìƒíƒœ | `get_sp_state(\"LockingSP\")`ë¡œ ìƒíƒœ í™•ì¸ | TCG ëª…ë ¹ì–´ |\n| ê°œì¸í™” ì •ë³´ | `get_personalization()`ìœ¼ë¡œ ê°’ì´ ì´ˆê¸°ê°’ì¸ì§€ í™•ì¸ | ì¥ì¹˜ ì œì¡°ì—…ì²´ íˆ´ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ |\n\n---\n\n## ğŸ“ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n`RevertSP`ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì—ì„œ **ë³´ì•ˆì„ ì™„ì „íˆ ì´ˆê¸°í™”í•˜ëŠ” í•µì‹¬ ëª…ë ¹**ì…ë‹ˆë‹¤. ì´ ëª…ë ¹ì€ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë³´ì•ˆ ì§€ìš°ê³ , ì•”í˜¸í™” í‚¤ë¥¼ ì œê±°í•˜ë©°, Locking SPë¥¼ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦½ë‹ˆë‹¤. `KeepGlobalRangeKey` íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ Global Range í‚¤ë§Œ ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë©°, TCG ë¦¬ì…‹ ì‹œ ì‘ì—…ì€ ì¤‘ë‹¨ë©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” `RevertSP` ëª…ë ¹ ì‹¤í–‰ í›„, **ì‚¬ìš©ì ë°ì´í„° ì œê±°**, **MEK ì œê±°**, **SP í…Œì´ë¸” ìƒíƒœ**, **Locking SP ì´ˆê¸°í™”** ë“±ì„ ê²€ì¦í•´ì•¼ í•˜ë©°, Python + pytestë¥¼ ì‚¬ìš©í•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ì˜ ìƒí˜¸ì‘ìš© ë° ì œì¡°ì‚¬ APIë¥¼ í™œìš©í•´ì•¼ ì •í™•í•œ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `RevertSP`ëŠ” ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë³´ì•ˆ ì´ˆê¸°í™” ë° ì¬ì‚¬ìš©ì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì´ë©°, ì œëŒ€ë¡œ êµ¬í˜„ë˜ê³  ê²€ì¦ë˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„° ìœ ì¶œ ìœ„í—˜ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ëŠ” ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³  ë¬¸ì„œ**:  \n- TCG-Storage-Opal-SSC-v2.30_pub.pdf  \n- í‘œ 33: ActiveDataRemovalMechanism  \n- 5.2.2.2, 5.2.2.3: Manufactured SP ìƒíƒœ ì „ì´ ë° í–‰ë™ ì •ì˜  \n- [4]: ì¸í„°í˜ì´ìŠ¤ ëª…ë ¹ê³¼ì˜ ìƒí˜¸ì‘ìš© ì •ì˜ (TCG ëª…ë ¹ì–´ ì°¸ì¡°)"
    },
    {
        "section_order": 151,
        "level": 4,
        "section_id": "5.1.3.4",
        "section_key": "5.1.3.4 Interrupted RevertSP",
        "title": "Interrupted RevertSP",
        "start_page": 95,
        "end_page": 95,
        "page_count": 1,
        "content_md": "## 5.1.3.4 Interrupted RevertSP\n\nThe RevertSP method and complete implementation of the necessary background operations MAY be aborted due to any reset condition, including power loss.\n\nWhen interrupted, the Data Removal Operation Interrupted bit SHALL be set to one in the Level 0 Discovery â€“ Supported Data Removal Mechanism feature descriptor appropriately as defined in section 3.1.1.6.2.\n\nFurther, the return status value of the RevertSP method does not mean that all necessary operations such as the data removal operation are complete.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.1.3.4 Interrupted RevertSP - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n`Interrupted RevertSP`ëŠ” **TCG Opal í‘œì¤€**ì—ì„œ ì •ì˜í•œ **RevertSP(ë³µê·€) ì‘ì—…ì´ ì¤‘ë‹¨ëœ ê²½ìš°**ì— ë°œìƒí•˜ëŠ” ìƒí™©ì„ ë‹¤ë£¹ë‹ˆë‹¤.  \nRevertSPëŠ” ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìê°€ SSD/í•˜ë“œë””ìŠ¤í¬ì˜ ë³´ì•ˆ ì„¤ì •ì„ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì‘ì—…ì¸ë°, ì´ ê³¼ì •ì´ **ì „ì›ì´ êº¼ì§€ê±°ë‚˜ ì¥ì¹˜ ë¦¬ì…‹ ë“±ìœ¼ë¡œ ì¸í•´ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤**.  \n\nì´ëŸ¬í•œ ì¤‘ë‹¨ ìƒí™©ì´ ë°œìƒí•˜ë©´, ì¥ì¹˜ëŠ” **ë°ì´í„° ì œê±° ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŒì„ ì•Œë¦¬ê¸° ìœ„í•´ íŠ¹ì • ë¹„íŠ¸ë¥¼ ì„¤ì •**í•˜ê³ , **ì¤‘ë‹¨ëœ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€**í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë³´ì•ˆìƒ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´, ì¤‘ë‹¨ëœ ìƒíƒœì—ì„œ ë‹¤ì‹œ RevertSPë¥¼ ì‹œì‘í•˜ë©´ **ì´ì „ ì‘ì—…ì˜ ë¶ˆì™„ì „í•œ ìƒíƒœë¥¼ ì¬ì‚¬ìš©**í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  \n\nì¦‰, **ì¤‘ë‹¨ëœ RevertSPëŠ” â€œë°ì´í„°ê°€ ì œê±°ë˜ì§€ ì•Šì•˜ë‹¤â€ëŠ” ì‚¬ì‹¤ì„ ëª…í™•íˆ ì•Œë ¤ì£¼ì–´ì•¼ í•˜ë©°**, ì´ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì•ˆì „í•˜ê²Œ ì¬ì‹œë„í•˜ê±°ë‚˜, ë‹¤ë¥¸ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n---\n\n### âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **RevertSP ì‘ì—… ì¤‘ë‹¨ ê°ì§€**  \n   - ì „ì› ì°¨ë‹¨, í•˜ë“œì›¨ì–´ ë¦¬ì…‹, ì‹œìŠ¤í…œ ì¬ë¶€íŒ… ë“±ìœ¼ë¡œ ì¸í•´ RevertSPê°€ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n2. **Data Removal Operation Interrupted ë¹„íŠ¸ ì„¤ì •**  \n   - ì¤‘ë‹¨ ì‹œ, **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬**ì˜ **Supported Data Removal Mechanism** íŠ¹ì„± ë””ìŠ¤í¬ë¦½í„° ë‚´ì— ìˆëŠ” **\"Data Removal Operation Interrupted\" ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •**í•©ë‹ˆë‹¤.  \n   - ì´ ë¹„íŠ¸ëŠ” ì¥ì¹˜ê°€ RevertSPë¥¼ ì¤‘ë‹¨í–ˆìŒì„ **ì§€ì†ì ìœ¼ë¡œ ê¸°ë¡**í•©ë‹ˆë‹¤.\n\n3. **RevertSP ë°˜í™˜ ìƒíƒœëŠ” ì™„ë£Œ ì—¬ë¶€ë¥¼ ì˜ë¯¸í•˜ì§€ ì•ŠìŒ**  \n   - RevertSP ë©”ì„œë“œê°€ ë°˜í™˜ëœë‹¤ê³  í•´ì„œ **ëª¨ë“  ë°ì´í„° ì œê±° ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŒì„ ì˜ë¯¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.  \n   - ì¦‰, **ë¦¬í„´ê°’ì´ ì„±ê³µì´ë”ë¼ë„**, ì‹¤ì œ ë°ì´í„° ì œê±°ê°€ ëë‚˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŒ â†’ **ì¶”ê°€ ê²€ì¦ í•„ìš”**.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì¤‘ë‹¨ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¹„íŠ¸ëŠ” **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬**ì˜ **Supported Data Removal Mechanism** íŠ¹ì„± ë””ìŠ¤í¬ë¦½í„°ì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n- **Descriptor Type**: `0x00000003` (Supported Data Removal Mechanism)\n- **Offset**: `0x00` (Data Removal Operation Interrupted bit)\n- **Bit Position**: ë¹„íŠ¸ 0 (LSB)\n\n> ì˜ˆì‹œ (ë¹„íŠ¸ ë§µ):  \n> `0b00000001` â†’ ë¹„íŠ¸ 0ì´ 1 â†’ **ë°ì´í„° ì œê±° ì‘ì—…ì´ ì¤‘ë‹¨ë¨**  \n> `0b00000000` â†’ ë¹„íŠ¸ 0ì´ 0 â†’ **ì¤‘ë‹¨ ì—†ìŒ**\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **ì¤‘ë‹¨ ì‹œ ë¹„íŠ¸ ì„¤ì •**  \n   - RevertSPê°€ ì¤‘ë‹¨ë˜ë©´, ë°˜ë“œì‹œ **Data Removal Operation Interrupted ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •**í•´ì•¼ í•¨.\n\n2. **ë¹„íŠ¸ ìœ ì§€**  \n   - ì¥ì¹˜ê°€ ì¬ë¶€íŒ…ë˜ë”ë¼ë„ ì´ ë¹„íŠ¸ëŠ” ìœ ì§€ë˜ì–´ì•¼ í•¨ (ì§€ì†ì„± ë³´ì¥).\n\n3. **RevertSP ë¦¬í„´ê°’ì˜ í•œê³„ ì¸ì‹**  \n   - RevertSPê°€ ì„±ê³µì ìœ¼ë¡œ ë°˜í™˜ë˜ë”ë¼ë„, ì‹¤ì œ ë°ì´í„° ì œê±°ê°€ ì™„ë£Œë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŒ â†’ **ì¶”ê°€ í™•ì¸ í•„ìš”**.\n\n4. **ì‚¬ìš©ì/ê´€ë¦¬ì ì•Œë¦¼**  \n   - ì¤‘ë‹¨ ìƒíƒœë¥¼ ê°ì§€í•˜ì—¬, ì‚¬ìš©ìê°€ ì¬ì‹œë„í•˜ê±°ë‚˜, ë‹¤ë¥¸ ë³´ì•ˆ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì¤‘ë‹¨ ìƒíƒœì˜ íˆ¬ëª…ì„± ì œê³µ**  \n  - ì¤‘ë‹¨ëœ ì‘ì—…ì´ ë‹¤ì‹œ ì‹œì‘ë˜ë©´, ê¸°ì¡´ ì‘ì—…ì„ ì¬ê°œí•˜ê±°ë‚˜ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ìƒíƒœë¥¼ ëª…í™•íˆ ì•Œë ¤ì¤Œ.\n\n- **ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥**  \n  - ì¤‘ë‹¨ëœ RevertSP ìƒíƒœì—ì„œ ë°ì´í„°ê°€ ëˆ„ì¶œë˜ê±°ë‚˜, ë¶ˆì™„ì „í•œ ìƒíƒœë¡œ ë‚¨ì•„ìˆëŠ” ê²ƒì„ ë°©ì§€.\n\n- **ë¶ˆì™„ì „ ì‘ì—…ì˜ ì¬ì‹œë„ ë°©ì§€**  \n  - ì¤‘ë‹¨ ìƒíƒœë¥¼ ì¸ì‹í•˜ì—¬, ì¤‘ë³µ ì‹¤í–‰ì´ë‚˜ ë¶ˆì™„ì „í•œ ì‘ì—… ì¬ê°œë¥¼ ë°©ì§€í•¨.\n\n- **ë¹„íŠ¸ ê¸°ë°˜ ìƒíƒœ ì¶”ì **  \n  - í•˜ë“œì›¨ì–´/íŒì›¨ì–´ ë ˆë²¨ì—ì„œ ì§€ì†ì ì¸ ìƒíƒœë¥¼ ì¶”ì í•˜ì—¬, ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì•ˆì •ì ì¸ ìƒíƒœë¥¼ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ í•¨.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\në‹¤ìŒì€ **RevertSP ì¤‘ë‹¨ ìƒí™©ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**ì…ë‹ˆë‹¤.  \nPython + pytest + TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª **Test Case: RevertSP ì¤‘ë‹¨ í›„ Data Removal Operation Interrupted ë¹„íŠ¸ í™•ì¸**\n\n#### âœ… ëª©ì :\n- RevertSPë¥¼ ì¤‘ë‹¨í•œ í›„, `Data Removal Operation Interrupted` ë¹„íŠ¸ê°€ 1ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸.\n\n#### âœ… ì „ì œ ì¡°ê±´:\n- TCG Opal ì§€ì› ì¥ì¹˜ (ì˜ˆ: SSD)\n- Python + `pycryptodome`, `pyserial`, `pytest`, `tcg-opal` ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” ì§ì ‘ ëª…ë ¹ì–´ ì „ì†¡ ê°€ëŠ¥ (ì˜ˆ: `pyopal` ë˜ëŠ” `pycryptodome` ê¸°ë°˜ ì»¤ìŠ¤í…€ ë¼ì´ë¸ŒëŸ¬ë¦¬)\n\n#### âœ… í…ŒìŠ¤íŠ¸ ë‹¨ê³„:\n\n1. **ì„¸ì…˜ ì‹œì‘** (`StartSession`)\n2. **RevertSP ì‹¤í–‰** (`RevertSP`)\n3. **ì¤‘ë‹¨ ì‹œë®¬ë ˆì´ì…˜** (ì˜ˆ: ì „ì› ì°¨ë‹¨, ì‹œìŠ¤í…œ ë¦¬ì…‹, ì¥ì¹˜ ì œê±°)\n4. **ì¥ì¹˜ ì¬ë¶€íŒ… í›„ ì„¸ì…˜ ì¬ì‹œì‘**\n5. **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ ì½ê¸°** â†’ `Supported Data Removal Mechanism` ë””ìŠ¤í¬ë¦½í„° í™•ì¸\n6. **ë¹„íŠ¸ 0ì´ 1ì¸ì§€ ê²€ì¦**\n\n---\n\n### ğŸ **Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal_client import OpalDevice  # ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œë¡œëŠ” pyopal ë˜ëŠ” ì§ì ‘ êµ¬í˜„)\nfrom opal_constants import *  # TCG Opal ëª…ë ¹ì–´ ìƒìˆ˜\n\n@pytest.fixture\ndef device():\n    \"\"\"ì¥ì¹˜ ì—°ê²° ë° ì´ˆê¸°í™”\"\"\"\n    dev = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    dev.start_session(ADMIN_PIN)  # ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    yield dev\n    dev.close_session()\n\ndef test_revertsp_interrupted_bit_set(device):\n    \"\"\"RevertSP ì¤‘ë‹¨ í›„ Data Removal Operation Interrupted ë¹„íŠ¸ê°€ 1ì¸ì§€ í™•ì¸\"\"\"\n    # 1. RevertSP ì‹¤í–‰\n    result = device.revert_sp()\n    assert result.status == 0x00, \"RevertSP ì‹œì‘ ì‹¤íŒ¨\"\n\n    # 2. ì¤‘ë‹¨ ì‹œë®¬ë ˆì´ì…˜ (ì˜ˆ: ì „ì› ì°¨ë‹¨, ì¥ì¹˜ ì œê±°, ì¬ë¶€íŒ…)\n    # ì‹¤ì œ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¥ì¹˜ë¥¼ ì¬ë¶€íŒ…í•˜ê±°ë‚˜ ì „ì›ì„ ë„ê³  ë‹¤ì‹œ ì—°ê²°\n    # ì—¬ê¸°ì„œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¥ì¹˜ ì¬ì—°ê²°ë¡œ ì‹œë®¬ë ˆì´ì…˜\n    device.reconnect()  # ì¬ë¶€íŒ… í›„ ì¬ì—°ê²°\n\n    # 3. ì„¸ì…˜ ë‹¤ì‹œ ì‹œì‘\n    device.start_session(ADMIN_PIN)\n\n    # 4. ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ ì½ê¸°\n    level0_discovery = device.get_level0_discovery()\n\n    # 5. Supported Data Removal Mechanism ë””ìŠ¤í¬ë¦½í„° ì°¾ê¸°\n    supported_data_removal_desc = None\n    for desc in level0_discovery.descriptors:\n        if desc.type == 0x00000003:  # Supported Data Removal Mechanism\n            supported_data_removal_desc = desc\n            break\n\n    assert supported_data_removal_desc is not None, \"Supported Data Removal Mechanism ë””ìŠ¤í¬ë¦½í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ\"\n\n    # 6. Data Removal Operation Interrupted ë¹„íŠ¸ í™•ì¸ (ë¹„íŠ¸ 0)\n    interrupted_bit = (supported_data_removal_desc.data[0] & 0x01)  # LSB ë¹„íŠ¸ 0\n    assert interrupted_bit == 1, \"Data Removal Operation Interrupted ë¹„íŠ¸ê°€ 1ì´ ì•„ë‹˜ (ì¤‘ë‹¨ ìƒíƒœê°€ ê°ì§€ë˜ì§€ ì•ŠìŒ)\"\n\n    # 7. í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ì „, ì¤‘ë‹¨ ìƒíƒœ ì´ˆê¸°í™” (ì„ íƒì )\n    device.revert_sp()  # ë‹¤ì‹œ RevertSP ì‹¤í–‰ â†’ ì¤‘ë‹¨ ìƒíƒœ í•´ì œ\n    device.get_level0_discovery()  # ìƒíƒœ í™•ì¸ (ë¹„íŠ¸ 0ì´ 0ì´ ë˜ì–´ì•¼ í•¨)\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### âœ… ê²€ì¦ ëŒ€ìƒ: ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ â†’ Supported Data Removal Mechanism\n\n| Offset (Hex) | Bit Position | ì´ë¦„ | ì„¤ëª… |\n|--------------|--------------|------|------|\n| 0x00         | 0            | Data Removal Operation Interrupted | ì¤‘ë‹¨ ì—¬ë¶€ (1: ì¤‘ë‹¨ë¨, 0: ì •ìƒ) |\n| 0x00         | 1~7          | Reserved | ì˜ˆì•½ ë¹„íŠ¸ |\n\n#### âœ… ê²€ì¦ ë¡œì§ (Pseudocode)\n\n```python\ndescriptor = get_descriptor_by_type(0x00000003)  # Supported Data Removal Mechanism\nif descriptor.data[0] & 0x01:  # ë¹„íŠ¸ 0 í™•ì¸\n    print(\"âœ… RevertSP ì¤‘ë‹¨ë¨ - Data Removal Operation Interrupted ë¹„íŠ¸ê°€ ì„¤ì •ë¨\")\nelse:\n    print(\"âŒ RevertSP ì¤‘ë‹¨ë˜ì§€ ì•ŠìŒ ë˜ëŠ” ë¹„íŠ¸ ì„¤ì • ì‹¤íŒ¨\")\n```\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n`Interrupted RevertSP`ëŠ” **TCG Opal ì¥ì¹˜ì—ì„œ RevertSP ì‘ì—…ì´ ì „ì› ì°¨ë‹¨ ë“±ìœ¼ë¡œ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œì˜ ìƒíƒœ ê´€ë¦¬**ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.  \nì¤‘ë‹¨ ì‹œ, ì¥ì¹˜ëŠ” **Data Removal Operation Interrupted ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •**í•˜ì—¬ ì¤‘ë‹¨ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ ê¸°ë¡í•˜ë©°, ì´ëŠ” ë³´ì•ˆìƒ ì¤‘ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤.  \nRevertSPì˜ ë¦¬í„´ê°’ì€ ì‘ì—… ì™„ë£Œë¥¼ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, **ì¤‘ë‹¨ ìƒíƒœë¥¼ ì§ì ‘ í™•ì¸í•˜ëŠ” ì¶”ê°€ ê²€ì¦ì´ í•„ìš”**í•©ë‹ˆë‹¤.  \n\nì´ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´, **RevertSP ì‹¤í–‰ í›„ ì¥ì¹˜ë¥¼ ì¬ë¶€íŒ…**í•˜ê³ , **ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ì—ì„œ ë¹„íŠ¸ 0ì„ í™•ì¸**í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.  \nPython + pytestë¥¼ í†µí•´ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´, ì¤‘ë‹¨ ìƒíƒœì˜ ì •í™•í•œ ê°ì§€ ì—¬ë¶€ë¥¼ ê°ê´€ì ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸ ìš”ì•½**:\n- RevertSP ì‹¤í–‰ í›„ ì „ì› ì°¨ë‹¨ ë˜ëŠ” ë¦¬ì…‹\n- ì¥ì¹˜ ì¬ë¶€íŒ… í›„ ì„¸ì…˜ ì¬ì‹œì‘\n- ë ˆë²¨ 0 ë””ìŠ¤ì»¤ë²„ë¦¬ì—ì„œ `Supported Data Removal Mechanism` ë””ìŠ¤í¬ë¦½í„° ì½ê¸°\n- ë¹„íŠ¸ 0ì´ 1ì¸ì§€ í™•ì¸ â†’ ì¤‘ë‹¨ ìƒíƒœ í™•ì¸ ì„±ê³µ\n\n---\n\nâœ… **ë³´ì•ˆì  ì˜ë¯¸**:\n- ì¤‘ë‹¨ ìƒíƒœë¥¼ ëª…í™•íˆ ì•Œë¦¬ëŠ” ê²ƒì€ **ë°ì´í„° ìœ ì¶œ ìœ„í—˜ì„ ì¤„ì´ê³ **, **ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„±ì„ ìœ ì§€**í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.  \n- ì‚¬ìš©ìëŠ” ì´ ìƒíƒœë¥¼ í™•ì¸í•˜ì—¬, **ì•ˆì „í•˜ê²Œ ì¬ì‹œë„**í•˜ê±°ë‚˜, **ê¸°íƒ€ ë³´ì•ˆ ì¡°ì¹˜**ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **:\n`Interrupted RevertSP`ëŠ” **ì¤‘ë‹¨ëœ ë³´ì•ˆ ì‘ì—…ì˜ ìƒíƒœë¥¼ ëª…í™•íˆ ê¸°ë¡í•˜ê³ , ì¬ì‹œë„ ë˜ëŠ” ëŒ€ì‘ ì¡°ì¹˜ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜**ì…ë‹ˆë‹¤.  \nì´ë¥¼ ì œëŒ€ë¡œ ê²€ì¦í•˜ë©´, ì¥ì¹˜ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ ë° ê²€ì¦ ë°©ë²•ì€ ì‹¤ì œ ì¥ì¹˜ì™€ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ë”°ë¼ ì¡°ì • í•„ìš”**.  \n(ì˜ˆ: ì‹¤ì œ ì „ì› ì°¨ë‹¨ ì‹œë®¬ë ˆì´ì…˜, ì¥ì¹˜ ì¬ë¶€íŒ… ë“±)\n\n---\n\nâœ… **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ** â†’ âŒ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•©ë‹ˆë‹¤.**\n\n---\n\nâœ… **ìµœì¢… ë‹µë³€**:  \n**ë³¸ë¬¸ì˜ ë‚´ìš©ì€ ì¡´ì¬í•˜ë©°, ìƒì„¸í•œ ì„¤ëª…, ë°ì´í„° êµ¬ì¡°, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.**\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ, TCG Opal ëª…ë ¹ì–´ ì „ì†¡ì€ `pyopal`, `pycryptodome`, ë˜ëŠ” `libopal` ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ êµ¬í˜„ ê°€ëŠ¥.  \nì¥ì¹˜ëŠ” TCG Opal 2.0 ì´ìƒ ì§€ì›ì´ í•„ìš”."
    },
    {
        "section_order": 152,
        "level": 2,
        "section_id": "5.2",
        "section_key": "5.2 Life Cycle",
        "title": "Life Cycle",
        "start_page": 95,
        "end_page": 95,
        "page_count": 1,
        "content_md": "## 5.2 Life Cycle",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.2 Life Cycle"
    },
    {
        "section_order": 153,
        "level": 3,
        "section_id": "5.2.1",
        "section_key": "5.2.1 Issued vs. Manufactured SPs",
        "title": "Issued vs. Manufactured SPs",
        "start_page": 95,
        "end_page": 95,
        "page_count": 1,
        "content_md": "### 5.2.1 Issued vs. Manufactured SPs",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 5.2.1 Issued vs. Manufactured SPs"
    },
    {
        "section_order": 154,
        "level": 4,
        "section_id": "5.2.1.1",
        "section_key": "5.2.1.1 Issued SPs",
        "title": "Issued SPs",
        "start_page": 95,
        "end_page": 95,
        "page_count": 1,
        "content_md": "#### 5.2.1.1 Issued SPs\n\nFor Opal SSC-compliant TPer that support issuance, refer to [2] for the life cycle states and life cycle management.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "#### 5.2.1.1 Issued SPs\n\nFor Opal SSC-compliant TPer that support issuance, refer to [2] for the life cycle states and life cycle management."
    },
    {
        "section_order": 155,
        "level": 4,
        "section_id": "5.2.1.2",
        "section_key": "5.2.1.2 Manufactured SPs",
        "title": "Manufactured SPs",
        "start_page": 95,
        "end_page": 96,
        "page_count": 2,
        "content_md": "#### 5.2.1.2 Manufactured SPs\n\nOpal SSC-compliant SPs that are created in manufacturing (Manufactured SPs) SHALL NOT have an implementation-specific life cycle, and SHALL conform to the life cycle defined in section 5.2.2.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.2.1.2 Manufactured SPs** - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\n**\"Manufactured SPs\"**(ì œì¡° ì‹œ ìƒì„±ëœ SP, ì¦‰ **ì œì¡°ìš© ë³´ì•ˆ í”„ë¡œì„¸ì„œ**)ëŠ” TCG Opal í‘œì¤€ì— ë”°ë¼ í•˜ë“œì›¨ì–´ ì œì¡° ê³¼ì •ì—ì„œ ë¯¸ë¦¬ ì„¤ì •ëœ ë³´ì•ˆ ì„¤ì •ì„ ê°–ëŠ” SP(Security Processor)ì…ë‹ˆë‹¤.  \nì´ SPëŠ” **ì œì¡° ì‹œì ì—ì„œ ì´ë¯¸ ê³ ì •ëœ ë³´ì•ˆ ì •ì±…ê³¼ ì´ˆê¸° ìƒíƒœë¥¼ ê°€ì§€ë©°**, ì´í›„ ì‚¬ìš©ì ë˜ëŠ” ê´€ë¦¬ìê°€ ì„ì˜ë¡œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” **ì„ì˜ì  ìƒëª… ì£¼ê¸°**(implementation-specific life cycle)ë¥¼ ê°–ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.\n\nì¦‰, **ì œì¡°ì—…ì²´ê°€ ì œì¡° ì‹œ ì„¤ì •í•œ ë³´ì•ˆ í”„ë¡œí† ì½œê³¼ ì ˆì°¨ëŠ” í‘œì¤€ì— ë”°ë¼ í†µì¼ë˜ì–´ì•¼ í•˜ë©°**, ì‚¬ìš©ìê°€ ì œì¡° í›„ ì„ì˜ë¡œ ì¬ì„¤ì •í•˜ê±°ë‚˜ ì´ˆê¸°í™”í•˜ëŠ” ë“±ì˜ ì‘ì—…ì´ ê°€ëŠ¥í•˜ì§€ ì•Šë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ ëª©ì ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **í‘œì¤€í™”ëœ ìƒëª… ì£¼ê¸° ì¤€ìˆ˜**: ì œì¡° ì‹œ ìƒì„±ëœ SPëŠ” í‘œì¤€ì—ì„œ ì •ì˜í•œ ìƒëª… ì£¼ê¸°(Section 5.2.2)ë¥¼ ë”°ë¼ì•¼ í•˜ë©°, ì œì¡°ì—…ì²´ê°€ ì„ì˜ë¡œ ìƒëª… ì£¼ê¸°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„± ìœ ì§€**: ì œì¡° ì‹œì ì— ì„¤ì •ëœ ë³´ì•ˆ ì •ì±…(ì˜ˆ: ì•”í˜¸í™” í‚¤, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±)ì€ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ê±°ë‚˜ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸ë©ë‹ˆë‹¤.\n- **ì œì¡° í›„ ì´ˆê¸°í™” ë¶ˆê°€ëŠ¥ì„±**: ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ SPë¥¼ ì¬ì„¤ì •í•˜ê±°ë‚˜ ì´ˆê¸°í™”í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì œí•œë˜ê±°ë‚˜ ë¹„í™œì„±í™”ë˜ì–´ ìˆì–´, ì œì¡° ì‹œ ì„¤ì •ëœ ìƒíƒœê°€ ìœ ì§€ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ’¾ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\në¬¸ì„œì—ì„œ **ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°**(ì˜ˆ: êµ¬ì¡°ì²´, í…Œì´ë¸”, í•„ë“œ ë“±)ëŠ” ì–¸ê¸‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.  \ní•˜ì§€ë§Œ, **Manufactured SPsëŠ” í‘œì¤€ì— ë”°ë¼ ì •ì˜ëœ ë©”íƒ€ë°ì´í„°ì™€ ì„¤ì • ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°**, ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- ê³ ìœ í•œ ì œì¡° ID (Manufacturing ID)\n- ì´ˆê¸°í™” ìƒíƒœ (Initialized / Not Initialized)\n- ì•”í˜¸í™” í‚¤ ì •ë³´ (ê³µê°œí‚¤/ë¹„ë°€í‚¤, ë˜ëŠ” í‚¤ í…œí”Œë¦¿)\n- ì ‘ê·¼ ì œì–´ ì •ì±… (Access Control Policy)\n- ì‚¬ìš©ì/ê´€ë¦¬ì ì•”í˜¸ ì„¤ì • ì—¬ë¶€\n- SPì˜ ìƒíƒœ (ì˜ˆ: Locked, Unlocked, Reverted ë“±)\n\n> **ì°¸ê³ **: ì´ëŸ¬í•œ ë°ì´í„°ëŠ” ì‹¤ì œë¡œëŠ” **Opal í…Œì´ë¸”**(ì˜ˆ: Global Management Keys, User Access Control Table ë“±)ì— ì €ì¥ë˜ë©°, í•´ë‹¹ í…Œì´ë¸”ì€ **Section 5.2.2**ì˜ ìƒëª… ì£¼ê¸°ì™€ ì—°ë™ë˜ì–´ ê´€ë¦¬ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **í‘œì¤€í™”ëœ ìƒëª… ì£¼ê¸° ì¤€ìˆ˜**  \n   â†’ ì œì¡° ì‹œ ìƒì„±ëœ SPëŠ” **Section 5.2.2**ì— ì •ì˜ëœ ìƒëª… ì£¼ê¸°ë¥¼ **ë°˜ë“œì‹œ ë”°ë¼ì•¼ í•¨**.  \n   â†’ ì˜ˆ: `Manufactured SP`ëŠ” `Initialized` ìƒíƒœë¡œ ì‹œì‘í•˜ê³ , `Revert`ë¥¼ í†µí•´ ì´ˆê¸°í™”í•  ìˆ˜ ìˆìœ¼ë‚˜, ì œì¡°ì—…ì²´ê°€ ì •ì˜í•œ ì„ì˜ì˜ ìƒíƒœ ì „ì´ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ.\n\n2. **ì„ì˜ì  ìƒëª… ì£¼ê¸° ë¶ˆê°€**  \n   â†’ ì œì¡°ì—…ì²´ëŠ” SPì˜ ìƒëª… ì£¼ê¸°ë¥¼ ìì²´ ì •ì˜í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ì—†ìŒ.  \n   â†’ ì´ëŠ” ë³´ì•ˆ ì¼ê´€ì„±ê³¼ í‘œì¤€ ì¤€ìˆ˜ë¥¼ ìœ„í•´ í•„ìˆ˜.\n\n3. **ì œì¡° í›„ ì´ˆê¸°í™” ì œí•œ**  \n   â†’ ì¼ë°˜ì ìœ¼ë¡œ `Revert` ëª…ë ¹ì„ í†µí•´ ì´ˆê¸°í™” ê°€ëŠ¥í•˜ë‚˜, ì œì¡° ì‹œ ì„¤ì •ëœ ë³´ì•ˆ ì •ì±…ì€ **ë‹¤ì‹œ ë³µì›ë˜ì§€ ì•Šë„ë¡ ë³´ì¥**ë˜ì–´ì•¼ í•¨.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ìƒëª… ì£¼ê¸° ì œì–´**: í‘œì¤€í™”ëœ ìƒëª… ì£¼ê¸°(Section 5.2.2)ë¥¼ í†µí•´ ë³´ì•ˆ ìƒíƒœ ì „ì´ë¥¼ ì œì–´í•¨.  \n  â†’ ì˜ˆ: `Initialized` â†’ `Locked` â†’ `Unlocked` â†’ `Reverted` ë“±.\n- **í‚¤ ê´€ë¦¬ ë³´í˜¸**: ì œì¡° ì‹œ ì„¤ì •ëœ í‚¤ëŠ” **ê³µê°œë˜ì§€ ì•Šê³ , í…Œì´ë¸”ì—ì„œ ë³´í˜¸ëœ ìƒíƒœë¡œ ì €ì¥**ë¨.\n- **ì ‘ê·¼ ì œì–´ ì •ì±… ê³ ì •**: ì‚¬ìš©ìê°€ ì„ì˜ë¡œ ì ‘ê·¼ ì œì–´ ì •ì±…ì„ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ì œí•œ.\n- **ì œì¡° í›„ ë³€ê²½ ë¶ˆê°€ëŠ¥ì„±**: ì œì¡° ì‹œ ì„¤ì •ëœ ë³´ì•ˆ ì •ì±…ì€ **ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ì§€ ì•Šìœ¼ë©°**, ì¬ì„¤ì •ë„ ì œí•œë¨ (ì˜ˆ: `Revert` í›„ì—ë„ ì œì¡° ì‹œ ì„¤ì •ëœ ê¸°ë³¸ ì •ì±… ìœ ì§€).\n\n---\n\n### ğŸ§ª **Test Case ì œì‹œ**\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ëª©ì **:  \nManufactured SPê°€ í‘œì¤€ì— ë”°ë¼ ì •ì˜ëœ ìƒëª… ì£¼ê¸°(Section 5.2.2)ë¥¼ ì¤€ìˆ˜í•˜ë©°, ì œì¡°ì—…ì²´ê°€ ì„ì˜ì˜ ìƒëª… ì£¼ê¸°ë¥¼ ì •ì˜í•˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸.\n\n#### âœ… **í…ŒìŠ¤íŠ¸ ì „ì œ ì¡°ê±´**:\n- Opal SSC v2.30 í˜¸í™˜ ë“œë¼ì´ë¸Œ\n- Python + pytest + TCG Opal ëª…ë ¹ì–´(StartSession, Revert ë“±) ì‚¬ìš© ê°€ëŠ¥\n- ë“œë¼ì´ë¸Œì— **Manufactured SP**ê°€ ì„¤ì¹˜ë˜ì–´ ìˆìŒ (ì œì¡° ì‹œ ìƒì„±ëœ SP)\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ìƒëª… ì£¼ê¸° ì¤€ìˆ˜ í™•ì¸**\n\n#### ğŸ¯ **ëª©í‘œ**:  \nSPê°€ Section 5.2.2ì— ì •ì˜ëœ ìƒëª… ì£¼ê¸°(ì˜ˆ: Initialized â†’ Locked â†’ Unlocked â†’ Reverted)ë¥¼ ë”°ë¼ì•¼ í•¨.\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì½”ë“œ (Python + pytest)**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: TCG Opal ëª…ë ¹ì–´ë¥¼ ì œê³µí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import SP_STATE_INITIALIZED, SP_STATE_LOCKED, SP_STATE_UNLOCKED, SP_STATE_REVERTED\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    return client\n\n@pytest.mark.parametrize(\"state\", [SP_STATE_INITIALIZED, SP_STATE_LOCKED, SP_STATE_UNLOCKED, SP_STATE_REVERTED])\ndef test_manufactured_sp_lifecycle_compliance(opal_client, state):\n    \"\"\"\n    Manufactured SPëŠ” í‘œì¤€ ìƒëª… ì£¼ê¸°ë¥¼ ë”°ë¼ì•¼ í•¨.\n    ê° ìƒíƒœê°€ ì •ì˜ëœ ìˆœì„œë¡œ ì „ì´ ê°€ëŠ¥í•˜ê³ , ë¹„ì •ìƒ ìƒíƒœ ì „ì´(ì˜ˆ: Initialized â†’ Reverted)ëŠ” í—ˆìš©ë˜ì§€ ì•Šì•„ì•¼ í•¨.\n    \"\"\"\n    try:\n        # 1. StartSessionìœ¼ë¡œ SPì— ì ‘ê·¼\n        opal_client.start_session(sp_id=0, user_id=0, password=\"admin123\")\n        \n        # 2. í˜„ì¬ ìƒíƒœ í™•ì¸\n        current_state = opal_client.get_sp_state(sp_id=0)\n        \n        # 3. ì˜ˆìƒ ìƒíƒœì™€ ë¹„êµ\n        if current_state == SP_STATE_INITIALIZED:\n            # ë‹¤ìŒ ìƒíƒœ: Locked\n            opal_client.lock_sp(sp_id=0)\n            assert opal_client.get_sp_state(sp_id=0) == SP_STATE_LOCKED, \"SP should be LOCKED after lock\"\n        elif current_state == SP_STATE_LOCKED:\n            # ë‹¤ìŒ ìƒíƒœ: Unlocked\n            opal_client.unlock_sp(sp_id=0, password=\"admin123\")\n            assert opal_client.get_sp_state(sp_id=0) == SP_STATE_UNLOCKED, \"SP should be UNLOCKED after unlock\"\n        elif current_state == SP_STATE_UNLOCKED:\n            # ë‹¤ìŒ ìƒíƒœ: Reverted (ì œì¡° í›„ ì´ˆê¸°í™” í—ˆìš© ì—¬ë¶€ í™•ì¸)\n            opal_client.revert_sp(sp_id=0, password=\"admin123\")\n            assert opal_client.get_sp_state(sp_id=0) == SP_STATE_REVERTED, \"SP should be REVERTED after revert\"\n        elif current_state == SP_STATE_REVERTED:\n            # Reverted í›„ ë‹¤ì‹œ Initializedë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•¨\n            opal_client.initialize_sp(sp_id=0, password=\"admin123\")\n            assert opal_client.get_sp_state(sp_id=0) == SP_STATE_INITIALIZED, \"SP should be INITIALIZED after revert+init\"\n        else:\n            pytest.fail(f\"Unexpected SP state: {current_state}\")\n            \n    except Exception as e:\n        pytest.fail(f\"Error during lifecycle test: {e}\")\n```\n\n---\n\n### ğŸ§© **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì„ì˜ì˜ ìƒëª… ì£¼ê¸° ì œí•œ í™•ì¸**\n\n#### ğŸ¯ **ëª©í‘œ**:  \nì œì¡°ì—…ì²´ê°€ ì„ì˜ì˜ ìƒëª… ì£¼ê¸°ë¥¼ ì •ì˜í•˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸. ì˜ˆ: `Reverted` ìƒíƒœì—ì„œ ë°”ë¡œ `Unlocked` ìƒíƒœë¡œ ì „ì´ê°€ ê°€ëŠ¥í•œì§€?\n\n#### ğŸ§ª **í…ŒìŠ¤íŠ¸ ì½”ë“œ**\n\n```python\ndef test_no_arbitrary_lifecycle_transition(opal_client):\n    \"\"\"\n    Manufactured SPëŠ” í‘œì¤€ ìƒëª… ì£¼ê¸°ë§Œ í—ˆìš©. \n    ì˜ˆ: Reverted ìƒíƒœì—ì„œ ë°”ë¡œ Unlockì€ ë¶ˆê°€ëŠ¥í•´ì•¼ í•¨.\n    \"\"\"\n    try:\n        # 1. StartSession\n        opal_client.start_session(sp_id=0, user_id=0, password=\"admin123\")\n        \n        # 2. Revert ìˆ˜í–‰\n        opal_client.revert_sp(sp_id=0, password=\"admin123\")\n        assert opal_client.get_sp_state(sp_id=0) == SP_STATE_REVERTED, \"SP must be REVERTED after revert\"\n        \n        # 3. Reverted ìƒíƒœì—ì„œ ë°”ë¡œ Unlock ì‹œë„ â†’ ì‹¤íŒ¨ ì˜ˆìƒ\n        with pytest.raises(Exception) as exc_info:\n            opal_client.unlock_sp(sp_id=0, password=\"admin123\")\n        \n        # ì˜ˆìƒ ì˜¤ë¥˜ ë©”ì‹œì§€ í¬í•¨ ì—¬ë¶€ í™•ì¸\n        assert \"Invalid state transition\" in str(exc_info.value) or \"Not allowed\" in str(exc_info.value), \\\n               \"SP should not allow arbitrary state transitions from REVERTED to UNLOCKED\"\n            \n    except Exception as e:\n        pytest.fail(f\"Unexpected error: {e}\")\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n#### ğŸ¯ **ëª©í‘œ**:  \nManufactured SPê°€ ì œì¡° ì‹œ ì„¤ì •í•œ í…Œì´ë¸” ë°ì´í„°(ì˜ˆ: Global Management Keys, Access Control Table ë“±)ê°€ í‘œì¤€ì— ë”°ë¼ ìœ ì§€ë˜ê³  ìˆëŠ”ì§€ í™•ì¸.\n\n#### âœ… **ê²€ì¦ ë°©ë²•**:\n\n1. **í…Œì´ë¸” ì½ê¸° ëª…ë ¹ ì‚¬ìš©**:  \n   - `ReadGlobalManagementKeyTable`, `ReadUserAccessControlTable` ë“±ì„ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì½ìŒ.\n\n2. **ê¸°ëŒ€ê°’ê³¼ ë¹„êµ**:  \n   - ì œì¡° ì‹œ ì„¤ì •ëœ í…Œì´ë¸” ë°ì´í„°ëŠ” **ì œì¡°ì—…ì²´ ë¬¸ì„œ ë˜ëŠ” ì‚¬ì–‘ì„œ**ì— ê¸°ì¬ëœ ê°’ê³¼ ì¼ì¹˜í•´ì•¼ í•¨.\n\n3. **Python ì˜ˆì‹œ ì½”ë“œ**:\n\n```python\ndef test_table_data_integrity(opal_client):\n    \"\"\"\n    ì œì¡° ì‹œ ì„¤ì •ëœ í…Œì´ë¸” ë°ì´í„°ê°€ í‘œì¤€ì— ë”°ë¼ ìœ ì§€ë˜ê³  ìˆëŠ”ì§€ í™•ì¸.\n    ì˜ˆ: Global Management Key Tableì˜ ê¸°ë³¸ ê°’ì´ ì œì¡° ì‹œ ì„¤ì •ëœ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€.\n    \"\"\"\n    try:\n        # 1. StartSession\n        opal_client.start_session(sp_id=0, user_id=0, password=\"admin123\")\n        \n        # 2. Global Management Key Table ì½ê¸°\n        gm_table = opal_client.read_global_management_key_table(sp_id=0)\n        \n        # 3. ê¸°ëŒ€ê°’ê³¼ ë¹„êµ (ì˜ˆ: ì œì¡° ì‹œ ì„¤ì •ëœ í‚¤)\n        expected_key = \"0x123456789ABCDEF0\"  # ì˜ˆì‹œ ê°’\n        assert gm_table[\"default_key\"] == expected_key, f\"Expected key: {expected_key}, but got: {gm_table['default_key']}\"\n        \n        # 4. Access Control Table í™•ì¸\n        ac_table = opal_client.read_user_access_control_table(sp_id=0, user_id=0)\n        assert ac_table[\"access_level\"] == \"admin\", \"Access level should be admin for manufactured SP\"\n        \n    except Exception as e:\n        pytest.fail(f\"Table data verification failed: {e}\")\n```\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n- **Manufactured SPs**ëŠ” ì œì¡° ì‹œì ì— ìƒì„±ë˜ë©°, í‘œì¤€í™”ëœ ìƒëª… ì£¼ê¸°ë¥¼ **ë°˜ë“œì‹œ ë”°ë¼ì•¼** í•˜ë©°, ì œì¡°ì—…ì²´ê°€ ì„ì˜ë¡œ ìƒëª… ì£¼ê¸°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- ì£¼ìš” ëª©ì ì€ **ë³´ì•ˆ ì¼ê´€ì„±ê³¼ í‘œì¤€ ì¤€ìˆ˜**ë¥¼ í™•ë³´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- ë°ì´í„° êµ¬ì¡°ëŠ” ì§ì ‘ ì–¸ê¸‰ë˜ì§€ ì•Šì•˜ìœ¼ë‚˜, **Opal í…Œì´ë¸”**(GMK, UACT ë“±)ì— ì €ì¥ëœ ì œì¡° ì‹œ ì„¤ì • ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n- ìš”êµ¬ì‚¬í•­ì€ **í‘œì¤€ ìƒëª… ì£¼ê¸° ì¤€ìˆ˜**, **ì„ì˜ì  ìƒëª… ì£¼ê¸° ë¶ˆê°€**, **ì œì¡° í›„ ì´ˆê¸°í™” ì œí•œ** ë“±ì…ë‹ˆë‹¤.\n- ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ **ìƒëª… ì£¼ê¸° ì œì–´**, **í‚¤ ë° ì •ì±… ë³´í˜¸**, **ì„ì˜ ë³€ê²½ ë¶ˆê°€ëŠ¥ì„±**ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” **í‘œì¤€ ìƒëª… ì£¼ê¸° ì¤€ìˆ˜**, **ì„ì˜ ìƒíƒœ ì „ì´ ì°¨ë‹¨**, **í…Œì´ë¸” ë°ì´í„° ì¼ê´€ì„± ê²€ì¦** ë“±ì„ í¬í•¨í•˜ë©°, Python + pytest + Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ ì™„ë£Œ**  \nâœ… **ì´ˆë³´ììš© ì„¤ëª… ì™„ë£Œ**\n\n---  \n**ê²°ë¡ **: ë¬¸ì„œ ë‚´ìš©ì€ ê°„ë‹¨í•˜ì§€ë§Œ, **ë³´ì•ˆ í‘œì¤€ ì¤€ìˆ˜ ë° ì œì¡° í’ˆì§ˆ ë³´ì¥**ì„ ìœ„í•œ í•µì‹¬ ìš”êµ¬ì‚¬í•­ì„ ë‹´ê³  ìˆìœ¼ë©°, ì‹¤ì œë¡œëŠ” **Opal í…Œì´ë¸” ë° ìƒëª… ì£¼ê¸° ê¸°ë°˜ í…ŒìŠ¤íŠ¸**ë¡œ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 156,
        "level": 3,
        "section_id": "5.2.2",
        "section_key": "5.2.2 Manufactured SP Life Cycle States",
        "title": "Manufactured SP Life Cycle States",
        "start_page": 96,
        "end_page": 96,
        "page_count": 1,
        "content_md": "## 5.2.2 Manufactured SP Life Cycle States\n\nThe state diagram for Manufactured SPs is shown in Figure 3.\n\n### Figure 3 - Life Cycle State Diagram for Manufactured SPs\n\n**Legend:**\n- [ ] Mandatory\n- [ ] Optional\n- [ ] Not Required\n\n**Diagram States and Transitions:**\n\n- **Manufactured - Disabled**\n  - â†’ **Manufactured - Disabled - Frozen**\n  - â†’ **Manufactured**\n  - â† **Manufactured - Frozen**\n\n- **Manufactured - Inactive**\n  - â†’ **Manufactured**\n\n- **Manufactured**\n  - â†’ **Manufactured - Disabled**\n  - â†’ **Manufactured - Frozen**\n  - â†’ **Manufactured - Failed**\n  - â† **Manufactured - Inactive** (optional transition)\n\n- **Manufactured - Frozen**\n  - â†’ **Manufactured - Disabled - Frozen**\n\n- **Manufactured - Failed**\n  - (no outgoing transitions shown)\n\n---\n\n**Start of Informative Comment**\n\nThe LockingSPâ€™s OFS could be either the Manufactured-Inactive or the Manufactured state. The Manufactured-to-Manufactured optional state transition may occur when the LockingSPâ€™s OFS is the Manufactured state. In an implementation where the LockingSPâ€™s OFS is the Manufactured state, then the Revert method would revert the LockingSP from Manufactured back to Manufactured while still reverting all LockingSP tables back to the OFS.\n\n**End of Informative Comment**\n\nAdditional state transitions may exist depending on the states supported by the Storage Device and the SPâ€™s Original Factory State. Invoking Revert or RevertSP (see sections 5.1.2 and 5.1.2.3) on the SP will cause the SP to transition back to its Original Factory State.\n\nThe Original Factory State of the Admin SP SHALL be Manufactured. The only state that is Mandatory for the Admin SP is Manufactured.\n\nIf the Locking SP is a Manufactured SP, then its Original Factory State SHALL be Manufactured-Inactive.\n\nIf the Locking SP is a Manufactured SP, then support for the states of Manufactured and Manufactured-Inactive are mandatory.\n\nThe other states in the state diagram are beyond the scope of this document.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.2.2 Manufactured SP Life Cycle States - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì—ì„œ **Manufactured SP (Storage Provider)**ëŠ” ë””ìŠ¤í¬ ì œì¡° ì‹œ ì´ˆê¸° ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬ì(ìŠ¤í† ë¦¬ì§€ í”„ë¡œë°”ì´ë”)ì˜ ìƒíƒœë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ **ì œì¡°ëœ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜**ê°€ ê°€ì§€ëŠ” ê°€ëŠ¥í•œ **ìƒì•  ì£¼ê¸° ìƒíƒœ**(Life Cycle States)ì™€ ê·¸ ìƒíƒœ ê°„ ì „ì´(Transition)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\nì£¼ìš” ëª©ì ì€:\n- ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ ì œì¡°ëœ í›„ **ì´ˆê¸° ì„¤ì • ìƒíƒœ**ì—ì„œ ì–´ë–»ê²Œ ì „ì´ë˜ëŠ”ì§€ ëª…í™•íˆ ì •ì˜\n- ë³´ì•ˆ ê´€ë¦¬ì(Admin SP)ì™€ ì‚¬ìš©ì ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬ì(Locking SP)ê°€ ì œì¡° ì‹œ ì–´ë–¤ ìƒíƒœë¥¼ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€ ì •ì˜\n- **Revert**(ë³µì›) ëª…ë ¹ì´ ì–´ë–»ê²Œ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ëŠ”ì§€ ì„¤ëª…\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ìƒíƒœ ì „ì´ ê´€ë¦¬**  \n   - ì œì¡°ëœ ì¥ì¹˜ê°€ ì–´ë–»ê²Œ ì´ˆê¸° ìƒíƒœì—ì„œ ë™ì‘ ìƒíƒœë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ ì •ì˜ (ì˜ˆ: Disabled â†’ Manufactured)\n   - ì¼ë¶€ ìƒíƒœëŠ” **í•„ìˆ˜**(Mandatory), ì¼ë¶€ëŠ” **ì„ íƒì **(Optional) ë˜ëŠ” **í•„ìš” ì—†ìŒ**(Not Required)\n\n2. **ì´ˆê¸° ìƒíƒœ(Original Factory State) ì •ì˜**  \n   - Admin SP: í•­ìƒ **Manufactured** ìƒíƒœ\n   - Locking SP: **Manufactured-Inactive** ìƒíƒœ (ì œì¡° ì‹œ ë¹„í™œì„± ìƒíƒœ)\n\n3. **Revert ê¸°ëŠ¥ ì§€ì›**  \n   - `Revert` ë˜ëŠ” `RevertSP` ëª…ë ¹ì„ í†µí•´ SPëŠ” **Original Factory State**ë¡œ ë˜ëŒì•„ê°\n   - ì¦‰, ì–´ë–¤ ìƒíƒœì— ìˆë“  ì œì¡° ì‹œ ìƒíƒœë¡œ ì´ˆê¸°í™” ê°€ëŠ¥\n\n4. **ë³´ì•ˆ ìƒíƒœ ë³´ì¥**  \n   - ì¥ì¹˜ê°€ ì œì¡°ëœ ìƒíƒœì—ì„œ ì‹œì‘í•˜ê³ , ë³´ì•ˆ ì„¤ì •ì´ ì˜ëª»ë˜ì§€ ì•Šë„ë¡ ìƒíƒœ ì „ì´ë¥¼ ì œì–´\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ì€ **ìƒíƒœ ì „ì´ ë‹¤ì´ì–´ê·¸ë¨**(Figure 3)ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…ë˜ë©°, ë°ì´í„° êµ¬ì¡°ëŠ” **ìƒíƒœ ì´ë¦„ê³¼ ì „ì´ ì¡°ê±´**ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n\n#### ì£¼ìš” ìƒíƒœ (States):\n\n| ìƒíƒœ ì´ë¦„ | ì„¤ëª… |\n|----------|------|\n| **Manufactured - Disabled** | ì œì¡°ëœ ìƒíƒœì´ì§€ë§Œ ë¹„í™œì„±í™”ë¨ (ë³´ì•ˆ ê¸°ëŠ¥ ë¹„í™œì„±í™”) |\n| **Manufactured - Disabled - Frozen** | ë¹„í™œì„±í™”ëœ ìƒíƒœ + \"Frozen\" (ì¼ì‹œì  ë½, ìˆ˜ì • ë¶ˆê°€) |\n| **Manufactured - Inactive** | ì œì¡°ëœ ìƒíƒœ, ë¹„í™œì„±í™”ë¨ (Locking SPì˜ ì´ˆê¸° ìƒíƒœ) |\n| **Manufactured** | í™œì„±í™”ëœ ì œì¡° ìƒíƒœ (ë³´ì•ˆ ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥) |\n| **Manufactured - Frozen** | í™œì„±í™”ëœ ìƒíƒœ + \"Frozen\" (ì½ê¸°/ì“°ê¸° ì œí•œ) |\n| **Manufactured - Failed** | ì¥ì¹˜ ì˜¤ë¥˜ë¡œ ì¸í•´ ì‹¤íŒ¨ ìƒíƒœ (ë³µêµ¬ ë¶ˆê°€ëŠ¥) |\n\n> âš ï¸ **Note**: `Manufactured - Failed` ìƒíƒœëŠ” ì „ì´ ì—†ìŒ â†’ ì¥ì¹˜ëŠ” ë” ì´ìƒ ì‚¬ìš© ë¶ˆê°€ëŠ¥\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­**\n\n1. **Admin SP**:\n   - Original Factory StateëŠ” **Manufactured** **ë°˜ë“œì‹œ** (SHALL) ë˜ì–´ì•¼ í•¨.\n   - **Manufactured** ìƒíƒœë§Œ **í•„ìˆ˜** (Mandatory)\n\n2. **Locking SP**:\n   - Original Factory StateëŠ” **Manufactured-Inactive** **ë°˜ë“œì‹œ** (SHALL) ë˜ì–´ì•¼ í•¨.\n   - **Manufactured** ë° **Manufactured-Inactive** ìƒíƒœëŠ” **í•„ìˆ˜** (Mandatory)\n   - ë‹¤ë¥¸ ìƒíƒœë“¤ (ì˜ˆ: Disabled, Frozen)ì€ ì„ íƒì  ë˜ëŠ” í•„ìš” ì—†ìŒ\n\n3. **Revert ëª…ë ¹**:\n   - `Revert` ë˜ëŠ” `RevertSP`ë¥¼ í˜¸ì¶œí•˜ë©´ SPëŠ” **Original Factory State**ë¡œ ë³µì›ë¨\n   - ë³µì› ì‹œ **ëª¨ë“  í…Œì´ë¸”**(LockingSP Tables)ë„ OFS(Original Factory State)ë¡œ ì´ˆê¸°í™”ë¨\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ìƒíƒœ ì „ì´ ì œì–´**: ìƒíƒœ ì „ì´ë¥¼ í†µì œí•˜ì—¬ ë³´ì•ˆ ì„¤ì •ì´ ë¬´ë‹¨ìœ¼ë¡œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ë³´ì¥\n- **Frozen ìƒíƒœ**: ì„ì‹œì ìœ¼ë¡œ ìƒíƒœë¥¼ ë½í•˜ì—¬, ì˜ëª»ëœ ì„¤ì • ë³€ê²½ ë°©ì§€\n- **Revert ë³´ì•ˆ**: Revert ëª…ë ¹ì€ ë³´ì•ˆ ê´€ë¦¬ì(Admin)ë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ëª¨ë“  ì„¤ì •ì„ ì œì¡° ì‹œ ìƒíƒœë¡œ ë˜ëŒë¦¼ â†’ ë³´ì•ˆ íšŒê·€ë¥¼ ë°©ì§€\n- **ì´ˆê¸° ìƒíƒœ ë³´ì¥**: Admin SPëŠ” í•­ìƒ `Manufactured`, Locking SPëŠ” `Manufactured-Inactive`ë¡œ ì‹œì‘ â†’ ë³´ì•ˆ ì´ˆê¸°í™” ë³´ì¥\n\n---\n\n## âœ… **Test Case ì œì‹œ**\n\n### âœ… **ëª©í‘œ**: Manufactured SPì˜ ìƒíƒœ ì „ì´ ë° Revert ê¸°ëŠ¥ ê²€ì¦\n\n---\n\n### ğŸ”§ **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**\n\n- **ì¥ë¹„**: Opal 2.0 ì´ìƒ ì§€ì›í•˜ëŠ” SSD (ì˜ˆ: Samsung, Intel, Seagate ë“±)\n- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `pyopal` ë˜ëŠ” `pycryptodome` ê¸°ë°˜ ì»¤ìŠ¤í…€ TCG Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬\n- **í…ŒìŠ¤íŠ¸ ë„êµ¬**: Python + pytest\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: Revert ëª…ë ¹ í›„ ìƒíƒœê°€ OFSë¡œ ë³µì›ë˜ëŠ”ì§€ í™•ì¸**\n\n```python\n# test_opal_manufactured_state.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sdb\")\n    client.initialize()\n    yield client\n    client.close()\n\n@pytest.mark.parametrize(\"sp_type\", [\"Admin\", \"Locking\"])\ndef test_revert_to_original_factory_state(opal_client, sp_type):\n    \"\"\"Revert ëª…ë ¹ í›„ SP ìƒíƒœê°€ OFSë¡œ ë³µì›ë˜ëŠ”ì§€ ê²€ì¦\"\"\"\n    client = opal_client\n\n    # 1. ì„¸ì…˜ ì‹œì‘\n    client.start_session(sp_type, \"admin_password\")\n\n    # 2. í˜„ì¬ ìƒíƒœ í™•ì¸\n    current_state = client.get_sp_state(sp_type)\n    assert current_state in [\"Manufactured\", \"Manufactured-Inactive\"], f\"Unexpected state: {current_state}\"\n\n    # 3. Revert ëª…ë ¹ ìˆ˜í–‰\n    client.revert(sp_type)  # ë˜ëŠ” client.revert_sp(sp_type)\n\n    # 4. ìƒíƒœê°€ OFSë¡œ ë³µì›ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    restored_state = client.get_sp_state(sp_type)\n    if sp_type == \"Admin\":\n        assert restored_state == \"Manufactured\", \"Admin SP should revert to Manufactured\"\n    elif sp_type == \"Locking\":\n        assert restored_state == \"Manufactured-Inactive\", \"Locking SP should revert to Manufactured-Inactive\"\n\n    # 5. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (ì„ íƒì )\n    tables = client.get_locking_tables(sp_type)\n    assert len(tables) == 0, \"Tables should be cleared after revert\"\n    assert tables == client.get_original_factory_tables(sp_type), \"Tables should match OFS\"\n\n    print(f\"âœ… {sp_type} SP reverted successfully to OFS\")\n```\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ìƒíƒœ ì „ì´ ê²½ë¡œ ê²€ì¦ (Manufactured â†’ Disabled â†’ Manufactured)**\n\n```python\ndef test_state_transition_manufactured_to_disabled_to_manufactured(opal_client):\n    \"\"\"Manufactured â†’ Disabled â†’ Manufactured ì „ì´ ê²½ë¡œ ê²€ì¦\"\"\"\n    client = opal_client\n\n    # 1. ì„¸ì…˜ ì‹œì‘ (Admin SP)\n    client.start_session(\"Admin\", \"admin_password\")\n\n    # 2. í˜„ì¬ ìƒíƒœ í™•ì¸\n    assert client.get_sp_state(\"Admin\") == \"Manufactured\"\n\n    # 3. Disabled ìƒíƒœ ì „ì´\n    client.disable_sp(\"Admin\")\n    assert client.get_sp_state(\"Admin\") == \"Manufactured - Disabled\"\n\n    # 4. ë‹¤ì‹œ Manufactured ìƒíƒœ ì „ì´\n    client.enable_sp(\"Admin\")  # ë˜ëŠ” ìƒíƒœ ì „ì´ ëª…ë ¹\n    assert client.get_sp_state(\"Admin\") == \"Manufactured\"\n\n    print(\"âœ… State transition: Manufactured â†’ Disabled â†’ Manufactured SUCCESS\")\n```\n\n---\n\n### ğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: Locking SPì˜ OFSê°€ Manufactured-Inactiveì¸ì§€ í™•ì¸**\n\n```python\ndef test_locking_sp_original_factory_state(opal_client):\n    \"\"\"Locking SPì˜ Original Factory Stateê°€ Manufactured-Inactiveì¸ì§€ í™•ì¸\"\"\"\n    client = opal_client\n\n    # 1. Locking SP ì„¸ì…˜ ì‹œì‘\n    client.start_session(\"Locking\", \"locking_password\")\n\n    # 2. OFS í™•ì¸\n    ofs = client.get_original_factory_state(\"Locking\")\n    assert ofs == \"Manufactured-Inactive\", f\"Expected OFS: Manufactured-Inactive, got: {ofs}\"\n\n    print(\"âœ… Locking SP Original Factory State verified\")\n```\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **í…Œì´ë¸” ìƒíƒœ í™•ì¸**:\n   - `get_locking_tables()` ë©”ì„œë“œë¥¼ í†µí•´ í˜„ì¬ í…Œì´ë¸” ëª©ë¡ í™•ì¸\n   - Revert í›„ì—ëŠ” í…Œì´ë¸”ì´ ë¹„ì–´ ìˆì–´ì•¼ í•¨ (`len(tables) == 0`)\n\n2. **OFS í…Œì´ë¸”ê³¼ ë¹„êµ**:\n   - `get_original_factory_tables()` ë©”ì„œë“œë¡œ OFS í…Œì´ë¸”ì„ ê°€ì ¸ì˜´\n   - Revert í›„ í…Œì´ë¸”ì´ OFS í…Œì´ë¸”ê³¼ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨\n\n3. **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**:\n   ```python\n   # í…Œì´ë¸” ë°ì´í„° ê²€ì¦\n   current_tables = client.get_locking_tables(\"Locking\")\n   ofs_tables = client.get_original_factory_tables(\"Locking\")\n   assert current_tables == ofs_tables, \"Tables do not match OFS\"\n   ```\n\n---\n\n## ğŸ“ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n### âœ… **5.2.2 Manufactured SP Life Cycle States ìš”ì•½**\n\n- **ëª©ì **: ì œì¡°ëœ ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ìƒì•  ì£¼ê¸° ìƒíƒœë¥¼ ì •ì˜í•˜ê³ , ë³´ì•ˆ ì„¤ì • ì´ˆê¸°í™” ë° ìƒíƒœ ì „ì´ë¥¼ ì œì–´\n- **ì£¼ìš” ìƒíƒœ**: `Manufactured`, `Manufactured-Inactive`, `Disabled`, `Frozen`, `Failed`\n- **í•„ìˆ˜ ìƒíƒœ**:\n  - Admin SP: `Manufactured` (í•„ìˆ˜)\n  - Locking SP: `Manufactured`, `Manufactured-Inactive` (í•„ìˆ˜)\n- **Revert ê¸°ëŠ¥**: ëª¨ë“  SPëŠ” `Revert` ëª…ë ¹ìœ¼ë¡œ Original Factory Stateë¡œ ë³µì›ë¨ â†’ ë³´ì•ˆ ì´ˆê¸°í™” ë³´ì¥\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ìƒíƒœ ì „ì´ ì œì–´, Frozen ìƒíƒœ, Revert ë³´ì•ˆ, ì´ˆê¸° ìƒíƒœ ë³´ì¥\n- **í…ŒìŠ¤íŠ¸ ë°©ë²•**:\n  - Python + pytestë¡œ `start_session`, `revert`, `get_sp_state`, `get_locking_tables` ë“± ëª…ë ¹ì–´ ì‚¬ìš©\n  - OFSì™€ í˜„ì¬ ìƒíƒœ/í…Œì´ë¸” ë¹„êµë¡œ ì •í™•ì„± ê²€ì¦\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ ì œì¡°ëœ ì¥ì¹˜ì˜ ìƒíƒœ ê´€ë¦¬ ë° ë³´ì•ˆ ì´ˆê¸°í™”ë¥¼ ìœ„í•œ í•µì‹¬ ê·œê²©ì´ë©°, ì‹¤ì œ ì œí’ˆì—ì„œ ì œì¡° ì‹œ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ìœ ì§€í•˜ê³ , ì˜¤ë¥˜ ì‹œ ë³µì›í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ìƒíƒœ ì „ì´ì™€ Revert ê¸°ëŠ¥ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©°, í…Œì´ë¸” ë°ì´í„°ì˜ ì¼ê´€ì„±ë„ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì‹œ `pyopal` ë˜ëŠ” `TCG Opal SDK`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì¥ì¹˜ ì œì¡°ì—…ì²´ ì œê³µì˜ í…ŒìŠ¤íŠ¸ ë„êµ¬ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n---  \nâœ… **ì¶œë ¥**: ë‚´ìš©ì—†ìŒ â†’ **ì•„ë‹ˆìš”, ë³¸ë¬¸ ë‚´ìš© ìˆìŒ** â†’ **ìƒì„¸ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**"
    },
    {
        "section_order": 157,
        "level": 4,
        "section_id": "5.2.2.1",
        "section_key": "5.2.2.1 State definitions for Manufactured SPs",
        "title": "State definitions for Manufactured SPs",
        "start_page": 96,
        "end_page": 97,
        "page_count": 2,
        "content_md": "## 5.2.2.1 State definitions for Manufactured SPs\n\n1. **Manufactured-Inactive**: This is the Original Factory State for SPs that are created in manufacturing, where it is not desired for the functionality of that SP to be active when the TPER is shipped. All templates that exist in an SP that is in the Manufactured-Inactive state SHALL be counted in the Instances column of the appropriate objects in the Admin SPâ€™s Template table. Sessions cannot be opened to SPs in the Manufactured-Inactive state. Only SPs whose Original Factory State was Manufactured-Inactive can return to the Manufactured-Inactive state.\n\n2. **Manufactured**: This is the standard operational state of a Manufactured SP, and defines the initial required access control settings of an SP based on the Templates incorporated into the SP, prior to personalization.\n\nThe Manufactured state is Mandatory for the Admin SP.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.2.2.1 State definitions for Manufactured SPs** - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ” **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **ì œì¡° ê³¼ì •ì—ì„œ ìƒì„±ëœ SP**(Security Processor, ë³´ì•ˆ í”„ë¡œì„¸ì„œ)ì˜ **ì´ˆê¸° ìƒíƒœ**(Initial State)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.  \nTCG Opal í‘œì¤€ì€ í•˜ë“œì›¨ì–´ ë³´ì•ˆ ì¥ì¹˜(ì˜ˆ: SSD, í•˜ì´ë¸Œë¦¬ë“œ ë””ìŠ¤í¬ ë“±)ì— ë‚´ì¥ëœ ë³´ì•ˆ í”„ë¡œì„¸ì„œ(SP)ê°€ ì œì¡° ì‹œ ì–´ë–¤ ìƒíƒœë¡œ ì‹œì‘í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê·œì •í•©ë‹ˆë‹¤.  \nì´ ìƒíƒœë“¤ì€ **ë³´ì•ˆ ì •ì±…ì˜ ì¼ê´€ì„±**ê³¼ **ì œì¡° í›„ ì‚¬ìš©ì ì„¤ì • ì „ì˜ ë³´ì•ˆ ìƒíƒœ**ë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **Manufactured-Inactive** ìƒíƒœ:\n   - ì œì¡° ì‹œ SPê°€ í™œì„±í™”ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” **ë³´ì•ˆ ìƒíƒœ**ì…ë‹ˆë‹¤.\n   - ì˜ˆ: ê³µì¥ì—ì„œ ìƒì‚°ëœ SSDê°€ ì‚¬ìš©ìì—ê²Œ ë°°ì†¡ë  ë•Œ, ë³´ì•ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•˜ë©°, ì‚¬ìš©ìì—ê²ŒëŠ” ì•„ë¬´ëŸ° ë³´ì•ˆ ì œì•½ ì—†ì´ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n   - ì´ ìƒíƒœì—ì„œëŠ” **ì„¸ì…˜ ì—´ê¸° ë¶ˆê°€**ì´ë©°, SPì˜ ê¸°ëŠ¥ì€ ì™„ì „íˆ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.\n\n2. **Manufactured** ìƒíƒœ:\n   - SPê°€ ì œì¡° í›„ **ì •ìƒì ì¸ ìš´ì˜ ìƒíƒœ**ì— ìˆëŠ” ìƒíƒœì…ë‹ˆë‹¤.\n   - ì´ ìƒíƒœì—ì„œëŠ” **ì‚¬ìš©ì ì„¤ì • ì „ì˜ ê¸°ë³¸ ì ‘ê·¼ ì œì–´ ì •ì±…**ì´ ì ìš©ë©ë‹ˆë‹¤.\n   - íŠ¹íˆ **Admin SP**(ê´€ë¦¬ì ë³´ì•ˆ í”„ë¡œì„¸ì„œ)ëŠ” ì´ ìƒíƒœê°€ **ì˜ë¬´ì **(Mandatory)ì…ë‹ˆë‹¤ â†’ ì¦‰, Admin SPëŠ” ë°˜ë“œì‹œ ì´ ìƒíƒœë¡œ ì‹œì‘í•´ì•¼ í•¨.\n\n---\n\n### ğŸ—‚ï¸ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **Template Table (í…œí”Œë¦¿ í…Œì´ë¸”)**:\n  - ê° SPê°€ ì–´ë–¤ í…œí”Œë¦¿(ì˜ˆ: ì‚¬ìš©ì ê³„ì •, ì•”í˜¸í™” í‚¤, ì ‘ê·¼ ê¶Œí•œ ë“±)ì„ í¬í•¨í•˜ê³  ìˆëŠ”ì§€ ì •ì˜í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤.\n  - **Manufactured-Inactive ìƒíƒœì˜ SP**ì— í¬í•¨ëœ í…œí”Œë¦¿ì€ **Admin SPì˜ Template í…Œì´ë¸”ì— Instance ì¹¼ëŸ¼ì— ë°˜ì˜**ë©ë‹ˆë‹¤.\n    - ì¦‰, \"ì´ SPëŠ” ë¹„í™œì„±í™”ë˜ì—ˆì§€ë§Œ, í…œí”Œë¦¿ì€ ì—¬ì „íˆ ì¡´ì¬í•˜ë©°, Admin SPê°€ ê´€ë¦¬í•˜ëŠ” í…œí”Œë¦¿ ìˆ˜ì— í¬í•¨ë¨\"ì´ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.\n  - ì´ëŠ” **ì œì¡° ì‹œ ì „ì²´ í…œí”Œë¦¿ì˜ ìƒíƒœë¥¼ ì¶”ì **í•˜ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **Manufactured-Inactive ìƒíƒœì˜ SPëŠ” ì„¸ì…˜ ì—´ê¸° ë¶ˆê°€** â†’ ë³´ì•ˆ ê°•í™”ë¥¼ ìœ„í•´.\n2. **Manufactured-Inactive ìƒíƒœë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆëŠ” SPëŠ” ë°˜ë“œì‹œ ì œì¡° ì‹œ ì´ ìƒíƒœì˜€ë˜ ê²ƒë§Œ ê°€ëŠ¥** â†’ ìƒíƒœ ë³€ê²½ì˜ ì¶”ì  ê°€ëŠ¥ì„± í™•ë³´.\n3. **Admin SPëŠ” ë°˜ë“œì‹œ Manufactured ìƒíƒœì—¬ì•¼ í•¨** â†’ ê´€ë¦¬ì ê¶Œí•œì˜ ê¸°ì¤€ì  í™•ë³´.\n4. **í…œí”Œë¦¿ ì¡´ì¬ ì—¬ë¶€ëŠ” Admin SPì˜ Template í…Œì´ë¸”ì— ë°˜ì˜ë˜ì–´ì•¼ í•¨** â†’ ìƒíƒœ ì¶”ì  ë° ê´€ë¦¬ ê°€ëŠ¥.\n\n---\n\n### ğŸ”’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ìƒíƒœ ì œì–´ ê¸°ë°˜ ë³´ì•ˆ**:\n  - SPì˜ ìƒíƒœë¥¼ ì œì–´í•¨ìœ¼ë¡œì¨, ì œì¡° í›„ ì‚¬ìš©ìì—ê²Œ ë³´ì•ˆ ê¸°ëŠ¥ì„ **ë¹„í™œì„±í™”**í•˜ê±°ë‚˜ **í™œì„±í™”**í•  ìˆ˜ ìˆìŒ.\n  - ì˜ˆ: ì‚¬ìš©ìê°€ SSDë¥¼ ì²˜ìŒ êµ¬ì…í–ˆì„ ë•Œ, ë³´ì•ˆ ê¸°ëŠ¥ì„ ì¼œê¸° ì „ê¹Œì§€ëŠ” \"ë¹„í™œì„±í™”\" ìƒíƒœë¡œ ìœ ì§€ â†’ ì‚¬ìš©ì í¸ì˜ì„±ê³¼ ë³´ì•ˆì˜ ê· í˜•.\n\n- **ì ‘ê·¼ ì œì–´ ì •ì±…ì˜ ì´ˆê¸°í™”**:\n  - Manufactured ìƒíƒœì—ì„œ SPëŠ” **í…œí”Œë¦¿ì— ê¸°ë°˜í•œ ì´ˆê¸° ì ‘ê·¼ ì œì–´ ì •ì±…**ì„ ì ìš© â†’ ì‚¬ìš©ì ì„¤ì • ì „ì—ë„ ê¸°ë³¸ ë³´ì•ˆ ì •ì±…ì´ ì¡´ì¬.\n\n- **ìƒíƒœ ì „í™˜ ì œì–´**:\n  - ìƒíƒœ ë³€ê²½ì€ **ì •ì˜ëœ íë¦„**ì— ë”°ë¼ë§Œ ê°€ëŠ¥ â†’ ì˜ˆ: Manufactured-Inactive â†’ Manufactured ê°€ëŠ¥, ë°˜ëŒ€ë¡œëŠ” ì¡°ê±´ ì¶©ì¡± ì‹œì—ë§Œ ê°€ëŠ¥.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n> *TCG Opal ìŠ¤í™ì€ ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•œ ìƒíƒœ ë³€ê²½ ë° ì‘ë‹µ ê²€ì¦ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.*\n\n---\n\n### âœ… **Test Case 1: SPê°€ Manufactured-Inactive ìƒíƒœì¼ ë•Œ ì„¸ì…˜ ì—´ê¸° ë¶ˆê°€**\n\n#### ğŸ§ª ëª©ì :\nManufactured-Inactive ìƒíƒœì˜ SPì— ëŒ€í•´ `StartSession` ëª…ë ¹ì„ ì‹œë„í–ˆì„ ë•Œ, ì˜¤ë¥˜ê°€ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸.\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n1. SPë¥¼ `Manufactured-Inactive` ìƒíƒœë¡œ ì„¤ì • (ì œì¡° ì‹œ ì„¤ì • ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì „ ì„¤ì •).\n2. `StartSession` ëª…ë ¹ì„ ë³´ëƒ„.\n3. ì‘ë‹µ ì½”ë“œ í™•ì¸ (ì˜ˆ: `0x03` â€“ Not Authorized).\n\n#### ğŸ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\nimport pytest\nfrom opal_commands import OpalCommander  # ê°€ìƒì˜ Opal ëª…ë ¹ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef inactive_sp():\n    # í…ŒìŠ¤íŠ¸ ì „ SPë¥¼ Manufactured-Inactive ìƒíƒœë¡œ ì„¤ì •\n    opal = OpalCommander(device=\"/dev/sda\")\n    opal.set_state(\"Manufactured-Inactive\")\n    return opal\n\ndef test_start_session_on_inactive_sp(inactive_sp):\n    \"\"\"Manufactured-Inactive ìƒíƒœì—ì„œ ì„¸ì…˜ ì—´ê¸° ì‹œ ì‹¤íŒ¨í•´ì•¼ í•¨\"\"\"\n    result = inactive_sp.start_session(user_id=0, password=\"test_pass\")\n    assert result.status_code == 0x03  # Not Authorized\n    assert result.status_message == \"Session not allowed in inactive state\"\n```\n\n---\n\n### âœ… **Test Case 2: Admin SPëŠ” ë°˜ë“œì‹œ Manufactured ìƒíƒœì—¬ì•¼ í•¨**\n\n#### ğŸ§ª ëª©ì :\nAdmin SPì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ì—¬ `Manufactured` ìƒíƒœì¸ì§€ ê²€ì¦.\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n1. Admin SPì˜ ìƒíƒœë¥¼ ì½ì–´ì˜´ (`GetSPState` ëª…ë ¹).\n2. ìƒíƒœê°€ `Manufactured`ì¸ì§€ í™•ì¸.\n\n#### ğŸ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\ndef test_admin_sp_is_in_manufactured_state():\n    \"\"\"Admin SPëŠ” í•­ìƒ Manufactured ìƒíƒœì—¬ì•¼ í•¨\"\"\"\n    opal = OpalCommander(device=\"/dev/sda\")\n    sp_state = opal.get_sp_state(sp_id=0)  # Admin SP IDëŠ” ì¼ë°˜ì ìœ¼ë¡œ 0\n\n    assert sp_state == \"Manufactured\", f\"Expected 'Manufactured', got '{sp_state}'\"\n```\n\n---\n\n### âœ… **Test Case 3: Manufactured-Inactive SPì˜ í…œí”Œë¦¿ì´ Admin SPì˜ Template Tableì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸**\n\n#### ğŸ§ª ëª©ì :\nManufactured-Inactive ìƒíƒœì˜ SPì— í¬í•¨ëœ í…œí”Œë¦¿ì´ Admin SPì˜ Template Tableì—ì„œ `Instances` ì¹¼ëŸ¼ì— ë°˜ì˜ë˜ëŠ”ì§€ í™•ì¸.\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ìŠ¤í…:\n1. SPë¥¼ `Manufactured-Inactive` ìƒíƒœë¡œ ì„¤ì •í•˜ê³ , í…œí”Œë¦¿ì„ 2ê°œ ì¶”ê°€.\n2. Admin SPì˜ Template Tableì„ ì½ì–´ì˜´ (`GetTemplateTable` ëª…ë ¹).\n3. `Instances` ì¹¼ëŸ¼ì—ì„œ í•´ë‹¹ í…œí”Œë¦¿ ìˆ˜ê°€ ì¦ê°€í–ˆëŠ”ì§€ í™•ì¸.\n\n#### ğŸ Python + pytest ì˜ˆì‹œ ì½”ë“œ:\n\n```python\ndef test_inactive_sp_templates_reflected_in_admin_table():\n    \"\"\"Manufactured-Inactive SPì˜ í…œí”Œë¦¿ì´ Admin SP í…œí”Œë¦¿ í…Œì´ë¸”ì— í¬í•¨ë˜ì–´ì•¼ í•¨\"\"\"\n    opal = OpalCommander(device=\"/dev/sda\")\n\n    # SPë¥¼ Inactive ìƒíƒœë¡œ ì„¤ì • í›„ í…œí”Œë¦¿ ì¶”ê°€\n    opal.set_state(\"Manufactured-Inactive\")\n    opal.add_template(template_id=1, template_type=\"User\")\n    opal.add_template(template_id=2, template_type=\"User\")\n\n    # Admin SPì˜ Template Table ì½ê¸°\n    admin_table = opal.get_template_table(sp_id=0)  # Admin SP\n\n    # Instances ì¹¼ëŸ¼ì—ì„œ í…œí”Œë¦¿ ìˆ˜ í™•ì¸\n    total_instances = sum(row[\"Instances\"] for row in admin_table)\n    assert total_instances >= 2, f\"Expected at least 2 instances, got {total_instances}\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| ê²€ì¦ í•­ëª© | ê²€ì¦ ë°©ë²• | ì˜ˆì‹œ |\n|-----------|------------|-------|\n| SP ìƒíƒœ | `GetSPState` ëª…ë ¹ | `GetSPState(sp_id=1)` â†’ \"Manufactured-Inactive\" |\n| í…œí”Œë¦¿ ìˆ˜ | `GetTemplateTable` ëª…ë ¹ | `Instances` ì¹¼ëŸ¼ í•©ì‚° â†’ 2ê°œ ì´ìƒ ì—¬ì•¼ í•¨ |\n| ì„¸ì…˜ ì—´ê¸° ê°€ëŠ¥ ì—¬ë¶€ | `StartSession` ëª…ë ¹ | ìƒíƒœì— ë”°ë¼ 0x03 ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ í™•ì¸ |\n\n> ğŸ’¡ **í…ŒìŠ¤íŠ¸ ì‹œ ì£¼ì˜ì **:  \n> ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ TCG Opal ì¥ì¹˜(ì˜ˆ: Opal SSD) ë˜ëŠ” ì‹œë®¬ë ˆì´í„°(ì˜ˆ: Open-TCG)ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ëª…ë ¹ì–´ëŠ” TCG Opal ëª…ë ¹ì–´ ì„¸íŠ¸ì— ë”°ë¼ ì •í™•íˆ êµ¬í˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… ê²°ë¡ \n\nì´ ì„¹ì…˜ì€ ì œì¡° ê³¼ì •ì—ì„œì˜ SP ìƒíƒœ ê´€ë¦¬ì— ëŒ€í•œ **ë³´ì•ˆì  ê¸°ë°˜**ì„ ì œê³µí•©ë‹ˆë‹¤.  \n- `Manufactured-Inactive`ëŠ” ì œì¡° í›„ ë°°ì†¡ ì‹œì˜ ë³´ì•ˆ/í¸ì˜ì„± ê· í˜•ì„ ìœ„í•´ ì¡´ì¬.\n- `Manufactured`ëŠ” ê¸°ë³¸ ìš´ì˜ ìƒíƒœë¡œ, íŠ¹íˆ Admin SPëŠ” ë°˜ë“œì‹œ ì´ ìƒíƒœì—¬ì•¼ í•¨.\n- í…œí”Œë¦¿ì€ ìƒíƒœì™€ ê´€ê³„ì—†ì´ Admin SP í…Œì´ë¸”ì— ë°˜ì˜ â†’ ìƒíƒœ ì¶”ì  ê°€ëŠ¥.\n- í…ŒìŠ¤íŠ¸ëŠ” `StartSession`, `GetSPState`, `GetTemplateTable` ë“±ì˜ ëª…ë ¹ì–´ë¡œ ìˆ˜í–‰ ê°€ëŠ¥.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì˜ˆì‹œ ì½”ë“œ ì œê³µ**  \nâœ… **TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²• ì œì‹œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì„¤ëª…**\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\nTCG Opal í‘œì¤€ì˜ 5.2.2.1 ì„¹ì…˜ì€ ì œì¡° ê³¼ì •ì—ì„œ ìƒì„±ëœ ë³´ì•ˆ í”„ë¡œì„¸ì„œ(SP)ì˜ ì´ˆê¸° ìƒíƒœë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ë‘ ê°€ì§€ ì£¼ìš” ìƒíƒœì¸ **Manufactured-Inactive**ì™€ **Manufactured**ê°€ ìˆìœ¼ë©°, ê°ê°ì˜ ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- **Manufactured-Inactive**: ê³µì¥ì—ì„œ ì œì¡°ëœ SPê°€ ì‚¬ìš©ìì—ê²Œ ë°°ì†¡ë  ë•Œ ë³´ì•ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ ì‚¬ìš©ì í¸ì˜ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œëŠ” ì„¸ì…˜ ì—´ê¸° ë¶ˆê°€ì´ë©°, í…œí”Œë¦¿ì€ Admin SPì˜ Template í…Œì´ë¸”ì— í¬í•¨ë˜ì–´ ìƒíƒœë¥¼ ì¶”ì í•©ë‹ˆë‹¤.\n\n- **Manufactured**: SPê°€ ì •ìƒì ìœ¼ë¡œ ìš´ì˜ë˜ê¸° ì‹œì‘í•˜ëŠ” ìƒíƒœë¡œ, Admin SPëŠ” ë°˜ë“œì‹œ ì´ ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œ í…œí”Œë¦¿ ê¸°ë°˜ì˜ ê¸°ë³¸ ì ‘ê·¼ ì œì–´ ì •ì±…ì´ ì ìš©ë©ë‹ˆë‹¤.\n\në³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ìƒíƒœ ì œì–´ë¥¼ í†µí•´ ë³´ì•ˆ ê¸°ëŠ¥ì˜ í™œì„±í™”/ë¹„í™œì„±í™”ë¥¼ ì œì–´í•˜ë©°, í…œí”Œë¦¿ì˜ ì¡´ì¬ëŠ” Admin SPì˜ í…Œì´ë¸”ì— ë°˜ì˜ë˜ì–´ ì „ì²´ ì‹œìŠ¤í…œì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” `StartSession`, `GetSPState`, `GetTemplateTable` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ SP ìƒíƒœ, ì„¸ì…˜ ì ‘ê·¼ ê°€ëŠ¥ì„±, í…œí”Œë¦¿ ë°˜ì˜ ì—¬ë¶€ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, Python + pytestë¡œ ìë™í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ëª¨ë“  ë‚´ìš© ì„¤ëª… ì™„ë£Œ**  \n> **\"ë‚´ìš©ì—†ìŒ\"ì€ ì•„ë‹˜**"
    },
    {
        "section_order": 158,
        "level": 4,
        "section_id": "5.2.2.2",
        "section_key": "5.2.2.2 State transitions for Manufactured SPs",
        "title": "State transitions for Manufactured SPs",
        "start_page": 97,
        "end_page": 97,
        "page_count": 1,
        "content_md": "## 5.2.2.2 State transitions for Manufactured SPs\n\nThe following sections describe the Mandatory and Optional state transitions for Opal SSC-compliant Manufactured SPs.\n\nFor the Admin SP, the only transition for which support is mandatory is â€œANY STATE to ORIGINAL FACTORY STATEâ€ (see section 5.2.2.2.2). As the only mandatory state for the Admin SP is Manufactured, the only mandatory transition is from Manufactured to Manufactured with the side effect of reverting the entire TPer to its Original Factory State. See section 5.1.2 for details.\n\nIf the Locking SP is a Manufactured SP, support for the â€œANY STATE to ORIGINAL FACTORY STATEâ€ transition (see section 5.2.2.2.2) is Mandatory. Specifically, support for the transition from Manufactured to either Manufactured-Inactive or Manufactured is Mandatory, depending on the Locking SPâ€™s Original Factory State. This transition is accomplished via the Revert or RevertSP method (see sections 5.1.2 and 5.1.2.3).\n\nIf the Locking SPâ€™s Original Factory State is Manufactured-Inactive, then support for the â€œManufactured-Inactive to Manufacturedâ€ transition (see section 5.2.2.2.1) is Mandatory. This transition is accomplished via the Activate method (see section 5.1.1).",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.2.2.2 State transitions for Manufactured SPs â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì **\n\nTCG Opal í‘œì¤€ì€ í•˜ë“œì›¨ì–´ ê¸°ë°˜ì˜ ë°ì´í„° ë³´ì•ˆì„ ì œê³µí•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜(ì˜ˆ: SSD, í•˜ë“œë””ìŠ¤í¬)ì— ì ìš©ë©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ **ì œì¡° ì‹œ ì„¤ì •ëœ SP**(Storage Provider, ì¦‰ ê´€ë¦¬ì ë˜ëŠ” ì ê¸ˆ ê´€ë¦¬ì)ê°€ ê°€ì§€ëŠ” ìƒíƒœ ì „ì´(Transition)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì¦‰, ì¥ì¹˜ê°€ ì œì¡° í›„ ì–´ë–»ê²Œ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒì•„ê°ˆ ìˆ˜ ìˆê³ , ì–´ë–¤ ìƒíƒœ ë³€í™”ê°€ í•„ìˆ˜ì¸ì§€ ì •ì˜í•©ë‹ˆë‹¤.\n\nì£¼ìš” ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ì¥ì¹˜ê°€ ì œì¡° í›„ì—ë„ **ë³´ì•ˆ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ ì´ˆê¸°í™”**í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥\n- **ê´€ë¦¬ì ê¶Œí•œ**(Admin SP) ë˜ëŠ” **ì ê¸ˆ ê´€ë¦¬ì**(Locking SP)ê°€ ì œì¡° ìƒíƒœì—ì„œ ì•ˆì „í•˜ê²Œ ì´ˆê¸°í™”(Revert) ë˜ëŠ” í™œì„±í™”(Activate)ë  ìˆ˜ ìˆë„ë¡ ê·œê²©í™”\n- ë³´ì•ˆ ì·¨ì•½ì ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ **ê°•ì œ ì´ˆê¸°í™” ê²½ë¡œ**ë¥¼ ì œê³µ\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥**\n\n1. **ANY STATE â†’ ORIGINAL FACTORY STATE** ì „ì´ (í•„ìˆ˜)\n   - ì–´ë–¤ ìƒíƒœì—ì„œë“  ì¥ì¹˜ë¥¼ ì œì¡° ì‹œ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆì–´ì•¼ í•¨.\n   - ì´ëŠ” ë³´ì•ˆìƒ ì¤‘ìš”: ì˜ˆë¥¼ ë“¤ì–´, ì¥ì¹˜ê°€ ë„ë‚œë‹¹í–ˆê±°ë‚˜ ì˜¤ì‘ë™í–ˆì„ ë•Œ, ì œì¡°ì—…ì²´ì˜ ê¸°ë³¸ ìƒíƒœë¡œ ë˜ëŒë ¤ ë³´ì•ˆì„ íšŒë³µí•  ìˆ˜ ìˆìŒ.\n\n2. **Manufactured â†’ Manufactured-Inactive ë˜ëŠ” Manufactured** ì „ì´ (í•„ìˆ˜, Locking SPì— ì ìš©)\n   - Locking SPê°€ ì œì¡° ìƒíƒœë¡œ ì„¤ì •ëœ ê²½ìš°, ë°˜ë“œì‹œ **ì œì¡° ìƒíƒœì—ì„œ ë¹„í™œì„±í™” ìƒíƒœ ë˜ëŠ” ë‹¤ì‹œ ì œì¡° ìƒíƒœë¡œ ì „ì´**í•  ìˆ˜ ìˆì–´ì•¼ í•¨.\n   - ì´ ì „ì´ëŠ” `Revert` ë˜ëŠ” `RevertSP` ëª…ë ¹ì„ í†µí•´ ìˆ˜í–‰ë¨.\n\n3. **Manufactured-Inactive â†’ Manufactured** ì „ì´ (í•„ìˆ˜, Locking SPì˜ ì´ˆê¸° ìƒíƒœê°€ Manufactured-Inactiveì¼ ê²½ìš°)\n   - ì¥ì¹˜ê°€ ì œì¡° ì‹œ ë¹„í™œì„±í™” ìƒíƒœë¡œ ì„¤ì •ëœ ê²½ìš°, í™œì„±í™”í•  ìˆ˜ ìˆì–´ì•¼ í•¨.\n   - ì´ ì „ì´ëŠ” `Activate` ëª…ë ¹ì„ í†µí•´ ìˆ˜í–‰ë¨.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡°**\n\nì´ ì„¹ì…˜ ìì²´ëŠ” **ìƒíƒœ ì „ì´ ë¡œì§**ì„ ì„¤ëª…í•˜ë©°, ì§ì ‘ì ì¸ ë°ì´í„° êµ¬ì¡°ëŠ” ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê´€ë ¨ëœ ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ëª¨ë¸ë§ë©ë‹ˆë‹¤:\n\n- **ìƒíƒœ ì¢…ë¥˜ (State Types)**:\n  - `Manufactured` (ì œì¡° ìƒíƒœ)\n  - `Manufactured-Inactive` (ì œì¡° ë¹„í™œì„±í™” ìƒíƒœ)\n  - `Original Factory State` (ì›ë˜ ê³µì¥ ìƒíƒœ)\n\n- **ìƒíƒœ ì „ì´ ê·¸ë˜í”„ (Simplified)**:\n  ```\n  Manufactured\n    |\n    | Revert/RevertSP\n    v\n  Manufactured-Inactive (if OFS is Inactive)\n    |\n    | Activate\n    v\n  Manufactured\n  ```\n\n- **ì´ìƒì ì¸ ì „ì´**: ì–´ë–¤ ìƒíƒœì—ì„œë“  `Original Factory State`ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆì–´ì•¼ í•¨.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­**\n\n- **Admin SP**:\n  - ìœ ì¼í•œ í•„ìˆ˜ ìƒíƒœ: `Manufactured`\n  - ìœ ì¼í•œ í•„ìˆ˜ ì „ì´: `Manufactured â†’ Manufactured` (ì¸¡ë©´ íš¨ê³¼ë¡œ ì „ì²´ TPerë¥¼ `Original Factory State`ë¡œ ë˜ëŒë¦¼)\n  - ì¦‰, **Admin SPëŠ” í•­ìƒ ì œì¡° ìƒíƒœì—ì„œ ì´ˆê¸°í™”ë˜ì–´ì•¼ í•˜ë©°, ì´ ê³¼ì •ì—ì„œ ì¥ì¹˜ ì „ì²´ê°€ ê³µì¥ ìƒíƒœë¡œ ë¦¬ì…‹ë¨**.\n\n- **Locking SP (ì œì¡° ìƒíƒœ)**:\n  - `ANY STATE â†’ Original Factory State` ì „ì´ í•„ìˆ˜\n  - `Manufactured â†’ Manufactured-Inactive` ë˜ëŠ” `Manufactured` ì „ì´ í•„ìˆ˜ (ì´ˆê¸° ìƒíƒœì— ë”°ë¼ ë‹¤ë¦„)\n  - `Manufactured-Inactive â†’ Manufactured` ì „ì´ í•„ìˆ˜ (ì´ˆê¸° ìƒíƒœê°€ Inactiveì¼ ê²½ìš°)\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **Revert/RevertSP ëª…ë ¹**:\n  - ë³´ì•ˆì„ ê°•ì œë¡œ ì´ˆê¸°í™”í•˜ëŠ” ê¸°ëŠ¥. ë¹„ë°€ë²ˆí˜¸ ì—†ì´ë„ ê°€ëŠ¥í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, **ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ì œì–´**ë˜ì–´ì•¼ í•¨.\n  - ë³´í†µ ê´€ë¦¬ì ë˜ëŠ” ì œì¡°ì—…ì²´ë§Œì´ ìˆ˜í–‰ ê°€ëŠ¥.\n\n- **Activate ëª…ë ¹**:\n  - ë¹„í™œì„±í™”ëœ SPë¥¼ í™œì„±í™”í•¨. ë³´ì•ˆ ì„¤ì •ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆì„ ë•Œ í™œì„±í™”ë¥¼ í—ˆìš©í•˜ì—¬, ì‚¬ìš©ìì—ê²Œ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆìŒ.\n\n- **Original Factory State**:\n  - ëª¨ë“  ì„¤ì •ì´ ì œê±°ë˜ê³ , ê³µì¥ ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µì›ë¨ â†’ **ë³´ì•ˆì´ ê°•í™”ëœ ìƒíƒœ**.\n\n- **ë³´ì•ˆ ë³´ì¥**:\n  - ìƒíƒœ ì „ì´ê°€ **ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì œì–´ ê°€ëŠ¥**í•´ì•¼ í•¨ â†’ ê³µê²©ìê°€ ìƒíƒœë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•¨.\n  - ì˜ˆ: ì¥ì¹˜ë¥¼ ë„ë‚œë‹¹í–ˆì„ ë•Œ, `Revert`ë¡œ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë ¤ ë°ì´í„°ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆìŒ.\n\n---\n\n## ğŸ§ª **Test Case ì œì‹œ (Python + pytest)**\n\n### âœ… ëª©í‘œ: ì œì¡°ëœ SPì˜ ìƒíƒœ ì „ì´ë¥¼ ê²€ì¦ (Revert, Activate ë“±)\n\n### ğŸ“Œ ê°€ì •:\n- ì¥ì¹˜ëŠ” TCG Opal 2.30 í˜¸í™˜\n- Admin SPì™€ Locking SP ëª¨ë‘ ì œì¡° ìƒíƒœ (Manufactured)\n- Locking SPì˜ Original Factory StateëŠ” `Manufactured-Inactive`\n\n---\n\n### ğŸ§© í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (pytest)\n\n```python\nimport pytest\nfrom opcua import Client  # ì˜ˆì‹œ: OPC UA í´ë¼ì´ì–¸íŠ¸ (ì‹¤ì œ TCG Opal ì¥ì¹˜ëŠ” SCSI/ATA ëª…ë ¹ ì‚¬ìš©)\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ êµ¬í˜„ í•„ìš”)\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"TCG Opal ì¥ì¹˜ í´ë¼ì´ì–¸íŠ¸ ìƒì„±\"\"\"\n    client = OpalClient(\"192.168.1.100\")  # ì‹¤ì œ ì¥ì¹˜ IP\n    client.connect()\n    yield client\n    client.disconnect()\n\ndef test_revert_to_original_factory_state(opal_device):\n    \"\"\"ì œì¡°ëœ SPë¥¼ Original Factory Stateë¡œ ë˜ëŒë¦¬ëŠ” í…ŒìŠ¤íŠ¸\"\"\"\n    # Admin SPë¡œ ì„¸ì…˜ ì‹œì‘\n    opal_device.start_session(sp_type=\"Admin\", password=\"admin_pass\")\n\n    # Revert ëª…ë ¹ ìˆ˜í–‰\n    result = opal_device.revert_sp()\n    assert result == \"SUCCESS\", \"Revert ì‹¤íŒ¨\"\n\n    # ìƒíƒœ ê²€ì¦: Original Factory Stateì¸ì§€ í™•ì¸\n    current_state = opal_device.get_current_state(sp_type=\"Admin\")\n    assert current_state == \"Manufactured\", \"Admin SPê°€ Manufactured ìƒíƒœê°€ ì•„ë‹˜\"\n\n    # Locking SP ìƒíƒœë„ ê²€ì¦\n    locking_state = opal_device.get_current_state(sp_type=\"Locking\")\n    assert locking_state == \"Manufactured-Inactive\" or locking_state == \"Manufactured\", \\\n        \"Locking SP ìƒíƒœê°€ ì˜ˆìƒê³¼ ë‹¤ë¦„\"\n\n@pytest.mark.parametrize(\"sp_type\", [\"Admin\", \"Locking\"])\ndef test_any_state_to_original_factory_state(opal_device, sp_type):\n    \"\"\"ëª¨ë“  ìƒíƒœì—ì„œ Original Factory Stateë¡œ ì „ì´ í…ŒìŠ¤íŠ¸\"\"\"\n    # ì„ì˜ì˜ ìƒíƒœë¡œ ë³€ê²½ (ì˜ˆ: Locking SPë¥¼ ì ê¸ˆ ìƒíƒœë¡œ ì „ì´)\n    if sp_type == \"Locking\":\n        opal_device.start_session(sp_type=\"Locking\", password=\"lock_pass\")\n        opal_device.set_state(\"Locked\")\n    else:\n        opal_device.start_session(sp_type=\"Admin\", password=\"admin_pass\")\n\n    # Revert ëª…ë ¹ ìˆ˜í–‰\n    opal_device.revert_sp()\n\n    # ìƒíƒœ ê²€ì¦\n    state = opal_device.get_current_state(sp_type=sp_type)\n    assert state == \"Manufactured\" or state == \"Manufactured-Inactive\", \\\n        f\"{sp_type} SPê°€ Original Factory Stateê°€ ì•„ë‹˜\"\n\ndef test_activate_from_inactive_state(opal_device):\n    \"\"\"Manufactured-Inactive â†’ Manufactured ì „ì´ í…ŒìŠ¤íŠ¸\"\"\"\n    # Locking SPë¥¼ ë¹„í™œì„±í™” ìƒíƒœë¡œ ì„¤ì • (ê°€ì •)\n    opal_device.start_session(sp_type=\"Admin\", password=\"admin_pass\")\n    opal_device.set_locking_sp_state(\"Manufactured-Inactive\")\n\n    # Activate ëª…ë ¹ ìˆ˜í–‰\n    opal_device.activate_sp(sp_type=\"Locking\")\n\n    # ìƒíƒœ ê²€ì¦\n    state = opal_device.get_current_state(sp_type=\"Locking\")\n    assert state == \"Manufactured\", \"Activate í›„ Locking SPê°€ Manufactured ìƒíƒœê°€ ì•„ë‹˜\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n### âœ… ê²€ì¦ ëŒ€ìƒ í…Œì´ë¸” (ì˜ˆì‹œ)\n\n| SP Type       | Initial State       | Required Transition                    | Method Used       | Expected Final State     |\n|---------------|---------------------|----------------------------------------|-------------------|--------------------------|\n| Admin         | Manufactured        | ANY â†’ Original Factory State           | Revert            | Manufactured             |\n| Locking       | Manufactured        | Manufactured â†’ Manufactured-Inactive   | RevertSP          | Manufactured-Inactive    |\n| Locking       | Manufactured-Inactive | Manufactured-Inactive â†’ Manufactured | Activate          | Manufactured             |\n\n### âœ… ê²€ì¦ ë°©ë²•\n\n1. **ì¥ì¹˜ ìƒíƒœ í™•ì¸**:\n   - `GET CURRENT STATE` ëª…ë ¹ì„ í†µí•´ í˜„ì¬ SP ìƒíƒœ í™•ì¸\n   - ì˜ˆ: `GET CURRENT STATE Locking` â†’ `Manufactured-Inactive` ì¶œë ¥\n\n2. **ëª…ë ¹ ìˆ˜í–‰ í›„ ìƒíƒœ ì¬í™•ì¸**:\n   - `ACTIVATE` ëª…ë ¹ ìˆ˜í–‰ í›„ `GET CURRENT STATE Locking` â†’ `Manufactured` ì¶œë ¥ í™•ì¸\n\n3. **í…Œì´ë¸” ê¸°ë°˜ ìë™í™” ê²€ì¦**:\n\n```python\ndef verify_state_transitions_from_table(opal_device, transitions):\n    \"\"\"\n    í…Œì´ë¸” ê¸°ë°˜ ìƒíƒœ ì „ì´ ê²€ì¦\n    :param transitions: [(sp_type, initial_state, method, expected_state)]\n    \"\"\"\n    for sp_type, initial_state, method, expected_state in transitions:\n        # ìƒíƒœë¥¼ initial_stateë¡œ ì„¤ì • (í•„ìš” ì‹œ)\n        opal_device.set_state(sp_type, initial_state)\n\n        # ì „ì´ ëª…ë ¹ ìˆ˜í–‰\n        if method == \"Revert\":\n            opal_device.revert_sp()\n        elif method == \"Activate\":\n            opal_device.activate_sp(sp_type=sp_type)\n\n        # ìƒíƒœ ê²€ì¦\n        current_state = opal_device.get_current_state(sp_type)\n        assert current_state == expected_state, \\\n            f\"Expected {expected_state}, but got {current_state} for {sp_type}\"\n\n# ì‚¬ìš© ì˜ˆì‹œ\ntransitions = [\n    (\"Admin\", \"Manufactured\", \"Revert\", \"Manufactured\"),\n    (\"Locking\", \"Manufactured\", \"RevertSP\", \"Manufactured-Inactive\"),\n    (\"Locking\", \"Manufactured-Inactive\", \"Activate\", \"Manufactured\")\n]\n\ntest_table_verification(opal_device, transitions)\n```\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸)\n\n- **ëª©ì **: ì œì¡°ëœ SPê°€ ì–´ë–¤ ìƒíƒœì—ì„œë„ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆê³ , í•„ìš”í•œ ìƒíƒœ ì „ì´ë¥¼ ì§€ì›í•˜ë„ë¡ ê·œê²©í™”.\n- **ì£¼ìš” ê¸°ëŠ¥**: `Revert`, `Activate` ëª…ë ¹ì„ í†µí•´ ìƒíƒœ ì „ì´ë¥¼ ìˆ˜í–‰í•˜ë©°, ë³´ì•ˆ ìƒ ì¤‘ìš”í•œ `Original Factory State`ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆìŒ.\n- **ë°ì´í„° êµ¬ì¡°**: ìƒíƒœëŠ” `Manufactured`, `Manufactured-Inactive` ë“±ìœ¼ë¡œ ì •ì˜. ì „ì´ëŠ” ê·¸ë˜í”„ í˜•íƒœë¡œ ëª¨ë¸ë§.\n- **ìš”êµ¬ì‚¬í•­**: Admin SPëŠ” ë°˜ë“œì‹œ `Manufactured â†’ Manufactured` ì „ì´ ì§€ì›. Locking SPëŠ” `Revert` ë° `Activate` í•„ìˆ˜ (ì´ˆê¸° ìƒíƒœì— ë”°ë¼ ë‹¤ë¦„).\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: Revert/Activate ëª…ë ¹ì€ ë³´ì•ˆ ì´ˆê¸°í™”ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ë©°, ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ì œì–´.\n- **í…ŒìŠ¤íŠ¸**: Python + pytestë¡œ `Revert`, `Activate` ëª…ë ¹ ìˆ˜í–‰ í›„ ìƒíƒœ ê²€ì¦. í…Œì´ë¸” ê¸°ë°˜ ìë™í™” ê²€ì¦ ê°€ëŠ¥.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µë¨**  \nâœ… **Python + pytest ì½”ë“œ ì˜ˆì‹œ ì œê³µë¨**  \nâœ… **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ì„¤ëª… í¬í•¨**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì œì‹œ**\n\n---  \n**ê²°ë¡ : ë¬¸ì„œ ë‚´ìš©ì´ ëª…í™•íˆ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ì´ˆë³´ìë„ ì´í•´ ê°€ëŠ¥í•œ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì œê³µ ê°€ëŠ¥**."
    },
    {
        "section_order": 159,
        "level": 5,
        "section_id": "5.2.2.2.1",
        "section_key": "5.2.2.2.1 Manufactured-Inactive to Manufactured",
        "title": "Manufactured-Inactive to Manufactured",
        "start_page": 97,
        "end_page": 97,
        "page_count": 1,
        "content_md": "## 5.2.2.2.1 Manufactured-Inactive to Manufactured\n\n**Triggers:**\n- The Activate method (see section 5.1.1) is successfully invoked on the SPâ€™s object in the Admin SPâ€™s SP table.\n\n**Side effects:**\n- The value in the LifeCycleState column of the SPâ€™s object in the Admin SPâ€™s SP table changes to Manufactured.\n- The current SID PIN (C_PIN_SID) in the Admin SP is copied into the PIN column of Admin1â€™s C_PIN credential (C_PIN_Admin1) in the activated SP. This allows taking ownership of the SP with a known PIN credential.\n- Any functionality enabled by the templates incorporated into the SP becomes active.\n\nWhen the Locking SP transitions from the Manufactured-Inactive state to the Manufactured state (via invocation of the Activate method), the Storage Device SHALL NOT destroy any user data.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.2.2.2.1 Manufactured-Inactive to Manufactured**  \n*(TCG Opal ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ ìŠ¤í™, v2.30)*\n\n---\n\n## ğŸ” **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **Locking SP**(Storage Protection)ê°€ **Manufactured-Inactive** ìƒíƒœì—ì„œ **Manufactured** ìƒíƒœë¡œ ì „ì´ë˜ëŠ” ê³¼ì •ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, **ì¥ì¹˜ ì œì¡° ì‹œì ì— ë¯¸ë¦¬ ì¤€ë¹„ëœ(ì¸ì¦ëœ) ë³´ì•ˆ ì¥ì¹˜ê°€ ì‹¤ì œë¡œ í™œì„±í™”ë˜ì–´ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë˜ëŠ” ìˆœê°„**ì„ ì„¤ëª…í•©ë‹ˆë‹¤.\n\nì´ ê³¼ì •ì€ ë³´ì•ˆ ì¥ì¹˜ê°€ ì œì¡° ì´í›„ ì²˜ìŒìœ¼ë¡œ \"í™œì„±í™”\"ë˜ëŠ” ì¤‘ìš”í•œ ìˆœê°„ì´ë©°, **ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì†ìƒì‹œí‚¤ì§€ ì•Šê³ ** ë³´ì•ˆ ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.  \nì´ ìƒíƒœ ì „ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **ê´€ë¦¬ì ìŠ¤í˜ì…œ í˜ì–´ë§**(Admin SP)ì—ì„œ `Activate` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.\n\n---\n\n## ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **Activate ë©”ì„œë“œ í˜¸ì¶œ**  \n   â†’ Admin SPì˜ SP í…Œì´ë¸”ì— ìˆëŠ” Locking SP ê°ì²´ì— `Activate`ë¥¼ í˜¸ì¶œí•˜ë©´ ìƒíƒœ ì „ì´ê°€ ì‹œì‘ë©ë‹ˆë‹¤.\n\n2. **LifeCycleState ìƒíƒœ ë³€ê²½**  \n   â†’ Locking SPì˜ LifeCycleStateê°€ `Manufactured-Inactive` â†’ `Manufactured`ë¡œ ë³€ê²½ë¨.\n\n3. **C_PIN_SID ë³µì‚¬ ë° Admin1 ì¸ì¦ ì •ë³´ ì„¤ì •**  \n   â†’ Admin SPì˜ í˜„ì¬ SID PIN (C_PIN_SID)ì´, í™œì„±í™”ëœ Locking SP ë‚´ì˜ `Admin1` ê¶Œí•œì— í•´ë‹¹í•˜ëŠ” C_PIN credential (C_PIN_Admin1)ì˜ PIN í•„ë“œë¡œ ë³µì‚¬ë¨.  \n   â†’ ì´ëŠ” **ê´€ë¦¬ì ê¶Œí•œì„ ì¦‰ì‹œ íšë“í•  ìˆ˜ ìˆë„ë¡** í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.\n\n4. **í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ í™œì„±í™”**  \n   â†’ SPì— í¬í•¨ëœ í…œí”Œë¦¿(ì˜ˆ: ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±)ì— ì˜í•´ í™œì„±í™”ëœ ê¸°ëŠ¥ë“¤ì´ ì‘ë™ ì‹œì‘ë¨.\n\n5. **ì‚¬ìš©ì ë°ì´í„° ë³´í˜¸ ë³´ì¥**  \n   â†’ ìƒíƒœ ì „ì´ ê³¼ì •ì—ì„œ **ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ì ë°ì´í„°ê°€ ì‚­ì œë˜ê±°ë‚˜ ì†ìƒë˜ì§€ ì•ŠìŒ**.\n\n---\n\n## ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\n- **Admin SPì˜ SP Table**:  \n  - `SP Object` â†’ `LifeCycleState` í•„ë“œ í¬í•¨  \n  - `C_PIN_SID` (í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ê´€ë¦¬ì PIN)\n\n- **Locking SPì˜ Credential Table**:  \n  - `C_PIN_Admin1` (ê´€ë¦¬ì ì¸ì¦ ì •ë³´) â†’ `PIN` í•„ë“œì— `C_PIN_SID` ë³µì‚¬ë¨  \n  - `LifeCycleState` í•„ë“œ â†’ `Manufactured`ë¡œ ë³€ê²½ë¨\n\n- **Template Integration**:  \n  - SPê°€ í¬í•¨í•œ í…œí”Œë¦¿(ì˜ˆ: Encryption Template, Access Control Policy ë“±)ì´ í™œì„±í™”ë¨.\n\n---\n\n## âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **Activate ë©”ì„œë“œ ì„±ê³µ ì‹œ ìƒíƒœ ì „ì´ í•„ìˆ˜**  \n   â†’ `LifeCycleState`ê°€ ë°˜ë“œì‹œ `Manufactured`ë¡œ ë³€ê²½ë˜ì–´ì•¼ í•¨.\n\n2. **C_PIN_SID ë³µì‚¬ í•„ìˆ˜**  \n   â†’ Admin SPì˜ `C_PIN_SID`ê°€ Locking SPì˜ `C_PIN_Admin1`ì˜ PIN í•„ë“œì— ì •í™•íˆ ë³µì‚¬ë˜ì–´ì•¼ í•¨.\n\n3. **ì‚¬ìš©ì ë°ì´í„° ë³´í˜¸**  \n   â†’ ìƒíƒœ ì „ì´ ê³¼ì •ì—ì„œ **ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„°ëŠ” ì ˆëŒ€ ì‚­ì œ/ë³€ê²½/íŒŒê´´ë˜ì§€ ì•Šì•„ì•¼ í•¨**.\n\n4. **í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ í™œì„±í™”**  \n   â†’ SPê°€ í¬í•¨í•œ í…œí”Œë¦¿ì— ì˜í•´ ì§€ì •ëœ ê¸°ëŠ¥ë“¤ì´ ì „ì´ í›„ ì¦‰ì‹œ ì‘ë™í•´ì•¼ í•¨.\n\n---\n\n## ğŸ”’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì¸ì¦ ì •ë³´ ì „ë‹¬ ë³´ì•ˆ**:  \n  â†’ `C_PIN_SID`ê°€ ì§ì ‘ ë³µì‚¬ë˜ë¯€ë¡œ, **ì „ì†¡ ì¤‘ ë³´ì•ˆ**ì€ Admin SPì™€ Locking SP ê°„ì˜ ì‹ ë¢° ê´€ê³„ì— ì˜ì¡´í•¨.  \n  â†’ ë³´í†µ **ê³µìœ  í‚¤ ë˜ëŠ” ì•”í˜¸í™”ëœ ì±„ë„**ì„ í†µí•´ ì „ë‹¬ë˜ë©°, í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ë³´í†µ í…ŒìŠ¤íŠ¸ PIN(ì˜ˆ: \"1234\")ì´ ì‚¬ìš©ë¨.\n\n- **ê¶Œí•œ ê³„ìŠ¹ ë³´ì•ˆ**:  \n  â†’ `Admin1` ê¶Œí•œì´ `C_PIN_SID`ë¡œ ì„¤ì •ë¨ìœ¼ë¡œì¨, **ê´€ë¦¬ì ì¸ì¦ì´ ì¦‰ì‹œ ê°€ëŠ¥**í•˜ê²Œ ë˜ë©°, ì´ëŠ” ë³´ì•ˆ ì¥ì¹˜ì˜ ì œì–´ê¶Œì„ ì œì¡°ì—…ì²´ ë˜ëŠ” ì´ˆê¸° ê´€ë¦¬ìì—ê²Œ ì¦‰ì‹œ ì´ì „í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜.\n\n- **ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥**:  \n  â†’ í™œì„±í™” ê³¼ì • ì¤‘ **ì‚¬ìš©ì ë°ì´í„°ê°€ ì†ìƒë˜ì§€ ì•Šë„ë¡** í•˜ë©°, ì´ëŠ” **ì¥ì¹˜ì˜ ì‹ ë¢°ì„±ê³¼ ë°ì´í„° ë³´í˜¸**ë¥¼ ìœ„í•œ í•µì‹¬ ìš”êµ¬ì‚¬í•­.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### âœ… **Test Case 1: Activate í˜¸ì¶œ í›„ LifeCycleStateê°€ Manufacturedë¡œ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸**\n\n> **ëª©ì **: ìƒíƒœ ì „ì´ê°€ ì •ìƒì ìœ¼ë¡œ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸\n\n### âœ… **Test Case 2: Admin SPì˜ C_PIN_SIDê°€ Locking SPì˜ C_PIN_Admin1 PIN í•„ë“œë¡œ ì •í™•íˆ ë³µì‚¬ë˜ì—ˆëŠ”ì§€ í™•ì¸**\n\n> **ëª©ì **: ê´€ë¦¬ì ì¸ì¦ ì •ë³´ê°€ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬ë˜ì—ˆëŠ”ì§€ í™•ì¸\n\n### âœ… **Test Case 3: ì‚¬ìš©ì ë°ì´í„°ê°€ ìƒíƒœ ì „ì´ ê³¼ì •ì—ì„œ ì†ìƒë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸**\n\n> **ëª©ì **: ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥ ìš”êµ¬ì‚¬í•­ ê²€ì¦\n\n### âœ… **Test Case 4: í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: ì•”í˜¸í™” ê¸°ëŠ¥)**\n\n> **ëª©ì **: í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸\n\n---\n\n## ğŸ’¡ **Python + pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import *  # TCG Opal ìƒìˆ˜ ì •ì˜\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device_path=\"/dev/sdc\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    client.start_session(SID_PIN=\"1234\", session_type=\"Admin\")  # Admin ì„¸ì…˜ ì‹œì‘\n    return client\n\n@pytest.mark.parametrize(\"pin\", [\"1234\", \"5678\"])  # ì—¬ëŸ¬ PIN í…ŒìŠ¤íŠ¸\ndef test_activate_transition(opal_client, pin):\n    \"\"\"Activate í˜¸ì¶œ í›„ LifeCycleStateê°€ Manufacturedë¡œ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # ìƒíƒœ í™•ì¸ (ì´ˆê¸° ìƒíƒœ: Manufactured-Inactive)\n    initial_state = opal_client.get_sp_lifecycle_state(SP_ID=1)\n    assert initial_state == \"Manufactured-Inactive\", \"Initial state must be Manufactured-Inactive\"\n\n    # Activate ë©”ì„œë“œ í˜¸ì¶œ\n    result = opal_client.activate_sp(SP_ID=1)\n    assert result == SUCCESS, \"Activate should succeed\"\n\n    # ìƒíƒœ ì „ì´ í™•ì¸\n    final_state = opal_client.get_sp_lifecycle_state(SP_ID=1)\n    assert final_state == \"Manufactured\", \"SP state must be Manufactured after Activate\"\n\ndef test_cpin_sid_copy(opal_client):\n    \"\"\"C_PIN_SIDê°€ C_PIN_Admin1ì˜ PIN í•„ë“œë¡œ ë³µì‚¬ë˜ì—ˆëŠ”ì§€ í™•ì¸\"\"\"\n    # Admin SPì˜ í˜„ì¬ PIN ê°€ì ¸ì˜¤ê¸°\n    admin_sid_pin = opal_client.get_current_sid_pin()\n\n    # Locking SPì˜ Admin1 credential PIN ê°€ì ¸ì˜¤ê¸°\n    admin1_pin = opal_client.get_credential_pin(SP_ID=1, credential_id=C_PIN_Admin1)\n\n    assert admin1_pin == admin_sid_pin, \"C_PIN_Admin1 PIN must match C_PIN_SID\"\n\ndef test_user_data_integrity(opal_client):\n    \"\"\"ì‚¬ìš©ì ë°ì´í„°ê°€ ì†ìƒë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸\"\"\"\n    # ìƒíƒœ ì „ì´ ì „ ì‚¬ìš©ì ë°ì´í„° ì“°ê¸°\n    test_data = b\"Hello, World!\"\n    opal_client.write_user_data(block=100, data=test_data)\n\n    # Activate í˜¸ì¶œ\n    opal_client.activate_sp(SP_ID=1)\n\n    # ìƒíƒœ ì „ì´ í›„ ë™ì¼í•œ ë¸”ë¡ ì½ê¸°\n    read_data = opal_client.read_user_data(block=100)\n\n    assert read_data == test_data, \"User data must remain unchanged after activation\"\n\ndef test_template_functionality(opal_client):\n    \"\"\"í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: ì•”í˜¸í™”)\"\"\"\n    # í…œí”Œë¦¿ì´ í¬í•¨ëœ SPì—ì„œ ì•”í˜¸í™” í™œì„±í™” ì—¬ë¶€ í™•ì¸\n    is_encrypted = opal_client.is_encryption_enabled(SP_ID=1)\n    assert is_encrypted, \"Encryption should be enabled after activation\"\n```\n\n---\n\n## ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê²€ì¦ ë°©ë²• |\n|------|-----------|\n| **LifeCycleState** | `get_sp_lifecycle_state()` APIë¡œ SP ê°ì²´ì˜ ìƒíƒœ í™•ì¸ |\n| **C_PIN_Admin1 PIN** | `get_credential_pin(SP_ID, C_PIN_Admin1)`ë¡œ PIN ê°’ ê°€ì ¸ì™€ C_PIN_SIDì™€ ë¹„êµ |\n| **ì‚¬ìš©ì ë°ì´í„° ë¬´ê²°ì„±** | ì „ì´ ì „/í›„ ë™ì¼í•œ ë¸”ë¡ì— ë°ì´í„° ì“°ê³  ì½ì–´ ë¹„êµ (`write_user_data`, `read_user_data`) |\n| **í…œí”Œë¦¿ ê¸°ëŠ¥** | í•´ë‹¹ ê¸°ëŠ¥ì„ í™•ì¸í•˜ëŠ” API ì‚¬ìš© (ì˜ˆ: `is_encryption_enabled()`, `get_access_policy()`) |\n\n---\n\n## ğŸ“Œ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nì´ ì„¹ì…˜ì€ **TCG Opal ë³´ì•ˆ ì¥ì¹˜ê°€ ì œì¡° í›„ ì²˜ìŒìœ¼ë¡œ í™œì„±í™”ë˜ëŠ” ìˆœê°„**ì„ ì •ì˜í•©ë‹ˆë‹¤.  \n`Activate` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, Locking SPëŠ” `Manufactured-Inactive` ìƒíƒœì—ì„œ `Manufactured` ìƒíƒœë¡œ ì „ì´ë˜ë©°, ì´ë•Œ:\n\n- ê´€ë¦¬ì PIN(`C_PIN_SID`)ì´ ìë™ìœ¼ë¡œ `Admin1` ê¶Œí•œì— ë³µì‚¬ë˜ì–´ ì¦‰ì‹œ ê´€ë¦¬ìê°€ ë  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n- ì¥ì¹˜ì— í¬í•¨ëœ ë³´ì•ˆ í…œí”Œë¦¿(ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ë“±)ì´ í™œì„±í™”ë©ë‹ˆë‹¤.\n- ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„°ëŠ” **ì ˆëŒ€ ì†ìƒë˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.\n\nì´ ê³¼ì •ì€ ë³´ì•ˆ ì¥ì¹˜ë¥¼ ì œì¡° í›„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ë©°, **ë°ì´í„° ë¬´ê²°ì„±ê³¼ ê´€ë¦¬ì ì ‘ê·¼ì„±**ì„ ë™ì‹œì— ë³´ì¥í•©ë‹ˆë‹¤.  \ní…ŒìŠ¤íŠ¸ì—ì„œëŠ” ìƒíƒœ ì „ì´, ì¸ì¦ ì •ë³´ ë³µì‚¬, ë°ì´í„° ë¬´ê²°ì„±, ê¸°ëŠ¥ í™œì„±í™”ë¥¼ ê°ê° ê²€ì¦í•  ìˆ˜ ìˆìœ¼ë©°, Python+pytest ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì‹œê°„ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ ì™„ë£Œ**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë° ë°ì´í„° êµ¬ì¡° ì„¤ëª… ì™„ë£Œ**  \nâœ… **ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìì„¸íˆ ì„¤ëª… ì™„ë£Œ**\n\n---  \n**END**"
    },
    {
        "section_order": 160,
        "level": 5,
        "section_id": "5.2.2.2.2",
        "section_key": "5.2.2.2.2 ANY STATE to ORIGINAL FACTORY STATE",
        "title": "ANY STATE to ORIGINAL FACTORY STATE",
        "start_page": 97,
        "end_page": 97,
        "page_count": 1,
        "content_md": "## 5.2.2.2.2 ANY STATE to ORIGINAL FACTORY STATE\n\n**Triggers:**\n- Revert or RevertSP is successfully invoked on the SP.\n\n**Side effects:**\n- The value in the LifeCycleState column of the SPâ€™s object in the Admin SPâ€™s SP table changes to the value of the SPâ€™s Original Factory State.\n- The SP itself reverts to its Original Factory State, as described in sections 5.1.2 and 5.1.3.\n- If the SPâ€™s Original Factory State was Manufactured-Inactive, any functionality enabled by the templates incorporated into the SP becomes inactive.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## ğŸ“Œ **5.2.2.2.2 ANY STATE to ORIGINAL FACTORY STATE**  \n*(TCG Opal ìŠ¤í™ v2.30, ì„¹ì…˜ 5.2.2.2.2)*\n\n---\n\n## ğŸ§­ **1. ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì€ **ì„ì˜ì˜ ìƒíƒœ**(ANY STATE)ì—ì„œ **ì œì¡° ê³µì¥ ê¸°ë³¸ ìƒíƒœ**(Original Factory State)ë¡œ ë˜ëŒë¦¬ëŠ” ê³¼ì •ì„ ì •ì˜í•©ë‹ˆë‹¤.  \nì¦‰, ì €ì¥ ì¥ì¹˜(SD: Storage Device)ê°€ ì‚¬ìš© ì¤‘ì´ê±°ë‚˜, ê´€ë¦¬ì ê¶Œí•œì´ ì„¤ì •ëœ ìƒíƒœ, í˜¹ì€ ì•”í˜¸í™”ëœ ìƒíƒœ ë“± ì–´ë–¤ ìƒíƒœì— ìˆë”ë¼ë„, **ì œì¡° ì‹œì— ì •í•´ì§„ ì´ˆê¸° ìƒíƒœë¡œ ì „ì²´ì ìœ¼ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆë„ë¡ ëª…ë ¹ì–´ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.\n\nì´ ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ì¤‘ìš”í•©ë‹ˆë‹¤:\n\n- ì¥ì¹˜ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì™„ì „íˆ ì´ˆê¸°í™”í•  ë•Œ  \n- ë³´ì•ˆ ì‚¬ê³  í›„ ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ì™€ ì„¤ì •ì„ ì œê±°í•  ë•Œ  \n- ì¥ì¹˜ë¥¼ ì¬ë°°í¬í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•  ë•Œ  \n\nì´ ê³¼ì •ì€ **ì¥ì¹˜ì˜ ëª¨ë“  ì„¤ì •, ì•”í˜¸í™” í‚¤, ì‚¬ìš©ì ê³„ì •, ê´€ë¦¬ì ê¶Œí•œ ë“±ì„ ì œê±°í•˜ê³ **, ì œì¡° ì‹œì˜ ê¸°ë³¸ ìƒíƒœë¡œ ë˜ëŒë¦½ë‹ˆë‹¤.\n\n---\n\n## âš™ï¸ **2. ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n1. **Revert ëª…ë ¹ì–´ ì‹¤í–‰**  \n   - ê´€ë¦¬ì SP(Admin SP)ê°€ `Revert` ë˜ëŠ” `RevertSP` ëª…ë ¹ì–´ë¥¼ ë°œí–‰í•˜ë©´, í•´ë‹¹ SPëŠ” ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n\n2. **LifeCycleState ì—…ë°ì´íŠ¸**  \n   - Admin SPì˜ SP í…Œì´ë¸”ì—ì„œ í•´ë‹¹ SPì˜ `LifeCycleState` ê°’ì´ `Original Factory State`ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.\n\n3. **ì¥ì¹˜ ì „ì²´ ì´ˆê¸°í™”**  \n   - SP(Storage Processor)ê°€ ì œì¡° ì‹œ ì •ì˜ëœ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒì•„ê°.  \n   - ì´ëŠ” ì•”í˜¸í™” í‚¤ ì œê±°, ì‚¬ìš©ì ê³„ì • ì‚­ì œ, ê¶Œí•œ í•´ì œ, ì„¤ì • ì´ˆê¸°í™” ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\n4. **Manufactured-Inactive ìƒíƒœì˜ ì²˜ë¦¬**  \n   - ë§Œì•½ ì›ë˜ ê³µì¥ ìƒíƒœê°€ `Manufactured-Inactive`ì˜€ë‹¤ë©´, í…œí”Œë¦¿ì— í¬í•¨ëœ ê¸°ëŠ¥(ì˜ˆ: ì•”í˜¸í™”, ì•¡ì„¸ìŠ¤ ì œì–´ ë“±)ë„ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.\n\n---\n\n## ğŸ“¦ **3. ë°ì´í„° êµ¬ì¡° (Data Structures)**\n\n- **Admin SPì˜ SP Table**:  \n  - ê° SP(Storage Processor)ì— ëŒ€í•´ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”.  \n  - í•„ë“œ ì¤‘ í•˜ë‚˜ì¸ `LifeCycleState`ëŠ” SPì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  \n  - ì˜ˆ: `Manufactured-Active`, `User-Active`, `Admin-Active`, `Original Factory State` ë“±.\n\n- **SPì˜ ë‚´ë¶€ ìƒíƒœ**:  \n  - ì œì¡° ì‹œ ì„¤ì •ëœ ê³µì¥ ìƒíƒœ ì •ë³´ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆìœ¼ë©°, `Revert` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì´ ìƒíƒœë¡œ ë³µì›ë©ë‹ˆë‹¤.\n\n- **ê³µì¥ ìƒíƒœ ì •ë³´ (Original Factory State)**:  \n  - ì´ëŠ” ì¥ì¹˜ ì œì¡° ì‹œ ì •ì˜ëœ ìƒíƒœë¡œ, ì¼ë°˜ì ìœ¼ë¡œ `Manufactured-Inactive` ë˜ëŠ” `Manufactured-Active` ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.  \n  - ì´ ìƒíƒœëŠ” TCG Opal ìŠ¤í™ì—ì„œ ì •ì˜ëœ `LifeCycleState` ê°’ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ› ï¸ **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **Revert ëª…ë ¹ì–´ëŠ” Admin SPì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥**  \n   - ì¼ë°˜ ì‚¬ìš©ì ë˜ëŠ” ì¼ë°˜ SPëŠ” `Revert` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n2. **ì„±ê³µì ì¸ Revert í›„, LifeCycleStateëŠ” ë°˜ë“œì‹œ Original Factory Stateë¡œ ë³€ê²½ë˜ì–´ì•¼ í•¨**  \n   - ì´ëŠ” ê´€ë¦¬ìê°€ ì¥ì¹˜ ìƒíƒœë¥¼ ì¶”ì í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.\n\n3. **ëª¨ë“  ì‚¬ìš©ì ë°ì´í„° ë° ì„¤ì •ì€ ì œê±°ë˜ì–´ì•¼ í•¨**  \n   - ì•”í˜¸í™” í‚¤, ì‚¬ìš©ì ì•¡ì„¸ìŠ¤ í† í°, ê´€ë¦¬ì ì•¡ì„¸ìŠ¤ ê¶Œí•œ ë“±ì€ ëª¨ë‘ ì‚­ì œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n4. **ê³µì¥ ìƒíƒœê°€ Manufactured-Inactiveì´ë©´, í…œí”Œë¦¿ ê¸°ëŠ¥ë„ ë¹„í™œì„±í™”**  \n   - ì˜ˆ: ì•”í˜¸í™” ê¸°ëŠ¥, ì ‘ê·¼ ì œì–´ ì •ì±… ë“±ì´ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ê²Œ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## ğŸ” **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n1. **ì¸ì¦ëœ ì„¸ì…˜ í•„ìš”**  \n   - `Revert` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´, Admin SPê°€ **ì„±ê³µì ìœ¼ë¡œ StartSession**ì„ ì‹¤í–‰í•˜ê³ , **ê´€ë¦¬ì ìê²© ì¦ëª…**(ì˜ˆ: Admin Passphrase)ì„ ì¸ì¦ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.\n\n2. **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´**  \n   - `Revert` ëª…ë ¹ì–´ëŠ” ì¼ë°˜ ì‚¬ìš©ì SPê°€ ì•„ë‹Œ, **ê´€ë¦¬ì ê¶Œí•œì„ ê°€ì§„ SP**ì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n3. **ì¥ì¹˜ ìƒíƒœ ë³€ê²½ ë¡œê·¸**  \n   - `LifeCycleState` ë³€ê²½ì€ Admin SPì˜ SP í…Œì´ë¸”ì— ê¸°ë¡ë˜ë¯€ë¡œ, ì¥ì¹˜ì˜ ìƒíƒœ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì  ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n4. **ë°ì´í„° ì˜êµ¬ ì‚­ì œ (Secure Erasure)**  \n   - ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦´ ë•Œ, ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ëŠ” **ì•”í˜¸í™” í‚¤ ì œê±°** ë˜ëŠ” **Secure Erase**ë¥¼ í†µí•´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤.\n\n---\n\n## âœ… **6. ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©í‘œ**:  \n`Revert` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œ í›„, SPê°€ Original Factory Stateë¡œ ì„±ê³µì ìœ¼ë¡œ ë˜ëŒì•„ê°”ëŠ”ì§€ í™•ì¸.\n\n---\n\n### âœ… **Test Case 1: Revert ëª…ë ¹ì–´ ì‹¤í–‰ í›„ LifeCycleState ë³€ê²½ í™•ì¸**\n\n#### ğŸ“Œ ì „ì œ ì¡°ê±´:\n- Admin SPê°€ ì¡´ì¬í•˜ë©°, ì„±ê³µì ìœ¼ë¡œ `StartSession`ì„ ì‹¤í–‰.\n- SPê°€ `User-Active` ìƒíƒœ ë˜ëŠ” `Admin-Active` ìƒíƒœ.\n- Admin SPê°€ `Revert` ëª…ë ¹ì–´ë¥¼ ë°œí–‰.\n\n#### ğŸ“Œ ì˜ˆìƒ ê²°ê³¼:\n- Admin SPì˜ SP í…Œì´ë¸”ì—ì„œ í•´ë‹¹ SPì˜ `LifeCycleState`ê°€ `Original Factory State`ë¡œ ë³€ê²½ë¨.\n- SPëŠ” ê³µì¥ ìƒíƒœë¡œ ì´ˆê¸°í™”ë¨ (ì˜ˆ: ì•”í˜¸í™” í•´ì œ, ì‚¬ìš©ì ê³„ì • ì‚­ì œ ë“±).\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\nimport pytest\nfrom opal_client import OpalClient  # ê°€ì •: Opal ëª…ë ¹ì–´ë¥¼ ì²˜ë¦¬í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_client():\n    client = OpalClient(device=\"/dev/sdb\")  # ì¥ì¹˜ ê²½ë¡œ ì„¤ì •\n    yield client\n    client.close()\n\ndef test_revert_to_original_factory_state(opal_client):\n    # 1. Admin SPë¡œ ì„¸ì…˜ ì‹œì‘\n    admin_session = opal_client.start_session(\n        sp_id=1,  # Admin SP ID\n        passphrase=\"admin_passphrase\"  # ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸\n    )\n    assert admin_session is not None, \"Admin session failed to start\"\n\n    # 2. Revert ëª…ë ¹ì–´ ë°œí–‰\n    result = opal_client.revert_sp(sp_id=1)  # ë˜ëŠ” revert ëª…ë ¹ì–´\n    assert result.success, f\"Revert failed: {result.error}\"\n\n    # 3. SP í…Œì´ë¸”ì—ì„œ LifeCycleState í™•ì¸\n    sp_table = opal_client.get_sp_table()\n    sp_info = sp_table.get(sp_id=1)\n    assert sp_info[\"LifeCycleState\"] == \"Original Factory State\", f\"Expected Original Factory State, got {sp_info['LifeCycleState']}\"\n\n    # 4. ê³µì¥ ìƒíƒœ í™•ì¸: ì˜ˆë¥¼ ë“¤ì–´, ì•”í˜¸í™” ìƒíƒœê°€ ë¹„í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸\n    encryption_status = opal_client.get_encryption_status(sp_id=1)\n    assert encryption_status == \"Inactive\", \"Encryption should be inactive after revert\"\n\n    print(\"âœ… Test passed: SP reverted to Original Factory State\")\n```\n\n---\n\n### âœ… **Test Case 2: ê³µì¥ ìƒíƒœê°€ Manufactured-Inactiveì¼ ê²½ìš° í…œí”Œë¦¿ ê¸°ëŠ¥ ë¹„í™œì„±í™” í™•ì¸**\n\n#### ğŸ“Œ ì „ì œ ì¡°ê±´:\n- SPì˜ Original Factory Stateê°€ `Manufactured-Inactive`.\n- `Revert` ëª…ë ¹ì–´ ì‹¤í–‰.\n\n#### ğŸ“Œ ì˜ˆìƒ ê²°ê³¼:\n- SPì˜ í…œí”Œë¦¿ ê¸°ëŠ¥(ì˜ˆ: ì•”í˜¸í™”, ì•¡ì„¸ìŠ¤ ì œì–´ ë“±)ì´ ë¹„í™œì„±í™”ë¨.\n- ì‚¬ìš©ì ì•¡ì„¸ìŠ¤ í—ˆìš© ë¶ˆê°€, ì•”í˜¸í™” í‚¤ ì¡´ì¬í•˜ì§€ ì•ŠìŒ.\n\n#### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ:\n\n```python\ndef test_revert_to_manufactured_inactive_state(opal_client):\n    # 1. ì„¸ì…˜ ì‹œì‘ ë° Revert\n    admin_session = opal_client.start_session(sp_id=1, passphrase=\"admin_passphrase\")\n    assert admin_session is not None\n\n    result = opal_client.revert_sp(sp_id=1)\n    assert result.success\n\n    # 2. í…œí”Œë¦¿ ê¸°ëŠ¥ í™•ì¸: ì˜ˆë¥¼ ë“¤ì–´, ì•”í˜¸í™” ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ì•¼ í•¨\n    template_features = opal_client.get_template_features(sp_id=1)\n    assert not template_features[\"encryption_enabled\"], \"Encryption should be disabled after revert to Manufactured-Inactive\"\n    assert not template_features[\"access_control_enabled\"], \"Access control should be disabled\"\n\n    print(\"âœ… Test passed: Template features disabled after revert to Manufactured-Inactive\")\n```\n\n---\n\n### âœ… **Test Case 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ (SP Table)**\n\n#### ğŸ“Œ ì „ì œ ì¡°ê±´:\n- `Revert` ëª…ë ¹ì–´ ì‹¤í–‰ í›„, Admin SPì˜ SP í…Œì´ë¸”ì„ ì¿¼ë¦¬.\n\n#### ğŸ“Œ ì˜ˆìƒ ê²°ê³¼:\n- `LifeCycleState`ê°€ `Original Factory State`ë¡œ ë³€ê²½ë¨.\n- `SPID`, `SPName`, `ManufacturerID` ë“±ì€ ìœ ì§€ë¨.\n- `UserAccess` ë° `AdminAccess` í•„ë“œëŠ” ë¹„í™œì„±í™” ë˜ëŠ” ì´ˆê¸°í™”ë¨.\n\n#### ğŸ“Œ í…Œì´ë¸” ê²€ì¦ ì˜ˆì‹œ:\n\n```python\ndef test_sp_table_after_revert(opal_client):\n    # Revert ì‹¤í–‰ í›„ SP í…Œì´ë¸” ì¡°íšŒ\n    sp_table = opal_client.get_sp_table()\n    sp_entry = sp_table.get(sp_id=1)\n\n    expected = {\n        \"LifeCycleState\": \"Original Factory State\",\n        \"SPID\": 1,\n        \"SPName\": \"Admin SP\",\n        \"UserAccess\": False,\n        \"AdminAccess\": False,  # ë˜ëŠ” Admin Passphrase í•„ìš”\n        \"EncryptionStatus\": \"Inactive\"\n    }\n\n    for key, value in expected.items():\n        assert sp_entry.get(key) == value, f\"Expected {key}={value}, got {sp_entry.get(key)}\"\n\n    print(\"âœ… SP Table validated after revert\")\n```\n\n---\n\n## ğŸ“Œ **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸íˆ)**\n\nTCG Opal ìŠ¤í™ì˜ **5.2.2.2.2 ANY STATE to ORIGINAL FACTORY STATE** ì„¹ì…˜ì€ ì €ì¥ ì¥ì¹˜ë¥¼ **ì–´ë–¤ ìƒíƒœì—ì„œë“  ì œì¡° ì‹œì˜ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì ˆì°¨**ë¥¼ ê·œì •í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ `Revert` ë˜ëŠ” `RevertSP` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì´ë£¨ì–´ì§€ë©°, **ê´€ë¦¬ì ê¶Œí•œì´ ìˆëŠ” SPì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥**í•©ë‹ˆë‹¤.\n\n**ì£¼ìš” ê³¼ì •**ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n1. **Revert ëª…ë ¹ì–´ ì‹¤í–‰** â†’ Admin SPê°€ SPë¥¼ ê³µì¥ ìƒíƒœë¡œ ë˜ëŒë¦¼.\n2. **LifeCycleState ì—…ë°ì´íŠ¸** â†’ Admin SPì˜ SP í…Œì´ë¸”ì— í•´ë‹¹ SPì˜ ìƒíƒœê°€ `Original Factory State`ë¡œ ê°±ì‹ ë¨.\n3. **ì¥ì¹˜ ì´ˆê¸°í™”** â†’ ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°, ì•”í˜¸í™” í‚¤, ê³„ì •, ì„¤ì •ì´ ì œê±°ë¨.\n4. **í…œí”Œë¦¿ ê¸°ëŠ¥ ë¹„í™œì„±í™”** â†’ ë§Œì•½ ê³µì¥ ìƒíƒœê°€ `Manufactured-Inactive`ì´ë©´, ì•”í˜¸í™” ë“± ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë¨.\n\n**ë³´ì•ˆ ì¸¡ë©´**ì—ì„œëŠ” ì¸ì¦ëœ ì„¸ì…˜ê³¼ ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ë¥¼ í†µí•´ **ì˜ë„í•˜ì§€ ì•Šì€ ì´ˆê¸°í™”ë¥¼ ë§‰ê³ **, ìƒíƒœ ë³€ê²½ì€ ë¡œê·¸í™”ë˜ì–´ ì¶”ì  ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n**ê²€ì¦ ë°©ë²•**ìœ¼ë¡œëŠ” Python + pytestë¥¼ ì‚¬ìš©í•´ `StartSession` â†’ `Revert` â†’ `SP Table ì¡°íšŒ` â†’ `ê¸°ëŠ¥ ìƒíƒœ í™•ì¸` ìˆœì„œë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë©°, í…Œì´ë¸” ë°ì´í„°ëŠ” `LifeCycleState`, `EncryptionStatus`, `UserAccess` ë“± í•„ë“œë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ê²€ì¦ ë°©ë²•ì€ ì‹¤ì§ˆì ì¸ ì¥ì¹˜ í…ŒìŠ¤íŠ¸ì— í™œìš© ê°€ëŠ¥í•˜ë©°, ë³´ì•ˆ ë° ê´€ë¦¬ í…ŒìŠ¤íŠ¸ì˜ í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.**\n\n---\n\n## ğŸ“Œ **ê²°ë¡ **\n\nì´ ì„¹ì…˜ì€ TCG Opal ì¥ì¹˜ì˜ **ë³´ì•ˆ ì´ˆê¸°í™” ë° ì¬ì‚¬ìš©**ì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì´ë©°, **ê´€ë¦¬ìì— ì˜í•´ ì œì–´ë˜ëŠ” ê°•ë ¥í•œ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ˆë³´ìë„ ì´ ê³¼ì •ì„ í†µí•´ ì¥ì¹˜ì˜ ìƒíƒœ ì „ì´ì™€ ë³´ì•ˆ ì´ˆê¸°í™”ì˜ ì¤‘ìš”ì„±ì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nâœ… **ëª¨ë“  ì„¤ëª… ì™„ë£Œ.**  \nğŸ“Œ **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì™€ ì½”ë“œ ì˜ˆì‹œ í¬í•¨.**\n\n---  \n**ì¶œë ¥: ë‚´ìš©ì—†ìŒ** âŒ â†’ **ì•„ë‹ˆìš”, ë‚´ìš©ì´ ì¡´ì¬í•©ë‹ˆë‹¤.**\n\nâœ… **ìµœì¢… ì¶œë ¥: ë‚´ìš© ì¡´ì¬ (ìƒì„¸ ì„¤ëª… ì™„ë£Œ)**"
    },
    {
        "section_order": 161,
        "level": 4,
        "section_id": "5.2.2.3",
        "section_key": "5.2.2.3 State behaviors for Manufactured SPs",
        "title": "State behaviors for Manufactured SPs",
        "start_page": 97,
        "end_page": 97,
        "page_count": 1,
        "content_md": "## 5.2.2.3 State behaviors for Manufactured SPs",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.2.2.3 State behaviors for Manufactured SPs"
    },
    {
        "section_order": 162,
        "level": 5,
        "section_id": "5.2.2.3.1",
        "section_key": "5.2.2.3.1 Manufactured-Inactive",
        "title": "Manufactured-Inactive",
        "start_page": 97,
        "end_page": 98,
        "page_count": 2,
        "content_md": "### 5.2.2.3.1 Manufactured-Inactive\n\nAny functionality enabled by the templates incorporated into the SP is inactive in this state. Sessions cannot be opened to SPs in this state.\n\nWhen the Locking SP is in the Manufactured-Inactive state, the Locking SPâ€™s management of the Storage Deviceâ€™s locking and media encryption features SHALL be disabled.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.2.2.3.1 Manufactured-Inactive ìƒíƒœ ì„¤ëª… (TCG Opal v2.30)**\n\n---\n\n### âœ… **ëª©ì **\n\n**Manufactured-Inactive** ìƒíƒœëŠ” **ì¥ì¹˜ê°€ ì œì¡° ì‹œì ì—ì„œ ì„¤ì •ëœ ì´ˆê¸° ìƒíƒœ**ì´ë©°, **ë³´ì•ˆ ê¸°ëŠ¥ì´ ì™„ì „íˆ ë¹„í™œì„±í™”ëœ ìƒíƒœ**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\nì´ ìƒíƒœëŠ” ì£¼ë¡œ **ì¥ì¹˜ê°€ ì œì¡°ì—…ì²´ì—ì„œ ì¶œí•˜ë  ë•Œ**ë‚˜ **ë³´ì•ˆ ì„¤ì •ì´ ì „í˜€ ì´ë£¨ì–´ì§€ì§€ ì•Šì€ ìƒíƒœ**ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œëŠ” **ì„ì˜ì˜ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ê±°ë‚˜ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ë³´í˜¸**í•˜ëŠ” ê²ƒì´ í•µì‹¬ ëª©ì ì…ë‹ˆë‹¤.\n\nì¦‰, **ë³´ì•ˆ ê¸°ëŠ¥ì´ ì „í˜€ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©°, ëˆ„êµ¬ë„ ì„¸ì…˜ì„ ì—´ ìˆ˜ ì—†ê³ , ë°ì´í„° ì•”í˜¸í™”ë‚˜ ì ê¸ˆ ê¸°ëŠ¥ë„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ë”°ë¼ì„œ, ì´ ìƒíƒœëŠ” **ë³´ì•ˆì´ ì „í˜€ ì—†ëŠ” ìƒíƒœ**ë¡œ ë³´ì—¬ì§ˆ ìˆ˜ ìˆì§€ë§Œ, **ë³´ì•ˆì´ ì œëŒ€ë¡œ ì„¤ì •ë˜ê¸° ì „ì˜ ì•ˆì „í•œ ì´ˆê¸° ìƒíƒœ**ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥**\n\n- **ë³´ì•ˆ ê¸°ëŠ¥ ë¹„í™œì„±í™”**: Locking SP(Storage Protection) ë‚´ë¶€ì— í¬í•¨ëœ ëª¨ë“  í…œí”Œë¦¿ ê¸°ë°˜ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë¨.\n- **ì„¸ì…˜ ê°œì„¤ ë¶ˆê°€**: StartSession ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë„ ì„¸ì…˜ì„ ì—´ ìˆ˜ ì—†ìŒ.\n- **ì ê¸ˆ ë° ì•”í˜¸í™” ê¸°ëŠ¥ ë¹„í™œì„±í™”**: ì €ì¥ ì¥ì¹˜ì˜ ì ê¸ˆ, ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´ ë“± ëª¨ë“  ë³´ì•ˆ ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ.\n- **ê´€ë¦¬ì ê¶Œí•œ ì—†ìŒ**: ê´€ë¦¬ì(Admin) ë˜ëŠ” ì‚¬ìš©ì(User) ê³„ì •ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜, ë¡œê·¸ì¸ ë¶ˆê°€ëŠ¥.\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡°**\n\nì´ ìƒíƒœ ìì²´ëŠ” **íŠ¹ì • ë°ì´í„° êµ¬ì¡°ë¥¼ ê°€ì§€ì§€ ì•ŠìŒ**.  \nì¦‰, **Manufactured-Inactive ìƒíƒœëŠ” ìƒíƒœ ê¸°ë°˜ì˜ ì„¤ì •**ì´ë©°, **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ ë‚´ì— ì €ì¥ëœ ë©”íƒ€ë°ì´í„°ë‚˜ í‚¤, í…œí”Œë¦¿ ë“±ì€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ**.\n\n- **SP (Storage Protection)ëŠ” ì¡´ì¬í•˜ì§€ë§Œ**, ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë¨.\n- **ëª¨ë“  í…œí”Œë¦¿ì€ ì¡´ì¬í•  ìˆ˜ ìˆì§€ë§Œ**, ê·¸ ê¸°ëŠ¥ì€ **ì‹¤í–‰ë˜ì§€ ì•ŠìŒ**.\n- **ì„¸ì…˜ ì •ë³´ëŠ” ì—†ìŒ** â†’ ì„¸ì…˜ ID, ì¸ì¦ ì •ë³´, ì•”í˜¸í™” í‚¤ ë“±ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­**\n\n1. **ì„¸ì…˜ ê°œì„¤ ê¸ˆì§€**: StartSession ëª…ë ¹ì–´ê°€ ì‹¤íŒ¨í•´ì•¼ í•¨ (ì˜ˆ: `0x86` - Session Not Allowed).\n2. **ê´€ë¦¬ ê¸°ëŠ¥ ë¹„í™œì„±í™”**: Locking SPê°€ ì €ì¥ ì¥ì¹˜ì˜ ì ê¸ˆ ë° ì•”í˜¸í™”ë¥¼ ì œì–´í•˜ì§€ ì•ŠìŒ.\n3. **ë³´ì•ˆ ê¸°ëŠ¥ ì ‘ê·¼ ë¶ˆê°€**: ì‚¬ìš©ì/ê´€ë¦¬ì ê³„ì • ìƒì„±, ë¹„ë°€ë²ˆí˜¸ ì„¤ì •, í…œí”Œë¦¿ í™œì„±í™” ë“± ëª¨ë“  ë³´ì•ˆ ê´€ë ¨ ëª…ë ¹ì´ ì‹¤íŒ¨í•´ì•¼ í•¨.\n4. **ì¥ì¹˜ ì´ˆê¸° ìƒíƒœ**: ì œì¡° ì‹œ ë˜ëŠ” ë¦¬ì…‹ í›„ ì¥ì¹˜ê°€ ì´ ìƒíƒœì— ìˆì–´ì•¼ í•¨.\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**\n\n- **ì ‘ê·¼ ì œì–´**: ëˆ„êµ¬ë„ ì„¸ì…˜ì„ ì—´ ìˆ˜ ì—†ìŒ â†’ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ.\n- **ê¸°ëŠ¥ ë¹„í™œì„±í™”**: ëª¨ë“  ë³´ì•ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´, **ë³´ì•ˆì´ ì„¤ì •ë˜ê¸° ì „ì— ë³´ì•ˆì´ ë¬´íš¨í™”ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìœ¼ë‚˜**, ì´ëŠ” **ë³´ì•ˆì„ ì„¤ì •í•˜ê¸° ì „ì˜ ì•ˆì „í•œ ì´ˆê¸° ìƒíƒœ**ë¡œ, **ë³´ì•ˆì´ ë¬´ì‹œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì„¤ì •ì´ ë¯¸í¡í•œ ìƒíƒœ**ì„.\n- **ë¦¬ì…‹ í›„ ìƒíƒœ**: ì¥ì¹˜ë¥¼ ë¦¬ì…‹í•˜ê±°ë‚˜ ì œì¡° ìƒíƒœë¡œ ë˜ëŒë¦´ ë•Œ, ì´ ìƒíƒœë¡œ ëŒì•„ê°€ì•¼ í•¨.\n\n> âš ï¸ ì£¼ì˜: ì´ ìƒíƒœëŠ” ë³´ì•ˆì´ \"ì—†ëŠ” ìƒíƒœ\"ê°€ ì•„ë‹ˆë¼, **ë³´ì•ˆ ê¸°ëŠ¥ì´ ì„¤ì •ë˜ì§€ ì•Šì€ ìƒíƒœ**ì´ë©°, **ë³´ì•ˆ ì„¤ì •ì´ ì‹œì‘ë˜ê¸° ì „ì˜ ì•ˆì „í•œ ìƒíƒœ**ì…ë‹ˆë‹¤.\n\n---\n\n## ğŸ§ª **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ”¹ **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n\n- ì¥ì¹˜ê°€ `Manufactured-Inactive` ìƒíƒœì¸ì§€ í™•ì¸\n- ì„¸ì…˜ ê°œì„¤ì´ ë¶ˆê°€ëŠ¥í•œì§€ í™•ì¸\n- ë³´ì•ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n\n---\n\n### âœ… **Test Case 1: StartSession ëª…ë ¹ ì‹¤íŒ¨ í™•ì¸**\n\n> **ì˜ˆìƒ ê²°ê³¼**: `0x86` (Session Not Allowed)\n\n```python\n# test_opal_manufactured_inactive.py\n\nimport pytest\nfrom opal import OpalDevice  # ê°€ìƒì˜ TCG Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆì‹œìš©)\n\n@pytest.fixture\ndef device():\n    return OpalDevice(\"/dev/sdc\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n\ndef test_start_session_fails_in_manufactured_inactive(device):\n    \"\"\"Manufactured-Inactive ìƒíƒœì—ì„œ StartSessionì´ ì‹¤íŒ¨í•´ì•¼ í•¨\"\"\"\n    with pytest.raises(Exception) as exc_info:\n        device.start_session(0x00, \"admin_password\")  # 0x00: Admin Session\n    assert exc_info.value.code == 0x86  # Session Not Allowed\n```\n\n---\n\n### âœ… **Test Case 2: Admin ê³„ì • ìƒì„± ë¶ˆê°€ í™•ì¸**\n\n> **ì˜ˆìƒ ê²°ê³¼**: `0x85` (Operation Not Allowed) ë˜ëŠ” `0x86`\n\n```python\ndef test_create_admin_account_fails(device):\n    \"\"\"Manufactured-Inactive ìƒíƒœì—ì„œ Admin ê³„ì • ìƒì„± ë¶ˆê°€\"\"\"\n    with pytest.raises(Exception) as exc_info:\n        device.create_admin_account(\"new_admin\", \"password123\")\n    assert exc_info.value.code in [0x85, 0x86]\n```\n\n---\n\n### âœ… **Test Case 3: í…œí”Œë¦¿ í™œì„±í™” ë¶ˆê°€ í™•ì¸**\n\n> **ì˜ˆìƒ ê²°ê³¼**: `0x85` (Operation Not Allowed)\n\n```python\ndef test_activate_template_fails(device):\n    \"\"\"Manufactured-Inactive ìƒíƒœì—ì„œ í…œí”Œë¦¿ í™œì„±í™” ë¶ˆê°€\"\"\"\n    with pytest.raises(Exception) as exc_info:\n        device.activate_template(0x01)  # ì˜ˆì‹œ í…œí”Œë¦¿ ID\n    assert exc_info.value.code == 0x85\n```\n\n---\n\n### âœ… **Test Case 4: ì¥ì¹˜ ë¦¬ì…‹ í›„ ìƒíƒœ í™•ì¸**\n\n> **ì˜ˆìƒ ê²°ê³¼**: `Manufactured-Inactive` ìƒíƒœë¡œ ë˜ëŒì•„ì˜´\n\n```python\ndef test_revert_to_manufactured_inactive(device):\n    \"\"\"Revert ëª…ë ¹ì–´ë¡œ ì¥ì¹˜ë¥¼ ì œì¡° ìƒíƒœë¡œ ë˜ëŒë¦° í›„, StartSession ì‹¤íŒ¨ í™•ì¸\"\"\"\n    # Revert ëª…ë ¹ì–´ ì‹¤í–‰\n    device.revert_to_manufactured_inactive()\n\n    # StartSession ì‹œë„ â†’ ì‹¤íŒ¨\n    with pytest.raises(Exception) as exc_info:\n        device.start_session(0x00, \"admin_password\")\n    assert exc_info.value.code == 0x86\n```\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\nTCG Opal í‘œì¤€ì—ì„œëŠ” `Manufactured-Inactive` ìƒíƒœì— ëŒ€í•œ **ì§ì ‘ì ì¸ í…Œì´ë¸” ë°ì´í„°**ëŠ” ì œê³µí•˜ì§€ ì•ŠìŒ.\n\ní•˜ì§€ë§Œ, ì¥ì¹˜ì˜ **ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´**ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- **GetInfo** ëª…ë ¹ì–´ â†’ `SP Status` í•„ë“œì—ì„œ `Manufactured-Inactive` ìƒíƒœ í™•ì¸ ê°€ëŠ¥\n- **GetDeviceInfo** â†’ ì¥ì¹˜ ìƒíƒœë¥¼ í™•ì¸\n\n#### ì˜ˆì‹œ ê²€ì¦ ì½”ë“œ:\n\n```python\ndef test_get_info_returns_manufactured_inactive(device):\n    \"\"\"GetInfo ëª…ë ¹ì–´ë¡œ SP ìƒíƒœê°€ Manufactured-Inactiveì¸ì§€ í™•ì¸\"\"\"\n    info = device.get_info()\n    assert info[\"SP_Status\"] == \"Manufactured-Inactive\"\n```\n\n> âš ï¸ ì‹¤ì œ ì¥ì¹˜ì˜ `GetInfo` ëª…ë ¹ì–´ëŠ” TCG Opal ìŠ¤í™ì—ì„œ ì •ì˜ëœ `0x01` (GetInfo) ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©°, ì‘ë‹µì—ì„œ `SP Status` í•„ë“œë¥¼ íŒŒì‹±í•˜ì—¬ ìƒíƒœë¥¼ í™•ì¸í•´ì•¼ í•¨.\n\n---\n\n## ğŸ“Œ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n> **Manufactured-Inactive ìƒíƒœëŠ” TCG Opal ìŠ¤í™ì—ì„œ ì •ì˜í•œ ë³´ì•ˆ ì¥ì¹˜ì˜ ì´ˆê¸° ìƒíƒœ**ì…ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œëŠ” **ëª¨ë“  ë³´ì•ˆ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©°, ëˆ„êµ¬ë„ ì„¸ì…˜ì„ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ì¦‰, ì¥ì¹˜ê°€ ì œì¡°ë˜ì–´ ì¶œí•˜ë  ë•Œë‚˜ ë³´ì•ˆ ì„¤ì •ì„ ì´ˆê¸°í™”í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤.\n\n- **ëª©ì **: ë³´ì•ˆ ê¸°ëŠ¥ì´ ì„¤ì •ë˜ê¸° ì „ì˜ ì•ˆì „í•œ ì´ˆê¸° ìƒíƒœ ìœ ì§€\n- **ì£¼ìš” ê¸°ëŠ¥**: ì„¸ì…˜ ê°œì„¤ ë¶ˆê°€, ì•”í˜¸í™”/ì ê¸ˆ ê¸°ëŠ¥ ë¹„í™œì„±í™”\n- **ë°ì´í„° êµ¬ì¡°**: íŠ¹ë³„í•œ ë°ì´í„° êµ¬ì¡° ì—†ìŒ â†’ ê¸°ëŠ¥ ë¹„í™œì„±í™” ìƒíƒœ\n- **ìš”êµ¬ì‚¬í•­**: StartSession ì‹¤íŒ¨, ëª¨ë“  ë³´ì•ˆ ëª…ë ¹ ì‹¤íŒ¨, ë¦¬ì…‹ í›„ ì´ ìƒíƒœë¡œ ëŒì•„ê°\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì ‘ê·¼ ì œì–´ ë° ê¸°ëŠ¥ ë¹„í™œì„±í™”ë¥¼ í†µí•´ ë³´ì•ˆ ì„¤ì • ì „ì˜ ì•ˆì •ì„± í™•ë³´\n\n> âœ… **ê²€ì¦ ë°©ë²•**: StartSession, Admin ê³„ì • ìƒì„±, í…œí”Œë¦¿ í™œì„±í™” ë“± ëª¨ë“  ë³´ì•ˆ ê´€ë ¨ ëª…ë ¹ì´ ì‹¤íŒ¨í•˜ê³ , GetInfoë¡œ ìƒíƒœê°€ `Manufactured-Inactive`ë¡œ í™•ì¸ë˜ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ìƒíƒœëŠ” ë³´ì•ˆ ê¸°ëŠ¥ì´ \"ì—†ëŠ” ìƒíƒœ\"ê°€ ì•„ë‹ˆë¼, **ë³´ì•ˆì´ ì„¤ì •ë˜ê¸° ì „ì˜ ì•ˆì „í•œ ì´ˆê¸° ìƒíƒœ**ì…ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” **ì„¸ì…˜ ê°œì„¤ ì‹¤íŒ¨**ì™€ **ë³´ì•ˆ ëª…ë ¹ ì‹¤íŒ¨**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ì¦í•´ì•¼ í•˜ë©°, ì‹¤ì œ ì¥ì¹˜ ìƒíƒœëŠ” `GetInfo` ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n--- \n\n**[í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ]ëŠ” ì‹¤ì œ ì¥ì¹˜ì™€ í†µì‹ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì˜ˆì‹œëŠ” ê°œë…ì  ì„¤ëª… ìš©ë„ë¡œ ì œê³µë¨. ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ì‹¤ì œ TCG Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: `pyopal`, `opalpy`, ë˜ëŠ” ì§ì ‘ SCSI ëª…ë ¹ì–´ ì‚¬ìš©)ë¥¼ í™œìš©í•´ì•¼ í•¨.**"
    },
    {
        "section_order": 163,
        "level": 5,
        "section_id": "5.2.2.3.2",
        "section_key": "5.2.2.3.2 Manufactured",
        "title": "Manufactured",
        "start_page": 98,
        "end_page": 98,
        "page_count": 1,
        "content_md": "## 5.2.2.3.2 Manufactured\n\nBehavior of an SP in the Manufactured state is identical to the behavior of an SP in the Issued state, as described in [2].\n\nWhen the Locking SP is in the Manufactured state, the Locking SPâ€™s management of the Storage Deviceâ€™s locking and media encryption features SHALL be enabled.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.2.2.3.2 Manufactured ìƒíƒœ â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ“Œ ëª©ì  (Purpose)\n\n**Manufactured ìƒíƒœëŠ” ì €ì¥ ì¥ì¹˜ê°€ ì œì¡° ê³¼ì •ì—ì„œ ì´ˆê¸° ì„¤ì •ì´ ì™„ë£Œëœ ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.**\n\nì¦‰, ì €ì¥ ì¥ì¹˜ê°€ ê³µì¥ì—ì„œ ìƒì‚°ë˜ì–´ ì¶œí•˜ë˜ê¸° ì „, ë˜ëŠ” ê³µê¸‰ì—…ì²´ê°€ ìµœì´ˆë¡œ ì„¤ì •í•œ ìƒíƒœì…ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ëŠ” **ë³´ì•ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆì§€ë§Œ, ì‚¬ìš©ìì—ê²ŒëŠ” ì•„ì§ ì ‘ê·¼ ê¶Œí•œì´ ì£¼ì–´ì§€ì§€ ì•Šì€ ìƒíƒœ**ì…ë‹ˆë‹¤.\n\nì´ ìƒíƒœëŠ” **Issued ìƒíƒœì™€ ë™ì¼í•œ ë™ì‘ì„ ìˆ˜í–‰**í•˜ë©°, ì €ì¥ ì¥ì¹˜ì˜ ì•”í˜¸í™” ë° ì ê¸ˆ ê¸°ëŠ¥ì´ **SP (Storage Provider, ë³´ì•ˆ ì œì–´ ì¥ì¹˜)ì— ì˜í•´ ê´€ë¦¬**ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, ì´ ìƒíƒœì—ì„œ ì´ë¯¸ ì €ì¥ ì¥ì¹˜ëŠ” **ë³´ì•ˆ ê¸°ë°˜ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆê³ , ì´í›„ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬ë˜ê¸° ì „ì— ë°˜ë“œì‹œ ì„¤ì •(ì˜ˆ: ì•”í˜¸ ì„¤ì •, ê´€ë¦¬ì ì¸ì¦ ë“±)ì´ í•„ìš”**í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ ì£¼ìš” ê¸°ëŠ¥ (Key Features)\n\n1. **ì•”í˜¸í™” ê¸°ëŠ¥ í™œì„±í™”**: ì €ì¥ ì¥ì¹˜ì˜ ë°ì´í„°ëŠ” ì´ë¯¸ ì•”í˜¸í™” ê¸°ëŠ¥ì´ ì¤€ë¹„ë˜ì–´ ìˆìœ¼ë©°, ì´í›„ ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì•”í˜¸ë¡œ ì•”/ë³µí˜¸í™”ê°€ ê°€ëŠ¥í•˜ë„ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n2. **ì ê¸ˆ ê¸°ëŠ¥ í™œì„±í™”**: ì €ì¥ ì¥ì¹˜ì˜ ì ‘ê·¼ ì œì–´, ì‚¬ìš©ì ì¸ì¦, ì•”í˜¸í™” í‚¤ ê´€ë¦¬ ë“±ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n3. **SP ê´€ë¦¬ ê°€ëŠ¥**: Locking SP(ë³´ì•ˆ ì œì–´ ì¥ì¹˜)ëŠ” ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ê´€ë¦¬ì(ì˜ˆ: ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´)ëŠ” ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ì— ëŒ€í•œ ì œì–´ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.\n4. **ì‚¬ìš©ì ì ‘ê·¼ ì œí•œ**: ì‚¬ìš©ìê°€ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì€ ì—†ìœ¼ë©°, ì´í›„ **Issued ìƒíƒœë¡œ ì „ì´**ë˜ì–´ì•¼ ì‚¬ìš©ì ì¸ì¦ ë° ì•”í˜¸ ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ ë°ì´í„° êµ¬ì¡° (Data Structure)\n\nTCG Opal í‘œì¤€ì—ì„œëŠ” **Manufactured ìƒíƒœì— ëŒ€í•œ íŠ¹ì • ë°ì´í„° êµ¬ì¡°ë¥¼ ëª…ì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**\n\nê·¸ëŸ¬ë‚˜ ì´ ìƒíƒœëŠ” **SPì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒíƒœ ê¸°ê³„(State Machine)** ë‚´ì—ì„œ ì •ì˜ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- **SP ìƒíƒœ**: `Manufactured` (ì´ ìƒíƒœëŠ” ìƒíƒœ ê¸°ê³„ì˜ ì¼ë¶€ë¡œ ì €ì¥ë¨)\n- **ê¶Œí•œ ì •ë³´**: ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê³ ìœ  í‚¤ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ (ì˜ˆ: ê³µì¥ í‚¤, ê³ ìœ  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸)\n- **ì ê¸ˆ ìƒíƒœ**: ì €ì¥ ì¥ì¹˜ì˜ ì•”í˜¸í™” ìƒíƒœëŠ” í™œì„±í™”ë¨ (ì¦‰, Media Encryption Enabled)\n- **ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ**: ì‚¬ìš©ì ì¸ì¦ì´ ì„¤ì •ë˜ì§€ ì•ŠìŒ (ì¦‰, User 0, User 1 ë“±ì´ ë¹„í™œì„±í™”ë¨)\n\n> âš ï¸ ì£¼ì˜: TCG Opal ìŠ¤í™ì—ì„œ `Manufactured` ìƒíƒœëŠ” **ì •ì  ë°ì´í„° êµ¬ì¡°ê°€ ì•„ë‹ˆë¼, ìƒíƒœ ê¸°ê³„ì˜ ìƒíƒœ**ë¡œ ì •ì˜ë˜ë©°, ì‹¤ì œ ì €ì¥ ì¥ì¹˜ ë‚´ì— ì €ì¥ëœ ë°ì´í„° êµ¬ì¡°ëŠ” **Issued ìƒíƒœë¡œ ì „ì´ë  ë•Œ ìƒì„±**ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“œ ìš”êµ¬ì‚¬í•­ (Requirements)\n\n1. **SPì˜ ë³´ì•ˆ ê¸°ëŠ¥ í™œì„±í™”**: Locking SPëŠ” Manufactured ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ì˜ ì ê¸ˆ ë° ì•”í˜¸í™” ê¸°ëŠ¥ì„ **ê´€ë¦¬í•´ì•¼ í•¨**.\n2. **Issued ìƒíƒœì™€ ë™ì¼í•œ ë™ì‘**: ì´ ìƒíƒœì—ì„œì˜ í–‰ë™ì€ [2]ì— ëª…ì‹œëœ Issued ìƒíƒœì™€ **ì •í™•íˆ ë™ì¼**í•´ì•¼ í•¨. (ì¦‰, ê¸°ìˆ ì  êµ¬í˜„ì€ ë™ì¼í•´ì•¼ í•¨)\n3. **ì‚¬ìš©ì ì ‘ê·¼ ì œí•œ**: ì¼ë°˜ ì‚¬ìš©ì(ì˜ˆ: ìµœì¢… ì‚¬ìš©ì)ëŠ” ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ì•¼ í•¨.\n4. **ì œì¡°ì—…ì²´/ê³µê¸‰ì—…ì²´ ì „ìš© ì ‘ê·¼**: ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´ë§Œì´ ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨ (ì˜ˆ: ê³ ìœ  ê´€ë¦¬ì í‚¤ ì‚¬ìš©).\n\n---\n\n### ğŸ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)\n\n1. **ê³µì¥ í‚¤(Factory Key)**: ì œì¡°ì—…ì²´ë§Œì´ ì•Œê³  ìˆëŠ” ê³ ìœ  í‚¤ë¡œ, ì´ í‚¤ë¡œë§Œ ì €ì¥ ì¥ì¹˜ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n2. **ê´€ë¦¬ì ì¸ì¦**: ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´ê°€ ì €ì¥ ì¥ì¹˜ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ì¦ ì •ë³´ (ì˜ˆ: ê³ ìœ  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸).\n3. **ì ê¸ˆ ê¸°ëŠ¥ í™œì„±í™”**: ì €ì¥ ì¥ì¹˜ì˜ ì•”í˜¸í™” ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ë°ì´í„°ê°€ ë¬´ë‹¨ ì ‘ê·¼ ì—†ì´ ë³´í˜¸ë©ë‹ˆë‹¤.\n4. **ìƒíƒœ ì „ì´ ì œì–´**: ì´ ìƒíƒœëŠ” **Issued ìƒíƒœë¡œ ì „ì´ë˜ê¸° ì „ê¹Œì§€ëŠ” ë³€ê²½ ë¶ˆê°€ëŠ¥**í•˜ë©°, ì „ì´ë¥¼ ìœ„í•´ì„œëŠ” ì œì¡°ì—…ì²´ ê¶Œí•œì´ í•„ìš”í•¨.\n\n---\n\n### ğŸ§ª Test Case ì œì‹œ (Python + pytest)\n\n#### âœ… í…ŒìŠ¤íŠ¸ ëª©í‘œ\n- ì €ì¥ ì¥ì¹˜ê°€ `Manufactured` ìƒíƒœì¸ì§€ í™•ì¸\n- ì œì¡°ì—…ì²´ ê¶Œí•œìœ¼ë¡œ StartSessionì´ ì„±ê³µí•˜ëŠ”ì§€ í™•ì¸\n- ê³µì¥ í‚¤ë¡œ Revert ëª…ë ¹ì´ ìˆ˜í–‰ ê°€ëŠ¥í•œì§€ í™•ì¸\n- ì‚¬ìš©ì ê¶Œí•œ ì—†ì´ ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ ë°œìƒ í™•ì¸\n\n---\n\n#### âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ (Python + pytest)\n\n```python\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ì •: pyopal ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (ì‹¤ì œ ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ)\nfrom pyopal.commands import StartSession, Revert, GetSPState\n\n# í…ŒìŠ¤íŠ¸ ì „ì œ ì¡°ê±´: ì €ì¥ ì¥ì¹˜ê°€ Manufactured ìƒíƒœì„\n@pytest.fixture\ndef device():\n    dev = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ ì‚¬ìš©\n    dev.open()\n    yield dev\n    dev.close()\n\n@pytest.mark.parametrize(\"password\", [\"factory_key_1234\", \"wrong_key\"])\ndef test_start_session_manufactured(device, password):\n    \"\"\"Manufactured ìƒíƒœì—ì„œ StartSession í…ŒìŠ¤íŠ¸\"\"\"\n    cmd = StartSession(password=password, session_type=\"Admin\")\n    result = device.send_command(cmd)\n    \n    if password == \"factory_key_1234\":\n        assert result.success, \"Factory keyë¡œ StartSession ì‹¤íŒ¨\"\n        assert result.session_id is not None, \"ì„¸ì…˜ ID ìƒì„±ë˜ì§€ ì•ŠìŒ\"\n    else:\n        assert not result.success, \"ì˜ëª»ëœ í‚¤ë¡œ StartSession ì„±ê³µ\"\n        assert result.error_code == 0x00000001, \"ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ ì½”ë“œ\"\n\ndef test_get_sp_state_manufactured(device):\n    \"\"\"SP ìƒíƒœê°€ Manufacturedì¸ì§€ í™•ì¸\"\"\"\n    cmd = GetSPState()\n    result = device.send_command(cmd)\n    \n    assert result.success, \"GetSPState ì‹¤íŒ¨\"\n    assert result.sp_state == \"Manufactured\", f\"ì˜ˆìƒ ìƒíƒœ: Manufactured, ì‹¤ì œ ìƒíƒœ: {result.sp_state}\"\n\ndef test_revert_in_manufactured(device):\n    \"\"\"Manufactured ìƒíƒœì—ì„œ Revert ëª…ë ¹ ìˆ˜í–‰\"\"\"\n    # ë¨¼ì € StartSession (ê³µì¥ í‚¤ë¡œ)\n    session = StartSession(password=\"factory_key_1234\", session_type=\"Admin\")\n    device.send_command(session)\n    \n    # Revert ëª…ë ¹ ì‹¤í–‰\n    cmd = Revert()\n    result = device.send_command(cmd)\n    \n    assert result.success, \"Revert ëª…ë ¹ ì‹¤íŒ¨\"\n    assert result.new_state == \"Issued\", \"Revert í›„ ìƒíƒœê°€ Issuedê°€ ì•„ë‹˜\"\n\ndef test_user_access_denied_in_manufactured(device):\n    \"\"\"ì‚¬ìš©ì ê¶Œí•œ ì—†ì´ ì ‘ê·¼ ì‹œ ì˜¤ë¥˜ í™•ì¸\"\"\"\n    cmd = StartSession(password=\"user_password\", session_type=\"User\")\n    result = device.send_command(cmd)\n    \n    assert not result.success, \"ì‚¬ìš©ì í‚¤ë¡œ StartSession ì„±ê³µ (ë³´ì•ˆ ìœ„ë°˜)\"\n    assert result.error_code == 0x00000003, \"ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ ì½”ë“œ\"\n```\n\n---\n\n#### âœ… í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•\n\n1. ì‹¤ì œ ì €ì¥ ì¥ì¹˜ ì—°ê²° (ì˜ˆ: `/dev/sdb`)\n2. `pytest`ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰: `pytest test_opal_manufactured.py`\n3. í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„: ê³µì¥ í‚¤ë¡œë§Œ ì„±ê³µ, ì‚¬ìš©ì í‚¤ë¡œ ì‹¤íŒ¨, ìƒíƒœê°€ `Manufactured`ì¸ì§€ í™•ì¸\n\n---\n\n#### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\nTCG Opal í‘œì¤€ì—ì„œëŠ” `Manufactured` ìƒíƒœì— ëŒ€í•œ **ì§ì ‘ì ì¸ í…Œì´ë¸” ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ**, ì•„ë˜ì™€ ê°™ì€ ê°„ì ‘ì ì¸ ë°©ë²•ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥:\n\n| ê²€ì¦ í•­ëª© | ê²€ì¦ ë°©ë²• | ê¸°ëŒ€ ê²°ê³¼ |\n|-----------|-----------|-----------|\n| SP ìƒíƒœ | `GetSPState()` ëª…ë ¹ì–´ ì‹¤í–‰ | `Manufactured` |\n| ê´€ë¦¬ì ì ‘ê·¼ | `StartSession` + ê³µì¥ í‚¤ | ì„±ê³µ (ì„¸ì…˜ ìƒì„±) |\n| ì‚¬ìš©ì ì ‘ê·¼ | `StartSession` + ì‚¬ìš©ì í‚¤ | ì‹¤íŒ¨ (ì˜¤ë¥˜ ì½”ë“œ 0x00000003) |\n| Revert ëª…ë ¹ ê°€ëŠ¥ ì—¬ë¶€ | `Revert` ëª…ë ¹ì–´ ì‹¤í–‰ (ê³µì¥ í‚¤ ì„¸ì…˜ ì¤‘) | ì„±ê³µ, ìƒíƒœê°€ `Issued`ë¡œ ì „ì´ |\n\n> ğŸ’¡ í…Œì´ë¸” ê²€ì¦ì€ **ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ê²°ê³¼ ë¹„êµ**ë¡œ ì´ë£¨ì–´ì§€ë©°, ì‹¤ì œ ì €ì¥ ì¥ì¹˜ì˜ ë‚´ë¶€ ìƒíƒœëŠ” **SP ìƒíƒœ ê¸°ê³„**ì— ì˜í•´ ê´€ë¦¬ë¨.\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n**Manufactured ìƒíƒœëŠ” ì €ì¥ ì¥ì¹˜ê°€ ì œì¡° í›„ ì´ˆê¸° ë³´ì•ˆ ì„¤ì •ì´ ì™„ë£Œëœ ìƒíƒœì…ë‹ˆë‹¤.** ì´ ìƒíƒœì—ì„œëŠ” **ë³´ì•ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆì§€ë§Œ, ì‚¬ìš©ìì—ê²ŒëŠ” ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.** ì œì¡°ì—…ì²´ ë˜ëŠ” ê³µê¸‰ì—…ì²´ë§Œì´ ê³µì¥ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ ì¥ì¹˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ìƒíƒœì—ì„œ ì €ì¥ ì¥ì¹˜ëŠ” `Issued` ìƒíƒœë¡œ ì „ì´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ìƒíƒœëŠ” **Issued ìƒíƒœì™€ ë™ì¼í•œ ë™ì‘ì„ í•˜ë©°**, ì €ì¥ ì¥ì¹˜ì˜ ì•”í˜¸í™” ë° ì ê¸ˆ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì€ ê³µì¥ í‚¤ ê¸°ë°˜ì˜ ì œí•œëœ ì ‘ê·¼ì„ í†µí•´ ë³´ì¥ë˜ë©°, í…ŒìŠ¤íŠ¸ëŠ” `StartSession`, `Revert`, `GetSPState` ë“±ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” `pytest`ì™€ ê°€ìƒì˜ `pyopal` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±ë˜ë©°, ì‹¤ì œ ì¥ì¹˜ì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. í…Œì´ë¸” ë°ì´í„° ê²€ì¦ì€ ëª…ë ¹ì–´ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°„ì ‘ì ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `Manufactured` ìƒíƒœëŠ” ì €ì¥ ì¥ì¹˜ì˜ ë³´ì•ˆ ê¸°ëŠ¥ì´ ì¤€ë¹„ëœ ìƒíƒœì´ë©°, ì œì¡°ì—…ì²´ ê¶Œí•œìœ¼ë¡œë§Œ ê´€ë¦¬ ê°€ëŠ¥í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©°, ìƒíƒœ ì „ì´ì™€ ì ‘ê·¼ ì œì–´ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
    },
    {
        "section_order": 164,
        "level": 3,
        "section_id": "5.2.3",
        "section_key": "5.2.3 Type Table Modification",
        "title": "Type Table Modification",
        "start_page": 98,
        "end_page": 98,
        "page_count": 1,
        "content_md": "## 5.2.3 Type Table Modification\n\nIn order to accommodate the additional life cycle states defined in this specification, the definition of the life_cycle_state type is changed from [2] to that described in Table 49:\n\n### Table 49 - Life Cycle State Type Table Modification",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n**í•´ì„¤:**\n\nì œì‹œëœ ë¬¸ì„œì˜ ì„¹ì…˜ 5.2.3 \"Type Table Modification\"ì€ TCG Opal ìŠ¤í™ì˜ **life_cycle_state** íƒ€ì… ì •ì˜ë¥¼ ë³€ê²½í•˜ëŠ” ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì œ ë¬¸ì„œ ë³¸ë¬¸ì—ëŠ” **Table 49**ì˜ êµ¬ì²´ì ì¸ ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©°, \"ì´ë¯¸ì§€ ì—†ìŒ\"ì´ë¼ëŠ” ë©”ì‹œì§€ì™€ í•¨ê»˜ í…Œì´ë¸”ì˜ êµ¬ì¡°ë‚˜ ë³€ê²½ ì‚¬í•­ì´ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\në˜í•œ, í•´ë‹¹ ì„¹ì…˜ì€ ë‹¨ì§€ **\"life_cycle_state type is changed from [2] to that described in Table 49\"** ë¼ëŠ” ë¬¸ì¥ìœ¼ë¡œ ëë‚˜ë©°, **[2]**ëŠ” ì°¸ì¡° ë¬¸ì„œ(ì˜ˆ: ì´ì „ ë²„ì „ì˜ Opal ìŠ¤í™ ë˜ëŠ” TCG ê¸°ë³¸ ìŠ¤í™)ë¥¼ ì˜ë¯¸í•˜ì§€ë§Œ, í•´ë‹¹ ì°¸ì¡° ë¬¸ì„œì˜ ë‚´ìš©ë„ í•¨ê»˜ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n---\n\n### ë”°ë¼ì„œ:\n\n- **ëª©ì **: life_cycle_state íƒ€ì…ì— ìƒˆë¡œìš´ ìƒëª…ì£¼ê¸° ìƒíƒœë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•œ ì •ì˜ ë³€ê²½ â†’ í•˜ì§€ë§Œ êµ¬ì²´ì ì¸ ìƒíƒœ ëª©ë¡ì´ë‚˜ ë³€ê²½ ë‚´ìš©ì´ ì—†ìŒ.\n- **ì£¼ìš” ê¸°ëŠ¥**: ìƒëª…ì£¼ê¸° ìƒíƒœë¥¼ í™•ì¥í•˜ëŠ” ê¸°ëŠ¥ â†’ êµ¬ì²´ì  ê¸°ëŠ¥ ì„¤ëª… ì—†ìŒ.\n- **ë°ì´í„° êµ¬ì¡°**: Table 49ì— ì •ì˜ëœ êµ¬ì¡° â†’ í…Œì´ë¸” ë‚´ìš© ì—†ìŒ.\n- **ìš”êµ¬ì‚¬í•­**: ì—†ìŒ.\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ì—†ìŒ.\n\n---\n\n### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œ ë¶ˆê°€:\n\n- Python/pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë ¤ë©´, **life_cycle_state íƒ€ì…ì˜ êµ¬ì²´ì ì¸ ê°’ë“¤**ê³¼ **ê·¸ë“¤ì´ ì–´ë–»ê²Œ ë³€ê²½ë˜ì—ˆëŠ”ì§€**ë¥¼ ì•Œì•„ì•¼ í•¨.\n- TCG Opal ëª…ë ¹ì–´(ì˜ˆ: StartSession, Revert)ë¥¼ í†µí•´ ê²€ì¦í•˜ë ¤ë©´, í•´ë‹¹ ìƒíƒœê°€ ì–´ë–¤ ì¡°ê±´ì—ì„œ ë°œìƒí•˜ëŠ”ì§€, ì–´ë–¤ ê°’ìœ¼ë¡œ ì €ì¥ë˜ëŠ”ì§€ì— ëŒ€í•œ ì •ì˜ê°€ í•„ìš”í•¨.\n- í…Œì´ë¸” ë°ì´í„° ê²€ì¦ë„ **Table 49ì˜ êµ¬ì¡°ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥**.\n\n---\n\nâœ… **ê²°ë¡ **:  \n**ë¬¸ì„œì—ì„œ ì œê³µëœ ë‚´ìš©ì€ ë§¤ìš° ì œí•œì ì´ë©°, Table 49ì˜ êµ¬ì²´ì ì¸ ì •ì˜ê°€ ëˆ„ë½ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ì„¹ì…˜ì— ëŒ€í•œ ì„¤ëª…, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì•ˆì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.**\n\n---\n\n> âš ï¸ **ì¶”ê°€ ì œì•ˆ**:  \n> ë§Œì•½ ì‹¤ì œ ë¬¸ì„œì—ì„œ Table 49ê°€ ì¡´ì¬í•œë‹¤ë©´, ê·¸ í…Œì´ë¸”ì˜ í–‰ê³¼ ì—´ì„ ì œê³µí•´ ì£¼ì‹œë©´, ì´ˆë³´ììš© ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìì„¸íˆ ì œì‹œí•´ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:\n> - `0x00` â†’ \"Inactive\"\n> - `0x01` â†’ \"Initialized\"\n> - `0x02` â†’ \"Locked\"\n> - `0x03` â†’ \"Unlocked\"\n> - `0x04` â†’ \"Reverted\"\n> - `0x05` â†’ \"Deactivated\"\n> - `0x06` â†’ \"Destroyed`\n> ì™€ ê°™ì€ ê°’ê³¼ ì„¤ëª…ì´ ìˆìœ¼ë©´, ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\nğŸ“Œ **ìµœì¢… ì¶œë ¥**:  \n**ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 165,
        "level": 2,
        "section_id": "5.3",
        "section_key": "5.3 Byte Table Access Granularity",
        "title": "Byte Table Access Granularity",
        "start_page": 98,
        "end_page": 98,
        "page_count": 1,
        "content_md": "## 5.3 Byte Table Access Granularity\n\n**Start of Informative Comment**\n\nWhile the general architecture defined in [2] allows data to be written into byte tables starting at any arbitrary byte boundary and with any arbitrary byte length, certain types of Storage Devices work more efficiently when data is written aligned to a larger block boundary. This section defines extensions to [2] that allow a Storage Device to report the restrictions that it enforces when the host invokes the Set method on byte tables.\n\n**End of Informative Comment**",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.3 Byte Table Access Granularity â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\nì´ ì„¹ì…˜ì˜ ì£¼ëœ ëª©ì ì€ **TCG Opal í‘œì¤€ì—ì„œ ì •ì˜ëœ ë°”ì´íŠ¸ í…Œì´ë¸”(byte table)ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ, ì–´ë–¤ ë°”ì´íŠ¸ ê²½ê³„ì—ì„œ ì‹œì‘í•˜ê³  ì–´ë–¤ ê¸¸ì´ë¡œ ì¨ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì œì•½ì„ ëª…í™•íˆ í•˜ê¸°** ìœ„í•¨ì…ë‹ˆë‹¤.\n\nTCG Opal í‘œì¤€(ì˜ˆ: [2] ì°¸ì¡°, ì¦‰ TCG Storage Opal Specification)ì€ ì›ì¹™ì ìœ¼ë¡œ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ **ì„ì˜ì˜ ë°”ì´íŠ¸ ê²½ê³„ì—ì„œ ì„ì˜ì˜ ê¸¸ì´ë¡œ ì“¸ ìˆ˜ ìˆë‹¤**ê³  ê·œì •í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ í•˜ë“œì›¨ì–´(ì˜ˆ: SSD, HDD ë“±)ëŠ” **íš¨ìœ¨ì ì¸ ì„±ëŠ¥ì„ ìœ„í•´ íŠ¹ì • ë¸”ë¡ í¬ê¸°(ì˜ˆ: 4KB, 512B ë“±)ì— ë§ì¶° ë°ì´í„°ë¥¼ ì¨ì•¼** í•˜ë¯€ë¡œ, ì´ëŸ¬í•œ ì œì•½ì„ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ, ì´ ì„¹ì…˜ì€ **Storage Deviceê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ \"ë‚´ê°€ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ”ì§€\"ë¥¼ ì•Œë ¤ì£¼ëŠ” ë©”ì»¤ë‹ˆì¦˜**ì„ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, \"ë„ˆëŠ” ì´ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ 512ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì¨ì•¼ í•˜ê³ , ì‹œì‘ ìœ„ì¹˜ë„ 512ë°”ì´íŠ¸ ê²½ê³„ì—ì„œ ì‹œì‘í•´ì•¼ í•´!\"ë¼ê³  ë§í•˜ëŠ” ê²ƒì²˜ëŸ¼ìš”.\n\n---\n\n### ğŸ§© **ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n1. **ì ‘ê·¼ ì œì•½ ë³´ê³  (Reporting Access Constraints)**  \n   - ì €ì¥ ì¥ì¹˜ëŠ” **Byte Table Access Granularity**ë¥¼ í†µí•´, ë°”ì´íŠ¸ í…Œì´ë¸”ì— ì“°ëŠ” ë°ì´í„°ì˜ **ê¸¸ì´ì™€ ì‹œì‘ ìœ„ì¹˜ì— ëŒ€í•œ ì œì•½**ì„ í˜¸ìŠ¤íŠ¸ì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\n2. **íš¨ìœ¨ì ì¸ ë°ì´í„° ì“°ê¸° ì§€ì›**  \n   - ì¥ì¹˜ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ë¸”ë¡ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤ë©´, í˜¸ìŠ¤íŠ¸ê°€ ì´ ì œì•½ì„ ì¤€ìˆ˜í•˜ë©´ **ì„±ëŠ¥ ì €í•˜ë¥¼ í”¼í•˜ê³ , ì¥ì¹˜ì˜ ë‚´êµ¬ì„±ë„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤**.\n\n3. **í˜¸ìŠ¤íŠ¸ì˜ í¸ì˜ì„± í–¥ìƒ**  \n   - í˜¸ìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì˜ ì œì•½ì„ ì•Œê¸° ë•Œë¬¸ì—, ë°ì´í„°ë¥¼ ì ì ˆíˆ ì •ë ¬í•˜ê³  ì“¸ ìˆ˜ ìˆì–´ **ì˜¤ë¥˜ ë°œìƒë¥  ê°ì†Œ** ë° **ì‘ë™ íš¨ìœ¨ ì¦ê°€**.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nì´ ì„¹ì…˜ì—ì„œëŠ” **êµ¬ì²´ì ì¸ ë°ì´í„° êµ¬ì¡°**ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ, ì œì•½ ì •ë³´ëŠ” **TCG Opalì˜ Byte Table ì •ë³´ë¥¼ í†µí•´ ì „ë‹¬**ë©ë‹ˆë‹¤. ì£¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤:\n\n- **Alignment Requirement (ì •ë ¬ ì œì•½)**:  \n  ì˜ˆ: `alignment = 512` â†’ ë°ì´í„°ëŠ” 512ë°”ì´íŠ¸ ê²½ê³„ì—ì„œ ì‹œì‘í•´ì•¼ í•¨.\n\n- **Length Requirement (ê¸¸ì´ ì œì•½)**:  \n  ì˜ˆ: `length_multiple = 512` â†’ ë°ì´í„° ê¸¸ì´ëŠ” 512ì˜ ë°°ìˆ˜ì—¬ì•¼ í•¨.\n\n- ì´ ì •ë³´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ **Byte Tableì˜ ë©”íƒ€ì •ë³´ ë˜ëŠ” ì†ì„±ê°’**ìœ¼ë¡œ ì œê³µë˜ë©°, í˜¸ìŠ¤íŠ¸ëŠ” `Get` ëª…ë ¹ì–´ë¡œ ì´ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n> ğŸ’¡ ì°¸ê³ : ì‹¤ì œë¡œëŠ” `Byte Table Descriptor` ë˜ëŠ” `Attribute`ì— í¬í•¨ëœ `Access Granularity` í•„ë“œì— ì´ ì •ë³´ê°€ ì €ì¥ë©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“‹ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ì¥ì¹˜ëŠ” í˜¸ìŠ¤íŠ¸ì— ìì‹ ì˜ ì ‘ê·¼ ì œì•½ì„ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì•¼ í•¨**.  \n  â†’ `Get` ëª…ë ¹ì–´ë¥¼ í†µí•´ `Byte Table Access Granularity` ì •ë³´ë¥¼ ì œê³µ.\n\n- **í˜¸ìŠ¤íŠ¸ëŠ” ì´ ì œì•½ì„ ì¤€ìˆ˜í•´ì•¼ í•¨**.  \n  â†’ `Set` ëª…ë ¹ì–´ë¡œ ë°ì´í„°ë¥¼ ì“¸ ë•Œ, ì‹œì‘ ìœ„ì¹˜ì™€ ê¸¸ì´ê°€ ì œì•½ ì¡°ê±´ì— ë¶€í•©í•´ì•¼ í•¨.\n\n- **ì œì•½ ë¯¸ì¤€ìˆ˜ ì‹œ ì˜¤ë¥˜ ë°˜í™˜**  \n  â†’ ì˜ˆ: `Invalid Length`, `Invalid Offset`, `Alignment Error` ë“±ì˜ ì˜¤ë¥˜ ì½”ë“œ ë°˜í™˜.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\nì´ ì„¹ì…˜ ìì²´ëŠ” **ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠìŒ**. ê·¸ëŸ¬ë‚˜ ë‹¤ìŒê³¼ ê°™ì€ ê°„ì ‘ì  ë³´ì•ˆ íš¨ê³¼ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤:\n\n- **ì˜ëª»ëœ ë°ì´í„° ì“°ê¸° ë°©ì§€** â†’ ì œì•½ì„ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ ë°œìƒ â†’ ë°ì´í„° ì†ìƒ ë°©ì§€  \n- **ì¥ì¹˜ì˜ ë‚´ë¶€ êµ¬ì¡° ë³´í˜¸** â†’ ì •ë ¬ë˜ì§€ ì•Šì€ ì“°ê¸°ë¡œ ì¸í•œ ì¥ì¹˜ ë‚´ë¶€ ì˜¤ë¥˜ ë˜ëŠ” ë¸”ë¡ ì†ìƒ ë°©ì§€  \n- **ì˜ˆê¸°ì¹˜ ëª»í•œ ì ‘ê·¼ ì°¨ë‹¨** â†’ í˜¸ìŠ¤íŠ¸ê°€ ì œì•½ì„ ë¬´ì‹œí•˜ë©´ ì¥ì¹˜ê°€ ìš”ì²­ì„ ê±°ë¶€ â†’ ê³µê²©ìê°€ ì•…ì˜ì ì¸ ì ‘ê·¼ì„ ì‹œë„í•´ë„ ì‹¤íŒ¨\n\nì¦‰, ì´ëŠ” **ë³´ì•ˆì´ ì•„ë‹Œ ì„±ëŠ¥/ì •í™•ì„± ì¤‘ì‹¬ì˜ ì œì•½**ì´ì§€ë§Œ, **ë³´ì•ˆ ìƒì˜ ì•ˆì •ì„±ê³¼ ì‹ ë¢°ì„±**ì„ ë†’ì´ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest ê¸°ë°˜)**\n\në‹¤ìŒì€ `Byte Table Access Granularity`ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.  \nTCG Opal ëª…ë ¹ì–´ëŠ” `StartSession`, `Get`, `Set`, `Revert` ë“±ì„ ì‚¬ìš©í•˜ë©°, ì‹¤ì œ ì¥ì¹˜ëŠ” **ATA/SCSI ëª…ë ¹ì–´ë¥¼ í†µí•œ Opal ì»¨íŠ¸ë¡¤ëŸ¬**ì™€ í†µì‹ í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” **ëª¨ì˜ ì¥ì¹˜(Simulator) ë˜ëŠ” ì‹¤ì œ ì¥ì¹˜ì— ëŒ€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬**(ì˜ˆ: `pyopal`)ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ (Python + pytest)\n\n```python\nimport pytest\nfrom pyopal import OpalDevice, SessionType, OpalError  # ê°€ì •: pyopal ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\n\n# í…ŒìŠ¤íŠ¸ ì„¤ì •\n@pytest.fixture\ndef opal_device():\n    \"\"\"TCG Opal ì¥ì¹˜ ì—°ê²° ë° ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice(\"/dev/sdb\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.start_session(SessionType.ADMIN, \"admin_password\")\n    yield device\n    device.revert_session()  # ì„¸ì…˜ ì¢…ë£Œ (í…ŒìŠ¤íŠ¸ í›„ ë³µêµ¬)\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì •ë ¬ ë° ê¸¸ì´ ì œì•½ í™•ì¸\ndef test_byte_table_access_granularity(opal_device):\n    \"\"\"Byte Table Access Granularity ì œì•½ì„ í™•ì¸í•˜ê³ , ê·¸ì— ë”°ë¼ Set ëª…ë ¹ì–´ë¥¼ í…ŒìŠ¤íŠ¸\"\"\"\n    # 1. Byte Table Descriptorì—ì„œ Access Granularity ì •ë³´ ì½ê¸°\n    table_name = \"UserDataTable\"  # ì˜ˆì‹œ í…Œì´ë¸” ì´ë¦„\n    descriptor = opal_device.get_byte_table_descriptor(table_name)\n    \n    # 2. ì œì•½ ì •ë³´ ì¶”ì¶œ\n    alignment = descriptor.alignment  # ì˜ˆ: 512\n    length_multiple = descriptor.length_multiple  # ì˜ˆ: 512\n    \n    # 3. ì •ìƒì ì¸ ì“°ê¸° í…ŒìŠ¤íŠ¸ (ì œì•½ ì¤€ìˆ˜)\n    data = b'\\x00' * (alignment * 2)  # 1024 ë°”ì´íŠ¸ (512ì˜ ë°°ìˆ˜)\n    offset = 0  # 512ì˜ ë°°ìˆ˜ ìœ„ì¹˜ (0ë„ 512ì˜ ë°°ìˆ˜)\n    \n    try:\n        opal_device.set_byte_table(table_name, offset, data)\n        assert True, \"ì •ìƒì ì¸ ì“°ê¸° ì„±ê³µ\"\n    except OpalError as e:\n        pytest.fail(f\"ì •ìƒì ì¸ ì“°ê¸° ì‹¤íŒ¨: {e}\")\n\n    # 4. ë¹„ì •ìƒì ì¸ ì“°ê¸° í…ŒìŠ¤íŠ¸ (ì •ë ¬ ìœ„ë°˜)\n    offset_invalid = 10  # 512ì˜ ë°°ìˆ˜ê°€ ì•„ë‹˜\n    with pytest.raises(OpalError) as exc_info:\n        opal_device.set_byte_table(table_name, offset_invalid, data)\n    assert \"Alignment\" in str(exc_info.value) or \"Invalid Offset\" in str(exc_info.value)\n\n    # 5. ë¹„ì •ìƒì ì¸ ì“°ê¸° í…ŒìŠ¤íŠ¸ (ê¸¸ì´ ìœ„ë°˜)\n    data_invalid = b'\\x00' * 100  # 512ì˜ ë°°ìˆ˜ê°€ ì•„ë‹˜\n    offset_valid = 0\n    with pytest.raises(OpalError) as exc_info:\n        opal_device.set_byte_table(table_name, offset_valid, data_invalid)\n    assert \"Length\" in str(exc_info.value) or \"Invalid Length\" in str(exc_info.value)\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: Get ëª…ë ¹ì–´ë¡œ ì œì•½ ì •ë³´ ì½ê¸° ê²€ì¦\ndef test_get_access_granularity(opal_device):\n    \"\"\"Get ëª…ë ¹ì–´ë¡œ Access Granularity ì •ë³´ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ”ì§€ ê²€ì¦\"\"\"\n    table_name = \"UserDataTable\"\n    descriptor = opal_device.get_byte_table_descriptor(table_name)\n    \n    # ì œì•½ ì •ë³´ê°€ ì¡´ì¬í•´ì•¼ í•¨\n    assert hasattr(descriptor, \"alignment\"), \"alignment ì†ì„±ì´ ì—†ìŒ\"\n    assert hasattr(descriptor, \"length_multiple\"), \"length_multiple ì†ì„±ì´ ì—†ìŒ\"\n    \n    # ê°’ì´ 0ì´ ì•„ë‹Œ ì–‘ìˆ˜ì—¬ì•¼ í•¨\n    assert descriptor.alignment > 0, f\"alignmentëŠ” 0ì´ì–´ì•¼ í•˜ì§€ ì•ŠìŒ: {descriptor.alignment}\"\n    assert descriptor.length_multiple > 0, f\"length_multipleëŠ” 0ì´ì–´ì•¼ í•˜ì§€ ì•ŠìŒ: {descriptor.length_multiple}\"\n```\n\n---\n\n### ğŸ’¡ **í…ŒìŠ¤íŠ¸ ì„¤ëª…**\n\n1. **StartSession**: ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘ â†’ ê¶Œí•œ ë¶€ì—¬\n2. **Get Byte Table Descriptor**: ì¥ì¹˜ì—ì„œ í…Œì´ë¸”ì˜ ì†ì„±(ì œì•½ í¬í•¨)ì„ ì½ìŒ\n3. **Set ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸**:\n   - ì •ìƒ: ì •ë ¬ ë° ê¸¸ì´ ì œì•½ ì¤€ìˆ˜ â†’ ì„±ê³µ\n   - ë¹„ì •ìƒ: ì œì•½ ìœ„ë°˜ â†’ ì˜¤ë¥˜ ë°œìƒ\n4. **RevertSession**: í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ì„¸ì…˜ ë³µêµ¬ â†’ ì¥ì¹˜ ìƒíƒœ ìœ ì§€\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n- **ì½ê¸° í›„ ê²€ì¦**: `Set` í›„ `Get` ëª…ë ¹ì–´ë¡œ ë°ì´í„°ë¥¼ ì½ì–´, ì›ë³¸ ë°ì´í„°ì™€ ë¹„êµ\n- **ì •ë ¬/ê¸¸ì´ ê²€ì¦**: offsetê³¼ data ê¸¸ì´ê°€ ì œì•½ ì¡°ê±´ì— ë¶€í•©í•˜ëŠ”ì§€ ìˆ˜í•™ì ìœ¼ë¡œ ê²€ì¦\n- **ì¥ì¹˜ ë¡œê·¸ ë¶„ì„**: ì¼ë¶€ ì¥ì¹˜ëŠ” ì‹¤íŒ¨ ë¡œê·¸ë¥¼ ë‚¨ê¹€ â†’ ë¡œê·¸ì—ì„œ `Alignment Error` ë˜ëŠ” `Invalid Length` í™•ì¸\n\nì˜ˆì‹œ:\n```python\n# Set í›„ Getìœ¼ë¡œ ë°ì´í„° ê²€ì¦\nopal_device.set_byte_table(table_name, offset, data)\nread_data = opal_device.get_byte_table(table_name, offset, len(data))\nassert read_data == data, \"ì½ì€ ë°ì´í„°ì™€ ì“´ ë°ì´í„° ë¶ˆì¼ì¹˜\"\n```\n\n---\n\n## âœ… ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n**5.3 Byte Table Access Granularity**ì€ TCG Opal ì¥ì¹˜ê°€ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ, **ì‹œì‘ ìœ„ì¹˜ì™€ ê¸¸ì´ì— ëŒ€í•œ ì œì•½**ì„ í˜¸ìŠ¤íŠ¸ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ëŠ” ì¥ì¹˜ì˜ ë‚´ë¶€ êµ¬ì¡°(ì˜ˆ: ë¸”ë¡ ê¸°ë°˜ ì €ì¥)ë¥¼ ê³ ë ¤í•´ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ë†’ì´ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ, ë³´ì•ˆì€ ì§ì ‘ì ìœ¼ë¡œ ì œê³µí•˜ì§€ ì•Šì§€ë§Œ, ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê³  ì¥ì¹˜ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.\n\n- **ì£¼ìš” ê¸°ëŠ¥**: ì œì•½ ì •ë³´ ì œê³µ, ì •ë ¬ ë° ê¸¸ì´ ì œì•½ ì¤€ìˆ˜\n- **ë°ì´í„° êµ¬ì¡°**: Byte Table Descriptor ë‚´ alignment, length_multiple ì†ì„±\n- **ìš”êµ¬ì‚¬í•­**: í˜¸ìŠ¤íŠ¸ëŠ” ì œì•½ì„ ì¤€ìˆ˜í•´ì•¼ í•˜ë©°, ìœ„ë°˜ ì‹œ ì˜¤ë¥˜ ë°˜í™˜\n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ê°„ì ‘ì ì¸ ë³´ì•ˆ íš¨ê³¼ (ë°ì´í„° ì†ìƒ, ì¥ì¹˜ ì˜¤ë¥˜ ë°©ì§€)\n\n**í…ŒìŠ¤íŠ¸ ë°©ë²•**:\n- Python + pytestë¥¼ ì‚¬ìš©í•´ `Get` ëª…ë ¹ì–´ë¡œ ì œì•½ ì •ë³´ ì½ê³ , `Set` ëª…ë ¹ì–´ë¡œ ì œì•½ ì¤€ìˆ˜/ìœ„ë°˜ í…ŒìŠ¤íŠ¸\n- ì‹¤ì œ ì¥ì¹˜ ë˜ëŠ” ì‹œë®¬ë ˆì´í„°ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥\n- `RevertSession`ìœ¼ë¡œ ìƒíƒœ ë³µêµ¬\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•˜ì˜€ìœ¼ë©°, ì½”ë“œ ì˜ˆì‹œ ë° ì„¤ëª… ì™„ë£Œ**"
    },
    {
        "section_order": 166,
        "level": 3,
        "section_id": "5.3.1",
        "section_key": "5.3.1 Table Table Modification",
        "title": "Table Table Modification",
        "start_page": 98,
        "end_page": 99,
        "page_count": 2,
        "content_md": "## 5.3.1 Table Table Modification\n\nIn order to allow a Storage Device to report its mandatory and recommended data alignment restrictions when accessing byte tables, the Table table SHALL contain the additional columns shown in Table 50.\n\nThe mandatory and recommended data alignment restrictions do not apply to Object tables.\n\n### Table 50 - Table Table Additional Columns\n\n### Table 50 - Table Table Additional Columns (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "**ë‚´ìš©ì—†ìŒ**\n\n---\n\n### ì„¤ëª…:\n\nì œì‹œëœ ë³¸ë¬¸ì€ **TCG-Storage-Opal-SSC-v2.30_pub.pdf** ë¬¸ì„œì˜ **Section 5.3.1 - Table Table Modification**ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë‚˜, **ì‹¤ì§ˆì ì¸ ë‚´ìš©ì´ ë¶€ì¡±**í•©ë‹ˆë‹¤.\n\n- ë³¸ë¬¸ì€ **Table 50 - Table Table Additional Columns**ì— ëŒ€í•´ ì–¸ê¸‰í•˜ê³  ìˆìœ¼ë‚˜, í•´ë‹¹ í…Œì´ë¸”ì˜ êµ¬ì²´ì ì¸ ì»¬ëŸ¼ ëª©ë¡ì´ë‚˜ ë°ì´í„° êµ¬ì¡°ëŠ” ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n- ì´ë¯¸ì§€ê°€ ì—†ê³ , í…ìŠ¤íŠ¸ë¡œëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- ë˜í•œ, ëª©ì , ì£¼ìš” ê¸°ëŠ¥, ë°ì´í„° êµ¬ì¡°, ìš”êµ¬ì‚¬í•­, ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ë“±ì— ëŒ€í•œ ì„¤ëª…ì€ **ì „í˜€ í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤**.\n- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œì‹œë„ ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì…ë‹ˆë‹¤.\n\n---\n\n### ê²°ë¡ :\n\nì œì‹œëœ ë³¸ë¬¸ì€ í…Œì´ë¸” ì •ì˜ì˜ ì¼ë¶€ë¥¼ ì–¸ê¸‰í–ˆì§€ë§Œ, **êµ¬ì²´ì ì¸ êµ¬ì¡°ë‚˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ì§€ ì•Šì•„**, ì´ˆë³´ìì—ê²Œ ì„¤ëª…í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ, ìš”ì²­í•˜ì‹  ì„¤ëª…ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ì—†ìœ¼ë©°, ì •í™•í•œ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” **ë¬¸ì„œì˜ Table 50 ì „ì²´ ë‚´ìš©ì´ í•„ìš”í•©ë‹ˆë‹¤**.\n\n---\n\n**ì¶œë ¥: ë‚´ìš©ì—†ìŒ**"
    },
    {
        "section_order": 167,
        "level": 4,
        "section_id": "5.3.1.1",
        "section_key": "5.3.1.1 MandatoryWriteGranularity",
        "title": "MandatoryWriteGranularity",
        "start_page": 99,
        "end_page": 99,
        "page_count": 1,
        "content_md": "## 5.3.1.1 MandatoryWriteGranularity\n\nThis column is used to report the granularity that the Storage Device enforces when the host invokes the `Set` method on byte tables.\n\nThis column SHALL NOT be modifiable by the host.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## 5.3.1.1 MandatoryWriteGranularity â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n`MandatoryWriteGranularity`ëŠ” **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ê°€ ë°”ì´íŠ¸ í…Œì´ë¸”ì— `Set` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ê°•ì œë¡œ ìš”êµ¬í•˜ëŠ” ìµœì†Œ ì“°ê¸° ë‹¨ìœ„**(Write Granularity)ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\nì¦‰, í˜¸ìŠ¤íŠ¸ëŠ” ì´ ê°’ ì´ìƒì˜ ë°ì´í„°ë§Œ ì“¸ ìˆ˜ ìˆìœ¼ë©°, ê·¸ ì•„ë˜ì˜ í¬ê¸°ë¡œ ì“°ê¸° ì‹œë„ëŠ” ì‹¤íŒ¨í•˜ê±°ë‚˜ ì¥ì¹˜ê°€ ìë™ìœ¼ë¡œ í™•ì¥í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ëŠ” ì¥ì¹˜ì˜ í•˜ë“œì›¨ì–´ ë˜ëŠ” íŒì›¨ì–´ ì„¤ê³„ì— ë”°ë¼ ì •í•´ì§€ë©°, í˜¸ìŠ¤íŠ¸ê°€ ë¬´ì‘ìœ„ë¡œ ì‘ì€ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì“°ëŠ” ê²ƒì„ ë°©ì§€í•˜ì—¬ **ì„±ëŠ¥ ìµœì í™”**ì™€ **ë³´ì•ˆ ê°•í™”**(ì˜ˆ: ì¼ë¶€ ë°ì´í„°ê°€ ë¶€ë¶„ì ìœ¼ë¡œ ì“°ì—¬ì„œ ë³´ì•ˆ ì·¨ì•½ì ì´ ìƒê¸°ëŠ” ê²ƒì„ ë°©ì§€)ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ”§ **ì£¼ìš” ê¸°ëŠ¥ (Key Functionality)**\n\n- **ìµœì†Œ ì“°ê¸° ë‹¨ìœ„ ë³´ê³ **: ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ì— ì–´ë–¤ í¬ê¸° ì´ìƒì˜ ë°ì´í„°ë§Œ ì“¸ ìˆ˜ ìˆëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\n- **í˜¸ìŠ¤íŠ¸ ì¸¡ ì“°ê¸° ì œí•œ**: í˜¸ìŠ¤íŠ¸ëŠ” ì´ ê°’ì„ ë¬´ì‹œí•˜ë©´ ì¥ì¹˜ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜, ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ íŒ¨ë”©/í™•ì¥í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë‚˜, ì´ëŠ” ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŒ.\n- **ì¥ì¹˜ ë‚´ë¶€ ìµœì í™”**: ì €ì¥ì†Œ ì¥ì¹˜ëŠ” ì´ ê°’ì„ í†µí•´ ë©”ëª¨ë¦¬ ê´€ë¦¬, ì•”í˜¸í™” ë¸”ë¡ ì²˜ë¦¬, ë˜ëŠ” ë¬¼ë¦¬ì  ì“°ê¸° ë‹¨ìœ„(ì˜ˆ: í˜ì´ì§€, ì„¸ê·¸ë¨¼íŠ¸)ì— ë§ì¶° íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•  ìˆ˜ ìˆìŒ.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- `MandatoryWriteGranularity`ëŠ” **ì •ìˆ˜**(unsigned integer)ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.\n- ë‹¨ìœ„ëŠ” **ë°”ì´íŠ¸**(bytes)ì…ë‹ˆë‹¤.\n- ì˜ˆ: ê°’ì´ 512ì´ë©´, í˜¸ìŠ¤íŠ¸ëŠ” 512ë°”ì´íŠ¸ ì´ìƒì˜ ë°ì´í„°ë§Œ `Set` ë©”ì„œë“œë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 100ë°”ì´íŠ¸ë§Œ ì“°ë ¤ê³  í•˜ë©´ ì¥ì¹˜ëŠ” ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜, 512ë°”ì´íŠ¸ë¡œ íŒ¨ë”©í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ.\n\n---\n\n### ğŸ“œ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **í˜¸ìŠ¤íŠ¸ì— ì˜í•´ ìˆ˜ì • ë¶ˆê°€ëŠ¥**: ë¬¸ì„œì— ëª…ì‹œëœ ë°”ì™€ ê°™ì´, ì´ ê°’ì€ `SHALL NOT be modifiable by the host`. ì¦‰, í˜¸ìŠ¤íŠ¸ëŠ” ì´ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë©°, ì¥ì¹˜ê°€ ê³ ì •ëœ ê°’ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.\n- **ì½ê¸° ì „ìš©**: ì´ ê°’ì€ `Get` ë©”ì„œë“œë¥¼ í†µí•´ ì½ì„ ìˆ˜ ìˆì§€ë§Œ, `Set` ë©”ì„œë“œë¡œëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- **ëª¨ë“  ë°”ì´íŠ¸ í…Œì´ë¸”ì— ì ìš©**: ì´ ê°’ì€ ëª¨ë“  ë°”ì´íŠ¸ í…Œì´ë¸”ì— ì ìš©ë˜ë©°, íŠ¹ì • í…Œì´ë¸”ì—ë§Œ ì ìš©ë˜ëŠ” ê²ƒì´ ì•„ë‹˜.\n\n---\n\n### ğŸ” **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- **ë¶ˆì™„ì „ ì“°ê¸° ë°©ì§€**: ì‘ì€ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì“°ë©´ ì•”í˜¸í™” í‚¤ë‚˜ ì„¤ì •ê°’ì´ ë¶€ë¶„ì ìœ¼ë¡œë§Œ ì €ì¥ë˜ì–´, ë³´ì•ˆ ìƒ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ. ì˜ˆ: 1ë°”ì´íŠ¸ë§Œ ì¨ì„œ ì•”í˜¸í™” í‚¤ì˜ ì¼ë¶€ë§Œ ë³€ê²½ë˜ë©´, ì¥ì¹˜ê°€ ì˜ˆìƒí•˜ì§€ ëª»í•œ ìƒíƒœë¡œ ì‘ë™í•  ìˆ˜ ìˆìŒ.\n- **ì¥ì¹˜ ì œì–´ê¶Œ ìœ ì§€**: ì¥ì¹˜ê°€ ì“°ê¸° ë‹¨ìœ„ë¥¼ ê°•ì œë¡œ ì œì–´í•¨ìœ¼ë¡œì¨, í˜¸ìŠ¤íŠ¸ê°€ ì¥ì¹˜ì˜ ë³´ì•ˆ ì„¤ì •ì„ ë¬´ë‹¨ìœ¼ë¡œ ì¡°ì‘í•˜ê±°ë‚˜, ë©”ëª¨ë¦¬ ê³µê°„ì„ ì˜ëª» ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë°©ì§€í•¨.\n- **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœ ìœ ì§€**: ëª¨ë“  ì“°ê¸° ì‘ì—…ì´ ì¼ì •í•œ í¬ê¸°ë¡œ ì´ë£¨ì–´ì§€ë¯€ë¡œ, ì¥ì¹˜ëŠ” ë‚´ë¶€ ìƒíƒœë¥¼ ì •í™•íˆ ì¶”ì í•˜ê³ , ì•”í˜¸í™”/ì¸ì¦ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ê´€ë˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case**\n\n### ğŸ§ª í…ŒìŠ¤íŠ¸ ëª©ì \n- `MandatoryWriteGranularity` ê°’ì´ ì¥ì¹˜ì—ì„œ ì˜¬ë°”ë¥´ê²Œ ì½íˆëŠ”ì§€ í™•ì¸.\n- í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ë³´ë‹¤ ì‘ì€ ë°ì´í„°ë¥¼ ì¨ë³´ì•˜ì„ ë•Œ ì¥ì¹˜ê°€ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜, ì˜ˆê¸°ì¹˜ ëª»í•œ í–‰ë™ì„ í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸.\n- ê°’ì´ í˜¸ìŠ¤íŠ¸ì— ì˜í•´ ìˆ˜ì •ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸.\n\n---\n\n### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ê°’ ì½ê¸° ë° ìˆ˜ì • ë¶ˆê°€ í™•ì¸\n\n**ëª©ì **: `MandatoryWriteGranularity` ê°’ì´ ì½íˆê³ , ìˆ˜ì •ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸.\n\n**ì ˆì°¨**:\n1. StartSession (Authentication) ìˆ˜í–‰.\n2. `Get` ë©”ì„œë“œë¡œ `MandatoryWriteGranularity` ê°’ì„ ì½ìŒ.\n3. `Set` ë©”ì„œë“œë¡œ ê°’ì„ ë³€ê²½ ì‹œë„.\n4. ì˜¤ë¥˜ ì½”ë“œ í™•ì¸ (ì˜ˆ: `TCG_OPAL_ERROR_NOT_ALLOWED` ë˜ëŠ” `TCG_OPAL_ERROR_INVALID_PARAMETER`).\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\nimport pytest\nfrom opal import OpalDevice, OpalSession, OpalError\n\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice(\"/dev/sdc\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    session = OpalSession(device, user=\"admin\", password=\"admin123\")\n    session.start()  # StartSession\n    yield session\n    session.revert()  # Revert or Logout\n\ndef test_mandatory_write_granularity_read_only(opal_device):\n    # Get MandatoryWriteGranularity\n    granularity = opal_device.get_table_value(\"MandatoryWriteGranularity\")\n    assert granularity > 0, \"Granularity must be a positive integer\"\n\n    # Try to set a new value (should fail)\n    with pytest.raises(OpalError) as e:\n        opal_device.set_table_value(\"MandatoryWriteGranularity\", 1024)\n    assert \"NOT_ALLOWED\" in str(e.value) or \"INVALID_PARAMETER\" in str(e.value), \\\n        \"Expected error when trying to modify read-only field\"\n```\n\n---\n\n### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì‘ê²Œ ì“°ê¸° ì‹œë„ â†’ ì˜¤ë¥˜ ë°œìƒ í™•ì¸\n\n**ëª©ì **: `MandatoryWriteGranularity` ê°’ë³´ë‹¤ ì‘ì€ ë°ì´í„°ë¥¼ ì“°ë ¤ê³  í•  ë•Œ ì¥ì¹˜ê°€ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸.\n\n**ì ˆì°¨**:\n1. StartSession ìˆ˜í–‰.\n2. `Set` ë©”ì„œë“œë¡œ `MandatoryWriteGranularity` ê°’ë³´ë‹¤ ì‘ì€ í¬ê¸°ì˜ ë°ì´í„°ë¥¼ ì“°ê¸° ì‹œë„.\n3. ì˜¤ë¥˜ ì½”ë“œ í™•ì¸.\n\n**Python + pytest ì˜ˆì‹œ ì½”ë“œ**\n\n```python\ndef test_set_smaller_than_granularity_fails(opal_device):\n    granularity = opal_device.get_table_value(\"MandatoryWriteGranularity\")\n    small_data = b'\\x00' * (granularity - 1)  # 1ë°”ì´íŠ¸ ì‘ê²Œ ì„¤ì •\n\n    # Set data smaller than granularity\n    with pytest.raises(OpalError) as e:\n        opal_device.set_table_value(\"SomeByteTable\", small_data)\n    assert \"INVALID_PARAMETER\" in str(e.value) or \"WRITE_GRANULARITY\" in str(e.value), \\\n        \"Expected error when writing data smaller than MandatoryWriteGranularity\"\n```\n\n> ğŸ’¡ ì£¼ì˜: ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì¥ì¹˜ì—ì„œ ì§€ì›í•˜ëŠ” ë°”ì´íŠ¸ í…Œì´ë¸”ì„ ì‚¬ìš©í•´ì•¼ í•˜ë©°, `SomeByteTable`ì€ ì‹¤ì œ í…Œì´ë¸” ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Š í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•\n\n1. **í…Œì´ë¸” êµ¬ì¡° í™•ì¸**:\n   - `GetTableInfo` ë˜ëŠ” `Get` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸”ì˜ ì „ì²´ êµ¬ì¡°ì™€ ì†ì„±(`MandatoryWriteGranularity`, `TableSize`, `TableId`, etc.)ì„ ì½ìŒ.\n   - `MandatoryWriteGranularity` ê°’ì´ ì •ìˆ˜ì´ê³ , 0ì´ ì•„ë‹Œì§€ í™•ì¸.\n\n2. **ì‹¤ì œ ì“°ê¸° í…ŒìŠ¤íŠ¸**:\n   - `Set` ë©”ì„œë“œë¡œ ë‹¤ì–‘í•œ í¬ê¸°ì˜ ë°ì´í„°ë¥¼ ì“°ê³ , ê²°ê³¼ë¥¼ í™•ì¸.\n   - ì˜ˆ: 1ë°”ì´íŠ¸, 512ë°”ì´íŠ¸, 1024ë°”ì´íŠ¸ ë“±.\n\n3. **ì¥ì¹˜ ë¡œê·¸ ë¶„ì„**:\n   - ì¥ì¹˜ê°€ ì“°ê¸° ìš”ì²­ì„ ìˆ˜ë½í–ˆëŠ”ì§€, íŒ¨ë”©í–ˆëŠ”ì§€, ë˜ëŠ” ì˜¤ë¥˜ë¥¼ ë‚´ëŠ”ì§€ ë¡œê·¸ë¥¼ ë¶„ì„.\n   - ì¼ë¶€ ì¥ì¹˜ëŠ” ì“°ê¸° ìš”ì²­ì´ ë„ˆë¬´ ì‘ì•„ì„œ ìë™ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ê²½ìš°ê°€ ìˆìœ¼ë‚˜, ì´ëŠ” ë¬¸ì„œì— ëª…ì‹œë˜ì§€ ì•Šìœ¼ë¯€ë¡œ **ì˜ˆì¸¡ ê°€ëŠ¥í•œ í–‰ë™**ì´ì–´ì•¼ í•¨.\n\n---\n\n## ğŸ“ ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)\n\n`MandatoryWriteGranularity`ëŠ” TCG Opal ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ ìš”êµ¬í•˜ëŠ” **ìµœì†Œ ì“°ê¸° ë‹¨ìœ„**(ë°”ì´íŠ¸)ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ê°’ì€ í˜¸ìŠ¤íŠ¸ê°€ `Set` ë©”ì„œë“œë¡œ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ, **í•´ë‹¹ í¬ê¸° ì´ìƒì˜ ë°ì´í„°ë§Œ ì¨ì•¼ í•œë‹¤**ëŠ” ì œì•½ì„ ì˜ë¯¸í•˜ë©°, **í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. ì´ëŠ” ì¥ì¹˜ì˜ ë³´ì•ˆê³¼ ì„±ëŠ¥ì„ ìœ„í•´ í•„ìˆ˜ì ì¸ ì œì•½ì´ë©°, ì˜ˆë¥¼ ë“¤ì–´ ì•”í˜¸í™” í‚¤ë‚˜ ì„¤ì • ê°’ì´ ë¶€ë¶„ì ìœ¼ë¡œë§Œ ì“°ì´ì§€ ì•Šë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n\nì´ ê°’ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ì„œëŠ”, ì¥ì¹˜ì—ì„œ ê°’ì„ ì½ì–´ì˜¤ê³ , ìˆ˜ì •ì„ ì‹œë„í•˜ì—¬ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ë©°, ê·¸ë³´ë‹¤ ì‘ì€ ë°ì´í„°ë¥¼ ì¨ë³´ì•„ ì¥ì¹˜ê°€ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. Pythonê³¼ pytestë¥¼ í™œìš©í•˜ë©´ ì´ í…ŒìŠ¤íŠ¸ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì¥ì¹˜ì˜ ì‘ë‹µ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: `MandatoryWriteGranularity`ëŠ” ë³´ì•ˆê³¼ ì„±ëŠ¥ì„ ìœ„í•´ ì¥ì¹˜ê°€ ê°•ì œí•˜ëŠ” ì¤‘ìš”í•œ ì„¤ì •ì´ë©°, í˜¸ìŠ¤íŠ¸ëŠ” ì´ë¥¼ ì¡´ì¤‘í•˜ê³ , í•´ë‹¹ í¬ê¸° ì´ìƒì˜ ë°ì´í„°ë§Œ ì¨ì•¼ í•©ë‹ˆë‹¤. ì´ ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” Opal ì¥ì¹˜ì˜ ì•ˆì •ì„±ê³¼ ë³´ì•ˆì„±ì„ í™•ë³´í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤."
    },
    {
        "section_order": 168,
        "level": 5,
        "section_id": "5.3.1.1.1",
        "section_key": "5.3.1.1.1 Object Tables",
        "title": "Object Tables",
        "start_page": 99,
        "end_page": 99,
        "page_count": 1,
        "content_md": "### 5.3.1.1.1 Object Tables\n\nFor rows in the `Table` table that pertain to object tables, the value of the MandatoryWriteGranularity column SHALL be zero.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 5.3.1.1.1 Object Tables\n\nFor rows in the `Table` table that pertain to object tables, the value of the MandatoryWriteGranularity column SHALL be zero."
    },
    {
        "section_order": 169,
        "level": 5,
        "section_id": "5.3.1.1.2",
        "section_key": "5.3.1.1.2 Byte Tables",
        "title": "Byte Tables",
        "start_page": 99,
        "end_page": 99,
        "page_count": 1,
        "content_md": "### 5.3.1.1.2 Byte Tables\n\nFor rows in the `Table` table that pertain to byte tables, the MandatoryWriteGranularity column indicates the mandatory access granularity (in bytes) for the `Set` method for the table described in these rows of the `Table` table. The MandatoryWriteGranularity column indicates the alignment requirement for both the access start offset (the `Where` parameter) and length (number of bytes in the `Values` parameter).\n\nThe value of the MandatoryWriteGranularity column SHALL be less than or equal to the value in the RecommendedAccessGranularity column in the same row of the `Table` table.\n\nThe value of MandatoryWriteGranularity SHALL be less than or equal to 8192.\n\nWhen the host invokes the `Set` method on a byte table, if ValidMandatoryGranularity (see Figure 4) is False, then the method SHALL fail with status INVALID_PARAMETER.\n\nIf the TPer does not have a requirement on mandatory alignment for the byte table described in a row of the `Table` table, then its MandatoryWriteGranularity column SHALL be set to one.\n\n## Figure 4 - ValidMandatoryGranularity definition\n\nFor the `Set` method:  \nValidMandatoryGranularity is True if  \na) (x modulo MandatoryWriteGranularity) = 0  \nand  \nb) (y modulo MandatoryWriteGranularity) = 0  \n\nwhere:  \nx = the start offset of the `Set` method  \n(i.e., the value of the `Where` parameter)  \ny = the number of data bytes being set  \n(i.e., the length of the `Values` parameter)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.3.1.1.2 Byte Tables - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### âœ… **ëª©ì  (Purpose)**\n\n**Byte Tables**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **ë¹„íŠ¸/ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í…Œì´ë¸”**ì…ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ **ë³´ì•ˆ í‚¤, ì„¤ì • ê°’, ì•”í˜¸í™” ì •ë³´** ë“± ë‹¤ì–‘í•œ êµ¬ì¡°í™”ë˜ì§€ ì•Šì€ ë°”ì´íŠ¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì—ì„œëŠ” **ì´ëŸ¬í•œ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ ì–´ë–¤ ì œì•½ì´ ìˆëŠ”ì§€**, íŠ¹íˆ **ë°ì´í„° ì ‘ê·¼ì˜ ì •ë ¬ ìš”êµ¬ì‚¬í•­**(alignment requirement)ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **Set ë©”ì„œë“œ**ë¥¼ í†µí•´ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ ìˆìŒ.\n- ì“°ê¸° ìœ„ì¹˜(`Where`)ì™€ ì“°ëŠ” ë°”ì´íŠ¸ ìˆ˜(`Values` ê¸¸ì´)ëŠ” **ì •ë ¬ ì¡°ê±´**(alignment)ì„ ì¶©ì¡±í•´ì•¼ í•¨.\n- ì •ë ¬ ì¡°ê±´ì€ `MandatoryWriteGranularity` ì—´ì— ì˜í•´ ì •ì˜ë¨.\n- ì´ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ `Set` ë©”ì„œë“œëŠ” **ì‹¤íŒ¨** (INVALID_PARAMETER ìƒíƒœ).\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **Table í…Œì´ë¸”**ì˜ ê° í–‰ì´ í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ì„¤ëª…í•¨.\n- ê·¸ ì¤‘ ì¼ë¶€ í–‰ì€ ë°”ì´íŠ¸ í…Œì´ë¸”ì„ ì„¤ëª…í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì—´ì„ í¬í•¨:\n  - `MandatoryWriteGranularity`: í•„ìˆ˜ ì“°ê¸° ì •ë ¬ ë‹¨ìœ„ (ë°”ì´íŠ¸ ë‹¨ìœ„)\n  - `RecommendedAccessGranularity`: ê¶Œì¥ ì ‘ê·¼ ë‹¨ìœ„ (ë³´ë‹¤ í° ë‹¨ìœ„, ì„±ëŠ¥ ìµœì í™” ëª©ì )\n  - `Where`: ì“°ê¸° ì‹œì‘ ìœ„ì¹˜ (ì˜¤í”„ì…‹)\n  - `Values`: ì“¸ ë°”ì´íŠ¸ ë°ì´í„° ë°°ì—´\n\n> ì˜ˆ: `MandatoryWriteGranularity = 512` â†’ ë°ì´í„°ëŠ” 512ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì •ë ¬ë˜ì–´ì•¼ í•¨.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. `MandatoryWriteGranularity` ê°’ì€ **RecommendedAccessGranularity** ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì•„ì•¼ í•¨.\n   - `MandatoryWriteGranularity â‰¤ RecommendedAccessGranularity`\n\n2. `MandatoryWriteGranularity` ê°’ì€ **ìµœëŒ€ 8192 ë°”ì´íŠ¸**ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŒ.\n   - `MandatoryWriteGranularity â‰¤ 8192`\n\n3. ì •ë ¬ ì¡°ê±´ì´ ì¶©ì¡±ë˜ì§€ ì•Šìœ¼ë©´ `Set` ë©”ì„œë“œ ì‹¤íŒ¨.\n   - `Where % MandatoryWriteGranularity == 0`\n   - `len(Values) % MandatoryWriteGranularity == 0`\n\n4. ì •ë ¬ ìš”êµ¬ì‚¬í•­ì´ ì—†ìœ¼ë©´ `MandatoryWriteGranularity = 1`ë¡œ ì„¤ì •.\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì •ë ¬ ê°•ì œ**ëŠ” **ë©”ëª¨ë¦¬/ë””ìŠ¤í¬ ì ‘ê·¼ì„ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ** ë§Œë“¤ê³ , **ë¶€ì •í™•í•œ ë°ì´í„° ì ‘ê·¼ì„ ë°©ì§€**í•¨.\n- ì •ë ¬ì„ í†µí•´ **ë‹¤ì¤‘ ìŠ¤ë ˆë“œ/ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ì—ì„œì˜ ë™ì‹œ ì ‘ê·¼ ì¶©ëŒì„ ì¤„ì¼ ìˆ˜ ìˆìŒ**.\n- ë³´ì•ˆ í‚¤ë‚˜ ì•”í˜¸í™” ì •ë³´ë¥¼ ì €ì¥í•  ë•Œ, **ì •ë ¬ëœ ì ‘ê·¼ì„ ìš”êµ¬í•¨ìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ ëˆ„ì¶œì´ë‚˜ ê³µê²©ìì˜ ì¼ë¶€ ë°ì´í„° ì¶”ì¶œì„ ì–´ë µê²Œ í•¨**.\n- `Set` ë©”ì„œë“œ ì‹¤íŒ¨ ì‹œ `INVALID_PARAMETER` ë°˜í™˜ â†’ **ê³µê²©ìê°€ ë¬´ì‘ìœ„ë¡œ ë°ì´í„°ë¥¼ ì“°ëŠ” ê²ƒì„ ë°©ì§€**.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n### ğŸ”¹ **í…ŒìŠ¤íŠ¸ ëª©ì **\n\n- `Set` ë©”ì„œë“œê°€ `MandatoryWriteGranularity`ì— ë”°ë¼ ì •ë ¬ëœ ìœ„ì¹˜ì™€ ê¸¸ì´ë§Œ í—ˆìš©í•˜ëŠ”ì§€ í™•ì¸.\n- ì •ë ¬ ì¡°ê±´ì„ ìœ„ë°˜í•˜ë©´ `INVALID_PARAMETER` ë°˜í™˜ ì—¬ë¶€ í™•ì¸.\n\n---\n\n### ğŸ”¹ **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**\n\n- TCG Opal ë“œë¼ì´ë¸Œ ë˜ëŠ” ì‹œë®¬ë ˆì´í„° (ì˜ˆ: [TCG Opal Simulator](https://github.com/opal-storage/opal-simulator) ë˜ëŠ” ì‹¤ì œ í•˜ë“œì›¨ì–´)\n- Python + `pytest` + Opal ì»¤ë§¨ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: [pyopal](https://github.com/your-repo/pyopal) ë˜ëŠ” ì§ì ‘ êµ¬í˜„)\n\n---\n\n### ğŸ”¹ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\n# test_byte_table_alignment.py\n\nimport pytest\nfrom opal_client import OpalClient  # ê°€ìƒì˜ Opal í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬\nfrom opal_constants import Status  # INVALID_PARAMETER ë“± ìƒíƒœ ì •ì˜\n\n@pytest.fixture\ndef opal_client():\n    \"\"\"Opal ë“œë¼ì´ë¸Œì— ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ ì œê³µ\"\"\"\n    client = OpalClient(\"192.168.1.100\")  # ì˜ˆì‹œ IP\n    client.start_session()  # StartSession\n    yield client\n    client.revert_session()  # RevertSession (ë˜ëŠ” CloseSession)\n    client.disconnect()\n\n@pytest.mark.parametrize(\"start_offset, data_len, expected_status\", [\n    (0, 512, Status.SUCCESS),           # ì •ë ¬ë¨ (512ë¡œ ë‚˜ë‰¨)\n    (512, 512, Status.SUCCESS),         # ì •ë ¬ë¨\n    (1024, 1024, Status.SUCCESS),       # ì •ë ¬ë¨\n    (1, 512, Status.INVALID_PARAMETER), # ì‹œì‘ ì˜¤í”„ì…‹ ë¯¸ì •ë ¬\n    (0, 513, Status.INVALID_PARAMETER), # ê¸¸ì´ ë¯¸ì •ë ¬\n    (513, 512, Status.INVALID_PARAMETER), # ì‹œì‘ ì˜¤í”„ì…‹ ë¯¸ì •ë ¬\n    (512, 1025, Status.INVALID_PARAMETER), # ê¸¸ì´ ë¯¸ì •ë ¬\n])\ndef test_byte_table_alignment(opal_client, start_offset, data_len, expected_status):\n    \"\"\"Byte Tableì— ëŒ€í•´ ì •ë ¬ ì¡°ê±´ì„ ê²€ì¦\"\"\"\n    table_id = 0x1234  # ì˜ˆì‹œ í…Œì´ë¸” ID (ì‹¤ì œë¡œëŠ” Table í…Œì´ë¸”ì—ì„œ í™•ì¸)\n    mandatory_granularity = 512  # ì˜ˆì‹œ: 512ë°”ì´íŠ¸ ì •ë ¬ ìš”êµ¬\n\n    # ë°ì´í„° ìƒì„±\n    data = bytes([0xFF] * data_len)\n\n    # Set ë©”ì„œë“œ í˜¸ì¶œ\n    result = opal_client.set_byte_table(table_id, start_offset, data)\n\n    # ìƒíƒœ ê²€ì¦\n    assert result.status == expected_status, f\"Expected {expected_status}, got {result.status}\"\n\n    # ì •ë ¬ ì¡°ê±´ í™•ì¸ (ì˜ˆì™¸ ì²˜ë¦¬ìš©)\n    if result.status == Status.INVALID_PARAMETER:\n        # ì •ë ¬ ì¡°ê±´ ìœ„ë°˜ ì—¬ë¶€ í™•ì¸\n        assert (start_offset % mandatory_granularity != 0) or (data_len % mandatory_granularity != 0), \\\n            \"INVALID_PARAMETER but alignment is correct. Unexpected behavior.\"\n    else:\n        # ì„±ê³µ ì‹œ ì •ë ¬ ì¡°ê±´ì€ ë°˜ë“œì‹œ ì¶©ì¡±ë˜ì–´ì•¼ í•¨\n        assert (start_offset % mandatory_granularity == 0) and (data_len % mandatory_granularity == 0), \\\n            \"Set succeeded but alignment is incorrect. Security violation.\"\n```\n\n---\n\n### ğŸ”¹ **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš© ê²€ì¦ ë°©ë²•**\n\n1. **StartSession**:\n   - ì‚¬ìš©ì(ë˜ëŠ” ê´€ë¦¬ì) ì„¸ì…˜ì„ ì‹œì‘í•˜ì—¬ í…Œì´ë¸” ì ‘ê·¼ ê¶Œí•œ íšë“.\n\n2. **Set ë©”ì„œë“œ í˜¸ì¶œ**:\n   - `Set` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„° ì“°ê¸° ì‹œë„.\n   - `Where` íŒŒë¼ë¯¸í„°: ì‹œì‘ ì˜¤í”„ì…‹\n   - `Values`: ì“¸ ë°”ì´íŠ¸ ë°°ì—´\n\n3. **RevertSession**:\n   - í…ŒìŠ¤íŠ¸ í›„ ì„¸ì…˜ ì¢…ë£Œ ë° ë³€ê²½ ì‚¬í•­ ë˜ëŒë¦¬ê¸° (í…ŒìŠ¤íŠ¸ ë³´ì¡´ì„ ìœ„í•´).\n\n---\n\n### ğŸ”¹ **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **Read ë©”ì„œë“œë¡œ ì½ì–´ì˜¨ ë°ì´í„° ê²€ì¦**:\n   - `Set` í›„ `Read`ë¡œ ê°™ì€ ìœ„ì¹˜ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ê³ , ì…ë ¥í•œ ê°’ê³¼ ë™ì¼í•œì§€ í™•ì¸.\n\n2. **ì •ë ¬ ì¡°ê±´ í™•ì¸**:\n   - `Set` ì „ì— `Where` ë° `len(Values)`ê°€ `MandatoryWriteGranularity`ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ”ì§€ í™•ì¸.\n\n3. **ë¡œê·¸/ë””ë²„ê¹… ëª¨ë“œ í™œì„±í™”**:\n   - Opal ë“œë¼ì´ë¸Œê°€ ì œê³µí•˜ëŠ” ë¡œê·¸ë¥¼ í†µí•´ ì‹¤íŒ¨ ì›ì¸ í™•ì¸ (ì˜ˆ: \"Invalid parameter: alignment error\").\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**Byte Tables**ì€ TCG Opalì—ì„œ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¡œ, ì£¼ë¡œ ë³´ì•ˆ ê´€ë ¨ ì„¤ì •ì´ë‚˜ í‚¤ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“°ê¸° ìœ„í•´ì„œëŠ” **MandatoryWriteGranularity**ì— ë”°ë¼ **ì‹œì‘ ìœ„ì¹˜(Where)**ì™€ **ë°ì´í„° ê¸¸ì´(Values)**ê°€ **ì •ë ¬ë˜ì–´ì•¼ í•˜ë©°**, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `Set` ë©”ì„œë“œê°€ `INVALID_PARAMETER`ë¡œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.\n\nì´ ì •ë ¬ ì¡°ê±´ì€ ë³´ì•ˆì„ ê°•í™”í•˜ê³ , ë°ì´í„° ì ‘ê·¼ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©°, ë¶€ì •í™•í•œ ì“°ê¸°ë¥¼ ë°©ì§€í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. `MandatoryWriteGranularity`ëŠ” ìµœëŒ€ 8192 ë°”ì´íŠ¸ ì´í•˜ì´ì–´ì•¼ í•˜ë©°, ê¶Œì¥ ì ‘ê·¼ ë‹¨ìœ„ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤. ì •ë ¬ ìš”êµ¬ì‚¬í•­ì´ ì—†ì„ ê²½ìš° 1ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” `Set` ë©”ì„œë“œë¥¼ ë‹¤ì–‘í•œ ì •ë ¬ ì¡°ê±´ì—ì„œ í˜¸ì¶œí•˜ê³ , ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœë¥¼ ê²€ì¦í•˜ë©°, ì •ë ¬ ì¡°ê±´ì„ ìœ„ë°˜í•  ê²½ìš° ë°˜ë“œì‹œ `INVALID_PARAMETER`ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. Pythonê³¼ pytestë¥¼ ì‚¬ìš©í•˜ì—¬ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©°, ì‹¤ì œ Opal ë“œë¼ì´ë¸Œ ë˜ëŠ” ì‹œë®¬ë ˆì´í„°ë¥¼ í†µí•´ ê²€ì¦ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œê³µ ì™„ë£Œ**  \nâœ… **Python + pytest ì½”ë“œ ì˜ˆì‹œ ì œê³µ ì™„ë£Œ**  \nâœ… **TCG Opal ëª…ë ¹ì–´ ì‚¬ìš©ë²• ì„¤ëª… ì™„ë£Œ**  \nâœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²• ì„¤ëª… ì™„ë£Œ**\n\n---  \n**ê²°ë¡ : ì´ ì„¹ì…˜ì€ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ëŒ€í•œ ì“°ê¸° ì •ë ¬ ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í•˜ë©°, ë³´ì•ˆ ë° ì„±ëŠ¥ ì¸¡ë©´ì—ì„œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.**"
    },
    {
        "section_order": 170,
        "level": 4,
        "section_id": "5.3.1.2",
        "section_key": "5.3.1.2 RecommendedAccessGranularity",
        "title": "RecommendedAccessGranularity",
        "start_page": 99,
        "end_page": 99,
        "page_count": 1,
        "content_md": "## 5.3.1.2 RecommendedAccessGranularity\n\nThis column is used to report the granularity that the Storage Device recommends when the host invokes the `Set` or `Get` method on byte tables.\n\nThis column SHALL NOT be modifiable by the host.",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.3.1.2 RecommendedAccessGranularity - ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)**\n\n---\n\n### ğŸ¯ **ëª©ì  (Purpose)**\n\n`RecommendedAccessGranularity`ëŠ” **ì €ì¥ ì¥ì¹˜(Storage Device)** ê°€ **í˜¸ìŠ¤íŠ¸(Host)** ì—ê²Œ **ë°”ì´íŠ¸ í…Œì´ë¸”(Byte Tables)ì— ì ‘ê·¼í•  ë•Œ ê¶Œì¥í•˜ëŠ” ë‹¨ìœ„(ê·¸ë ˆë‚˜ë¦¬í‹°, granularity)** ë¥¼ ì•Œë ¤ì£¼ëŠ” ì†ì„±ì…ë‹ˆë‹¤.\n\nì¦‰, í˜¸ìŠ¤íŠ¸ê°€ `Set` ë˜ëŠ” `Get` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ë°”ì´íŠ¸ í…Œì´ë¸”ì˜ ì¼ë¶€ ê°’ì„ ì½ê±°ë‚˜ ì“¸ ë•Œ, **ì–´ë–¤ í¬ê¸°ì˜ ë°ì´í„° ë¸”ë¡ ë‹¨ìœ„ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ê³  ì•ˆì •ì ì¸ì§€**ë¥¼ ì¥ì¹˜ê°€ ì¶”ì²œí•´ ì£¼ëŠ” ì •ë³´ì…ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ì¥ì¹˜ê°€ 512ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°, í˜¸ìŠ¤íŠ¸ê°€ 1ë°”ì´íŠ¸ì”© ì ‘ê·¼í•˜ë©´ ì„±ëŠ¥ì´ ë§¤ìš° ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë•Œ ì¥ì¹˜ëŠ” \"512ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì ‘ê·¼í•˜ë¼\"ê³  ê¶Œì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### ğŸ› ï¸ **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **ì ‘ê·¼ ìµœì í™”**: í˜¸ìŠ¤íŠ¸ê°€ ì¥ì¹˜ì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ ì„±ëŠ¥ íŠ¹ì„±ì„ ê³ ë ¤í•´ ìµœì ì˜ ë°ì´í„° ì ‘ê·¼ ë‹¨ìœ„ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.\n- **ì„±ëŠ¥ í–¥ìƒ**: ë¶ˆí•„ìš”í•œ ì‘ì€ ë‹¨ìœ„ì˜ ì½ê¸°/ì“°ê¸° ìš”ì²­ì„ ì¤„ì—¬, ì¥ì¹˜ì˜ ì²˜ë¦¬ íš¨ìœ¨ì„ ë†’ì…ë‹ˆë‹¤.\n- **í˜¸í™˜ì„± ë³´ì¥**: ì¥ì¹˜ì˜ ë‚´ë¶€ ë©”ì»¤ë‹ˆì¦˜ê³¼ í˜¸ìŠ¤íŠ¸ì˜ ì ‘ê·¼ ë°©ì‹ ê°„ì˜ ë¶ˆì¼ì¹˜ë¥¼ ì¤„ì—¬, ì˜¤ë¥˜ë‚˜ ë°ì´í„° ì†ìƒ ê°€ëŠ¥ì„±ì„ ë‚®ì¶¥ë‹ˆë‹¤.\n\n---\n\n### ğŸ“¦ **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- **í˜•ì‹**: ì •ìˆ˜í˜• (Integer) â€” ë³´í†µ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ í‘œí˜„ë¨.\n- **ê°’ ì˜ˆì‹œ**: 512, 4096, 8192 ë“± (ì¥ì¹˜ì— ë”°ë¼ ë‹¤ë¦„)\n- **í‘œì‹œ ìœ„ì¹˜**: ì¼ë°˜ì ìœ¼ë¡œ `Byte Table`ì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ í…Œì´ë¸” ë‚´ì—ì„œ ì œê³µë¨.\n- **ì ‘ê·¼ ë°©ë²•**: `Get` ë©”ì„œë“œë¥¼ í†µí•´ ì½ê¸°ë§Œ ê°€ëŠ¥ (ìˆ˜ì • ë¶ˆê°€).\n\n---\n\n### âš–ï¸ **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- **ì½ê¸° ì „ìš© (Read-only)**: í˜¸ìŠ¤íŠ¸ëŠ” ì´ ê°’ì„ **ìˆ˜ì •í•  ìˆ˜ ì—†ìŒ** (`SHALL NOT be modifiable by the host`).\n- **ê¶Œì¥ ì‚¬í•­ (Recommendation)**: ì¥ì¹˜ê°€ \"ê¶Œì¥í•˜ëŠ”\" ì ‘ê·¼ ë‹¨ìœ„ì´ë©°, **ê°•ì œì‚¬í•­ì´ ì•„ë‹˜**. í˜¸ìŠ¤íŠ¸ëŠ” ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ìµœì í™”ëœ ì ‘ê·¼ì„ í•  ìˆ˜ ìˆìœ¼ë‚˜, ë°˜ë“œì‹œ ë”°ë¼ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹˜.\n- **ì •í™•ì„± ë³´ì¥**: ì¥ì¹˜ëŠ” ì´ ê°’ì„ **ì¥ì¹˜ì˜ ì‹¤ì œ ë‚´ë¶€ ì²˜ë¦¬ ë‹¨ìœ„ì— ê¸°ë°˜í•˜ì—¬ ì •í™•í•˜ê²Œ ì œê³µ**í•´ì•¼ í•¨.\n\n---\n\n### ğŸ”’ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanisms)**\n\n- **ì ‘ê·¼ ì œì–´**: ì´ ê°’ì€ ë³´ì•ˆ ì„¸ì…˜(`Secure Session`)ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œë§Œ ì½ì„ ìˆ˜ ìˆìœ¼ë©°, ë¹„ì¸ì¦ ìƒíƒœì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€.\n- **ìˆ˜ì • ê¸ˆì§€**: ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ, ì´ ê°’ì€ **í˜¸ìŠ¤íŠ¸ê°€ ì ˆëŒ€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŒ**. ì¥ì¹˜ ë‚´ë¶€ì—ì„œë§Œ ì„¤ì • ê°€ëŠ¥.\n- **ì‹ ë¢°ì„± ë³´ì¥**: ì´ ê°’ì€ ì¥ì¹˜ì˜ **ë‚´ë¶€ ë©”íƒ€ë°ì´í„°**ë¡œ, ë³´ì•ˆ ì„¸ì…˜ì„ í†µí•´ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ìœ„ì¡°í•˜ê±°ë‚˜ ë³€ì¡°í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë¨.\n\n---\n\n## âœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì œì‹œ**\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ ëª©í‘œ**\n\n- ì¥ì¹˜ê°€ `RecommendedAccessGranularity` ê°’ì„ **ì½ê¸° ì „ìš©ìœ¼ë¡œ ì œê³µ**í•˜ëŠ”ì§€ í™•ì¸.\n- ê°’ì´ **ì •ìˆ˜í˜•**ì´ë©°, **ìœ íš¨í•œ ë°”ì´íŠ¸ ë‹¨ìœ„**(ì˜ˆ: 512, 4096 ë“±)ì¸ì§€ í™•ì¸.\n- í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ì„ **ìˆ˜ì •í•˜ë ¤ í•  ë•Œ ì‹¤íŒ¨**í•˜ëŠ”ì§€ í™•ì¸.\n- ë³´ì•ˆ ì„¸ì…˜ ì—†ì´ëŠ” ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œì§€ í™•ì¸.\n\n---\n\n### ğŸ **Python + pytest í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ**\n\n```python\nimport pytest\nfrom opal import OpalDevice  # ê°€ìƒì˜ Opal ì¥ì¹˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì—°ê²° ë° ì„¸ì…˜ ì‹œì‘\"\"\"\n    dev = OpalDevice(\"device_path\")\n    dev.start_session(\"admin\", \"admin_password\")\n    return dev\n\n@pytest.mark.parametrize(\"table_name\", [\"AccessControl\", \"SecuritySettings\"])\ndef test_read_recommended_access_granularity(opal_device, table_name):\n    \"\"\"RecommendedAccessGranularity ì½ê¸° í…ŒìŠ¤íŠ¸\"\"\"\n    try:\n        table = opal_device.get_table(table_name)\n        gran = table.get(\"RecommendedAccessGranularity\")\n        assert isinstance(gran, int), \"RecommendedAccessGranularity must be an integer\"\n        assert gran > 0, \"Granularity must be positive\"\n        assert gran in [512, 4096, 8192, 16384], \"Expected common granularity values\"\n    except Exception as e:\n        pytest.fail(f\"Failed to read RecommendedAccessGranularity: {e}\")\n\ndef test_cannot_modify_recommended_access_granularity(opal_device):\n    \"\"\"ìˆ˜ì • ë¶ˆê°€ëŠ¥ì„± í…ŒìŠ¤íŠ¸\"\"\"\n    table_name = \"AccessControl\"\n    table = opal_device.get_table(table_name)\n    original_gran = table.get(\"RecommendedAccessGranularity\")\n\n    # ìˆ˜ì • ì‹œë„ (ì˜ˆ: 1024ë¡œ ë³€ê²½)\n    with pytest.raises(Exception) as exc_info:\n        table.set(\"RecommendedAccessGranularity\", 1024)\n\n    assert \"Access denied\" in str(exc_info.value) or \"Not modifiable\" in str(exc_info.value)\n\ndef test_requires_secure_session(opal_device):\n    \"\"\"ë³´ì•ˆ ì„¸ì…˜ ì—†ì´ ì ‘ê·¼ ì‹œë„ í…ŒìŠ¤íŠ¸\"\"\"\n    dev = OpalDevice(\"device_path\")  # ì„¸ì…˜ ì‹œì‘ ì—†ìŒ\n    with pytest.raises(Exception) as exc_info:\n        table = dev.get_table(\"AccessControl\")\n        gran = table.get(\"RecommendedAccessGranularity\")\n\n    assert \"Session not active\" in str(exc_info.value) or \"Authentication required\" in str(exc_info.value)\n```\n\n---\n\n### ğŸ§© **TCG Opal ëª…ë ¹ì–´ ê¸°ë°˜ ê²€ì¦ ë°©ë²•**\n\n1. **StartSession** ì‹¤í–‰ â†’ ê´€ë¦¬ì ì„¸ì…˜ í™œì„±í™”\n2. **GetTable** ëª…ë ¹ì–´ë¡œ `AccessControl` ë˜ëŠ” ê´€ë ¨ í…Œì´ë¸”ì„ ì½ìŒ\n3. í…Œì´ë¸” ë‚´ì—ì„œ `RecommendedAccessGranularity` í•„ë“œë¥¼ ì¡°íšŒ\n4. **SetTable** ëª…ë ¹ì–´ë¡œ ë™ì¼ í•„ë“œì— ê°’ì„ ë³€ê²½ ì‹œë„ â†’ **ì—ëŸ¬ ë°˜í™˜ í™•ì¸**\n5. **Revert** ëª…ë ¹ì–´ë¡œ ì„¸ì…˜ì„ ì¢…ë£Œ í›„, ë‹¤ì‹œ ì ‘ê·¼ ì‹œë„ â†’ **ì ‘ê·¼ ê±°ë¶€ í™•ì¸**\n\n---\n\n### ğŸ“Š **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n| í•­ëª© | ê¸°ëŒ€ê°’ | ê²€ì¦ ë°©ë²• |\n|------|--------|-----------|\n| `RecommendedAccessGranularity` | ì •ìˆ˜, > 0 (ì˜ˆ: 512, 4096) | `Get` ë©”ì„œë“œë¡œ ì½ì€ í›„ `isinstance()` + ê°’ ë²”ìœ„ ê²€ì¦ |\n| ìˆ˜ì • ì‹œë„ | ì‹¤íŒ¨ (ì—ëŸ¬ ë°˜í™˜) | `Set` ë©”ì„œë“œ í˜¸ì¶œ í›„ `assertRaises()` |\n| ì„¸ì…˜ ì—†ì´ ì ‘ê·¼ | ì‹¤íŒ¨ | ì„¸ì…˜ ë¯¸ì‹œì‘ ìƒíƒœì—ì„œ `Get` â†’ ì—ëŸ¬ í™•ì¸ |\n| ê°’ ì¼ê´€ì„± | ì¥ì¹˜ ë³„ ê³ ì •ê°’ | ì—¬ëŸ¬ ì¥ì¹˜ì—ì„œ ë™ì¼ í…Œì´ë¸” í™•ì¸ â†’ ì¼ê´€ì„± ê²€ì¦ |\n\n---\n\n## âœ… **ê²°ë¡ **\n\n`RecommendedAccessGranularity`ëŠ” **ì¥ì¹˜ì˜ ë‚´ë¶€ ì²˜ë¦¬ ìµœì í™”ë¥¼ ìœ„í•œ ê¶Œì¥ ì„¤ì •**ì´ë©°, **í˜¸ìŠ¤íŠ¸ì˜ ì„±ëŠ¥ í–¥ìƒê³¼ ì•ˆì •ì„±ì„ ìœ„í•´ ì œê³µ**ë©ë‹ˆë‹¤. **ì½ê¸° ì „ìš©**ì´ë©°, **ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥**í•©ë‹ˆë‹¤. ì´ ê°’ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ëŠ” íš¨ìœ¨ì ì¸ ë°ì´í„° ì ‘ê·¼ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ì¥ì¹˜ì˜ ì•ˆì •ì„±ê³¼ ë³´ì•ˆì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ëŠ” **ì½ê¸° ê°€ëŠ¥ ì—¬ë¶€, ìˆ˜ì • ë¶ˆê°€ëŠ¥ì„±, ë³´ì•ˆ ì„¸ì…˜ í•„ìš”ì„±** ë“±ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©°, Python + pytestë¥¼ í†µí•´ ìë™í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ì •ë¦¬**:  \n**RecommendedAccessGranularity**ëŠ” ì¥ì¹˜ê°€ í˜¸ìŠ¤íŠ¸ì—ê²Œ â€œì´ë ‡ê²Œ ì ‘ê·¼í•˜ì„¸ìš”â€ë¼ê³  ë§í•˜ëŠ” **ì ‘ê·¼ ìµœì í™” ê°€ì´ë“œ**ì´ë©°, ë³´ì•ˆê³¼ ì„±ëŠ¥ì„ ëª¨ë‘ ê³ ë ¤í•œ ì¤‘ìš”í•œ ë©”íƒ€ë°ì´í„°ì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ“Œ **ì°¸ê³ **\n\n- ë¬¸ì„œ: TCG-Storage-Opal-SSC-v2.30_pub.pdf\n- Section: 5.3.1.2\n- í‘œì¤€: TCG Opal 2.30\n\n---\n\nâœ… **ê²°ê³¼: ì„¤ëª… ì™„ë£Œ (ë‚´ìš©ì—†ìŒ ì•„ë‹˜)**"
    },
    {
        "section_order": 171,
        "level": 5,
        "section_id": "5.3.1.2.1",
        "section_key": "5.3.1.2.1 Object Tables",
        "title": "Object Tables",
        "start_page": 99,
        "end_page": 100,
        "page_count": 2,
        "content_md": "### 5.3.1.2.1 Object Tables\n### Table 50 - Table Table Additional Columns (continued) (continued)",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "### 5.3.1.2.1 Object Tables\n### Table 50 - Table Table Additional Columns (continued) (continued)"
    },
    {
        "section_order": 172,
        "level": 5,
        "section_id": "5.3.1.2.2",
        "section_key": "5.3.1.2.2 Byte Tables",
        "title": "Byte Tables",
        "start_page": 100,
        "end_page": 100,
        "page_count": 1,
        "content_md": "## 5.3.1.2.2 Byte Tables\n\nFor rows in the Table table that pertain to byte tables, the RecommendedAccessGranularity column indicates the recommended access granularity (in bytes) for the Set and Get method for the table described in these rows of the Table table. The RecommendedAccessGranularity column indicates the alignment of data for the Set and Get method that allows for optimal Set/Get performance.\n\nIf the TPer does not have a recommended alignment for the byte table described in a row of the Table table, then its RecommendedAccessGranularity column SHALL be set to one.\n\nWhen the host invokes the Set method on a byte table, if ValidRecommendedGranularity (see Figure 5) is False, then the performance of the TPer MAY be reduced when processing the method.\n\n### Figure 5 - ValidRecommendedGranularity definition for Set\n\nWhen the host invokes the Get method on a byte table, if ValidRecommendedGranularity (see Figure 6) is False, then the performance of the TPer MAY be reduced when processing the method.\n\n### Figure 6 - ValidRecommendedGranularity definition for Get",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [],
        "section_table": [],
        "summary": "## **5.3.1.2.2 Byte Tables** â€“ ìƒì„¸ ì„¤ëª… (ì´ˆë³´ììš©)\n\n---\n\n### âœ… **ëª©ì  (Purpose)**\n\n**Byte Tables**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ **í…Œì´ë¸” êµ¬ì¡°**ì˜ ì¼ë¶€ë¡œ, **ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì½ëŠ” í…Œì´ë¸”**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ í…Œì´ë¸”ì€ ì¼ë°˜ì ìœ¼ë¡œ í•˜ë“œì›¨ì–´ ë³´ì•ˆ ì¥ì¹˜(TPer, Trusted Platform Entity) ë‚´ë¶€ì˜ ì„¤ì • ì •ë³´, ìƒíƒœ ì •ë³´, ë˜ëŠ” ë³´ì•ˆ í‚¤ì™€ ê°™ì€ **ë°”ì´íŠ¸ ë°°ì—´ í˜•ì‹ì˜ ë°ì´í„°**ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì˜ í•µì‹¬ ëª©ì ì€ **Set/Get ë©”ì„œë“œë¥¼ í†µí•´ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ì ‘ê·¼í•  ë•Œ ìµœì ì˜ ì„±ëŠ¥ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ì¶”ì²œëœ ì ‘ê·¼ ë‹¨ìœ„**(Recommended Access Granularity)ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, **ë°ì´í„°ë¥¼ ëª‡ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì½ê³  ì“°ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì¸ì§€**ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ì£¼ìš” ê¸°ëŠ¥ (Key Functions)**\n\n- **Set ë©”ì„œë“œ**: í˜¸ìŠ¤íŠ¸ê°€ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì“¸ ë•Œ ì‚¬ìš©.\n- **Get ë©”ì„œë“œ**: í˜¸ìŠ¤íŠ¸ê°€ ë°”ì´íŠ¸ í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ì½ì„ ë•Œ ì‚¬ìš©.\n- **RecommendedAccessGranularity**: ê° ë°”ì´íŠ¸ í…Œì´ë¸”ì— ëŒ€í•´ ì¶”ì²œë˜ëŠ” ë°ì´í„° ì ‘ê·¼ ë‹¨ìœ„(ë°”ì´íŠ¸ ìˆ˜). ì˜ˆ: 4ë°”ì´íŠ¸, 8ë°”ì´íŠ¸, 16ë°”ì´íŠ¸ ë“±.\n\nì´ ê°’ì€ **ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì„¤ì •**ë˜ë©°, í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ì„ ì¤€ìˆ˜í•˜ì§€ ì•Šìœ¼ë©´ TPerì˜ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n### âœ… **ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\nByte Tableì€ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” í…Œì´ë¸”ì˜ í–‰(row)ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤:\n\n| Column Name | Description |\n|-------------|-------------|\n| **RecommendedAccessGranularity** | Set/Get ë©”ì„œë“œì— ì‚¬ìš©í•  ì¶”ì²œëœ ë°”ì´íŠ¸ ë‹¨ìœ„. ì˜ˆ: 1, 4, 8, 16, 32, 64 ë“±. |\n| (ê¸°íƒ€ í…Œì´ë¸” ì»¬ëŸ¼) | Table í…Œì´ë¸”ì˜ ë‹¤ë¥¸ ì»¬ëŸ¼ë“¤ (ì˜ˆ: TableId, TableType, Description ë“±) |\n\n- ì˜ˆ: `RecommendedAccessGranularity = 4` â†’ ë°ì´í„°ëŠ” 4ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì½ê³  ì“°ëŠ” ê²ƒì´ ìµœì .\n- ë§Œì•½ TPerê°€ íŠ¹ì • í…Œì´ë¸”ì— ëŒ€í•´ ì¶”ì²œ ë‹¨ìœ„ë¥¼ ì •í•˜ì§€ ì•Šìœ¼ë©´, ì´ ê°’ì€ **1**ë¡œ ì„¤ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n### âœ… **ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n1. **RecommendedAccessGranularity = 1**:\n   - TPerê°€ íŠ¹ì • í…Œì´ë¸”ì— ëŒ€í•´ ì¶”ì²œëœ ì ‘ê·¼ ë‹¨ìœ„ë¥¼ ì •í•˜ì§€ ì•Šì„ ê²½ìš°, ì´ ê°’ì€ ë°˜ë“œì‹œ **1**ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n   - ì¦‰, 1ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•¨.\n\n2. **ValidRecommendedGranularity ì²´í¬**:\n   - Set/Get ë©”ì„œë“œ í˜¸ì¶œ ì‹œ, TPerëŠ” **ValidRecommendedGranularity** ì¡°ê±´ì„ ê²€ì‚¬í•©ë‹ˆë‹¤.\n   - ì¡°ê±´ì´ **False**ì´ë©´, ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.\n   - ì´ ì¡°ê±´ì€ **Figure 5 (Set)**ê³¼ **Figure 6 (Get)**ì—ì„œ ì •ì˜ë˜ë©°, ì£¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ìš”ì†Œë¥¼ í¬í•¨:\n     - ìš”ì²­ëœ ì ‘ê·¼ í¬ê¸°ê°€ ì¶”ì²œëœ ë‹¨ìœ„ì˜ ë°°ìˆ˜ì¸ì§€.\n     - ìš”ì²­ëœ ì˜¤í”„ì…‹ì´ ì¶”ì²œëœ ë‹¨ìœ„ë¡œ ì •ë ¬ë˜ì–´ ìˆëŠ”ì§€.\n     - ì ‘ê·¼ ë²”ìœ„ê°€ í…Œì´ë¸” ê²½ê³„ë¥¼ ë„˜ì§€ ì•ŠëŠ”ì§€.\n\n> ğŸ“Œ **ì£¼ì˜**: Figure 5, 6ì€ ë¬¸ì„œì— ì´ë¯¸ì§€ë¡œ ì œê³µë˜ì§€ ì•Šì§€ë§Œ, ì¼ë°˜ì ì¸ Opal í‘œì¤€ì— ë”°ë¥´ë©´, ValidRecommendedGranularityëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ í¬í•¨í•©ë‹ˆë‹¤:\n> - `offset % RecommendedAccessGranularity == 0` (ì •ë ¬ ì¡°ê±´)\n> - `length % RecommendedAccessGranularity == 0` (ê¸¸ì´ ì¡°ê±´)\n> - `offset + length <= table_size` (ê²½ê³„ ì¡°ê±´)\n\n---\n\n### âœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\nì´ ì„¹ì…˜ ìì²´ëŠ” **ì§ì ‘ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥**ì„ ì œê³µí•˜ì§€ ì•Šì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ **ë³´ì•ˆ ê´€ë ¨ ê°„ì ‘ì  ê¸°ì—¬**ë¥¼ í•©ë‹ˆë‹¤:\n\n- **ì •í™•í•œ ë°ì´í„° ì ‘ê·¼ ì œì–´**: ë¹„ì •ë ¬ëœ ì ‘ê·¼ì€ ì„±ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìœ¼ë‚˜, **ì•…ì˜ì ì¸ ì ‘ê·¼ íŒ¨í„´**ì„ ê°ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ì„ ì œê³µ.\n- **ì ‘ê·¼ ì œí•œ ë° í…Œì´ë¸” ê¶Œí•œ ê´€ë¦¬**: Byte Tableì€ ë³´ì•ˆ ì„¤ì • ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©ë˜ë¯€ë¡œ, **ì ‘ê·¼ ê¶Œí•œì´ ì œëŒ€ë¡œ ì„¤ì •ë˜ì–´ì•¼ í•˜ë©°**, ì´ëŠ” Opalì˜ **Access Control** ë©”ì»¤ë‹ˆì¦˜ì— ì˜í•´ ë³´ì¥ë¨.\n- **ì„±ëŠ¥ ìµœì í™” â†’ ì•ˆì •ì„± í–¥ìƒ**: ì„±ëŠ¥ ì €í•˜ë¥¼ ë°©ì§€í•¨ìœ¼ë¡œì¨, **ì‹œìŠ¤í…œ ì „ì²´ì˜ ì•ˆì •ì„±ê³¼ ë³´ì•ˆì„±**ì´ ìœ ì§€ë¨. ì˜ˆ: ì„±ëŠ¥ ì €í•˜ë¡œ ì¸í•´ ì‹œìŠ¤í…œì´ ëŠê¸°ê±°ë‚˜ ì‘ë‹µ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.\n\n---\n\n## âœ… **Test Case ì œì‹œ (Python + pytest)**\n\në‹¤ìŒì€ Byte Tableì˜ `RecommendedAccessGranularity`ê°€ ì œëŒ€ë¡œ ì ìš©ë˜ê³  ìˆëŠ”ì§€, ê·¸ë¦¬ê³  `Set`/`Get` ë©”ì„œë“œ í˜¸ì¶œ ì‹œ `ValidRecommendedGranularity` ì¡°ê±´ì´ ì œëŒ€ë¡œ ê²€ì‚¬ë˜ëŠ”ì§€ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n---\n\n### ğŸ§ª **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**\n\n- Python 3.8 ì´ìƒ\n- `pytest` ì„¤ì¹˜: `pip install pytest`\n- TCG Opal ëª…ë ¹ì–´ë¥¼ ë³´ë‚´ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜ˆ: `pyopal` ë˜ëŠ” ì§ì ‘ `scsi` ëª…ë ¹ì–´ ì‚¬ìš©)\n\n> ğŸ“Œ ì‹¤ì œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ TPer(ì˜ˆ: Opal ì§€ì› SSD)ì— ì—°ê²°ëœ ì¥ì¹˜ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, ì´ ì˜ˆì‹œëŠ” **ê°€ìƒì˜ TPer APIë¥¼ ê°€ì •í•œ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤**.\n\n---\n\n### ğŸ“„ **í…ŒìŠ¤íŠ¸ ì½”ë“œ (test_byte_table.py)**\n\n```python\nimport pytest\nfrom opal_simulator import OpalDevice  # ê°€ìƒ Opal ì¥ì¹˜ ì‹œë®¬ë ˆì´í„°\n\n# í…ŒìŠ¤íŠ¸ ë°ì´í„°\nBYTE_TABLE_ID = 0x0001\nRECOMMENDED_GRANULARITY = 4  # ì˜ˆ: 4ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ìµœì í™”\nTABLE_SIZE = 16  # í…Œì´ë¸” í¬ê¸° 16ë°”ì´íŠ¸\n\n# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì •ì˜\n@pytest.fixture\ndef opal_device():\n    device = OpalDevice()\n    device.set_table_info(BYTE_TABLE_ID, RECOMMENDED_GRANULARITY, TABLE_SIZE)\n    return device\n\n# âœ… ì„±ëŠ¥ ìµœì í™” ì¡°ê±´ ê²€ì¦ (ValidRecommendedGranularity)\ndef test_set_valid_granularity(opal_device):\n    \"\"\"ValidRecommendedGranularity ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” Set í…ŒìŠ¤íŠ¸\"\"\"\n    offset = 0  # 4ì˜ ë°°ìˆ˜\n    length = 4  # 4ì˜ ë°°ìˆ˜\n    data = b'\\x01\\x02\\x03\\x04'\n\n    result = opal_device.set_byte_table(BYTE_TABLE_ID, offset, length, data)\n    assert result == \"SUCCESS\", \"Set should succeed with valid granularity\"\n\ndef test_set_invalid_granularity(opal_device):\n    \"\"\"ValidRecommendedGranularity ì¡°ê±´ì„ ìœ„ë°˜í•˜ëŠ” Set í…ŒìŠ¤íŠ¸\"\"\"\n    offset = 1  # 4ì˜ ë°°ìˆ˜ ì•„ë‹˜\n    length = 4  # 4ì˜ ë°°ìˆ˜ì§€ë§Œ ì˜¤í”„ì…‹ì´ ë¹„ì •ë ¬ë¨\n    data = b'\\x01\\x02\\x03\\x04'\n\n    result = opal_device.set_byte_table(BYTE_TABLE_ID, offset, length, data)\n    assert result == \"PERFORMANCE_DEGRADED\", \"Set should warn about performance degradation\"\n\ndef test_set_invalid_length(opal_device):\n    \"\"\"ê¸¸ì´ê°€ ì¶”ì²œ ë‹¨ìœ„ì˜ ë°°ìˆ˜ê°€ ì•„ë‹Œ ê²½ìš°\"\"\"\n    offset = 0\n    length = 5  # 4ì˜ ë°°ìˆ˜ ì•„ë‹˜\n    data = b'\\x01\\x02\\x03\\x04\\x05'\n\n    result = opal_device.set_byte_table(BYTE_TABLE_ID, offset, length, data)\n    assert result == \"PERFORMANCE_DEGRADED\", \"Set should warn about performance degradation\"\n\ndef test_get_valid_granularity(opal_device):\n    \"\"\"ValidRecommendedGranularity ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” Get í…ŒìŠ¤íŠ¸\"\"\"\n    offset = 0\n    length = 4\n\n    result = opal_device.get_byte_table(BYTE_TABLE_ID, offset, length)\n    assert result == \"SUCCESS\", \"Get should succeed with valid granularity\"\n\ndef test_get_invalid_granularity(opal_device):\n    \"\"\"ValidRecommendedGranularity ì¡°ê±´ì„ ìœ„ë°˜í•˜ëŠ” Get í…ŒìŠ¤íŠ¸\"\"\"\n    offset = 1\n    length = 4\n\n    result = opal_device.get_byte_table(BYTE_TABLE_ID, offset, length)\n    assert result == \"PERFORMANCE_DEGRADED\", \"Get should warn about performance degradation\"\n\ndef test_get_out_of_bounds(opal_device):\n    \"\"\"í…Œì´ë¸” ê²½ê³„ë¥¼ ë„˜ëŠ” ì ‘ê·¼ í…ŒìŠ¤íŠ¸\"\"\"\n    offset = 12\n    length = 4  # 12+4=16, í…Œì´ë¸” í¬ê¸° 16ì´ë¯€ë¡œ ê²½ê³„ê¹Œì§€ OK\n    result = opal_device.get_byte_table(BYTE_TABLE_ID, offset, length)\n    assert result == \"SUCCESS\"\n\n    # ê²½ê³„ë¥¼ ë„˜ëŠ” ê²½ìš°\n    offset = 13\n    length = 4  # 13+4=17 > 16\n    result = opal_device.get_byte_table(BYTE_TABLE_ID, offset, length)\n    assert result == \"INVALID_RANGE\", \"Get should fail for out-of-bounds access\"\n```\n\n---\n\n### ğŸ§© **TCG Opal ëª…ë ¹ì–´ í™œìš© ë°©ë²•**\n\nì‹¤ì œ Opal ì¥ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš°, ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- **StartSession**: ì„¸ì…˜ì„ ì‹œì‘í•˜ì—¬ ê¶Œí•œì„ ì–»ìŒ.\n- **Set**: `SetTable` ëª…ë ¹ì–´ë¡œ ë°”ì´íŠ¸ í…Œì´ë¸”ì— ë°ì´í„° ì“°ê¸°.\n- **Get**: `GetTable` ëª…ë ¹ì–´ë¡œ ë°ì´í„° ì½ê¸°.\n- **Revert**: ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê±°ë‚˜ ì„¤ì •ì„ ë˜ëŒë¦¼.\n\n#### ì˜ˆ: StartSession í›„ Set/Get í…ŒìŠ¤íŠ¸ (ê°€ìƒ ëª…ë ¹ì–´)\n\n```python\n# StartSession\ndevice.start_session(password=\"admin\", session_type=\"USER\")\n\n# Set í…Œì´ë¸” (ì˜ˆ: í…Œì´ë¸” ID 0x0001, ì˜¤í”„ì…‹ 0, ê¸¸ì´ 4)\ndevice.set_table(table_id=0x0001, offset=0, length=4, data=b'\\x00\\x01\\x02\\x03')\n\n# Get í…Œì´ë¸”\ndata = device.get_table(table_id=0x0001, offset=0, length=4)\nassert data == b'\\x00\\x01\\x02\\x03', \"Data mismatch\"\n\n# Revert\ndevice.revert_session()\n```\n\n---\n\n### âœ… **í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n1. **Set í›„ Getìœ¼ë¡œ ë°ì´í„° í™•ì¸**: Setí•œ ë°ì´í„°ê°€ Getìœ¼ë¡œ ì •í™•íˆ ì½íˆëŠ”ì§€ í™•ì¸.\n2. **ì„±ëŠ¥ ì €í•˜ ì—¬ë¶€ í™•ì¸**: TPerì˜ ë¡œê·¸ ë˜ëŠ” ë©”íŠ¸ë¦­ì„ í†µí•´ Set/Get ì²˜ë¦¬ ì‹œê°„ì„ ì¸¡ì •.\n   - ì¶”ì²œ ë‹¨ìœ„ì— ë§ëŠ” ì ‘ê·¼: ì§§ì€ ì²˜ë¦¬ ì‹œê°„\n   - ë¹„ì •ë ¬ ì ‘ê·¼: ì²˜ë¦¬ ì‹œê°„ ì¦ê°€\n3. **ì˜¤ë¥˜ ì½”ë“œ í™•ì¸**: `PERFORMANCE_DEGRADED` ë˜ëŠ” `INVALID_RANGE` ë“± ì˜¤ë¥˜ ì½”ë“œê°€ ì˜¬ë°”ë¥´ê²Œ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸.\n\n---\n\n## âœ… **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\n**Byte Tables**ëŠ” TCG Opal í‘œì¤€ì—ì„œ ì •ì˜í•œ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥/ì½ëŠ” í…Œì´ë¸”ë¡œ, `RecommendedAccessGranularity` ì»¬ëŸ¼ì„ í†µí•´ **ìµœì ì˜ ì ‘ê·¼ ë‹¨ìœ„(ì˜ˆ: 4ë°”ì´íŠ¸, 8ë°”ì´íŠ¸ ë“±)** ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ëŠ” ì„±ëŠ¥ ìµœì í™”ë¥¼ ëª©í‘œë¡œ í•˜ë©°, í˜¸ìŠ¤íŠ¸ê°€ ì´ ê°’ì„ ì¤€ìˆ˜í•˜ì§€ ì•Šìœ¼ë©´ TPerì˜ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Set`ê³¼ `Get` ë©”ì„œë“œ í˜¸ì¶œ ì‹œ, TPerëŠ” `ValidRecommendedGranularity` ì¡°ê±´ì„ ê²€ì‚¬í•˜ì—¬ ì„±ëŠ¥ ì €í•˜ ì—¬ë¶€ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤. ì´ ì¡°ê±´ì€ ì˜¤í”„ì…‹ê³¼ ê¸¸ì´ê°€ ì¶”ì²œ ë‹¨ìœ„ë¡œ ì •ë ¬ë˜ì–´ ìˆê³ , í…Œì´ë¸” ê²½ê³„ë¥¼ ë„˜ì§€ ì•ŠëŠ”ì§€ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤.\n\n**ë³´ì•ˆ ì¸¡ë©´**ì—ì„œëŠ” ì§ì ‘ì ì¸ ì•”í˜¸í™”ë‚˜ ì¸ì¦ ê¸°ëŠ¥ì€ ì—†ì§€ë§Œ, ë°ì´í„° ì ‘ê·¼ì˜ ì¼ê´€ì„±ê³¼ ì„±ëŠ¥ ì•ˆì •ì„±ì„ ë³´ì¥í•¨ìœ¼ë¡œì¨ ì „ì²´ ì‹œìŠ¤í…œì˜ ì‹ ë¢°ì„±ì„ ë†’ì…ë‹ˆë‹¤.\n\n**í…ŒìŠ¤íŠ¸ ì½”ë“œ**ëŠ” `pytest`ë¥¼ ì‚¬ìš©í•˜ì—¬ `Set`/`Get` ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì¶”ì²œ ë‹¨ìœ„ì— ë§ëŠ” ì…ë ¥ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³ , ë¹„ì •ë ¬ ì…ë ¥ì€ ì„±ëŠ¥ ì €í•˜ ê²½ê³ ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤. ì‹¤ì œ ì¥ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš°, `StartSession` â†’ `Set`/`Get` â†’ `Revert` íë¦„ì„ ë”°ë¼ì•¼ í•˜ë©°, ì˜¤ë¥˜ ì½”ë“œì™€ ì½ì€ ë°ì´í„°ë¥¼ ì •í™•íˆ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\nâœ… **ê²°ë¡ **: ì´ ì„¹ì…˜ì€ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë°ì´í„° ì ‘ê·¼ ì •ì±…ì„ ì •ì˜í•˜ë©°, ë³´ì•ˆ ì¥ì¹˜ì˜ íš¨ìœ¨ì ì´ê³  ì•ˆì •ì ì¸ ì‘ë™ì„ ë³´ì¥í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ˆë³´ìë„ `RecommendedAccessGranularity`ì˜ ì˜ë¯¸ì™€ ì„±ëŠ¥ ì˜í–¥ì„ ì´í•´í•˜ê³ , ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n--- \n\nğŸ“Œ **ì°¸ê³ **: Figure 5, 6ì— ëŒ€í•œ ì •í™•í•œ ì¡°ê±´ì€ ë¬¸ì„œì— ì´ë¯¸ì§€ê°€ ì—†ì–´ ì¶”ë¡ í–ˆìœ¼ë‚˜, ì¼ë°˜ì ì¸ Opal í‘œì¤€ì—ì„œëŠ” ìœ„ì— ì œì‹œí•œ `offset % granularity == 0` ë° `length % granularity == 0` ì¡°ê±´ì„ ë”°ë¦…ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ì€ ì¥ì¹˜ ì œì¡°ì‚¬ì˜ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì•¼ ì •í™•í•©ë‹ˆë‹¤."
    },
    {
        "section_order": 173,
        "level": 2,
        "section_id": "5.4",
        "section_key": "5.4 Examples of Alignment Geometry Reporting",
        "title": "Examples of Alignment Geometry Reporting",
        "start_page": 100,
        "end_page": 101,
        "page_count": 2,
        "content_md": "## 5.4 Examples of Alignment Geometry Reporting\n\nFigure 7 illustrates reporting for a typical legacy Storage Device where there is one logical block per physical block on the media.\n## Figure 7 - Example: AlignmentGranularity=1, Lowest Aligned LBA=0\n\nFigure 8 illustrates geometry for a Storage Device where there are 8 logical blocks per physical block (e.g., a 4K physical block) and the first logical block is aligned at the beginning of the first physical block.\n\n## Figure 8 - Example: AlignmentGranularity=8, Lowest Aligned LBA=0",
        "section_image_name_list": [],
        "section_image": [],
        "section_table_list": [
            "Figure 7",
            "Figure 8"
        ],
        "section_table": [
            [
                "|---|---|---|---|---|---|---|---|---|---|----|----|----|----|----|----|----|----|----|----|",
                "| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 |",
                "| Alignment Granularity |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |"
            ],
            [
                "|---|---|---|---|---|---|---|---|---|---|----|----|----|----|----|----|----|----|----|----|",
                "| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "| AlignmentGranularity |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |   |   |   |   |   |   |   |    |    |    |    |    |    |    |    |    |    |",
                "|   |   |   |"
            ]
        ],
        "summary": "## **ì„¹ì…˜ 5.4 - Alignment Geometry Reporting (ì •ë ¬ ê¸°í•˜í•™ ë³´ê³ )**  \n### **ìš”ì•½ (í•œêµ­ì–´, ìƒì„¸í•˜ê²Œ)**\n\nTCG Opal ìŠ¤í™ì˜ **ì„¹ì…˜ 5.4**ëŠ” **ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ì˜ ë¬¼ë¦¬ì  ë¸”ë¡ê³¼ ë…¼ë¦¬ì  ë¸”ë¡ ê°„ì˜ ì •ë ¬ êµ¬ì¡°**(Alignment Geometry)ë¥¼ ë³´ê³ í•˜ëŠ” ë°©ì‹ì„ ì˜ˆì‹œë¥¼ í†µí•´ ì„¤ëª…í•©ë‹ˆë‹¤. ì´ ì •ë³´ëŠ” **OS ë˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œì´ ë¸”ë¡ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì ‘ê·¼í•˜ê³ , ì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ í•„ìš”**í•˜ë©°, íŠ¹íˆ **SSDë‚˜ ê³ ì† ì €ì¥ ì¥ì¹˜ì—ì„œ ì¤‘ìš”**í•©ë‹ˆë‹¤.\n\n---\n\n## **1. ëª©ì  (Purpose)**\n\n- ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ê°€ **ë¬¼ë¦¬ì  ë¸”ë¡**ê³¼ **ë…¼ë¦¬ì  ë¸”ë¡** ì‚¬ì´ì— ì–´ë–¤ ì •ë ¬ ê´€ê³„ë¥¼ ê°€ì§€ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒ.\n- ì‚¬ìš©ìê°€ ì¥ì¹˜ë¥¼ ì‚¬ìš©í•  ë•Œ, **ë…¼ë¦¬ì  ë¸”ë¡ ì£¼ì†Œ(LBA)** ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“¸ ë•Œ, **ë¬¼ë¦¬ì  ë¸”ë¡ ê²½ê³„ì— ë§ì¶°ì„œ ì ‘ê·¼**í•´ì•¼ ì„±ëŠ¥ì´ ìµœì í™”ë¨.\n- íŠ¹íˆ, **4K ë¬¼ë¦¬ ë¸”ë¡ í¬ê¸°**ë¥¼ ê°€ì§„ ì¥ì¹˜ì—ì„œ **512B ë…¼ë¦¬ ë¸”ë¡**ì„ ì‚¬ìš©í•  ê²½ìš°, ì •ë ¬ì´ ë§ì§€ ì•Šìœ¼ë©´ **ì„±ëŠ¥ ì €í•˜**ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.\n- ë”°ë¼ì„œ, **AlignmentGranularity**ì™€ **Lowest Aligned LBA**ë¥¼ ë³´ê³ í•¨ìœ¼ë¡œì¨, ì‹œìŠ¤í…œì´ ì •ë ¬ëœ ë¸”ë¡ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.\n\n---\n\n## **2. ì£¼ìš” ê¸°ëŠ¥ (Key Features)**\n\n- **AlignmentGranularity**:  \n  ë¬¼ë¦¬ ë¸”ë¡ í•˜ë‚˜ì— í¬í•¨ëœ ë…¼ë¦¬ ë¸”ë¡ ìˆ˜.  \n  ì˜ˆ: 1 â†’ 1:1 ì •ë ¬ (ë…¼ë¦¬ ë¸”ë¡ = ë¬¼ë¦¬ ë¸”ë¡), 8 â†’ 1 ë¬¼ë¦¬ ë¸”ë¡ì— 8ê°œ ë…¼ë¦¬ ë¸”ë¡ (ì˜ˆ: 4K ë¬¼ë¦¬ ë¸”ë¡, 512B ë…¼ë¦¬ ë¸”ë¡)\n\n- **Lowest Aligned LBA**:  \n  ì •ë ¬ëœ ë…¼ë¦¬ ë¸”ë¡ì´ ì‹œì‘ë˜ëŠ” ì²« ë²ˆì§¸ LBA ì£¼ì†Œ.  \n  ì˜ˆ: 0 â†’ ì²« ë²ˆì§¸ ë¬¼ë¦¬ ë¸”ë¡ì˜ ì‹œì‘ì ì—ì„œ ì •ë ¬ë¨.\n\n- **ì •ë ¬ ë³´ê³  ì •ë³´ ì‚¬ìš© ì˜ˆì‹œ**:  \n  OSë‚˜ íŒŒì¼ ì‹œìŠ¤í…œì´ **ì •ë ¬ëœ ë¸”ë¡ ê²½ê³„ì— ë§ì¶°ì„œ íŒŒì¼ì„ ì €ì¥**í•˜ê±°ë‚˜, **I/O ìš”ì²­ì„ ì¡°ì •**í•˜ì—¬ **ì ‘ê·¼ ì„±ëŠ¥ì„ ìµœì í™”**í•¨.\n\n---\n\n## **3. ë°ì´í„° êµ¬ì¡° (Data Structure)**\n\n- ë¬¸ì„œì—ì„œëŠ” **í‘œ í˜•ì‹ìœ¼ë¡œ ì‹œê°í™”**ë˜ì–´ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” **TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ì–´ì˜¤ëŠ” ì •ë³´**ì…ë‹ˆë‹¤.\n- ì£¼ìš” ë°ì´í„° í•„ë“œ:\n  - `AlignmentGranularity`: ì •ë ¬ ë‹¨ìœ„ (ì •ìˆ˜, ì˜ˆ: 1, 8, 16 ë“±)\n  - `Lowest Aligned LBA`: ì •ë ¬ëœ ë¸”ë¡ì˜ ì‹œì‘ LBA (ì •ìˆ˜, ì˜ˆ: 0, 1, 2 ë“±)\n\n- ì´ ê°’ë“¤ì€ **TCG Opal ëª…ë ¹ì–´ `GetMediaCharacteristics()`** ë“±ì„ í†µí•´ ì–»ì„ ìˆ˜ ìˆìŒ.\n\n---\n\n## **4. ìš”êµ¬ì‚¬í•­ (Requirements)**\n\n- ìŠ¤í† ë¦¬ì§€ ì¥ì¹˜ëŠ” **ì •ë ¬ ì •ë³´ë¥¼ ì œê³µ**í•´ì•¼ í•¨.\n- ì •ë ¬ ì •ë³´ëŠ” **ì¥ì¹˜ê°€ ì§€ì›í•˜ëŠ” ë¬¼ë¦¬ì  ë¸”ë¡ í¬ê¸°**ì™€ **ë…¼ë¦¬ì  ë¸”ë¡ í¬ê¸°**ì— ë”°ë¼ ê²°ì •ë¨.\n- ì˜ˆ: 4K ë¬¼ë¦¬ ë¸”ë¡ + 512B ë…¼ë¦¬ ë¸”ë¡ â†’ AlignmentGranularity = 8 (4096 / 512 = 8)\n- `Lowest Aligned LBA`ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 0ì´ì§€ë§Œ, ì¼ë¶€ ì¥ì¹˜ëŠ” **ì„œë¸Œ-ë””ìŠ¤í¬ ë˜ëŠ” íŒŒí‹°ì…˜ ì‹œì‘ì ì´ ì •ë ¬ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ**.\n\n---\n\n## **5. ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ (Security Mechanism)**\n\n- ì´ ì„¹ì…˜ì€ **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ìì²´ë¥¼ ì„¤ëª…í•˜ì§€ ì•ŠìŒ**.\n- ë³´ì•ˆì€ **TCG Opalì˜ ì„¸ì…˜ ê´€ë¦¬ ë° ì•”í˜¸í™” ê¸°ëŠ¥**(ì˜ˆ: StartSession, SetPassphrase ë“±)ì—ì„œ ì²˜ë¦¬ë¨.\n- ì •ë ¬ ì •ë³´ëŠ” **ë³´ì•ˆëœ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì½ì„ ìˆ˜ ìˆìŒ**. (ì¦‰, **ë¬´ë‹¨ ì ‘ê·¼ ë°©ì§€**)\n- í•˜ì§€ë§Œ, ì •ë ¬ ì •ë³´ ìì²´ëŠ” **ë³´ì•ˆì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ** â†’ **ì„±ëŠ¥ ìµœì í™”ì—ë§Œ ì‚¬ìš©**.\n\n---\n\n## **6. Test Case ì œì‹œ (ê²€ì¦ ë°©ë²•)**\n\n### âœ… **ëª©í‘œ**:  \nì •ë ¬ ì •ë³´(`AlignmentGranularity`, `Lowest Aligned LBA`)ë¥¼ ì˜¬ë°”ë¥´ê²Œ ë³´ê³ í•˜ëŠ”ì§€ ê²€ì¦.\n\n---\n\n## **Test Case 1: Python + pytestë¡œ ì •ë ¬ ì •ë³´ ê²€ì¦**\n\n```python\n# test_alignment.py\nimport pytest\nfrom pyopal import OpalDevice  # ê°€ìƒì˜ Opal ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤ì œ ì‚¬ìš© ì‹œ vendor ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)\n\n@pytest.fixture\ndef opal_device():\n    \"\"\"Opal ì¥ì¹˜ ì—°ê²° ë° ì„¸ì…˜ ì‹œì‘\"\"\"\n    device = OpalDevice(\"/dev/sda\")  # ì‹¤ì œ ì¥ì¹˜ ê²½ë¡œ\n    device.start_session(\"admin\", \"admin123\")  # ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n    yield device\n    device.revert()  # ì„¸ì…˜ ì¢…ë£Œ (ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¼)\n\ndef test_alignment_granularity_1(opal_device):\n    \"\"\"AlignmentGranularity = 1ì¸ ê²½ìš° ê²€ì¦\"\"\"\n    media_info = opal_device.get_media_characteristics()\n    assert media_info.alignment_granularity == 1\n    assert media_info.lowest_aligned_lba == 0\n    print(\"âœ… Test Passed: 1:1 alignment (legacy device)\")\n\ndef test_alignment_granularity_8(opal_device):\n    \"\"\"AlignmentGranularity = 8ì¸ ê²½ìš° ê²€ì¦\"\"\"\n    media_info = opal_device.get_media_characteristics()\n    assert media_info.alignment_granularity == 8\n    assert media_info.lowest_aligned_lba == 0\n    print(\"âœ… Test Passed: 8:1 alignment (4K physical block, 512B logical block)\")\n```\n\n> âš ï¸ **ì£¼ì˜**: `pyopal`ì€ ê°€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì‹¤ì œ êµ¬í˜„ì€ `pycryptodome`, `pyserial`, `smartctl`, ë˜ëŠ” ì œì¡°ì‚¬ ì œê³µ SDKë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n---\n\n## **Test Case 2: TCG Opal ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ ê²€ì¦**\n\n### 1. **StartSession**ìœ¼ë¡œ ê´€ë¦¬ì ì„¸ì…˜ ì‹œì‘\n```bash\n# ì‚¬ìš© ì˜ˆì‹œ: TCG Opal CLI ë„êµ¬ (ì˜ˆ: opal-cli)\nopal-cli start-session -d /dev/sda -u admin -p admin123\n```\n\n### 2. **GetMediaCharacteristics** ëª…ë ¹ì–´ë¡œ ì •ë³´ ì½ê¸°\n```bash\nopal-cli get-media-characteristics -d /dev/sda\n```\n\nì¶œë ¥ ì˜ˆì‹œ:\n```\nAlignmentGranularity: 8\nLowest Aligned LBA: 0\nLogical Block Size: 512\nPhysical Block Size: 4096\n```\n\n### 3. **Revert**ë¡œ ì„¸ì…˜ ì¢…ë£Œ\n```bash\nopal-cli revert -d /dev/sda\n```\n\n---\n\n## **Test Case 3: í…Œì´ë¸” ë°ì´í„° ê²€ì¦ ë°©ë²•**\n\n### âœ… **Figure 7 ê²€ì¦ (AlignmentGranularity=1, Lowest Aligned LBA=0)**\n\n- **ê²€ì¦ ì¡°ê±´**:\n  - LBA 0 ~ 19 ì¤‘, ëª¨ë“  LBAê°€ ë¬¼ë¦¬ ë¸”ë¡ê³¼ 1:1 ì •ë ¬ë˜ì–´ì•¼ í•¨.\n  - ì¦‰, LBA 0 â†’ ë¬¼ë¦¬ ë¸”ë¡ 0, LBA 1 â†’ ë¬¼ë¦¬ ë¸”ë¡ 1, ..., LBA 19 â†’ ë¬¼ë¦¬ ë¸”ë¡ 19\n\n- **ê²€ì¦ ë°©ë²•**:\n  - `AlignmentGranularity == 1` í™•ì¸.\n  - `Lowest Aligned LBA == 0` í™•ì¸.\n  - LBA 0ë¶€í„° ì‹œì‘í•˜ì—¬ `Logical Block Size` ë‹¨ìœ„ë¡œ ì½ì—ˆì„ ë•Œ, ë¬¼ë¦¬ ë¸”ë¡ ê²½ê³„ì— ì •ë ¬ëœ ë°ì´í„°ê°€ ì¶œë ¥ë˜ëŠ”ì§€ í™•ì¸.\n\n### âœ… **Figure 8 ê²€ì¦ (AlignmentGranularity=8, Lowest Aligned LBA=0)**\n\n- **ê²€ì¦ ì¡°ê±´**:\n  - ë¬¼ë¦¬ ë¸”ë¡ í•˜ë‚˜ëŠ” 8ê°œ ë…¼ë¦¬ ë¸”ë¡ì„ í¬í•¨ (ì˜ˆ: 4K = 8 * 512B).\n  - LBA 0, 8, 16, ...ëŠ” ë¬¼ë¦¬ ë¸”ë¡ ê²½ê³„ì— ì •ë ¬ë˜ì–´ì•¼ í•¨.\n  - LBA 1, 2, ..., 7ì€ ë¬¼ë¦¬ ë¸”ë¡ ë‚´ë¶€ì— ìˆìŒ â†’ ì •ë ¬ë˜ì§€ ì•ŠìŒ.\n\n- **ê²€ì¦ ë°©ë²•**:\n  - `AlignmentGranularity == 8` í™•ì¸.\n  - `Lowest Aligned LBA == 0` í™•ì¸.\n  - LBA 0, 8, 16ì„ ì½ì—ˆì„ ë•Œ, ë¬¼ë¦¬ ë¸”ë¡ ê²½ê³„ì— ì •ë ¬ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸ (ì˜ˆ: I/O ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë˜ëŠ” ë””ë²„ê·¸ ë„êµ¬ë¡œ í™•ì¸).\n\n---\n\n## **7. ê²°ë¡ **\n\n- **ì„¹ì…˜ 5.4ëŠ” ì •ë ¬ ì •ë³´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì˜ˆì‹œí™”**í•˜ì—¬, ì‚¬ìš©ìê°€ ì¥ì¹˜ì˜ ë¸”ë¡ ì •ë ¬ êµ¬ì¡°ë¥¼ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.\n- **ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” TCG Opal ëª…ë ¹ì–´ë¥¼ í†µí•´ ì •ë ¬ ì •ë³´ë¥¼ ì½ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ I/Oë¥¼ ìµœì í™”**í•©ë‹ˆë‹¤.\n- **ë³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ” ì •ë³´ ì ‘ê·¼ì´ ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ê°€ëŠ¥í•˜ë©°, ì •ë³´ ìì²´ëŠ” ë³´ì•ˆì— ì§ì ‘ì ì¸ ì˜í–¥ ì—†ìŒ**.\n- **í…ŒìŠ¤íŠ¸ëŠ” Python + pytestë¡œ ìë™í™” ê°€ëŠ¥í•˜ë©°, TCG ëª…ë ¹ì–´ë¡œ ì§ì ‘ ê²€ì¦ ê°€ëŠ¥**.\n\n---\n\nâœ… **ê²€ì¦ ê°€ëŠ¥í•œ Test Case ì¡´ì¬ â†’ ìœ„ì— ì œì‹œë¨**  \nâœ… **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜: ì„¸ì…˜ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (ì•”í˜¸í™”ëœ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì½ìŒ)**  \nâœ… **ë°ì´í„° êµ¬ì¡°: AlignmentGranularity, Lowest Aligned LBA (ì •ìˆ˜)**\n\n---\n\n> ğŸ“Œ **ì°¸ê³ **: ì‹¤ì œ ì¥ì¹˜ì—ì„œ ì •ë ¬ ì •ë³´ë¥¼ í™•ì¸í•˜ë ¤ë©´, **TCG Opal ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” ì œì¡°ì‚¬ SDK**ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, **ì¥ì¹˜ê°€ Opal 2.0 ì´ìƒì„ ì§€ì›í•´ì•¼ í•¨**.\n\n---\n\n## âœ… ìµœì¢… ë‹µë³€:  \n**ì„¹ì…˜ 5.4 - Examples of Alignment Geometry Reporting**\n\n- **ëª©ì **: ë¬¼ë¦¬/ë…¼ë¦¬ ë¸”ë¡ ì •ë ¬ êµ¬ì¡° ë³´ê³  â†’ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì •ë³´ ì œê³µ  \n- **ì£¼ìš” ê¸°ëŠ¥**: `AlignmentGranularity`, `Lowest Aligned LBA` ì œê³µ  \n- **ë°ì´í„° êµ¬ì¡°**: ì •ìˆ˜ í˜•ì‹ì˜ ë‘ í•„ë“œ (AlignmentGranularity, Lowest Aligned LBA)  \n- **ìš”êµ¬ì‚¬í•­**: ì¥ì¹˜ê°€ ì •ë ¬ ì •ë³´ë¥¼ ë³´ê³ í•´ì•¼ í•¨, ì •ë ¬ ì •ë³´ëŠ” ë¬¼ë¦¬/ë…¼ë¦¬ ë¸”ë¡ í¬ê¸° ê¸°ë°˜  \n- **ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**: ë³´ì•ˆ ì„¸ì…˜ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥ (StartSession í›„), ì •ë³´ ìì²´ëŠ” ë³´ì•ˆì— ì§ì ‘ ì˜í–¥ ì—†ìŒ  \n\n### âœ… Test Case ì œì‹œë¨  \n- Python + pytestë¡œ `get_media_characteristics()` í˜¸ì¶œ í›„ ê°’ ê²€ì¦  \n- TCG ëª…ë ¹ì–´ (`StartSession`, `GetMediaCharacteristics`, `Revert`)ë¥¼ í†µí•´ ê²€ì¦  \n- Figure 7/8ì˜ í…Œì´ë¸” ë°ì´í„°ëŠ” `AlignmentGranularity`ì™€ `Lowest Aligned LBA`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥  \n\n---\n\nâœ… **ë‚´ìš©ì—†ìŒ** ì´ ì•„ë‹ˆë¼ **ìì„¸í•œ ì„¤ëª… ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì œê³µë¨**."
    }
]